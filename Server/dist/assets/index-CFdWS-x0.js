var rC=Object.defineProperty;var iC=(e,t,n)=>t in e?rC(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var ve=(e,t,n)=>iC(e,typeof t!="symbol"?t+"":t,n);function Cm(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const s in r)if(s!=="default"&&!(s in e)){const a=Object.getOwnPropertyDescriptor(r,s);a&&Object.defineProperty(e,s,a.get?a:{enumerable:!0,get:()=>r[s]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const a of s)if(a.type==="childList")for(const c of a.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&r(c)}).observe(document,{childList:!0,subtree:!0});function n(s){const a={};return s.integrity&&(a.integrity=s.integrity),s.referrerPolicy&&(a.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?a.credentials="include":s.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(s){if(s.ep)return;s.ep=!0;const a=n(s);fetch(s.href,a)}})();var Ro=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Em(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Am={exports:{}},lu={},Sm={exports:{}},Ie={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Xa=Symbol.for("react.element"),sC=Symbol.for("react.portal"),oC=Symbol.for("react.fragment"),aC=Symbol.for("react.strict_mode"),lC=Symbol.for("react.profiler"),cC=Symbol.for("react.provider"),uC=Symbol.for("react.context"),fC=Symbol.for("react.forward_ref"),dC=Symbol.for("react.suspense"),hC=Symbol.for("react.memo"),gC=Symbol.for("react.lazy"),d1=Symbol.iterator;function pC(e){return e===null||typeof e!="object"?null:(e=d1&&e[d1]||e["@@iterator"],typeof e=="function"?e:null)}var bm={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},vm=Object.assign,_m={};function fo(e,t,n){this.props=e,this.context=t,this.refs=_m,this.updater=n||bm}fo.prototype.isReactComponent={};fo.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};fo.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function Im(){}Im.prototype=fo.prototype;function Ch(e,t,n){this.props=e,this.context=t,this.refs=_m,this.updater=n||bm}var Eh=Ch.prototype=new Im;Eh.constructor=Ch;vm(Eh,fo.prototype);Eh.isPureReactComponent=!0;var h1=Array.isArray,Tm=Object.prototype.hasOwnProperty,Ah={current:null},Nm={key:!0,ref:!0,__self:!0,__source:!0};function Mm(e,t,n){var r,s={},a=null,c=null;if(t!=null)for(r in t.ref!==void 0&&(c=t.ref),t.key!==void 0&&(a=""+t.key),t)Tm.call(t,r)&&!Nm.hasOwnProperty(r)&&(s[r]=t[r]);var h=arguments.length-2;if(h===1)s.children=n;else if(1<h){for(var p=Array(h),g=0;g<h;g++)p[g]=arguments[g+2];s.children=p}if(e&&e.defaultProps)for(r in h=e.defaultProps,h)s[r]===void 0&&(s[r]=h[r]);return{$$typeof:Xa,type:e,key:a,ref:c,props:s,_owner:Ah.current}}function mC(e,t){return{$$typeof:Xa,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function Sh(e){return typeof e=="object"&&e!==null&&e.$$typeof===Xa}function xC(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var g1=/\/+/g;function lf(e,t){return typeof e=="object"&&e!==null&&e.key!=null?xC(""+e.key):t.toString(36)}function Kl(e,t,n,r,s){var a=typeof e;(a==="undefined"||a==="boolean")&&(e=null);var c=!1;if(e===null)c=!0;else switch(a){case"string":case"number":c=!0;break;case"object":switch(e.$$typeof){case Xa:case sC:c=!0}}if(c)return c=e,s=s(c),e=r===""?"."+lf(c,0):r,h1(s)?(n="",e!=null&&(n=e.replace(g1,"$&/")+"/"),Kl(s,t,n,"",function(g){return g})):s!=null&&(Sh(s)&&(s=mC(s,n+(!s.key||c&&c.key===s.key?"":(""+s.key).replace(g1,"$&/")+"/")+e)),t.push(s)),1;if(c=0,r=r===""?".":r+":",h1(e))for(var h=0;h<e.length;h++){a=e[h];var p=r+lf(a,h);c+=Kl(a,t,n,p,s)}else if(p=pC(e),typeof p=="function")for(e=p.call(e),h=0;!(a=e.next()).done;)a=a.value,p=r+lf(a,h++),c+=Kl(a,t,n,p,s);else if(a==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return c}function yl(e,t,n){if(e==null)return e;var r=[],s=0;return Kl(e,r,"","",function(a){return t.call(n,a,s++)}),r}function yC(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var sn={current:null},ql={transition:null},wC={ReactCurrentDispatcher:sn,ReactCurrentBatchConfig:ql,ReactCurrentOwner:Ah};function Om(){throw Error("act(...) is not supported in production builds of React.")}Ie.Children={map:yl,forEach:function(e,t,n){yl(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return yl(e,function(){t++}),t},toArray:function(e){return yl(e,function(t){return t})||[]},only:function(e){if(!Sh(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};Ie.Component=fo;Ie.Fragment=oC;Ie.Profiler=lC;Ie.PureComponent=Ch;Ie.StrictMode=aC;Ie.Suspense=dC;Ie.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=wC;Ie.act=Om;Ie.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=vm({},e.props),s=e.key,a=e.ref,c=e._owner;if(t!=null){if(t.ref!==void 0&&(a=t.ref,c=Ah.current),t.key!==void 0&&(s=""+t.key),e.type&&e.type.defaultProps)var h=e.type.defaultProps;for(p in t)Tm.call(t,p)&&!Nm.hasOwnProperty(p)&&(r[p]=t[p]===void 0&&h!==void 0?h[p]:t[p])}var p=arguments.length-2;if(p===1)r.children=n;else if(1<p){h=Array(p);for(var g=0;g<p;g++)h[g]=arguments[g+2];r.children=h}return{$$typeof:Xa,type:e.type,key:s,ref:a,props:r,_owner:c}};Ie.createContext=function(e){return e={$$typeof:uC,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:cC,_context:e},e.Consumer=e};Ie.createElement=Mm;Ie.createFactory=function(e){var t=Mm.bind(null,e);return t.type=e,t};Ie.createRef=function(){return{current:null}};Ie.forwardRef=function(e){return{$$typeof:fC,render:e}};Ie.isValidElement=Sh;Ie.lazy=function(e){return{$$typeof:gC,_payload:{_status:-1,_result:e},_init:yC}};Ie.memo=function(e,t){return{$$typeof:hC,type:e,compare:t===void 0?null:t}};Ie.startTransition=function(e){var t=ql.transition;ql.transition={};try{e()}finally{ql.transition=t}};Ie.unstable_act=Om;Ie.useCallback=function(e,t){return sn.current.useCallback(e,t)};Ie.useContext=function(e){return sn.current.useContext(e)};Ie.useDebugValue=function(){};Ie.useDeferredValue=function(e){return sn.current.useDeferredValue(e)};Ie.useEffect=function(e,t){return sn.current.useEffect(e,t)};Ie.useId=function(){return sn.current.useId()};Ie.useImperativeHandle=function(e,t,n){return sn.current.useImperativeHandle(e,t,n)};Ie.useInsertionEffect=function(e,t){return sn.current.useInsertionEffect(e,t)};Ie.useLayoutEffect=function(e,t){return sn.current.useLayoutEffect(e,t)};Ie.useMemo=function(e,t){return sn.current.useMemo(e,t)};Ie.useReducer=function(e,t,n){return sn.current.useReducer(e,t,n)};Ie.useRef=function(e){return sn.current.useRef(e)};Ie.useState=function(e){return sn.current.useState(e)};Ie.useSyncExternalStore=function(e,t,n){return sn.current.useSyncExternalStore(e,t,n)};Ie.useTransition=function(){return sn.current.useTransition()};Ie.version="18.3.1";Sm.exports=Ie;var V=Sm.exports;const Rm=Em(V),CC=Cm({__proto__:null,default:Rm},[V]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var EC=V,AC=Symbol.for("react.element"),SC=Symbol.for("react.fragment"),bC=Object.prototype.hasOwnProperty,vC=EC.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,_C={key:!0,ref:!0,__self:!0,__source:!0};function Dm(e,t,n){var r,s={},a=null,c=null;n!==void 0&&(a=""+n),t.key!==void 0&&(a=""+t.key),t.ref!==void 0&&(c=t.ref);for(r in t)bC.call(t,r)&&!_C.hasOwnProperty(r)&&(s[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)s[r]===void 0&&(s[r]=t[r]);return{$$typeof:AC,type:e,key:a,ref:c,props:s,_owner:vC.current}}lu.Fragment=SC;lu.jsx=Dm;lu.jsxs=Dm;Am.exports=lu;var M=Am.exports,km={exports:{}},Pn={},Lm={exports:{}},Pm={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(re,oe){var pe=re.length;re.push(oe);e:for(;0<pe;){var Ue=pe-1>>>1,Se=re[Ue];if(0<s(Se,oe))re[Ue]=oe,re[pe]=Se,pe=Ue;else break e}}function n(re){return re.length===0?null:re[0]}function r(re){if(re.length===0)return null;var oe=re[0],pe=re.pop();if(pe!==oe){re[0]=pe;e:for(var Ue=0,Se=re.length,Nt=Se>>>1;Ue<Nt;){var Le=2*(Ue+1)-1,An=re[Le],ae=Le+1,qr=re[ae];if(0>s(An,pe))ae<Se&&0>s(qr,An)?(re[Ue]=qr,re[ae]=pe,Ue=ae):(re[Ue]=An,re[Le]=pe,Ue=Le);else if(ae<Se&&0>s(qr,pe))re[Ue]=qr,re[ae]=pe,Ue=ae;else break e}}return oe}function s(re,oe){var pe=re.sortIndex-oe.sortIndex;return pe!==0?pe:re.id-oe.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;e.unstable_now=function(){return a.now()}}else{var c=Date,h=c.now();e.unstable_now=function(){return c.now()-h}}var p=[],g=[],y=1,C=null,A=3,v=!1,T=!1,R=!1,D=typeof setTimeout=="function"?setTimeout:null,I=typeof clearTimeout=="function"?clearTimeout:null,_=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function O(re){for(var oe=n(g);oe!==null;){if(oe.callback===null)r(g);else if(oe.startTime<=re)r(g),oe.sortIndex=oe.expirationTime,t(p,oe);else break;oe=n(g)}}function P(re){if(R=!1,O(re),!T)if(n(p)!==null)T=!0,Ce(U);else{var oe=n(g);oe!==null&&ue(P,oe.startTime-re)}}function U(re,oe){T=!1,R&&(R=!1,I(G),G=-1),v=!0;var pe=A;try{for(O(oe),C=n(p);C!==null&&(!(C.expirationTime>oe)||re&&!he());){var Ue=C.callback;if(typeof Ue=="function"){C.callback=null,A=C.priorityLevel;var Se=Ue(C.expirationTime<=oe);oe=e.unstable_now(),typeof Se=="function"?C.callback=Se:C===n(p)&&r(p),O(oe)}else r(p);C=n(p)}if(C!==null)var Nt=!0;else{var Le=n(g);Le!==null&&ue(P,Le.startTime-oe),Nt=!1}return Nt}finally{C=null,A=pe,v=!1}}var Y=!1,j=null,G=-1,Z=5,se=-1;function he(){return!(e.unstable_now()-se<Z)}function ne(){if(j!==null){var re=e.unstable_now();se=re;var oe=!0;try{oe=j(!0,re)}finally{oe?xe():(Y=!1,j=null)}}else Y=!1}var xe;if(typeof _=="function")xe=function(){_(ne)};else if(typeof MessageChannel<"u"){var Ne=new MessageChannel,W=Ne.port2;Ne.port1.onmessage=ne,xe=function(){W.postMessage(null)}}else xe=function(){D(ne,0)};function Ce(re){j=re,Y||(Y=!0,xe())}function ue(re,oe){G=D(function(){re(e.unstable_now())},oe)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(re){re.callback=null},e.unstable_continueExecution=function(){T||v||(T=!0,Ce(U))},e.unstable_forceFrameRate=function(re){0>re||125<re?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):Z=0<re?Math.floor(1e3/re):5},e.unstable_getCurrentPriorityLevel=function(){return A},e.unstable_getFirstCallbackNode=function(){return n(p)},e.unstable_next=function(re){switch(A){case 1:case 2:case 3:var oe=3;break;default:oe=A}var pe=A;A=oe;try{return re()}finally{A=pe}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(re,oe){switch(re){case 1:case 2:case 3:case 4:case 5:break;default:re=3}var pe=A;A=re;try{return oe()}finally{A=pe}},e.unstable_scheduleCallback=function(re,oe,pe){var Ue=e.unstable_now();switch(typeof pe=="object"&&pe!==null?(pe=pe.delay,pe=typeof pe=="number"&&0<pe?Ue+pe:Ue):pe=Ue,re){case 1:var Se=-1;break;case 2:Se=250;break;case 5:Se=1073741823;break;case 4:Se=1e4;break;default:Se=5e3}return Se=pe+Se,re={id:y++,callback:oe,priorityLevel:re,startTime:pe,expirationTime:Se,sortIndex:-1},pe>Ue?(re.sortIndex=pe,t(g,re),n(p)===null&&re===n(g)&&(R?(I(G),G=-1):R=!0,ue(P,pe-Ue))):(re.sortIndex=Se,t(p,re),T||v||(T=!0,Ce(U))),re},e.unstable_shouldYield=he,e.unstable_wrapCallback=function(re){var oe=A;return function(){var pe=A;A=oe;try{return re.apply(this,arguments)}finally{A=pe}}}})(Pm);Lm.exports=Pm;var IC=Lm.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var TC=V,Dn=IC;function J(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Bm=new Set,Ca={};function ys(e,t){no(e,t),no(e+"Capture",t)}function no(e,t){for(Ca[e]=t,e=0;e<t.length;e++)Bm.add(t[e])}var Wr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ed=Object.prototype.hasOwnProperty,NC=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,p1={},m1={};function MC(e){return ed.call(m1,e)?!0:ed.call(p1,e)?!1:NC.test(e)?m1[e]=!0:(p1[e]=!0,!1)}function OC(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function RC(e,t,n,r){if(t===null||typeof t>"u"||OC(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function on(e,t,n,r,s,a,c){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=c}var Yt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Yt[e]=new on(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Yt[t]=new on(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Yt[e]=new on(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Yt[e]=new on(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Yt[e]=new on(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Yt[e]=new on(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Yt[e]=new on(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Yt[e]=new on(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Yt[e]=new on(e,5,!1,e.toLowerCase(),null,!1,!1)});var bh=/[\-:]([a-z])/g;function vh(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(bh,vh);Yt[t]=new on(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(bh,vh);Yt[t]=new on(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(bh,vh);Yt[t]=new on(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Yt[e]=new on(e,1,!1,e.toLowerCase(),null,!1,!1)});Yt.xlinkHref=new on("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Yt[e]=new on(e,1,!1,e.toLowerCase(),null,!0,!0)});function _h(e,t,n,r){var s=Yt.hasOwnProperty(t)?Yt[t]:null;(s!==null?s.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(RC(t,n,s,r)&&(n=null),r||s===null?MC(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):s.mustUseProperty?e[s.propertyName]=n===null?s.type===3?!1:"":n:(t=s.attributeName,r=s.attributeNamespace,n===null?e.removeAttribute(t):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var Kr=TC.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,wl=Symbol.for("react.element"),Ls=Symbol.for("react.portal"),Ps=Symbol.for("react.fragment"),Ih=Symbol.for("react.strict_mode"),td=Symbol.for("react.profiler"),Fm=Symbol.for("react.provider"),jm=Symbol.for("react.context"),Th=Symbol.for("react.forward_ref"),nd=Symbol.for("react.suspense"),rd=Symbol.for("react.suspense_list"),Nh=Symbol.for("react.memo"),ai=Symbol.for("react.lazy"),Um=Symbol.for("react.offscreen"),x1=Symbol.iterator;function Do(e){return e===null||typeof e!="object"?null:(e=x1&&e[x1]||e["@@iterator"],typeof e=="function"?e:null)}var ct=Object.assign,cf;function Qo(e){if(cf===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);cf=t&&t[1]||""}return`
`+cf+e}var uf=!1;function ff(e,t){if(!e||uf)return"";uf=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(g){var r=g}Reflect.construct(e,[],t)}else{try{t.call()}catch(g){r=g}e.call(t.prototype)}else{try{throw Error()}catch(g){r=g}e()}}catch(g){if(g&&r&&typeof g.stack=="string"){for(var s=g.stack.split(`
`),a=r.stack.split(`
`),c=s.length-1,h=a.length-1;1<=c&&0<=h&&s[c]!==a[h];)h--;for(;1<=c&&0<=h;c--,h--)if(s[c]!==a[h]){if(c!==1||h!==1)do if(c--,h--,0>h||s[c]!==a[h]){var p=`
`+s[c].replace(" at new "," at ");return e.displayName&&p.includes("<anonymous>")&&(p=p.replace("<anonymous>",e.displayName)),p}while(1<=c&&0<=h);break}}}finally{uf=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?Qo(e):""}function DC(e){switch(e.tag){case 5:return Qo(e.type);case 16:return Qo("Lazy");case 13:return Qo("Suspense");case 19:return Qo("SuspenseList");case 0:case 2:case 15:return e=ff(e.type,!1),e;case 11:return e=ff(e.type.render,!1),e;case 1:return e=ff(e.type,!0),e;default:return""}}function id(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Ps:return"Fragment";case Ls:return"Portal";case td:return"Profiler";case Ih:return"StrictMode";case nd:return"Suspense";case rd:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case jm:return(e.displayName||"Context")+".Consumer";case Fm:return(e._context.displayName||"Context")+".Provider";case Th:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Nh:return t=e.displayName||null,t!==null?t:id(e.type)||"Memo";case ai:t=e._payload,e=e._init;try{return id(e(t))}catch{}}return null}function kC(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return id(t);case 8:return t===Ih?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Ii(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function zm(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function LC(e){var t=zm(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,a=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return s.call(this)},set:function(c){r=""+c,a.call(this,c)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(c){r=""+c},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Cl(e){e._valueTracker||(e._valueTracker=LC(e))}function Hm(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=zm(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function pc(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function sd(e,t){var n=t.checked;return ct({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function y1(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=Ii(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function Wm(e,t){t=t.checked,t!=null&&_h(e,"checked",t,!1)}function od(e,t){Wm(e,t);var n=Ii(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?ad(e,t.type,n):t.hasOwnProperty("defaultValue")&&ad(e,t.type,Ii(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function w1(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function ad(e,t,n){(t!=="number"||pc(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var Zo=Array.isArray;function Zs(e,t,n,r){if(e=e.options,t){t={};for(var s=0;s<n.length;s++)t["$"+n[s]]=!0;for(n=0;n<e.length;n++)s=t.hasOwnProperty("$"+e[n].value),e[n].selected!==s&&(e[n].selected=s),s&&r&&(e[n].defaultSelected=!0)}else{for(n=""+Ii(n),t=null,s=0;s<e.length;s++){if(e[s].value===n){e[s].selected=!0,r&&(e[s].defaultSelected=!0);return}t!==null||e[s].disabled||(t=e[s])}t!==null&&(t.selected=!0)}}function ld(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(J(91));return ct({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function C1(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(J(92));if(Zo(n)){if(1<n.length)throw Error(J(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:Ii(n)}}function Vm(e,t){var n=Ii(t.value),r=Ii(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function E1(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function Ym(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function cd(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?Ym(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var El,Xm=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,s){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,s)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(El=El||document.createElement("div"),El.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=El.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Ea(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var sa={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},PC=["Webkit","ms","Moz","O"];Object.keys(sa).forEach(function(e){PC.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),sa[t]=sa[e]})});function Gm(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||sa.hasOwnProperty(e)&&sa[e]?(""+t).trim():t+"px"}function Qm(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,s=Gm(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,s):e[n]=s}}var BC=ct({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ud(e,t){if(t){if(BC[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(J(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(J(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(J(61))}if(t.style!=null&&typeof t.style!="object")throw Error(J(62))}}function fd(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var dd=null;function Mh(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var hd=null,Ks=null,qs=null;function A1(e){if(e=Za(e)){if(typeof hd!="function")throw Error(J(280));var t=e.stateNode;t&&(t=hu(t),hd(e.stateNode,e.type,t))}}function Zm(e){Ks?qs?qs.push(e):qs=[e]:Ks=e}function Km(){if(Ks){var e=Ks,t=qs;if(qs=Ks=null,A1(e),t)for(e=0;e<t.length;e++)A1(t[e])}}function qm(e,t){return e(t)}function $m(){}var df=!1;function Jm(e,t,n){if(df)return e(t,n);df=!0;try{return qm(e,t,n)}finally{df=!1,(Ks!==null||qs!==null)&&($m(),Km())}}function Aa(e,t){var n=e.stateNode;if(n===null)return null;var r=hu(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(J(231,t,typeof n));return n}var gd=!1;if(Wr)try{var ko={};Object.defineProperty(ko,"passive",{get:function(){gd=!0}}),window.addEventListener("test",ko,ko),window.removeEventListener("test",ko,ko)}catch{gd=!1}function FC(e,t,n,r,s,a,c,h,p){var g=Array.prototype.slice.call(arguments,3);try{t.apply(n,g)}catch(y){this.onError(y)}}var oa=!1,mc=null,xc=!1,pd=null,jC={onError:function(e){oa=!0,mc=e}};function UC(e,t,n,r,s,a,c,h,p){oa=!1,mc=null,FC.apply(jC,arguments)}function zC(e,t,n,r,s,a,c,h,p){if(UC.apply(this,arguments),oa){if(oa){var g=mc;oa=!1,mc=null}else throw Error(J(198));xc||(xc=!0,pd=g)}}function ws(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function ex(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function S1(e){if(ws(e)!==e)throw Error(J(188))}function HC(e){var t=e.alternate;if(!t){if(t=ws(e),t===null)throw Error(J(188));return t!==e?null:e}for(var n=e,r=t;;){var s=n.return;if(s===null)break;var a=s.alternate;if(a===null){if(r=s.return,r!==null){n=r;continue}break}if(s.child===a.child){for(a=s.child;a;){if(a===n)return S1(s),e;if(a===r)return S1(s),t;a=a.sibling}throw Error(J(188))}if(n.return!==r.return)n=s,r=a;else{for(var c=!1,h=s.child;h;){if(h===n){c=!0,n=s,r=a;break}if(h===r){c=!0,r=s,n=a;break}h=h.sibling}if(!c){for(h=a.child;h;){if(h===n){c=!0,n=a,r=s;break}if(h===r){c=!0,r=a,n=s;break}h=h.sibling}if(!c)throw Error(J(189))}}if(n.alternate!==r)throw Error(J(190))}if(n.tag!==3)throw Error(J(188));return n.stateNode.current===n?e:t}function tx(e){return e=HC(e),e!==null?nx(e):null}function nx(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=nx(e);if(t!==null)return t;e=e.sibling}return null}var rx=Dn.unstable_scheduleCallback,b1=Dn.unstable_cancelCallback,WC=Dn.unstable_shouldYield,VC=Dn.unstable_requestPaint,xt=Dn.unstable_now,YC=Dn.unstable_getCurrentPriorityLevel,Oh=Dn.unstable_ImmediatePriority,ix=Dn.unstable_UserBlockingPriority,yc=Dn.unstable_NormalPriority,XC=Dn.unstable_LowPriority,sx=Dn.unstable_IdlePriority,cu=null,_r=null;function GC(e){if(_r&&typeof _r.onCommitFiberRoot=="function")try{_r.onCommitFiberRoot(cu,e,void 0,(e.current.flags&128)===128)}catch{}}var or=Math.clz32?Math.clz32:KC,QC=Math.log,ZC=Math.LN2;function KC(e){return e>>>=0,e===0?32:31-(QC(e)/ZC|0)|0}var Al=64,Sl=4194304;function Ko(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function wc(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,s=e.suspendedLanes,a=e.pingedLanes,c=n&268435455;if(c!==0){var h=c&~s;h!==0?r=Ko(h):(a&=c,a!==0&&(r=Ko(a)))}else c=n&~s,c!==0?r=Ko(c):a!==0&&(r=Ko(a));if(r===0)return 0;if(t!==0&&t!==r&&!(t&s)&&(s=r&-r,a=t&-t,s>=a||s===16&&(a&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-or(t),s=1<<n,r|=e[n],t&=~s;return r}function qC(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function $C(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,s=e.expirationTimes,a=e.pendingLanes;0<a;){var c=31-or(a),h=1<<c,p=s[c];p===-1?(!(h&n)||h&r)&&(s[c]=qC(h,t)):p<=t&&(e.expiredLanes|=h),a&=~h}}function md(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function ox(){var e=Al;return Al<<=1,!(Al&4194240)&&(Al=64),e}function hf(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Ga(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-or(t),e[t]=n}function JC(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var s=31-or(n),a=1<<s;t[s]=0,r[s]=-1,e[s]=-1,n&=~a}}function Rh(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-or(n),s=1<<r;s&t|e[r]&t&&(e[r]|=t),n&=~s}}var Ve=0;function ax(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var lx,Dh,cx,ux,fx,xd=!1,bl=[],xi=null,yi=null,wi=null,Sa=new Map,ba=new Map,ci=[],e3="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function v1(e,t){switch(e){case"focusin":case"focusout":xi=null;break;case"dragenter":case"dragleave":yi=null;break;case"mouseover":case"mouseout":wi=null;break;case"pointerover":case"pointerout":Sa.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":ba.delete(t.pointerId)}}function Lo(e,t,n,r,s,a){return e===null||e.nativeEvent!==a?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:a,targetContainers:[s]},t!==null&&(t=Za(t),t!==null&&Dh(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,s!==null&&t.indexOf(s)===-1&&t.push(s),e)}function t3(e,t,n,r,s){switch(t){case"focusin":return xi=Lo(xi,e,t,n,r,s),!0;case"dragenter":return yi=Lo(yi,e,t,n,r,s),!0;case"mouseover":return wi=Lo(wi,e,t,n,r,s),!0;case"pointerover":var a=s.pointerId;return Sa.set(a,Lo(Sa.get(a)||null,e,t,n,r,s)),!0;case"gotpointercapture":return a=s.pointerId,ba.set(a,Lo(ba.get(a)||null,e,t,n,r,s)),!0}return!1}function dx(e){var t=$i(e.target);if(t!==null){var n=ws(t);if(n!==null){if(t=n.tag,t===13){if(t=ex(n),t!==null){e.blockedOn=t,fx(e.priority,function(){cx(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function $l(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=yd(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);dd=r,n.target.dispatchEvent(r),dd=null}else return t=Za(n),t!==null&&Dh(t),e.blockedOn=n,!1;t.shift()}return!0}function _1(e,t,n){$l(e)&&n.delete(t)}function n3(){xd=!1,xi!==null&&$l(xi)&&(xi=null),yi!==null&&$l(yi)&&(yi=null),wi!==null&&$l(wi)&&(wi=null),Sa.forEach(_1),ba.forEach(_1)}function Po(e,t){e.blockedOn===t&&(e.blockedOn=null,xd||(xd=!0,Dn.unstable_scheduleCallback(Dn.unstable_NormalPriority,n3)))}function va(e){function t(s){return Po(s,e)}if(0<bl.length){Po(bl[0],e);for(var n=1;n<bl.length;n++){var r=bl[n];r.blockedOn===e&&(r.blockedOn=null)}}for(xi!==null&&Po(xi,e),yi!==null&&Po(yi,e),wi!==null&&Po(wi,e),Sa.forEach(t),ba.forEach(t),n=0;n<ci.length;n++)r=ci[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<ci.length&&(n=ci[0],n.blockedOn===null);)dx(n),n.blockedOn===null&&ci.shift()}var $s=Kr.ReactCurrentBatchConfig,Cc=!0;function r3(e,t,n,r){var s=Ve,a=$s.transition;$s.transition=null;try{Ve=1,kh(e,t,n,r)}finally{Ve=s,$s.transition=a}}function i3(e,t,n,r){var s=Ve,a=$s.transition;$s.transition=null;try{Ve=4,kh(e,t,n,r)}finally{Ve=s,$s.transition=a}}function kh(e,t,n,r){if(Cc){var s=yd(e,t,n,r);if(s===null)Sf(e,t,r,Ec,n),v1(e,r);else if(t3(s,e,t,n,r))r.stopPropagation();else if(v1(e,r),t&4&&-1<e3.indexOf(e)){for(;s!==null;){var a=Za(s);if(a!==null&&lx(a),a=yd(e,t,n,r),a===null&&Sf(e,t,r,Ec,n),a===s)break;s=a}s!==null&&r.stopPropagation()}else Sf(e,t,r,null,n)}}var Ec=null;function yd(e,t,n,r){if(Ec=null,e=Mh(r),e=$i(e),e!==null)if(t=ws(e),t===null)e=null;else if(n=t.tag,n===13){if(e=ex(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Ec=e,null}function hx(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(YC()){case Oh:return 1;case ix:return 4;case yc:case XC:return 16;case sx:return 536870912;default:return 16}default:return 16}}var di=null,Lh=null,Jl=null;function gx(){if(Jl)return Jl;var e,t=Lh,n=t.length,r,s="value"in di?di.value:di.textContent,a=s.length;for(e=0;e<n&&t[e]===s[e];e++);var c=n-e;for(r=1;r<=c&&t[n-r]===s[a-r];r++);return Jl=s.slice(e,1<r?1-r:void 0)}function ec(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function vl(){return!0}function I1(){return!1}function Bn(e){function t(n,r,s,a,c){this._reactName=n,this._targetInst=s,this.type=r,this.nativeEvent=a,this.target=c,this.currentTarget=null;for(var h in e)e.hasOwnProperty(h)&&(n=e[h],this[h]=n?n(a):a[h]);return this.isDefaultPrevented=(a.defaultPrevented!=null?a.defaultPrevented:a.returnValue===!1)?vl:I1,this.isPropagationStopped=I1,this}return ct(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=vl)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=vl)},persist:function(){},isPersistent:vl}),t}var ho={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ph=Bn(ho),Qa=ct({},ho,{view:0,detail:0}),s3=Bn(Qa),gf,pf,Bo,uu=ct({},Qa,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Bh,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Bo&&(Bo&&e.type==="mousemove"?(gf=e.screenX-Bo.screenX,pf=e.screenY-Bo.screenY):pf=gf=0,Bo=e),gf)},movementY:function(e){return"movementY"in e?e.movementY:pf}}),T1=Bn(uu),o3=ct({},uu,{dataTransfer:0}),a3=Bn(o3),l3=ct({},Qa,{relatedTarget:0}),mf=Bn(l3),c3=ct({},ho,{animationName:0,elapsedTime:0,pseudoElement:0}),u3=Bn(c3),f3=ct({},ho,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),d3=Bn(f3),h3=ct({},ho,{data:0}),N1=Bn(h3),g3={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},p3={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},m3={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function x3(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=m3[e])?!!t[e]:!1}function Bh(){return x3}var y3=ct({},Qa,{key:function(e){if(e.key){var t=g3[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=ec(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?p3[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Bh,charCode:function(e){return e.type==="keypress"?ec(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?ec(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),w3=Bn(y3),C3=ct({},uu,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),M1=Bn(C3),E3=ct({},Qa,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Bh}),A3=Bn(E3),S3=ct({},ho,{propertyName:0,elapsedTime:0,pseudoElement:0}),b3=Bn(S3),v3=ct({},uu,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),_3=Bn(v3),I3=[9,13,27,32],Fh=Wr&&"CompositionEvent"in window,aa=null;Wr&&"documentMode"in document&&(aa=document.documentMode);var T3=Wr&&"TextEvent"in window&&!aa,px=Wr&&(!Fh||aa&&8<aa&&11>=aa),O1=" ",R1=!1;function mx(e,t){switch(e){case"keyup":return I3.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function xx(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Bs=!1;function N3(e,t){switch(e){case"compositionend":return xx(t);case"keypress":return t.which!==32?null:(R1=!0,O1);case"textInput":return e=t.data,e===O1&&R1?null:e;default:return null}}function M3(e,t){if(Bs)return e==="compositionend"||!Fh&&mx(e,t)?(e=gx(),Jl=Lh=di=null,Bs=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return px&&t.locale!=="ko"?null:t.data;default:return null}}var O3={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function D1(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!O3[e.type]:t==="textarea"}function yx(e,t,n,r){Zm(r),t=Ac(t,"onChange"),0<t.length&&(n=new Ph("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var la=null,_a=null;function R3(e){Nx(e,0)}function fu(e){var t=Us(e);if(Hm(t))return e}function D3(e,t){if(e==="change")return t}var wx=!1;if(Wr){var xf;if(Wr){var yf="oninput"in document;if(!yf){var k1=document.createElement("div");k1.setAttribute("oninput","return;"),yf=typeof k1.oninput=="function"}xf=yf}else xf=!1;wx=xf&&(!document.documentMode||9<document.documentMode)}function L1(){la&&(la.detachEvent("onpropertychange",Cx),_a=la=null)}function Cx(e){if(e.propertyName==="value"&&fu(_a)){var t=[];yx(t,_a,e,Mh(e)),Jm(R3,t)}}function k3(e,t,n){e==="focusin"?(L1(),la=t,_a=n,la.attachEvent("onpropertychange",Cx)):e==="focusout"&&L1()}function L3(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return fu(_a)}function P3(e,t){if(e==="click")return fu(t)}function B3(e,t){if(e==="input"||e==="change")return fu(t)}function F3(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var lr=typeof Object.is=="function"?Object.is:F3;function Ia(e,t){if(lr(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!ed.call(t,s)||!lr(e[s],t[s]))return!1}return!0}function P1(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function B1(e,t){var n=P1(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=P1(n)}}function Ex(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Ex(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Ax(){for(var e=window,t=pc();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=pc(e.document)}return t}function jh(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function j3(e){var t=Ax(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&Ex(n.ownerDocument.documentElement,n)){if(r!==null&&jh(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var s=n.textContent.length,a=Math.min(r.start,s);r=r.end===void 0?a:Math.min(r.end,s),!e.extend&&a>r&&(s=r,r=a,a=s),s=B1(n,a);var c=B1(n,r);s&&c&&(e.rangeCount!==1||e.anchorNode!==s.node||e.anchorOffset!==s.offset||e.focusNode!==c.node||e.focusOffset!==c.offset)&&(t=t.createRange(),t.setStart(s.node,s.offset),e.removeAllRanges(),a>r?(e.addRange(t),e.extend(c.node,c.offset)):(t.setEnd(c.node,c.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var U3=Wr&&"documentMode"in document&&11>=document.documentMode,Fs=null,wd=null,ca=null,Cd=!1;function F1(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Cd||Fs==null||Fs!==pc(r)||(r=Fs,"selectionStart"in r&&jh(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),ca&&Ia(ca,r)||(ca=r,r=Ac(wd,"onSelect"),0<r.length&&(t=new Ph("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=Fs)))}function _l(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var js={animationend:_l("Animation","AnimationEnd"),animationiteration:_l("Animation","AnimationIteration"),animationstart:_l("Animation","AnimationStart"),transitionend:_l("Transition","TransitionEnd")},wf={},Sx={};Wr&&(Sx=document.createElement("div").style,"AnimationEvent"in window||(delete js.animationend.animation,delete js.animationiteration.animation,delete js.animationstart.animation),"TransitionEvent"in window||delete js.transitionend.transition);function du(e){if(wf[e])return wf[e];if(!js[e])return e;var t=js[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in Sx)return wf[e]=t[n];return e}var bx=du("animationend"),vx=du("animationiteration"),_x=du("animationstart"),Ix=du("transitionend"),Tx=new Map,j1="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ri(e,t){Tx.set(e,t),ys(t,[e])}for(var Cf=0;Cf<j1.length;Cf++){var Ef=j1[Cf],z3=Ef.toLowerCase(),H3=Ef[0].toUpperCase()+Ef.slice(1);Ri(z3,"on"+H3)}Ri(bx,"onAnimationEnd");Ri(vx,"onAnimationIteration");Ri(_x,"onAnimationStart");Ri("dblclick","onDoubleClick");Ri("focusin","onFocus");Ri("focusout","onBlur");Ri(Ix,"onTransitionEnd");no("onMouseEnter",["mouseout","mouseover"]);no("onMouseLeave",["mouseout","mouseover"]);no("onPointerEnter",["pointerout","pointerover"]);no("onPointerLeave",["pointerout","pointerover"]);ys("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));ys("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));ys("onBeforeInput",["compositionend","keypress","textInput","paste"]);ys("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));ys("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));ys("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var qo="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),W3=new Set("cancel close invalid load scroll toggle".split(" ").concat(qo));function U1(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,zC(r,t,void 0,e),e.currentTarget=null}function Nx(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],s=r.event;r=r.listeners;e:{var a=void 0;if(t)for(var c=r.length-1;0<=c;c--){var h=r[c],p=h.instance,g=h.currentTarget;if(h=h.listener,p!==a&&s.isPropagationStopped())break e;U1(s,h,g),a=p}else for(c=0;c<r.length;c++){if(h=r[c],p=h.instance,g=h.currentTarget,h=h.listener,p!==a&&s.isPropagationStopped())break e;U1(s,h,g),a=p}}}if(xc)throw e=pd,xc=!1,pd=null,e}function et(e,t){var n=t[vd];n===void 0&&(n=t[vd]=new Set);var r=e+"__bubble";n.has(r)||(Mx(t,e,2,!1),n.add(r))}function Af(e,t,n){var r=0;t&&(r|=4),Mx(n,e,r,t)}var Il="_reactListening"+Math.random().toString(36).slice(2);function Ta(e){if(!e[Il]){e[Il]=!0,Bm.forEach(function(n){n!=="selectionchange"&&(W3.has(n)||Af(n,!1,e),Af(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Il]||(t[Il]=!0,Af("selectionchange",!1,t))}}function Mx(e,t,n,r){switch(hx(t)){case 1:var s=r3;break;case 4:s=i3;break;default:s=kh}n=s.bind(null,t,n,e),s=void 0,!gd||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(s=!0),r?s!==void 0?e.addEventListener(t,n,{capture:!0,passive:s}):e.addEventListener(t,n,!0):s!==void 0?e.addEventListener(t,n,{passive:s}):e.addEventListener(t,n,!1)}function Sf(e,t,n,r,s){var a=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var c=r.tag;if(c===3||c===4){var h=r.stateNode.containerInfo;if(h===s||h.nodeType===8&&h.parentNode===s)break;if(c===4)for(c=r.return;c!==null;){var p=c.tag;if((p===3||p===4)&&(p=c.stateNode.containerInfo,p===s||p.nodeType===8&&p.parentNode===s))return;c=c.return}for(;h!==null;){if(c=$i(h),c===null)return;if(p=c.tag,p===5||p===6){r=a=c;continue e}h=h.parentNode}}r=r.return}Jm(function(){var g=a,y=Mh(n),C=[];e:{var A=Tx.get(e);if(A!==void 0){var v=Ph,T=e;switch(e){case"keypress":if(ec(n)===0)break e;case"keydown":case"keyup":v=w3;break;case"focusin":T="focus",v=mf;break;case"focusout":T="blur",v=mf;break;case"beforeblur":case"afterblur":v=mf;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":v=T1;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":v=a3;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":v=A3;break;case bx:case vx:case _x:v=u3;break;case Ix:v=b3;break;case"scroll":v=s3;break;case"wheel":v=_3;break;case"copy":case"cut":case"paste":v=d3;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":v=M1}var R=(t&4)!==0,D=!R&&e==="scroll",I=R?A!==null?A+"Capture":null:A;R=[];for(var _=g,O;_!==null;){O=_;var P=O.stateNode;if(O.tag===5&&P!==null&&(O=P,I!==null&&(P=Aa(_,I),P!=null&&R.push(Na(_,P,O)))),D)break;_=_.return}0<R.length&&(A=new v(A,T,null,n,y),C.push({event:A,listeners:R}))}}if(!(t&7)){e:{if(A=e==="mouseover"||e==="pointerover",v=e==="mouseout"||e==="pointerout",A&&n!==dd&&(T=n.relatedTarget||n.fromElement)&&($i(T)||T[Vr]))break e;if((v||A)&&(A=y.window===y?y:(A=y.ownerDocument)?A.defaultView||A.parentWindow:window,v?(T=n.relatedTarget||n.toElement,v=g,T=T?$i(T):null,T!==null&&(D=ws(T),T!==D||T.tag!==5&&T.tag!==6)&&(T=null)):(v=null,T=g),v!==T)){if(R=T1,P="onMouseLeave",I="onMouseEnter",_="mouse",(e==="pointerout"||e==="pointerover")&&(R=M1,P="onPointerLeave",I="onPointerEnter",_="pointer"),D=v==null?A:Us(v),O=T==null?A:Us(T),A=new R(P,_+"leave",v,n,y),A.target=D,A.relatedTarget=O,P=null,$i(y)===g&&(R=new R(I,_+"enter",T,n,y),R.target=O,R.relatedTarget=D,P=R),D=P,v&&T)t:{for(R=v,I=T,_=0,O=R;O;O=Rs(O))_++;for(O=0,P=I;P;P=Rs(P))O++;for(;0<_-O;)R=Rs(R),_--;for(;0<O-_;)I=Rs(I),O--;for(;_--;){if(R===I||I!==null&&R===I.alternate)break t;R=Rs(R),I=Rs(I)}R=null}else R=null;v!==null&&z1(C,A,v,R,!1),T!==null&&D!==null&&z1(C,D,T,R,!0)}}e:{if(A=g?Us(g):window,v=A.nodeName&&A.nodeName.toLowerCase(),v==="select"||v==="input"&&A.type==="file")var U=D3;else if(D1(A))if(wx)U=B3;else{U=L3;var Y=k3}else(v=A.nodeName)&&v.toLowerCase()==="input"&&(A.type==="checkbox"||A.type==="radio")&&(U=P3);if(U&&(U=U(e,g))){yx(C,U,n,y);break e}Y&&Y(e,A,g),e==="focusout"&&(Y=A._wrapperState)&&Y.controlled&&A.type==="number"&&ad(A,"number",A.value)}switch(Y=g?Us(g):window,e){case"focusin":(D1(Y)||Y.contentEditable==="true")&&(Fs=Y,wd=g,ca=null);break;case"focusout":ca=wd=Fs=null;break;case"mousedown":Cd=!0;break;case"contextmenu":case"mouseup":case"dragend":Cd=!1,F1(C,n,y);break;case"selectionchange":if(U3)break;case"keydown":case"keyup":F1(C,n,y)}var j;if(Fh)e:{switch(e){case"compositionstart":var G="onCompositionStart";break e;case"compositionend":G="onCompositionEnd";break e;case"compositionupdate":G="onCompositionUpdate";break e}G=void 0}else Bs?mx(e,n)&&(G="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(G="onCompositionStart");G&&(px&&n.locale!=="ko"&&(Bs||G!=="onCompositionStart"?G==="onCompositionEnd"&&Bs&&(j=gx()):(di=y,Lh="value"in di?di.value:di.textContent,Bs=!0)),Y=Ac(g,G),0<Y.length&&(G=new N1(G,e,null,n,y),C.push({event:G,listeners:Y}),j?G.data=j:(j=xx(n),j!==null&&(G.data=j)))),(j=T3?N3(e,n):M3(e,n))&&(g=Ac(g,"onBeforeInput"),0<g.length&&(y=new N1("onBeforeInput","beforeinput",null,n,y),C.push({event:y,listeners:g}),y.data=j))}Nx(C,t)})}function Na(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Ac(e,t){for(var n=t+"Capture",r=[];e!==null;){var s=e,a=s.stateNode;s.tag===5&&a!==null&&(s=a,a=Aa(e,n),a!=null&&r.unshift(Na(e,a,s)),a=Aa(e,t),a!=null&&r.push(Na(e,a,s))),e=e.return}return r}function Rs(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function z1(e,t,n,r,s){for(var a=t._reactName,c=[];n!==null&&n!==r;){var h=n,p=h.alternate,g=h.stateNode;if(p!==null&&p===r)break;h.tag===5&&g!==null&&(h=g,s?(p=Aa(n,a),p!=null&&c.unshift(Na(n,p,h))):s||(p=Aa(n,a),p!=null&&c.push(Na(n,p,h)))),n=n.return}c.length!==0&&e.push({event:t,listeners:c})}var V3=/\r\n?/g,Y3=/\u0000|\uFFFD/g;function H1(e){return(typeof e=="string"?e:""+e).replace(V3,`
`).replace(Y3,"")}function Tl(e,t,n){if(t=H1(t),H1(e)!==t&&n)throw Error(J(425))}function Sc(){}var Ed=null,Ad=null;function Sd(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var bd=typeof setTimeout=="function"?setTimeout:void 0,X3=typeof clearTimeout=="function"?clearTimeout:void 0,W1=typeof Promise=="function"?Promise:void 0,G3=typeof queueMicrotask=="function"?queueMicrotask:typeof W1<"u"?function(e){return W1.resolve(null).then(e).catch(Q3)}:bd;function Q3(e){setTimeout(function(){throw e})}function bf(e,t){var n=t,r=0;do{var s=n.nextSibling;if(e.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(r===0){e.removeChild(s),va(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=s}while(n);va(t)}function Ci(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function V1(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var go=Math.random().toString(36).slice(2),vr="__reactFiber$"+go,Ma="__reactProps$"+go,Vr="__reactContainer$"+go,vd="__reactEvents$"+go,Z3="__reactListeners$"+go,K3="__reactHandles$"+go;function $i(e){var t=e[vr];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Vr]||n[vr]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=V1(e);e!==null;){if(n=e[vr])return n;e=V1(e)}return t}e=n,n=e.parentNode}return null}function Za(e){return e=e[vr]||e[Vr],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Us(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(J(33))}function hu(e){return e[Ma]||null}var _d=[],zs=-1;function Di(e){return{current:e}}function rt(e){0>zs||(e.current=_d[zs],_d[zs]=null,zs--)}function $e(e,t){zs++,_d[zs]=e.current,e.current=t}var Ti={},Jt=Di(Ti),yn=Di(!1),ls=Ti;function ro(e,t){var n=e.type.contextTypes;if(!n)return Ti;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var s={},a;for(a in n)s[a]=t[a];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function wn(e){return e=e.childContextTypes,e!=null}function bc(){rt(yn),rt(Jt)}function Y1(e,t,n){if(Jt.current!==Ti)throw Error(J(168));$e(Jt,t),$e(yn,n)}function Ox(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var s in r)if(!(s in t))throw Error(J(108,kC(e)||"Unknown",s));return ct({},n,r)}function vc(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Ti,ls=Jt.current,$e(Jt,e),$e(yn,yn.current),!0}function X1(e,t,n){var r=e.stateNode;if(!r)throw Error(J(169));n?(e=Ox(e,t,ls),r.__reactInternalMemoizedMergedChildContext=e,rt(yn),rt(Jt),$e(Jt,e)):rt(yn),$e(yn,n)}var Lr=null,gu=!1,vf=!1;function Rx(e){Lr===null?Lr=[e]:Lr.push(e)}function q3(e){gu=!0,Rx(e)}function ki(){if(!vf&&Lr!==null){vf=!0;var e=0,t=Ve;try{var n=Lr;for(Ve=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}Lr=null,gu=!1}catch(s){throw Lr!==null&&(Lr=Lr.slice(e+1)),rx(Oh,ki),s}finally{Ve=t,vf=!1}}return null}var Hs=[],Ws=0,_c=null,Ic=0,Wn=[],Vn=0,cs=null,Br=1,Fr="";function Qi(e,t){Hs[Ws++]=Ic,Hs[Ws++]=_c,_c=e,Ic=t}function Dx(e,t,n){Wn[Vn++]=Br,Wn[Vn++]=Fr,Wn[Vn++]=cs,cs=e;var r=Br;e=Fr;var s=32-or(r)-1;r&=~(1<<s),n+=1;var a=32-or(t)+s;if(30<a){var c=s-s%5;a=(r&(1<<c)-1).toString(32),r>>=c,s-=c,Br=1<<32-or(t)+s|n<<s|r,Fr=a+e}else Br=1<<a|n<<s|r,Fr=e}function Uh(e){e.return!==null&&(Qi(e,1),Dx(e,1,0))}function zh(e){for(;e===_c;)_c=Hs[--Ws],Hs[Ws]=null,Ic=Hs[--Ws],Hs[Ws]=null;for(;e===cs;)cs=Wn[--Vn],Wn[Vn]=null,Fr=Wn[--Vn],Wn[Vn]=null,Br=Wn[--Vn],Wn[Vn]=null}var On=null,Nn=null,st=!1,ir=null;function kx(e,t){var n=Xn(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function G1(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,On=e,Nn=Ci(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,On=e,Nn=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=cs!==null?{id:Br,overflow:Fr}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=Xn(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,On=e,Nn=null,!0):!1;default:return!1}}function Id(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Td(e){if(st){var t=Nn;if(t){var n=t;if(!G1(e,t)){if(Id(e))throw Error(J(418));t=Ci(n.nextSibling);var r=On;t&&G1(e,t)?kx(r,n):(e.flags=e.flags&-4097|2,st=!1,On=e)}}else{if(Id(e))throw Error(J(418));e.flags=e.flags&-4097|2,st=!1,On=e}}}function Q1(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;On=e}function Nl(e){if(e!==On)return!1;if(!st)return Q1(e),st=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Sd(e.type,e.memoizedProps)),t&&(t=Nn)){if(Id(e))throw Lx(),Error(J(418));for(;t;)kx(e,t),t=Ci(t.nextSibling)}if(Q1(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(J(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){Nn=Ci(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}Nn=null}}else Nn=On?Ci(e.stateNode.nextSibling):null;return!0}function Lx(){for(var e=Nn;e;)e=Ci(e.nextSibling)}function io(){Nn=On=null,st=!1}function Hh(e){ir===null?ir=[e]:ir.push(e)}var $3=Kr.ReactCurrentBatchConfig;function Fo(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(J(309));var r=n.stateNode}if(!r)throw Error(J(147,e));var s=r,a=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===a?t.ref:(t=function(c){var h=s.refs;c===null?delete h[a]:h[a]=c},t._stringRef=a,t)}if(typeof e!="string")throw Error(J(284));if(!n._owner)throw Error(J(290,e))}return e}function Ml(e,t){throw e=Object.prototype.toString.call(t),Error(J(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Z1(e){var t=e._init;return t(e._payload)}function Px(e){function t(I,_){if(e){var O=I.deletions;O===null?(I.deletions=[_],I.flags|=16):O.push(_)}}function n(I,_){if(!e)return null;for(;_!==null;)t(I,_),_=_.sibling;return null}function r(I,_){for(I=new Map;_!==null;)_.key!==null?I.set(_.key,_):I.set(_.index,_),_=_.sibling;return I}function s(I,_){return I=bi(I,_),I.index=0,I.sibling=null,I}function a(I,_,O){return I.index=O,e?(O=I.alternate,O!==null?(O=O.index,O<_?(I.flags|=2,_):O):(I.flags|=2,_)):(I.flags|=1048576,_)}function c(I){return e&&I.alternate===null&&(I.flags|=2),I}function h(I,_,O,P){return _===null||_.tag!==6?(_=Rf(O,I.mode,P),_.return=I,_):(_=s(_,O),_.return=I,_)}function p(I,_,O,P){var U=O.type;return U===Ps?y(I,_,O.props.children,P,O.key):_!==null&&(_.elementType===U||typeof U=="object"&&U!==null&&U.$$typeof===ai&&Z1(U)===_.type)?(P=s(_,O.props),P.ref=Fo(I,_,O),P.return=I,P):(P=ac(O.type,O.key,O.props,null,I.mode,P),P.ref=Fo(I,_,O),P.return=I,P)}function g(I,_,O,P){return _===null||_.tag!==4||_.stateNode.containerInfo!==O.containerInfo||_.stateNode.implementation!==O.implementation?(_=Df(O,I.mode,P),_.return=I,_):(_=s(_,O.children||[]),_.return=I,_)}function y(I,_,O,P,U){return _===null||_.tag!==7?(_=ss(O,I.mode,P,U),_.return=I,_):(_=s(_,O),_.return=I,_)}function C(I,_,O){if(typeof _=="string"&&_!==""||typeof _=="number")return _=Rf(""+_,I.mode,O),_.return=I,_;if(typeof _=="object"&&_!==null){switch(_.$$typeof){case wl:return O=ac(_.type,_.key,_.props,null,I.mode,O),O.ref=Fo(I,null,_),O.return=I,O;case Ls:return _=Df(_,I.mode,O),_.return=I,_;case ai:var P=_._init;return C(I,P(_._payload),O)}if(Zo(_)||Do(_))return _=ss(_,I.mode,O,null),_.return=I,_;Ml(I,_)}return null}function A(I,_,O,P){var U=_!==null?_.key:null;if(typeof O=="string"&&O!==""||typeof O=="number")return U!==null?null:h(I,_,""+O,P);if(typeof O=="object"&&O!==null){switch(O.$$typeof){case wl:return O.key===U?p(I,_,O,P):null;case Ls:return O.key===U?g(I,_,O,P):null;case ai:return U=O._init,A(I,_,U(O._payload),P)}if(Zo(O)||Do(O))return U!==null?null:y(I,_,O,P,null);Ml(I,O)}return null}function v(I,_,O,P,U){if(typeof P=="string"&&P!==""||typeof P=="number")return I=I.get(O)||null,h(_,I,""+P,U);if(typeof P=="object"&&P!==null){switch(P.$$typeof){case wl:return I=I.get(P.key===null?O:P.key)||null,p(_,I,P,U);case Ls:return I=I.get(P.key===null?O:P.key)||null,g(_,I,P,U);case ai:var Y=P._init;return v(I,_,O,Y(P._payload),U)}if(Zo(P)||Do(P))return I=I.get(O)||null,y(_,I,P,U,null);Ml(_,P)}return null}function T(I,_,O,P){for(var U=null,Y=null,j=_,G=_=0,Z=null;j!==null&&G<O.length;G++){j.index>G?(Z=j,j=null):Z=j.sibling;var se=A(I,j,O[G],P);if(se===null){j===null&&(j=Z);break}e&&j&&se.alternate===null&&t(I,j),_=a(se,_,G),Y===null?U=se:Y.sibling=se,Y=se,j=Z}if(G===O.length)return n(I,j),st&&Qi(I,G),U;if(j===null){for(;G<O.length;G++)j=C(I,O[G],P),j!==null&&(_=a(j,_,G),Y===null?U=j:Y.sibling=j,Y=j);return st&&Qi(I,G),U}for(j=r(I,j);G<O.length;G++)Z=v(j,I,G,O[G],P),Z!==null&&(e&&Z.alternate!==null&&j.delete(Z.key===null?G:Z.key),_=a(Z,_,G),Y===null?U=Z:Y.sibling=Z,Y=Z);return e&&j.forEach(function(he){return t(I,he)}),st&&Qi(I,G),U}function R(I,_,O,P){var U=Do(O);if(typeof U!="function")throw Error(J(150));if(O=U.call(O),O==null)throw Error(J(151));for(var Y=U=null,j=_,G=_=0,Z=null,se=O.next();j!==null&&!se.done;G++,se=O.next()){j.index>G?(Z=j,j=null):Z=j.sibling;var he=A(I,j,se.value,P);if(he===null){j===null&&(j=Z);break}e&&j&&he.alternate===null&&t(I,j),_=a(he,_,G),Y===null?U=he:Y.sibling=he,Y=he,j=Z}if(se.done)return n(I,j),st&&Qi(I,G),U;if(j===null){for(;!se.done;G++,se=O.next())se=C(I,se.value,P),se!==null&&(_=a(se,_,G),Y===null?U=se:Y.sibling=se,Y=se);return st&&Qi(I,G),U}for(j=r(I,j);!se.done;G++,se=O.next())se=v(j,I,G,se.value,P),se!==null&&(e&&se.alternate!==null&&j.delete(se.key===null?G:se.key),_=a(se,_,G),Y===null?U=se:Y.sibling=se,Y=se);return e&&j.forEach(function(ne){return t(I,ne)}),st&&Qi(I,G),U}function D(I,_,O,P){if(typeof O=="object"&&O!==null&&O.type===Ps&&O.key===null&&(O=O.props.children),typeof O=="object"&&O!==null){switch(O.$$typeof){case wl:e:{for(var U=O.key,Y=_;Y!==null;){if(Y.key===U){if(U=O.type,U===Ps){if(Y.tag===7){n(I,Y.sibling),_=s(Y,O.props.children),_.return=I,I=_;break e}}else if(Y.elementType===U||typeof U=="object"&&U!==null&&U.$$typeof===ai&&Z1(U)===Y.type){n(I,Y.sibling),_=s(Y,O.props),_.ref=Fo(I,Y,O),_.return=I,I=_;break e}n(I,Y);break}else t(I,Y);Y=Y.sibling}O.type===Ps?(_=ss(O.props.children,I.mode,P,O.key),_.return=I,I=_):(P=ac(O.type,O.key,O.props,null,I.mode,P),P.ref=Fo(I,_,O),P.return=I,I=P)}return c(I);case Ls:e:{for(Y=O.key;_!==null;){if(_.key===Y)if(_.tag===4&&_.stateNode.containerInfo===O.containerInfo&&_.stateNode.implementation===O.implementation){n(I,_.sibling),_=s(_,O.children||[]),_.return=I,I=_;break e}else{n(I,_);break}else t(I,_);_=_.sibling}_=Df(O,I.mode,P),_.return=I,I=_}return c(I);case ai:return Y=O._init,D(I,_,Y(O._payload),P)}if(Zo(O))return T(I,_,O,P);if(Do(O))return R(I,_,O,P);Ml(I,O)}return typeof O=="string"&&O!==""||typeof O=="number"?(O=""+O,_!==null&&_.tag===6?(n(I,_.sibling),_=s(_,O),_.return=I,I=_):(n(I,_),_=Rf(O,I.mode,P),_.return=I,I=_),c(I)):n(I,_)}return D}var so=Px(!0),Bx=Px(!1),Tc=Di(null),Nc=null,Vs=null,Wh=null;function Vh(){Wh=Vs=Nc=null}function Yh(e){var t=Tc.current;rt(Tc),e._currentValue=t}function Nd(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Js(e,t){Nc=e,Wh=Vs=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(mn=!0),e.firstContext=null)}function Zn(e){var t=e._currentValue;if(Wh!==e)if(e={context:e,memoizedValue:t,next:null},Vs===null){if(Nc===null)throw Error(J(308));Vs=e,Nc.dependencies={lanes:0,firstContext:e}}else Vs=Vs.next=e;return t}var Ji=null;function Xh(e){Ji===null?Ji=[e]:Ji.push(e)}function Fx(e,t,n,r){var s=t.interleaved;return s===null?(n.next=n,Xh(t)):(n.next=s.next,s.next=n),t.interleaved=n,Yr(e,r)}function Yr(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var li=!1;function Gh(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function jx(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Ur(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Ei(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,De&2){var s=r.pending;return s===null?t.next=t:(t.next=s.next,s.next=t),r.pending=t,Yr(e,n)}return s=r.interleaved,s===null?(t.next=t,Xh(r)):(t.next=s.next,s.next=t),r.interleaved=t,Yr(e,n)}function tc(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Rh(e,n)}}function K1(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var s=null,a=null;if(n=n.firstBaseUpdate,n!==null){do{var c={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};a===null?s=a=c:a=a.next=c,n=n.next}while(n!==null);a===null?s=a=t:a=a.next=t}else s=a=t;n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:a,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Mc(e,t,n,r){var s=e.updateQueue;li=!1;var a=s.firstBaseUpdate,c=s.lastBaseUpdate,h=s.shared.pending;if(h!==null){s.shared.pending=null;var p=h,g=p.next;p.next=null,c===null?a=g:c.next=g,c=p;var y=e.alternate;y!==null&&(y=y.updateQueue,h=y.lastBaseUpdate,h!==c&&(h===null?y.firstBaseUpdate=g:h.next=g,y.lastBaseUpdate=p))}if(a!==null){var C=s.baseState;c=0,y=g=p=null,h=a;do{var A=h.lane,v=h.eventTime;if((r&A)===A){y!==null&&(y=y.next={eventTime:v,lane:0,tag:h.tag,payload:h.payload,callback:h.callback,next:null});e:{var T=e,R=h;switch(A=t,v=n,R.tag){case 1:if(T=R.payload,typeof T=="function"){C=T.call(v,C,A);break e}C=T;break e;case 3:T.flags=T.flags&-65537|128;case 0:if(T=R.payload,A=typeof T=="function"?T.call(v,C,A):T,A==null)break e;C=ct({},C,A);break e;case 2:li=!0}}h.callback!==null&&h.lane!==0&&(e.flags|=64,A=s.effects,A===null?s.effects=[h]:A.push(h))}else v={eventTime:v,lane:A,tag:h.tag,payload:h.payload,callback:h.callback,next:null},y===null?(g=y=v,p=C):y=y.next=v,c|=A;if(h=h.next,h===null){if(h=s.shared.pending,h===null)break;A=h,h=A.next,A.next=null,s.lastBaseUpdate=A,s.shared.pending=null}}while(!0);if(y===null&&(p=C),s.baseState=p,s.firstBaseUpdate=g,s.lastBaseUpdate=y,t=s.shared.interleaved,t!==null){s=t;do c|=s.lane,s=s.next;while(s!==t)}else a===null&&(s.shared.lanes=0);fs|=c,e.lanes=c,e.memoizedState=C}}function q1(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],s=r.callback;if(s!==null){if(r.callback=null,r=n,typeof s!="function")throw Error(J(191,s));s.call(r)}}}var Ka={},Ir=Di(Ka),Oa=Di(Ka),Ra=Di(Ka);function es(e){if(e===Ka)throw Error(J(174));return e}function Qh(e,t){switch($e(Ra,t),$e(Oa,e),$e(Ir,Ka),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:cd(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=cd(t,e)}rt(Ir),$e(Ir,t)}function oo(){rt(Ir),rt(Oa),rt(Ra)}function Ux(e){es(Ra.current);var t=es(Ir.current),n=cd(t,e.type);t!==n&&($e(Oa,e),$e(Ir,n))}function Zh(e){Oa.current===e&&(rt(Ir),rt(Oa))}var at=Di(0);function Oc(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var _f=[];function Kh(){for(var e=0;e<_f.length;e++)_f[e]._workInProgressVersionPrimary=null;_f.length=0}var nc=Kr.ReactCurrentDispatcher,If=Kr.ReactCurrentBatchConfig,us=0,lt=null,_t=null,Dt=null,Rc=!1,ua=!1,Da=0,J3=0;function Qt(){throw Error(J(321))}function qh(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!lr(e[n],t[n]))return!1;return!0}function $h(e,t,n,r,s,a){if(us=a,lt=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,nc.current=e===null||e.memoizedState===null?rE:iE,e=n(r,s),ua){a=0;do{if(ua=!1,Da=0,25<=a)throw Error(J(301));a+=1,Dt=_t=null,t.updateQueue=null,nc.current=sE,e=n(r,s)}while(ua)}if(nc.current=Dc,t=_t!==null&&_t.next!==null,us=0,Dt=_t=lt=null,Rc=!1,t)throw Error(J(300));return e}function Jh(){var e=Da!==0;return Da=0,e}function Ar(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Dt===null?lt.memoizedState=Dt=e:Dt=Dt.next=e,Dt}function Kn(){if(_t===null){var e=lt.alternate;e=e!==null?e.memoizedState:null}else e=_t.next;var t=Dt===null?lt.memoizedState:Dt.next;if(t!==null)Dt=t,_t=e;else{if(e===null)throw Error(J(310));_t=e,e={memoizedState:_t.memoizedState,baseState:_t.baseState,baseQueue:_t.baseQueue,queue:_t.queue,next:null},Dt===null?lt.memoizedState=Dt=e:Dt=Dt.next=e}return Dt}function ka(e,t){return typeof t=="function"?t(e):t}function Tf(e){var t=Kn(),n=t.queue;if(n===null)throw Error(J(311));n.lastRenderedReducer=e;var r=_t,s=r.baseQueue,a=n.pending;if(a!==null){if(s!==null){var c=s.next;s.next=a.next,a.next=c}r.baseQueue=s=a,n.pending=null}if(s!==null){a=s.next,r=r.baseState;var h=c=null,p=null,g=a;do{var y=g.lane;if((us&y)===y)p!==null&&(p=p.next={lane:0,action:g.action,hasEagerState:g.hasEagerState,eagerState:g.eagerState,next:null}),r=g.hasEagerState?g.eagerState:e(r,g.action);else{var C={lane:y,action:g.action,hasEagerState:g.hasEagerState,eagerState:g.eagerState,next:null};p===null?(h=p=C,c=r):p=p.next=C,lt.lanes|=y,fs|=y}g=g.next}while(g!==null&&g!==a);p===null?c=r:p.next=h,lr(r,t.memoizedState)||(mn=!0),t.memoizedState=r,t.baseState=c,t.baseQueue=p,n.lastRenderedState=r}if(e=n.interleaved,e!==null){s=e;do a=s.lane,lt.lanes|=a,fs|=a,s=s.next;while(s!==e)}else s===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Nf(e){var t=Kn(),n=t.queue;if(n===null)throw Error(J(311));n.lastRenderedReducer=e;var r=n.dispatch,s=n.pending,a=t.memoizedState;if(s!==null){n.pending=null;var c=s=s.next;do a=e(a,c.action),c=c.next;while(c!==s);lr(a,t.memoizedState)||(mn=!0),t.memoizedState=a,t.baseQueue===null&&(t.baseState=a),n.lastRenderedState=a}return[a,r]}function zx(){}function Hx(e,t){var n=lt,r=Kn(),s=t(),a=!lr(r.memoizedState,s);if(a&&(r.memoizedState=s,mn=!0),r=r.queue,e0(Yx.bind(null,n,r,e),[e]),r.getSnapshot!==t||a||Dt!==null&&Dt.memoizedState.tag&1){if(n.flags|=2048,La(9,Vx.bind(null,n,r,s,t),void 0,null),kt===null)throw Error(J(349));us&30||Wx(n,t,s)}return s}function Wx(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=lt.updateQueue,t===null?(t={lastEffect:null,stores:null},lt.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function Vx(e,t,n,r){t.value=n,t.getSnapshot=r,Xx(t)&&Gx(e)}function Yx(e,t,n){return n(function(){Xx(t)&&Gx(e)})}function Xx(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!lr(e,n)}catch{return!0}}function Gx(e){var t=Yr(e,1);t!==null&&ar(t,e,1,-1)}function $1(e){var t=Ar();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ka,lastRenderedState:e},t.queue=e,e=e.dispatch=nE.bind(null,lt,e),[t.memoizedState,e]}function La(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=lt.updateQueue,t===null?(t={lastEffect:null,stores:null},lt.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function Qx(){return Kn().memoizedState}function rc(e,t,n,r){var s=Ar();lt.flags|=e,s.memoizedState=La(1|t,n,void 0,r===void 0?null:r)}function pu(e,t,n,r){var s=Kn();r=r===void 0?null:r;var a=void 0;if(_t!==null){var c=_t.memoizedState;if(a=c.destroy,r!==null&&qh(r,c.deps)){s.memoizedState=La(t,n,a,r);return}}lt.flags|=e,s.memoizedState=La(1|t,n,a,r)}function J1(e,t){return rc(8390656,8,e,t)}function e0(e,t){return pu(2048,8,e,t)}function Zx(e,t){return pu(4,2,e,t)}function Kx(e,t){return pu(4,4,e,t)}function qx(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function $x(e,t,n){return n=n!=null?n.concat([e]):null,pu(4,4,qx.bind(null,t,e),n)}function t0(){}function Jx(e,t){var n=Kn();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&qh(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function e2(e,t){var n=Kn();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&qh(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function t2(e,t,n){return us&21?(lr(n,t)||(n=ox(),lt.lanes|=n,fs|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,mn=!0),e.memoizedState=n)}function eE(e,t){var n=Ve;Ve=n!==0&&4>n?n:4,e(!0);var r=If.transition;If.transition={};try{e(!1),t()}finally{Ve=n,If.transition=r}}function n2(){return Kn().memoizedState}function tE(e,t,n){var r=Si(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},r2(e))i2(t,n);else if(n=Fx(e,t,n,r),n!==null){var s=rn();ar(n,e,r,s),s2(n,t,r)}}function nE(e,t,n){var r=Si(e),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(r2(e))i2(t,s);else{var a=e.alternate;if(e.lanes===0&&(a===null||a.lanes===0)&&(a=t.lastRenderedReducer,a!==null))try{var c=t.lastRenderedState,h=a(c,n);if(s.hasEagerState=!0,s.eagerState=h,lr(h,c)){var p=t.interleaved;p===null?(s.next=s,Xh(t)):(s.next=p.next,p.next=s),t.interleaved=s;return}}catch{}finally{}n=Fx(e,t,s,r),n!==null&&(s=rn(),ar(n,e,r,s),s2(n,t,r))}}function r2(e){var t=e.alternate;return e===lt||t!==null&&t===lt}function i2(e,t){ua=Rc=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function s2(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Rh(e,n)}}var Dc={readContext:Zn,useCallback:Qt,useContext:Qt,useEffect:Qt,useImperativeHandle:Qt,useInsertionEffect:Qt,useLayoutEffect:Qt,useMemo:Qt,useReducer:Qt,useRef:Qt,useState:Qt,useDebugValue:Qt,useDeferredValue:Qt,useTransition:Qt,useMutableSource:Qt,useSyncExternalStore:Qt,useId:Qt,unstable_isNewReconciler:!1},rE={readContext:Zn,useCallback:function(e,t){return Ar().memoizedState=[e,t===void 0?null:t],e},useContext:Zn,useEffect:J1,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,rc(4194308,4,qx.bind(null,t,e),n)},useLayoutEffect:function(e,t){return rc(4194308,4,e,t)},useInsertionEffect:function(e,t){return rc(4,2,e,t)},useMemo:function(e,t){var n=Ar();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=Ar();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=tE.bind(null,lt,e),[r.memoizedState,e]},useRef:function(e){var t=Ar();return e={current:e},t.memoizedState=e},useState:$1,useDebugValue:t0,useDeferredValue:function(e){return Ar().memoizedState=e},useTransition:function(){var e=$1(!1),t=e[0];return e=eE.bind(null,e[1]),Ar().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=lt,s=Ar();if(st){if(n===void 0)throw Error(J(407));n=n()}else{if(n=t(),kt===null)throw Error(J(349));us&30||Wx(r,t,n)}s.memoizedState=n;var a={value:n,getSnapshot:t};return s.queue=a,J1(Yx.bind(null,r,a,e),[e]),r.flags|=2048,La(9,Vx.bind(null,r,a,n,t),void 0,null),n},useId:function(){var e=Ar(),t=kt.identifierPrefix;if(st){var n=Fr,r=Br;n=(r&~(1<<32-or(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=Da++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=J3++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},iE={readContext:Zn,useCallback:Jx,useContext:Zn,useEffect:e0,useImperativeHandle:$x,useInsertionEffect:Zx,useLayoutEffect:Kx,useMemo:e2,useReducer:Tf,useRef:Qx,useState:function(){return Tf(ka)},useDebugValue:t0,useDeferredValue:function(e){var t=Kn();return t2(t,_t.memoizedState,e)},useTransition:function(){var e=Tf(ka)[0],t=Kn().memoizedState;return[e,t]},useMutableSource:zx,useSyncExternalStore:Hx,useId:n2,unstable_isNewReconciler:!1},sE={readContext:Zn,useCallback:Jx,useContext:Zn,useEffect:e0,useImperativeHandle:$x,useInsertionEffect:Zx,useLayoutEffect:Kx,useMemo:e2,useReducer:Nf,useRef:Qx,useState:function(){return Nf(ka)},useDebugValue:t0,useDeferredValue:function(e){var t=Kn();return _t===null?t.memoizedState=e:t2(t,_t.memoizedState,e)},useTransition:function(){var e=Nf(ka)[0],t=Kn().memoizedState;return[e,t]},useMutableSource:zx,useSyncExternalStore:Hx,useId:n2,unstable_isNewReconciler:!1};function tr(e,t){if(e&&e.defaultProps){t=ct({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function Md(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:ct({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var mu={isMounted:function(e){return(e=e._reactInternals)?ws(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=rn(),s=Si(e),a=Ur(r,s);a.payload=t,n!=null&&(a.callback=n),t=Ei(e,a,s),t!==null&&(ar(t,e,s,r),tc(t,e,s))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=rn(),s=Si(e),a=Ur(r,s);a.tag=1,a.payload=t,n!=null&&(a.callback=n),t=Ei(e,a,s),t!==null&&(ar(t,e,s,r),tc(t,e,s))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=rn(),r=Si(e),s=Ur(n,r);s.tag=2,t!=null&&(s.callback=t),t=Ei(e,s,r),t!==null&&(ar(t,e,r,n),tc(t,e,r))}};function eg(e,t,n,r,s,a,c){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,a,c):t.prototype&&t.prototype.isPureReactComponent?!Ia(n,r)||!Ia(s,a):!0}function o2(e,t,n){var r=!1,s=Ti,a=t.contextType;return typeof a=="object"&&a!==null?a=Zn(a):(s=wn(t)?ls:Jt.current,r=t.contextTypes,a=(r=r!=null)?ro(e,s):Ti),t=new t(n,a),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=mu,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=s,e.__reactInternalMemoizedMaskedChildContext=a),t}function tg(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&mu.enqueueReplaceState(t,t.state,null)}function Od(e,t,n,r){var s=e.stateNode;s.props=n,s.state=e.memoizedState,s.refs={},Gh(e);var a=t.contextType;typeof a=="object"&&a!==null?s.context=Zn(a):(a=wn(t)?ls:Jt.current,s.context=ro(e,a)),s.state=e.memoizedState,a=t.getDerivedStateFromProps,typeof a=="function"&&(Md(e,t,a,n),s.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(t=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),t!==s.state&&mu.enqueueReplaceState(s,s.state,null),Mc(e,n,s,r),s.state=e.memoizedState),typeof s.componentDidMount=="function"&&(e.flags|=4194308)}function ao(e,t){try{var n="",r=t;do n+=DC(r),r=r.return;while(r);var s=n}catch(a){s=`
Error generating stack: `+a.message+`
`+a.stack}return{value:e,source:t,stack:s,digest:null}}function Mf(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function Rd(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var oE=typeof WeakMap=="function"?WeakMap:Map;function a2(e,t,n){n=Ur(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Lc||(Lc=!0,Hd=r),Rd(e,t)},n}function l2(e,t,n){n=Ur(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var s=t.value;n.payload=function(){return r(s)},n.callback=function(){Rd(e,t)}}var a=e.stateNode;return a!==null&&typeof a.componentDidCatch=="function"&&(n.callback=function(){Rd(e,t),typeof r!="function"&&(Ai===null?Ai=new Set([this]):Ai.add(this));var c=t.stack;this.componentDidCatch(t.value,{componentStack:c!==null?c:""})}),n}function ng(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new oE;var s=new Set;r.set(t,s)}else s=r.get(t),s===void 0&&(s=new Set,r.set(t,s));s.has(n)||(s.add(n),e=CE.bind(null,e,t,n),t.then(e,e))}function rg(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function ig(e,t,n,r,s){return e.mode&1?(e.flags|=65536,e.lanes=s,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=Ur(-1,1),t.tag=2,Ei(n,t,1))),n.lanes|=1),e)}var aE=Kr.ReactCurrentOwner,mn=!1;function nn(e,t,n,r){t.child=e===null?Bx(t,null,n,r):so(t,e.child,n,r)}function sg(e,t,n,r,s){n=n.render;var a=t.ref;return Js(t,s),r=$h(e,t,n,r,a,s),n=Jh(),e!==null&&!mn?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,Xr(e,t,s)):(st&&n&&Uh(t),t.flags|=1,nn(e,t,r,s),t.child)}function og(e,t,n,r,s){if(e===null){var a=n.type;return typeof a=="function"&&!c0(a)&&a.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=a,c2(e,t,a,r,s)):(e=ac(n.type,null,r,t,t.mode,s),e.ref=t.ref,e.return=t,t.child=e)}if(a=e.child,!(e.lanes&s)){var c=a.memoizedProps;if(n=n.compare,n=n!==null?n:Ia,n(c,r)&&e.ref===t.ref)return Xr(e,t,s)}return t.flags|=1,e=bi(a,r),e.ref=t.ref,e.return=t,t.child=e}function c2(e,t,n,r,s){if(e!==null){var a=e.memoizedProps;if(Ia(a,r)&&e.ref===t.ref)if(mn=!1,t.pendingProps=r=a,(e.lanes&s)!==0)e.flags&131072&&(mn=!0);else return t.lanes=e.lanes,Xr(e,t,s)}return Dd(e,t,n,r,s)}function u2(e,t,n){var r=t.pendingProps,s=r.children,a=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},$e(Xs,In),In|=n;else{if(!(n&1073741824))return e=a!==null?a.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,$e(Xs,In),In|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=a!==null?a.baseLanes:n,$e(Xs,In),In|=r}else a!==null?(r=a.baseLanes|n,t.memoizedState=null):r=n,$e(Xs,In),In|=r;return nn(e,t,s,n),t.child}function f2(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Dd(e,t,n,r,s){var a=wn(n)?ls:Jt.current;return a=ro(t,a),Js(t,s),n=$h(e,t,n,r,a,s),r=Jh(),e!==null&&!mn?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,Xr(e,t,s)):(st&&r&&Uh(t),t.flags|=1,nn(e,t,n,s),t.child)}function ag(e,t,n,r,s){if(wn(n)){var a=!0;vc(t)}else a=!1;if(Js(t,s),t.stateNode===null)ic(e,t),o2(t,n,r),Od(t,n,r,s),r=!0;else if(e===null){var c=t.stateNode,h=t.memoizedProps;c.props=h;var p=c.context,g=n.contextType;typeof g=="object"&&g!==null?g=Zn(g):(g=wn(n)?ls:Jt.current,g=ro(t,g));var y=n.getDerivedStateFromProps,C=typeof y=="function"||typeof c.getSnapshotBeforeUpdate=="function";C||typeof c.UNSAFE_componentWillReceiveProps!="function"&&typeof c.componentWillReceiveProps!="function"||(h!==r||p!==g)&&tg(t,c,r,g),li=!1;var A=t.memoizedState;c.state=A,Mc(t,r,c,s),p=t.memoizedState,h!==r||A!==p||yn.current||li?(typeof y=="function"&&(Md(t,n,y,r),p=t.memoizedState),(h=li||eg(t,n,h,r,A,p,g))?(C||typeof c.UNSAFE_componentWillMount!="function"&&typeof c.componentWillMount!="function"||(typeof c.componentWillMount=="function"&&c.componentWillMount(),typeof c.UNSAFE_componentWillMount=="function"&&c.UNSAFE_componentWillMount()),typeof c.componentDidMount=="function"&&(t.flags|=4194308)):(typeof c.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=p),c.props=r,c.state=p,c.context=g,r=h):(typeof c.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{c=t.stateNode,jx(e,t),h=t.memoizedProps,g=t.type===t.elementType?h:tr(t.type,h),c.props=g,C=t.pendingProps,A=c.context,p=n.contextType,typeof p=="object"&&p!==null?p=Zn(p):(p=wn(n)?ls:Jt.current,p=ro(t,p));var v=n.getDerivedStateFromProps;(y=typeof v=="function"||typeof c.getSnapshotBeforeUpdate=="function")||typeof c.UNSAFE_componentWillReceiveProps!="function"&&typeof c.componentWillReceiveProps!="function"||(h!==C||A!==p)&&tg(t,c,r,p),li=!1,A=t.memoizedState,c.state=A,Mc(t,r,c,s);var T=t.memoizedState;h!==C||A!==T||yn.current||li?(typeof v=="function"&&(Md(t,n,v,r),T=t.memoizedState),(g=li||eg(t,n,g,r,A,T,p)||!1)?(y||typeof c.UNSAFE_componentWillUpdate!="function"&&typeof c.componentWillUpdate!="function"||(typeof c.componentWillUpdate=="function"&&c.componentWillUpdate(r,T,p),typeof c.UNSAFE_componentWillUpdate=="function"&&c.UNSAFE_componentWillUpdate(r,T,p)),typeof c.componentDidUpdate=="function"&&(t.flags|=4),typeof c.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof c.componentDidUpdate!="function"||h===e.memoizedProps&&A===e.memoizedState||(t.flags|=4),typeof c.getSnapshotBeforeUpdate!="function"||h===e.memoizedProps&&A===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=T),c.props=r,c.state=T,c.context=p,r=g):(typeof c.componentDidUpdate!="function"||h===e.memoizedProps&&A===e.memoizedState||(t.flags|=4),typeof c.getSnapshotBeforeUpdate!="function"||h===e.memoizedProps&&A===e.memoizedState||(t.flags|=1024),r=!1)}return kd(e,t,n,r,a,s)}function kd(e,t,n,r,s,a){f2(e,t);var c=(t.flags&128)!==0;if(!r&&!c)return s&&X1(t,n,!1),Xr(e,t,a);r=t.stateNode,aE.current=t;var h=c&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&c?(t.child=so(t,e.child,null,a),t.child=so(t,null,h,a)):nn(e,t,h,a),t.memoizedState=r.state,s&&X1(t,n,!0),t.child}function d2(e){var t=e.stateNode;t.pendingContext?Y1(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Y1(e,t.context,!1),Qh(e,t.containerInfo)}function lg(e,t,n,r,s){return io(),Hh(s),t.flags|=256,nn(e,t,n,r),t.child}var Ld={dehydrated:null,treeContext:null,retryLane:0};function Pd(e){return{baseLanes:e,cachePool:null,transitions:null}}function h2(e,t,n){var r=t.pendingProps,s=at.current,a=!1,c=(t.flags&128)!==0,h;if((h=c)||(h=e!==null&&e.memoizedState===null?!1:(s&2)!==0),h?(a=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(s|=1),$e(at,s&1),e===null)return Td(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(c=r.children,e=r.fallback,a?(r=t.mode,a=t.child,c={mode:"hidden",children:c},!(r&1)&&a!==null?(a.childLanes=0,a.pendingProps=c):a=wu(c,r,0,null),e=ss(e,r,n,null),a.return=t,e.return=t,a.sibling=e,t.child=a,t.child.memoizedState=Pd(n),t.memoizedState=Ld,e):n0(t,c));if(s=e.memoizedState,s!==null&&(h=s.dehydrated,h!==null))return lE(e,t,c,r,h,s,n);if(a){a=r.fallback,c=t.mode,s=e.child,h=s.sibling;var p={mode:"hidden",children:r.children};return!(c&1)&&t.child!==s?(r=t.child,r.childLanes=0,r.pendingProps=p,t.deletions=null):(r=bi(s,p),r.subtreeFlags=s.subtreeFlags&14680064),h!==null?a=bi(h,a):(a=ss(a,c,n,null),a.flags|=2),a.return=t,r.return=t,r.sibling=a,t.child=r,r=a,a=t.child,c=e.child.memoizedState,c=c===null?Pd(n):{baseLanes:c.baseLanes|n,cachePool:null,transitions:c.transitions},a.memoizedState=c,a.childLanes=e.childLanes&~n,t.memoizedState=Ld,r}return a=e.child,e=a.sibling,r=bi(a,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function n0(e,t){return t=wu({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Ol(e,t,n,r){return r!==null&&Hh(r),so(t,e.child,null,n),e=n0(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function lE(e,t,n,r,s,a,c){if(n)return t.flags&256?(t.flags&=-257,r=Mf(Error(J(422))),Ol(e,t,c,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(a=r.fallback,s=t.mode,r=wu({mode:"visible",children:r.children},s,0,null),a=ss(a,s,c,null),a.flags|=2,r.return=t,a.return=t,r.sibling=a,t.child=r,t.mode&1&&so(t,e.child,null,c),t.child.memoizedState=Pd(c),t.memoizedState=Ld,a);if(!(t.mode&1))return Ol(e,t,c,null);if(s.data==="$!"){if(r=s.nextSibling&&s.nextSibling.dataset,r)var h=r.dgst;return r=h,a=Error(J(419)),r=Mf(a,r,void 0),Ol(e,t,c,r)}if(h=(c&e.childLanes)!==0,mn||h){if(r=kt,r!==null){switch(c&-c){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(r.suspendedLanes|c)?0:s,s!==0&&s!==a.retryLane&&(a.retryLane=s,Yr(e,s),ar(r,e,s,-1))}return l0(),r=Mf(Error(J(421))),Ol(e,t,c,r)}return s.data==="$?"?(t.flags|=128,t.child=e.child,t=EE.bind(null,e),s._reactRetry=t,null):(e=a.treeContext,Nn=Ci(s.nextSibling),On=t,st=!0,ir=null,e!==null&&(Wn[Vn++]=Br,Wn[Vn++]=Fr,Wn[Vn++]=cs,Br=e.id,Fr=e.overflow,cs=t),t=n0(t,r.children),t.flags|=4096,t)}function cg(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),Nd(e.return,t,n)}function Of(e,t,n,r,s){var a=e.memoizedState;a===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=r,a.tail=n,a.tailMode=s)}function g2(e,t,n){var r=t.pendingProps,s=r.revealOrder,a=r.tail;if(nn(e,t,r.children,n),r=at.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&cg(e,n,t);else if(e.tag===19)cg(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if($e(at,r),!(t.mode&1))t.memoizedState=null;else switch(s){case"forwards":for(n=t.child,s=null;n!==null;)e=n.alternate,e!==null&&Oc(e)===null&&(s=n),n=n.sibling;n=s,n===null?(s=t.child,t.child=null):(s=n.sibling,n.sibling=null),Of(t,!1,s,n,a);break;case"backwards":for(n=null,s=t.child,t.child=null;s!==null;){if(e=s.alternate,e!==null&&Oc(e)===null){t.child=s;break}e=s.sibling,s.sibling=n,n=s,s=e}Of(t,!0,n,null,a);break;case"together":Of(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function ic(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Xr(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),fs|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(J(153));if(t.child!==null){for(e=t.child,n=bi(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=bi(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function cE(e,t,n){switch(t.tag){case 3:d2(t),io();break;case 5:Ux(t);break;case 1:wn(t.type)&&vc(t);break;case 4:Qh(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,s=t.memoizedProps.value;$e(Tc,r._currentValue),r._currentValue=s;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?($e(at,at.current&1),t.flags|=128,null):n&t.child.childLanes?h2(e,t,n):($e(at,at.current&1),e=Xr(e,t,n),e!==null?e.sibling:null);$e(at,at.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return g2(e,t,n);t.flags|=128}if(s=t.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),$e(at,at.current),r)break;return null;case 22:case 23:return t.lanes=0,u2(e,t,n)}return Xr(e,t,n)}var p2,Bd,m2,x2;p2=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Bd=function(){};m2=function(e,t,n,r){var s=e.memoizedProps;if(s!==r){e=t.stateNode,es(Ir.current);var a=null;switch(n){case"input":s=sd(e,s),r=sd(e,r),a=[];break;case"select":s=ct({},s,{value:void 0}),r=ct({},r,{value:void 0}),a=[];break;case"textarea":s=ld(e,s),r=ld(e,r),a=[];break;default:typeof s.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=Sc)}ud(n,r);var c;n=null;for(g in s)if(!r.hasOwnProperty(g)&&s.hasOwnProperty(g)&&s[g]!=null)if(g==="style"){var h=s[g];for(c in h)h.hasOwnProperty(c)&&(n||(n={}),n[c]="")}else g!=="dangerouslySetInnerHTML"&&g!=="children"&&g!=="suppressContentEditableWarning"&&g!=="suppressHydrationWarning"&&g!=="autoFocus"&&(Ca.hasOwnProperty(g)?a||(a=[]):(a=a||[]).push(g,null));for(g in r){var p=r[g];if(h=s!=null?s[g]:void 0,r.hasOwnProperty(g)&&p!==h&&(p!=null||h!=null))if(g==="style")if(h){for(c in h)!h.hasOwnProperty(c)||p&&p.hasOwnProperty(c)||(n||(n={}),n[c]="");for(c in p)p.hasOwnProperty(c)&&h[c]!==p[c]&&(n||(n={}),n[c]=p[c])}else n||(a||(a=[]),a.push(g,n)),n=p;else g==="dangerouslySetInnerHTML"?(p=p?p.__html:void 0,h=h?h.__html:void 0,p!=null&&h!==p&&(a=a||[]).push(g,p)):g==="children"?typeof p!="string"&&typeof p!="number"||(a=a||[]).push(g,""+p):g!=="suppressContentEditableWarning"&&g!=="suppressHydrationWarning"&&(Ca.hasOwnProperty(g)?(p!=null&&g==="onScroll"&&et("scroll",e),a||h===p||(a=[])):(a=a||[]).push(g,p))}n&&(a=a||[]).push("style",n);var g=a;(t.updateQueue=g)&&(t.flags|=4)}};x2=function(e,t,n,r){n!==r&&(t.flags|=4)};function jo(e,t){if(!st)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Zt(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var s=e.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags&14680064,r|=s.flags&14680064,s.return=e,s=s.sibling;else for(s=e.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=e,s=s.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function uE(e,t,n){var r=t.pendingProps;switch(zh(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Zt(t),null;case 1:return wn(t.type)&&bc(),Zt(t),null;case 3:return r=t.stateNode,oo(),rt(yn),rt(Jt),Kh(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(Nl(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,ir!==null&&(Yd(ir),ir=null))),Bd(e,t),Zt(t),null;case 5:Zh(t);var s=es(Ra.current);if(n=t.type,e!==null&&t.stateNode!=null)m2(e,t,n,r,s),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(J(166));return Zt(t),null}if(e=es(Ir.current),Nl(t)){r=t.stateNode,n=t.type;var a=t.memoizedProps;switch(r[vr]=t,r[Ma]=a,e=(t.mode&1)!==0,n){case"dialog":et("cancel",r),et("close",r);break;case"iframe":case"object":case"embed":et("load",r);break;case"video":case"audio":for(s=0;s<qo.length;s++)et(qo[s],r);break;case"source":et("error",r);break;case"img":case"image":case"link":et("error",r),et("load",r);break;case"details":et("toggle",r);break;case"input":y1(r,a),et("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!a.multiple},et("invalid",r);break;case"textarea":C1(r,a),et("invalid",r)}ud(n,a),s=null;for(var c in a)if(a.hasOwnProperty(c)){var h=a[c];c==="children"?typeof h=="string"?r.textContent!==h&&(a.suppressHydrationWarning!==!0&&Tl(r.textContent,h,e),s=["children",h]):typeof h=="number"&&r.textContent!==""+h&&(a.suppressHydrationWarning!==!0&&Tl(r.textContent,h,e),s=["children",""+h]):Ca.hasOwnProperty(c)&&h!=null&&c==="onScroll"&&et("scroll",r)}switch(n){case"input":Cl(r),w1(r,a,!0);break;case"textarea":Cl(r),E1(r);break;case"select":case"option":break;default:typeof a.onClick=="function"&&(r.onclick=Sc)}r=s,t.updateQueue=r,r!==null&&(t.flags|=4)}else{c=s.nodeType===9?s:s.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=Ym(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=c.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=c.createElement(n,{is:r.is}):(e=c.createElement(n),n==="select"&&(c=e,r.multiple?c.multiple=!0:r.size&&(c.size=r.size))):e=c.createElementNS(e,n),e[vr]=t,e[Ma]=r,p2(e,t,!1,!1),t.stateNode=e;e:{switch(c=fd(n,r),n){case"dialog":et("cancel",e),et("close",e),s=r;break;case"iframe":case"object":case"embed":et("load",e),s=r;break;case"video":case"audio":for(s=0;s<qo.length;s++)et(qo[s],e);s=r;break;case"source":et("error",e),s=r;break;case"img":case"image":case"link":et("error",e),et("load",e),s=r;break;case"details":et("toggle",e),s=r;break;case"input":y1(e,r),s=sd(e,r),et("invalid",e);break;case"option":s=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},s=ct({},r,{value:void 0}),et("invalid",e);break;case"textarea":C1(e,r),s=ld(e,r),et("invalid",e);break;default:s=r}ud(n,s),h=s;for(a in h)if(h.hasOwnProperty(a)){var p=h[a];a==="style"?Qm(e,p):a==="dangerouslySetInnerHTML"?(p=p?p.__html:void 0,p!=null&&Xm(e,p)):a==="children"?typeof p=="string"?(n!=="textarea"||p!=="")&&Ea(e,p):typeof p=="number"&&Ea(e,""+p):a!=="suppressContentEditableWarning"&&a!=="suppressHydrationWarning"&&a!=="autoFocus"&&(Ca.hasOwnProperty(a)?p!=null&&a==="onScroll"&&et("scroll",e):p!=null&&_h(e,a,p,c))}switch(n){case"input":Cl(e),w1(e,r,!1);break;case"textarea":Cl(e),E1(e);break;case"option":r.value!=null&&e.setAttribute("value",""+Ii(r.value));break;case"select":e.multiple=!!r.multiple,a=r.value,a!=null?Zs(e,!!r.multiple,a,!1):r.defaultValue!=null&&Zs(e,!!r.multiple,r.defaultValue,!0);break;default:typeof s.onClick=="function"&&(e.onclick=Sc)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Zt(t),null;case 6:if(e&&t.stateNode!=null)x2(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(J(166));if(n=es(Ra.current),es(Ir.current),Nl(t)){if(r=t.stateNode,n=t.memoizedProps,r[vr]=t,(a=r.nodeValue!==n)&&(e=On,e!==null))switch(e.tag){case 3:Tl(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Tl(r.nodeValue,n,(e.mode&1)!==0)}a&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[vr]=t,t.stateNode=r}return Zt(t),null;case 13:if(rt(at),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(st&&Nn!==null&&t.mode&1&&!(t.flags&128))Lx(),io(),t.flags|=98560,a=!1;else if(a=Nl(t),r!==null&&r.dehydrated!==null){if(e===null){if(!a)throw Error(J(318));if(a=t.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(J(317));a[vr]=t}else io(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Zt(t),a=!1}else ir!==null&&(Yd(ir),ir=null),a=!0;if(!a)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||at.current&1?It===0&&(It=3):l0())),t.updateQueue!==null&&(t.flags|=4),Zt(t),null);case 4:return oo(),Bd(e,t),e===null&&Ta(t.stateNode.containerInfo),Zt(t),null;case 10:return Yh(t.type._context),Zt(t),null;case 17:return wn(t.type)&&bc(),Zt(t),null;case 19:if(rt(at),a=t.memoizedState,a===null)return Zt(t),null;if(r=(t.flags&128)!==0,c=a.rendering,c===null)if(r)jo(a,!1);else{if(It!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(c=Oc(e),c!==null){for(t.flags|=128,jo(a,!1),r=c.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)a=n,e=r,a.flags&=14680066,c=a.alternate,c===null?(a.childLanes=0,a.lanes=e,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=c.childLanes,a.lanes=c.lanes,a.child=c.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=c.memoizedProps,a.memoizedState=c.memoizedState,a.updateQueue=c.updateQueue,a.type=c.type,e=c.dependencies,a.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return $e(at,at.current&1|2),t.child}e=e.sibling}a.tail!==null&&xt()>lo&&(t.flags|=128,r=!0,jo(a,!1),t.lanes=4194304)}else{if(!r)if(e=Oc(c),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),jo(a,!0),a.tail===null&&a.tailMode==="hidden"&&!c.alternate&&!st)return Zt(t),null}else 2*xt()-a.renderingStartTime>lo&&n!==1073741824&&(t.flags|=128,r=!0,jo(a,!1),t.lanes=4194304);a.isBackwards?(c.sibling=t.child,t.child=c):(n=a.last,n!==null?n.sibling=c:t.child=c,a.last=c)}return a.tail!==null?(t=a.tail,a.rendering=t,a.tail=t.sibling,a.renderingStartTime=xt(),t.sibling=null,n=at.current,$e(at,r?n&1|2:n&1),t):(Zt(t),null);case 22:case 23:return a0(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?In&1073741824&&(Zt(t),t.subtreeFlags&6&&(t.flags|=8192)):Zt(t),null;case 24:return null;case 25:return null}throw Error(J(156,t.tag))}function fE(e,t){switch(zh(t),t.tag){case 1:return wn(t.type)&&bc(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return oo(),rt(yn),rt(Jt),Kh(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return Zh(t),null;case 13:if(rt(at),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(J(340));io()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return rt(at),null;case 4:return oo(),null;case 10:return Yh(t.type._context),null;case 22:case 23:return a0(),null;case 24:return null;default:return null}}var Rl=!1,Kt=!1,dE=typeof WeakSet=="function"?WeakSet:Set,fe=null;function Ys(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){gt(e,t,r)}else n.current=null}function Fd(e,t,n){try{n()}catch(r){gt(e,t,r)}}var ug=!1;function hE(e,t){if(Ed=Cc,e=Ax(),jh(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var s=r.anchorOffset,a=r.focusNode;r=r.focusOffset;try{n.nodeType,a.nodeType}catch{n=null;break e}var c=0,h=-1,p=-1,g=0,y=0,C=e,A=null;t:for(;;){for(var v;C!==n||s!==0&&C.nodeType!==3||(h=c+s),C!==a||r!==0&&C.nodeType!==3||(p=c+r),C.nodeType===3&&(c+=C.nodeValue.length),(v=C.firstChild)!==null;)A=C,C=v;for(;;){if(C===e)break t;if(A===n&&++g===s&&(h=c),A===a&&++y===r&&(p=c),(v=C.nextSibling)!==null)break;C=A,A=C.parentNode}C=v}n=h===-1||p===-1?null:{start:h,end:p}}else n=null}n=n||{start:0,end:0}}else n=null;for(Ad={focusedElem:e,selectionRange:n},Cc=!1,fe=t;fe!==null;)if(t=fe,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,fe=e;else for(;fe!==null;){t=fe;try{var T=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(T!==null){var R=T.memoizedProps,D=T.memoizedState,I=t.stateNode,_=I.getSnapshotBeforeUpdate(t.elementType===t.type?R:tr(t.type,R),D);I.__reactInternalSnapshotBeforeUpdate=_}break;case 3:var O=t.stateNode.containerInfo;O.nodeType===1?O.textContent="":O.nodeType===9&&O.documentElement&&O.removeChild(O.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(J(163))}}catch(P){gt(t,t.return,P)}if(e=t.sibling,e!==null){e.return=t.return,fe=e;break}fe=t.return}return T=ug,ug=!1,T}function fa(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&e)===e){var a=s.destroy;s.destroy=void 0,a!==void 0&&Fd(t,n,a)}s=s.next}while(s!==r)}}function xu(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function jd(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function y2(e){var t=e.alternate;t!==null&&(e.alternate=null,y2(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[vr],delete t[Ma],delete t[vd],delete t[Z3],delete t[K3])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function w2(e){return e.tag===5||e.tag===3||e.tag===4}function fg(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||w2(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Ud(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=Sc));else if(r!==4&&(e=e.child,e!==null))for(Ud(e,t,n),e=e.sibling;e!==null;)Ud(e,t,n),e=e.sibling}function zd(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(zd(e,t,n),e=e.sibling;e!==null;)zd(e,t,n),e=e.sibling}var zt=null,nr=!1;function si(e,t,n){for(n=n.child;n!==null;)C2(e,t,n),n=n.sibling}function C2(e,t,n){if(_r&&typeof _r.onCommitFiberUnmount=="function")try{_r.onCommitFiberUnmount(cu,n)}catch{}switch(n.tag){case 5:Kt||Ys(n,t);case 6:var r=zt,s=nr;zt=null,si(e,t,n),zt=r,nr=s,zt!==null&&(nr?(e=zt,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):zt.removeChild(n.stateNode));break;case 18:zt!==null&&(nr?(e=zt,n=n.stateNode,e.nodeType===8?bf(e.parentNode,n):e.nodeType===1&&bf(e,n),va(e)):bf(zt,n.stateNode));break;case 4:r=zt,s=nr,zt=n.stateNode.containerInfo,nr=!0,si(e,t,n),zt=r,nr=s;break;case 0:case 11:case 14:case 15:if(!Kt&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){s=r=r.next;do{var a=s,c=a.destroy;a=a.tag,c!==void 0&&(a&2||a&4)&&Fd(n,t,c),s=s.next}while(s!==r)}si(e,t,n);break;case 1:if(!Kt&&(Ys(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(h){gt(n,t,h)}si(e,t,n);break;case 21:si(e,t,n);break;case 22:n.mode&1?(Kt=(r=Kt)||n.memoizedState!==null,si(e,t,n),Kt=r):si(e,t,n);break;default:si(e,t,n)}}function dg(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new dE),t.forEach(function(r){var s=AE.bind(null,e,r);n.has(r)||(n.add(r),r.then(s,s))})}}function er(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var s=n[r];try{var a=e,c=t,h=c;e:for(;h!==null;){switch(h.tag){case 5:zt=h.stateNode,nr=!1;break e;case 3:zt=h.stateNode.containerInfo,nr=!0;break e;case 4:zt=h.stateNode.containerInfo,nr=!0;break e}h=h.return}if(zt===null)throw Error(J(160));C2(a,c,s),zt=null,nr=!1;var p=s.alternate;p!==null&&(p.return=null),s.return=null}catch(g){gt(s,t,g)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)E2(t,e),t=t.sibling}function E2(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(er(t,e),yr(e),r&4){try{fa(3,e,e.return),xu(3,e)}catch(R){gt(e,e.return,R)}try{fa(5,e,e.return)}catch(R){gt(e,e.return,R)}}break;case 1:er(t,e),yr(e),r&512&&n!==null&&Ys(n,n.return);break;case 5:if(er(t,e),yr(e),r&512&&n!==null&&Ys(n,n.return),e.flags&32){var s=e.stateNode;try{Ea(s,"")}catch(R){gt(e,e.return,R)}}if(r&4&&(s=e.stateNode,s!=null)){var a=e.memoizedProps,c=n!==null?n.memoizedProps:a,h=e.type,p=e.updateQueue;if(e.updateQueue=null,p!==null)try{h==="input"&&a.type==="radio"&&a.name!=null&&Wm(s,a),fd(h,c);var g=fd(h,a);for(c=0;c<p.length;c+=2){var y=p[c],C=p[c+1];y==="style"?Qm(s,C):y==="dangerouslySetInnerHTML"?Xm(s,C):y==="children"?Ea(s,C):_h(s,y,C,g)}switch(h){case"input":od(s,a);break;case"textarea":Vm(s,a);break;case"select":var A=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!a.multiple;var v=a.value;v!=null?Zs(s,!!a.multiple,v,!1):A!==!!a.multiple&&(a.defaultValue!=null?Zs(s,!!a.multiple,a.defaultValue,!0):Zs(s,!!a.multiple,a.multiple?[]:"",!1))}s[Ma]=a}catch(R){gt(e,e.return,R)}}break;case 6:if(er(t,e),yr(e),r&4){if(e.stateNode===null)throw Error(J(162));s=e.stateNode,a=e.memoizedProps;try{s.nodeValue=a}catch(R){gt(e,e.return,R)}}break;case 3:if(er(t,e),yr(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{va(t.containerInfo)}catch(R){gt(e,e.return,R)}break;case 4:er(t,e),yr(e);break;case 13:er(t,e),yr(e),s=e.child,s.flags&8192&&(a=s.memoizedState!==null,s.stateNode.isHidden=a,!a||s.alternate!==null&&s.alternate.memoizedState!==null||(s0=xt())),r&4&&dg(e);break;case 22:if(y=n!==null&&n.memoizedState!==null,e.mode&1?(Kt=(g=Kt)||y,er(t,e),Kt=g):er(t,e),yr(e),r&8192){if(g=e.memoizedState!==null,(e.stateNode.isHidden=g)&&!y&&e.mode&1)for(fe=e,y=e.child;y!==null;){for(C=fe=y;fe!==null;){switch(A=fe,v=A.child,A.tag){case 0:case 11:case 14:case 15:fa(4,A,A.return);break;case 1:Ys(A,A.return);var T=A.stateNode;if(typeof T.componentWillUnmount=="function"){r=A,n=A.return;try{t=r,T.props=t.memoizedProps,T.state=t.memoizedState,T.componentWillUnmount()}catch(R){gt(r,n,R)}}break;case 5:Ys(A,A.return);break;case 22:if(A.memoizedState!==null){gg(C);continue}}v!==null?(v.return=A,fe=v):gg(C)}y=y.sibling}e:for(y=null,C=e;;){if(C.tag===5){if(y===null){y=C;try{s=C.stateNode,g?(a=s.style,typeof a.setProperty=="function"?a.setProperty("display","none","important"):a.display="none"):(h=C.stateNode,p=C.memoizedProps.style,c=p!=null&&p.hasOwnProperty("display")?p.display:null,h.style.display=Gm("display",c))}catch(R){gt(e,e.return,R)}}}else if(C.tag===6){if(y===null)try{C.stateNode.nodeValue=g?"":C.memoizedProps}catch(R){gt(e,e.return,R)}}else if((C.tag!==22&&C.tag!==23||C.memoizedState===null||C===e)&&C.child!==null){C.child.return=C,C=C.child;continue}if(C===e)break e;for(;C.sibling===null;){if(C.return===null||C.return===e)break e;y===C&&(y=null),C=C.return}y===C&&(y=null),C.sibling.return=C.return,C=C.sibling}}break;case 19:er(t,e),yr(e),r&4&&dg(e);break;case 21:break;default:er(t,e),yr(e)}}function yr(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(w2(n)){var r=n;break e}n=n.return}throw Error(J(160))}switch(r.tag){case 5:var s=r.stateNode;r.flags&32&&(Ea(s,""),r.flags&=-33);var a=fg(e);zd(e,a,s);break;case 3:case 4:var c=r.stateNode.containerInfo,h=fg(e);Ud(e,h,c);break;default:throw Error(J(161))}}catch(p){gt(e,e.return,p)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function gE(e,t,n){fe=e,A2(e)}function A2(e,t,n){for(var r=(e.mode&1)!==0;fe!==null;){var s=fe,a=s.child;if(s.tag===22&&r){var c=s.memoizedState!==null||Rl;if(!c){var h=s.alternate,p=h!==null&&h.memoizedState!==null||Kt;h=Rl;var g=Kt;if(Rl=c,(Kt=p)&&!g)for(fe=s;fe!==null;)c=fe,p=c.child,c.tag===22&&c.memoizedState!==null?pg(s):p!==null?(p.return=c,fe=p):pg(s);for(;a!==null;)fe=a,A2(a),a=a.sibling;fe=s,Rl=h,Kt=g}hg(e)}else s.subtreeFlags&8772&&a!==null?(a.return=s,fe=a):hg(e)}}function hg(e){for(;fe!==null;){var t=fe;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Kt||xu(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!Kt)if(n===null)r.componentDidMount();else{var s=t.elementType===t.type?n.memoizedProps:tr(t.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var a=t.updateQueue;a!==null&&q1(t,a,r);break;case 3:var c=t.updateQueue;if(c!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}q1(t,c,n)}break;case 5:var h=t.stateNode;if(n===null&&t.flags&4){n=h;var p=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":p.autoFocus&&n.focus();break;case"img":p.src&&(n.src=p.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var g=t.alternate;if(g!==null){var y=g.memoizedState;if(y!==null){var C=y.dehydrated;C!==null&&va(C)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(J(163))}Kt||t.flags&512&&jd(t)}catch(A){gt(t,t.return,A)}}if(t===e){fe=null;break}if(n=t.sibling,n!==null){n.return=t.return,fe=n;break}fe=t.return}}function gg(e){for(;fe!==null;){var t=fe;if(t===e){fe=null;break}var n=t.sibling;if(n!==null){n.return=t.return,fe=n;break}fe=t.return}}function pg(e){for(;fe!==null;){var t=fe;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{xu(4,t)}catch(p){gt(t,n,p)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var s=t.return;try{r.componentDidMount()}catch(p){gt(t,s,p)}}var a=t.return;try{jd(t)}catch(p){gt(t,a,p)}break;case 5:var c=t.return;try{jd(t)}catch(p){gt(t,c,p)}}}catch(p){gt(t,t.return,p)}if(t===e){fe=null;break}var h=t.sibling;if(h!==null){h.return=t.return,fe=h;break}fe=t.return}}var pE=Math.ceil,kc=Kr.ReactCurrentDispatcher,r0=Kr.ReactCurrentOwner,Qn=Kr.ReactCurrentBatchConfig,De=0,kt=null,Et=null,Vt=0,In=0,Xs=Di(0),It=0,Pa=null,fs=0,yu=0,i0=0,da=null,gn=null,s0=0,lo=1/0,kr=null,Lc=!1,Hd=null,Ai=null,Dl=!1,hi=null,Pc=0,ha=0,Wd=null,sc=-1,oc=0;function rn(){return De&6?xt():sc!==-1?sc:sc=xt()}function Si(e){return e.mode&1?De&2&&Vt!==0?Vt&-Vt:$3.transition!==null?(oc===0&&(oc=ox()),oc):(e=Ve,e!==0||(e=window.event,e=e===void 0?16:hx(e.type)),e):1}function ar(e,t,n,r){if(50<ha)throw ha=0,Wd=null,Error(J(185));Ga(e,n,r),(!(De&2)||e!==kt)&&(e===kt&&(!(De&2)&&(yu|=n),It===4&&ui(e,Vt)),Cn(e,r),n===1&&De===0&&!(t.mode&1)&&(lo=xt()+500,gu&&ki()))}function Cn(e,t){var n=e.callbackNode;$C(e,t);var r=wc(e,e===kt?Vt:0);if(r===0)n!==null&&b1(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&b1(n),t===1)e.tag===0?q3(mg.bind(null,e)):Rx(mg.bind(null,e)),G3(function(){!(De&6)&&ki()}),n=null;else{switch(ax(r)){case 1:n=Oh;break;case 4:n=ix;break;case 16:n=yc;break;case 536870912:n=sx;break;default:n=yc}n=M2(n,S2.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function S2(e,t){if(sc=-1,oc=0,De&6)throw Error(J(327));var n=e.callbackNode;if(eo()&&e.callbackNode!==n)return null;var r=wc(e,e===kt?Vt:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=Bc(e,r);else{t=r;var s=De;De|=2;var a=v2();(kt!==e||Vt!==t)&&(kr=null,lo=xt()+500,is(e,t));do try{yE();break}catch(h){b2(e,h)}while(!0);Vh(),kc.current=a,De=s,Et!==null?t=0:(kt=null,Vt=0,t=It)}if(t!==0){if(t===2&&(s=md(e),s!==0&&(r=s,t=Vd(e,s))),t===1)throw n=Pa,is(e,0),ui(e,r),Cn(e,xt()),n;if(t===6)ui(e,r);else{if(s=e.current.alternate,!(r&30)&&!mE(s)&&(t=Bc(e,r),t===2&&(a=md(e),a!==0&&(r=a,t=Vd(e,a))),t===1))throw n=Pa,is(e,0),ui(e,r),Cn(e,xt()),n;switch(e.finishedWork=s,e.finishedLanes=r,t){case 0:case 1:throw Error(J(345));case 2:Zi(e,gn,kr);break;case 3:if(ui(e,r),(r&130023424)===r&&(t=s0+500-xt(),10<t)){if(wc(e,0)!==0)break;if(s=e.suspendedLanes,(s&r)!==r){rn(),e.pingedLanes|=e.suspendedLanes&s;break}e.timeoutHandle=bd(Zi.bind(null,e,gn,kr),t);break}Zi(e,gn,kr);break;case 4:if(ui(e,r),(r&4194240)===r)break;for(t=e.eventTimes,s=-1;0<r;){var c=31-or(r);a=1<<c,c=t[c],c>s&&(s=c),r&=~a}if(r=s,r=xt()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*pE(r/1960))-r,10<r){e.timeoutHandle=bd(Zi.bind(null,e,gn,kr),r);break}Zi(e,gn,kr);break;case 5:Zi(e,gn,kr);break;default:throw Error(J(329))}}}return Cn(e,xt()),e.callbackNode===n?S2.bind(null,e):null}function Vd(e,t){var n=da;return e.current.memoizedState.isDehydrated&&(is(e,t).flags|=256),e=Bc(e,t),e!==2&&(t=gn,gn=n,t!==null&&Yd(t)),e}function Yd(e){gn===null?gn=e:gn.push.apply(gn,e)}function mE(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var s=n[r],a=s.getSnapshot;s=s.value;try{if(!lr(a(),s))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function ui(e,t){for(t&=~i0,t&=~yu,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-or(t),r=1<<n;e[n]=-1,t&=~r}}function mg(e){if(De&6)throw Error(J(327));eo();var t=wc(e,0);if(!(t&1))return Cn(e,xt()),null;var n=Bc(e,t);if(e.tag!==0&&n===2){var r=md(e);r!==0&&(t=r,n=Vd(e,r))}if(n===1)throw n=Pa,is(e,0),ui(e,t),Cn(e,xt()),n;if(n===6)throw Error(J(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Zi(e,gn,kr),Cn(e,xt()),null}function o0(e,t){var n=De;De|=1;try{return e(t)}finally{De=n,De===0&&(lo=xt()+500,gu&&ki())}}function ds(e){hi!==null&&hi.tag===0&&!(De&6)&&eo();var t=De;De|=1;var n=Qn.transition,r=Ve;try{if(Qn.transition=null,Ve=1,e)return e()}finally{Ve=r,Qn.transition=n,De=t,!(De&6)&&ki()}}function a0(){In=Xs.current,rt(Xs)}function is(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,X3(n)),Et!==null)for(n=Et.return;n!==null;){var r=n;switch(zh(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&bc();break;case 3:oo(),rt(yn),rt(Jt),Kh();break;case 5:Zh(r);break;case 4:oo();break;case 13:rt(at);break;case 19:rt(at);break;case 10:Yh(r.type._context);break;case 22:case 23:a0()}n=n.return}if(kt=e,Et=e=bi(e.current,null),Vt=In=t,It=0,Pa=null,i0=yu=fs=0,gn=da=null,Ji!==null){for(t=0;t<Ji.length;t++)if(n=Ji[t],r=n.interleaved,r!==null){n.interleaved=null;var s=r.next,a=n.pending;if(a!==null){var c=a.next;a.next=s,r.next=c}n.pending=r}Ji=null}return e}function b2(e,t){do{var n=Et;try{if(Vh(),nc.current=Dc,Rc){for(var r=lt.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}Rc=!1}if(us=0,Dt=_t=lt=null,ua=!1,Da=0,r0.current=null,n===null||n.return===null){It=1,Pa=t,Et=null;break}e:{var a=e,c=n.return,h=n,p=t;if(t=Vt,h.flags|=32768,p!==null&&typeof p=="object"&&typeof p.then=="function"){var g=p,y=h,C=y.tag;if(!(y.mode&1)&&(C===0||C===11||C===15)){var A=y.alternate;A?(y.updateQueue=A.updateQueue,y.memoizedState=A.memoizedState,y.lanes=A.lanes):(y.updateQueue=null,y.memoizedState=null)}var v=rg(c);if(v!==null){v.flags&=-257,ig(v,c,h,a,t),v.mode&1&&ng(a,g,t),t=v,p=g;var T=t.updateQueue;if(T===null){var R=new Set;R.add(p),t.updateQueue=R}else T.add(p);break e}else{if(!(t&1)){ng(a,g,t),l0();break e}p=Error(J(426))}}else if(st&&h.mode&1){var D=rg(c);if(D!==null){!(D.flags&65536)&&(D.flags|=256),ig(D,c,h,a,t),Hh(ao(p,h));break e}}a=p=ao(p,h),It!==4&&(It=2),da===null?da=[a]:da.push(a),a=c;do{switch(a.tag){case 3:a.flags|=65536,t&=-t,a.lanes|=t;var I=a2(a,p,t);K1(a,I);break e;case 1:h=p;var _=a.type,O=a.stateNode;if(!(a.flags&128)&&(typeof _.getDerivedStateFromError=="function"||O!==null&&typeof O.componentDidCatch=="function"&&(Ai===null||!Ai.has(O)))){a.flags|=65536,t&=-t,a.lanes|=t;var P=l2(a,h,t);K1(a,P);break e}}a=a.return}while(a!==null)}I2(n)}catch(U){t=U,Et===n&&n!==null&&(Et=n=n.return);continue}break}while(!0)}function v2(){var e=kc.current;return kc.current=Dc,e===null?Dc:e}function l0(){(It===0||It===3||It===2)&&(It=4),kt===null||!(fs&268435455)&&!(yu&268435455)||ui(kt,Vt)}function Bc(e,t){var n=De;De|=2;var r=v2();(kt!==e||Vt!==t)&&(kr=null,is(e,t));do try{xE();break}catch(s){b2(e,s)}while(!0);if(Vh(),De=n,kc.current=r,Et!==null)throw Error(J(261));return kt=null,Vt=0,It}function xE(){for(;Et!==null;)_2(Et)}function yE(){for(;Et!==null&&!WC();)_2(Et)}function _2(e){var t=N2(e.alternate,e,In);e.memoizedProps=e.pendingProps,t===null?I2(e):Et=t,r0.current=null}function I2(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=fE(n,t),n!==null){n.flags&=32767,Et=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{It=6,Et=null;return}}else if(n=uE(n,t,In),n!==null){Et=n;return}if(t=t.sibling,t!==null){Et=t;return}Et=t=e}while(t!==null);It===0&&(It=5)}function Zi(e,t,n){var r=Ve,s=Qn.transition;try{Qn.transition=null,Ve=1,wE(e,t,n,r)}finally{Qn.transition=s,Ve=r}return null}function wE(e,t,n,r){do eo();while(hi!==null);if(De&6)throw Error(J(327));n=e.finishedWork;var s=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(J(177));e.callbackNode=null,e.callbackPriority=0;var a=n.lanes|n.childLanes;if(JC(e,a),e===kt&&(Et=kt=null,Vt=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Dl||(Dl=!0,M2(yc,function(){return eo(),null})),a=(n.flags&15990)!==0,n.subtreeFlags&15990||a){a=Qn.transition,Qn.transition=null;var c=Ve;Ve=1;var h=De;De|=4,r0.current=null,hE(e,n),E2(n,e),j3(Ad),Cc=!!Ed,Ad=Ed=null,e.current=n,gE(n),VC(),De=h,Ve=c,Qn.transition=a}else e.current=n;if(Dl&&(Dl=!1,hi=e,Pc=s),a=e.pendingLanes,a===0&&(Ai=null),GC(n.stateNode),Cn(e,xt()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)s=t[n],r(s.value,{componentStack:s.stack,digest:s.digest});if(Lc)throw Lc=!1,e=Hd,Hd=null,e;return Pc&1&&e.tag!==0&&eo(),a=e.pendingLanes,a&1?e===Wd?ha++:(ha=0,Wd=e):ha=0,ki(),null}function eo(){if(hi!==null){var e=ax(Pc),t=Qn.transition,n=Ve;try{if(Qn.transition=null,Ve=16>e?16:e,hi===null)var r=!1;else{if(e=hi,hi=null,Pc=0,De&6)throw Error(J(331));var s=De;for(De|=4,fe=e.current;fe!==null;){var a=fe,c=a.child;if(fe.flags&16){var h=a.deletions;if(h!==null){for(var p=0;p<h.length;p++){var g=h[p];for(fe=g;fe!==null;){var y=fe;switch(y.tag){case 0:case 11:case 15:fa(8,y,a)}var C=y.child;if(C!==null)C.return=y,fe=C;else for(;fe!==null;){y=fe;var A=y.sibling,v=y.return;if(y2(y),y===g){fe=null;break}if(A!==null){A.return=v,fe=A;break}fe=v}}}var T=a.alternate;if(T!==null){var R=T.child;if(R!==null){T.child=null;do{var D=R.sibling;R.sibling=null,R=D}while(R!==null)}}fe=a}}if(a.subtreeFlags&2064&&c!==null)c.return=a,fe=c;else e:for(;fe!==null;){if(a=fe,a.flags&2048)switch(a.tag){case 0:case 11:case 15:fa(9,a,a.return)}var I=a.sibling;if(I!==null){I.return=a.return,fe=I;break e}fe=a.return}}var _=e.current;for(fe=_;fe!==null;){c=fe;var O=c.child;if(c.subtreeFlags&2064&&O!==null)O.return=c,fe=O;else e:for(c=_;fe!==null;){if(h=fe,h.flags&2048)try{switch(h.tag){case 0:case 11:case 15:xu(9,h)}}catch(U){gt(h,h.return,U)}if(h===c){fe=null;break e}var P=h.sibling;if(P!==null){P.return=h.return,fe=P;break e}fe=h.return}}if(De=s,ki(),_r&&typeof _r.onPostCommitFiberRoot=="function")try{_r.onPostCommitFiberRoot(cu,e)}catch{}r=!0}return r}finally{Ve=n,Qn.transition=t}}return!1}function xg(e,t,n){t=ao(n,t),t=a2(e,t,1),e=Ei(e,t,1),t=rn(),e!==null&&(Ga(e,1,t),Cn(e,t))}function gt(e,t,n){if(e.tag===3)xg(e,e,n);else for(;t!==null;){if(t.tag===3){xg(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Ai===null||!Ai.has(r))){e=ao(n,e),e=l2(t,e,1),t=Ei(t,e,1),e=rn(),t!==null&&(Ga(t,1,e),Cn(t,e));break}}t=t.return}}function CE(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=rn(),e.pingedLanes|=e.suspendedLanes&n,kt===e&&(Vt&n)===n&&(It===4||It===3&&(Vt&130023424)===Vt&&500>xt()-s0?is(e,0):i0|=n),Cn(e,t)}function T2(e,t){t===0&&(e.mode&1?(t=Sl,Sl<<=1,!(Sl&130023424)&&(Sl=4194304)):t=1);var n=rn();e=Yr(e,t),e!==null&&(Ga(e,t,n),Cn(e,n))}function EE(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),T2(e,n)}function AE(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,s=e.memoizedState;s!==null&&(n=s.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(J(314))}r!==null&&r.delete(t),T2(e,n)}var N2;N2=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||yn.current)mn=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return mn=!1,cE(e,t,n);mn=!!(e.flags&131072)}else mn=!1,st&&t.flags&1048576&&Dx(t,Ic,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;ic(e,t),e=t.pendingProps;var s=ro(t,Jt.current);Js(t,n),s=$h(null,t,r,e,s,n);var a=Jh();return t.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,wn(r)?(a=!0,vc(t)):a=!1,t.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,Gh(t),s.updater=mu,t.stateNode=s,s._reactInternals=t,Od(t,r,e,n),t=kd(null,t,r,!0,a,n)):(t.tag=0,st&&a&&Uh(t),nn(null,t,s,n),t=t.child),t;case 16:r=t.elementType;e:{switch(ic(e,t),e=t.pendingProps,s=r._init,r=s(r._payload),t.type=r,s=t.tag=bE(r),e=tr(r,e),s){case 0:t=Dd(null,t,r,e,n);break e;case 1:t=ag(null,t,r,e,n);break e;case 11:t=sg(null,t,r,e,n);break e;case 14:t=og(null,t,r,tr(r.type,e),n);break e}throw Error(J(306,r,""))}return t;case 0:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:tr(r,s),Dd(e,t,r,s,n);case 1:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:tr(r,s),ag(e,t,r,s,n);case 3:e:{if(d2(t),e===null)throw Error(J(387));r=t.pendingProps,a=t.memoizedState,s=a.element,jx(e,t),Mc(t,r,null,n);var c=t.memoizedState;if(r=c.element,a.isDehydrated)if(a={element:r,isDehydrated:!1,cache:c.cache,pendingSuspenseBoundaries:c.pendingSuspenseBoundaries,transitions:c.transitions},t.updateQueue.baseState=a,t.memoizedState=a,t.flags&256){s=ao(Error(J(423)),t),t=lg(e,t,r,n,s);break e}else if(r!==s){s=ao(Error(J(424)),t),t=lg(e,t,r,n,s);break e}else for(Nn=Ci(t.stateNode.containerInfo.firstChild),On=t,st=!0,ir=null,n=Bx(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(io(),r===s){t=Xr(e,t,n);break e}nn(e,t,r,n)}t=t.child}return t;case 5:return Ux(t),e===null&&Td(t),r=t.type,s=t.pendingProps,a=e!==null?e.memoizedProps:null,c=s.children,Sd(r,s)?c=null:a!==null&&Sd(r,a)&&(t.flags|=32),f2(e,t),nn(e,t,c,n),t.child;case 6:return e===null&&Td(t),null;case 13:return h2(e,t,n);case 4:return Qh(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=so(t,null,r,n):nn(e,t,r,n),t.child;case 11:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:tr(r,s),sg(e,t,r,s,n);case 7:return nn(e,t,t.pendingProps,n),t.child;case 8:return nn(e,t,t.pendingProps.children,n),t.child;case 12:return nn(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,s=t.pendingProps,a=t.memoizedProps,c=s.value,$e(Tc,r._currentValue),r._currentValue=c,a!==null)if(lr(a.value,c)){if(a.children===s.children&&!yn.current){t=Xr(e,t,n);break e}}else for(a=t.child,a!==null&&(a.return=t);a!==null;){var h=a.dependencies;if(h!==null){c=a.child;for(var p=h.firstContext;p!==null;){if(p.context===r){if(a.tag===1){p=Ur(-1,n&-n),p.tag=2;var g=a.updateQueue;if(g!==null){g=g.shared;var y=g.pending;y===null?p.next=p:(p.next=y.next,y.next=p),g.pending=p}}a.lanes|=n,p=a.alternate,p!==null&&(p.lanes|=n),Nd(a.return,n,t),h.lanes|=n;break}p=p.next}}else if(a.tag===10)c=a.type===t.type?null:a.child;else if(a.tag===18){if(c=a.return,c===null)throw Error(J(341));c.lanes|=n,h=c.alternate,h!==null&&(h.lanes|=n),Nd(c,n,t),c=a.sibling}else c=a.child;if(c!==null)c.return=a;else for(c=a;c!==null;){if(c===t){c=null;break}if(a=c.sibling,a!==null){a.return=c.return,c=a;break}c=c.return}a=c}nn(e,t,s.children,n),t=t.child}return t;case 9:return s=t.type,r=t.pendingProps.children,Js(t,n),s=Zn(s),r=r(s),t.flags|=1,nn(e,t,r,n),t.child;case 14:return r=t.type,s=tr(r,t.pendingProps),s=tr(r.type,s),og(e,t,r,s,n);case 15:return c2(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:tr(r,s),ic(e,t),t.tag=1,wn(r)?(e=!0,vc(t)):e=!1,Js(t,n),o2(t,r,s),Od(t,r,s,n),kd(null,t,r,!0,e,n);case 19:return g2(e,t,n);case 22:return u2(e,t,n)}throw Error(J(156,t.tag))};function M2(e,t){return rx(e,t)}function SE(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Xn(e,t,n,r){return new SE(e,t,n,r)}function c0(e){return e=e.prototype,!(!e||!e.isReactComponent)}function bE(e){if(typeof e=="function")return c0(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Th)return 11;if(e===Nh)return 14}return 2}function bi(e,t){var n=e.alternate;return n===null?(n=Xn(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function ac(e,t,n,r,s,a){var c=2;if(r=e,typeof e=="function")c0(e)&&(c=1);else if(typeof e=="string")c=5;else e:switch(e){case Ps:return ss(n.children,s,a,t);case Ih:c=8,s|=8;break;case td:return e=Xn(12,n,t,s|2),e.elementType=td,e.lanes=a,e;case nd:return e=Xn(13,n,t,s),e.elementType=nd,e.lanes=a,e;case rd:return e=Xn(19,n,t,s),e.elementType=rd,e.lanes=a,e;case Um:return wu(n,s,a,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Fm:c=10;break e;case jm:c=9;break e;case Th:c=11;break e;case Nh:c=14;break e;case ai:c=16,r=null;break e}throw Error(J(130,e==null?e:typeof e,""))}return t=Xn(c,n,t,s),t.elementType=e,t.type=r,t.lanes=a,t}function ss(e,t,n,r){return e=Xn(7,e,r,t),e.lanes=n,e}function wu(e,t,n,r){return e=Xn(22,e,r,t),e.elementType=Um,e.lanes=n,e.stateNode={isHidden:!1},e}function Rf(e,t,n){return e=Xn(6,e,null,t),e.lanes=n,e}function Df(e,t,n){return t=Xn(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function vE(e,t,n,r,s){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=hf(0),this.expirationTimes=hf(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=hf(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function u0(e,t,n,r,s,a,c,h,p){return e=new vE(e,t,n,h,p),t===1?(t=1,a===!0&&(t|=8)):t=0,a=Xn(3,null,null,t),e.current=a,a.stateNode=e,a.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Gh(a),e}function _E(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Ls,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function O2(e){if(!e)return Ti;e=e._reactInternals;e:{if(ws(e)!==e||e.tag!==1)throw Error(J(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(wn(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(J(171))}if(e.tag===1){var n=e.type;if(wn(n))return Ox(e,n,t)}return t}function R2(e,t,n,r,s,a,c,h,p){return e=u0(n,r,!0,e,s,a,c,h,p),e.context=O2(null),n=e.current,r=rn(),s=Si(n),a=Ur(r,s),a.callback=t??null,Ei(n,a,s),e.current.lanes=s,Ga(e,s,r),Cn(e,r),e}function Cu(e,t,n,r){var s=t.current,a=rn(),c=Si(s);return n=O2(n),t.context===null?t.context=n:t.pendingContext=n,t=Ur(a,c),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=Ei(s,t,c),e!==null&&(ar(e,s,c,a),tc(e,s,c)),c}function Fc(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function yg(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function f0(e,t){yg(e,t),(e=e.alternate)&&yg(e,t)}function IE(){return null}var D2=typeof reportError=="function"?reportError:function(e){console.error(e)};function d0(e){this._internalRoot=e}Eu.prototype.render=d0.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(J(409));Cu(e,t,null,null)};Eu.prototype.unmount=d0.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;ds(function(){Cu(null,e,null,null)}),t[Vr]=null}};function Eu(e){this._internalRoot=e}Eu.prototype.unstable_scheduleHydration=function(e){if(e){var t=ux();e={blockedOn:null,target:e,priority:t};for(var n=0;n<ci.length&&t!==0&&t<ci[n].priority;n++);ci.splice(n,0,e),n===0&&dx(e)}};function h0(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Au(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function wg(){}function TE(e,t,n,r,s){if(s){if(typeof r=="function"){var a=r;r=function(){var g=Fc(c);a.call(g)}}var c=R2(t,r,e,0,null,!1,!1,"",wg);return e._reactRootContainer=c,e[Vr]=c.current,Ta(e.nodeType===8?e.parentNode:e),ds(),c}for(;s=e.lastChild;)e.removeChild(s);if(typeof r=="function"){var h=r;r=function(){var g=Fc(p);h.call(g)}}var p=u0(e,0,!1,null,null,!1,!1,"",wg);return e._reactRootContainer=p,e[Vr]=p.current,Ta(e.nodeType===8?e.parentNode:e),ds(function(){Cu(t,p,n,r)}),p}function Su(e,t,n,r,s){var a=n._reactRootContainer;if(a){var c=a;if(typeof s=="function"){var h=s;s=function(){var p=Fc(c);h.call(p)}}Cu(t,c,e,s)}else c=TE(n,t,e,s,r);return Fc(c)}lx=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=Ko(t.pendingLanes);n!==0&&(Rh(t,n|1),Cn(t,xt()),!(De&6)&&(lo=xt()+500,ki()))}break;case 13:ds(function(){var r=Yr(e,1);if(r!==null){var s=rn();ar(r,e,1,s)}}),f0(e,1)}};Dh=function(e){if(e.tag===13){var t=Yr(e,134217728);if(t!==null){var n=rn();ar(t,e,134217728,n)}f0(e,134217728)}};cx=function(e){if(e.tag===13){var t=Si(e),n=Yr(e,t);if(n!==null){var r=rn();ar(n,e,t,r)}f0(e,t)}};ux=function(){return Ve};fx=function(e,t){var n=Ve;try{return Ve=e,t()}finally{Ve=n}};hd=function(e,t,n){switch(t){case"input":if(od(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var s=hu(r);if(!s)throw Error(J(90));Hm(r),od(r,s)}}}break;case"textarea":Vm(e,n);break;case"select":t=n.value,t!=null&&Zs(e,!!n.multiple,t,!1)}};qm=o0;$m=ds;var NE={usingClientEntryPoint:!1,Events:[Za,Us,hu,Zm,Km,o0]},Uo={findFiberByHostInstance:$i,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},ME={bundleType:Uo.bundleType,version:Uo.version,rendererPackageName:Uo.rendererPackageName,rendererConfig:Uo.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Kr.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=tx(e),e===null?null:e.stateNode},findFiberByHostInstance:Uo.findFiberByHostInstance||IE,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var kl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!kl.isDisabled&&kl.supportsFiber)try{cu=kl.inject(ME),_r=kl}catch{}}Pn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=NE;Pn.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!h0(t))throw Error(J(200));return _E(e,t,null,n)};Pn.createRoot=function(e,t){if(!h0(e))throw Error(J(299));var n=!1,r="",s=D2;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(s=t.onRecoverableError)),t=u0(e,1,!1,null,null,n,!1,r,s),e[Vr]=t.current,Ta(e.nodeType===8?e.parentNode:e),new d0(t)};Pn.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(J(188)):(e=Object.keys(e).join(","),Error(J(268,e)));return e=tx(t),e=e===null?null:e.stateNode,e};Pn.flushSync=function(e){return ds(e)};Pn.hydrate=function(e,t,n){if(!Au(t))throw Error(J(200));return Su(null,e,t,!0,n)};Pn.hydrateRoot=function(e,t,n){if(!h0(e))throw Error(J(405));var r=n!=null&&n.hydratedSources||null,s=!1,a="",c=D2;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(a=n.identifierPrefix),n.onRecoverableError!==void 0&&(c=n.onRecoverableError)),t=R2(t,null,e,1,n??null,s,!1,a,c),e[Vr]=t.current,Ta(e),r)for(e=0;e<r.length;e++)n=r[e],s=n._getVersion,s=s(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,s]:t.mutableSourceEagerHydrationData.push(n,s);return new Eu(t)};Pn.render=function(e,t,n){if(!Au(t))throw Error(J(200));return Su(null,e,t,!1,n)};Pn.unmountComponentAtNode=function(e){if(!Au(e))throw Error(J(40));return e._reactRootContainer?(ds(function(){Su(null,null,e,!1,function(){e._reactRootContainer=null,e[Vr]=null})}),!0):!1};Pn.unstable_batchedUpdates=o0;Pn.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Au(n))throw Error(J(200));if(e==null||e._reactInternals===void 0)throw Error(J(38));return Su(e,t,n,!1,r)};Pn.version="18.3.1-next-f1338f8080-20240426";function k2(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(k2)}catch(e){console.error(e)}}k2(),km.exports=Pn;var OE=km.exports,L2,Cg=OE;L2=Cg.createRoot,Cg.hydrateRoot;/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ba(){return Ba=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ba.apply(this,arguments)}var gi;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(gi||(gi={}));const Eg="popstate";function RE(e){e===void 0&&(e={});function t(r,s){let{pathname:a,search:c,hash:h}=r.location;return Xd("",{pathname:a,search:c,hash:h},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function n(r,s){return typeof s=="string"?s:jc(s)}return kE(t,n,null,e)}function wt(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function P2(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function DE(){return Math.random().toString(36).substr(2,8)}function Ag(e,t){return{usr:e.state,key:e.key,idx:t}}function Xd(e,t,n,r){return n===void 0&&(n=null),Ba({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?po(t):t,{state:n,key:t&&t.key||r||DE()})}function jc(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&n!=="?"&&(t+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(t+=r.charAt(0)==="#"?r:"#"+r),t}function po(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function kE(e,t,n,r){r===void 0&&(r={});let{window:s=document.defaultView,v5Compat:a=!1}=r,c=s.history,h=gi.Pop,p=null,g=y();g==null&&(g=0,c.replaceState(Ba({},c.state,{idx:g}),""));function y(){return(c.state||{idx:null}).idx}function C(){h=gi.Pop;let D=y(),I=D==null?null:D-g;g=D,p&&p({action:h,location:R.location,delta:I})}function A(D,I){h=gi.Push;let _=Xd(R.location,D,I);g=y()+1;let O=Ag(_,g),P=R.createHref(_);try{c.pushState(O,"",P)}catch(U){if(U instanceof DOMException&&U.name==="DataCloneError")throw U;s.location.assign(P)}a&&p&&p({action:h,location:R.location,delta:1})}function v(D,I){h=gi.Replace;let _=Xd(R.location,D,I);g=y();let O=Ag(_,g),P=R.createHref(_);c.replaceState(O,"",P),a&&p&&p({action:h,location:R.location,delta:0})}function T(D){let I=s.location.origin!=="null"?s.location.origin:s.location.href,_=typeof D=="string"?D:jc(D);return _=_.replace(/ $/,"%20"),wt(I,"No window.location.(origin|href) available to create URL for href: "+_),new URL(_,I)}let R={get action(){return h},get location(){return e(s,c)},listen(D){if(p)throw new Error("A history only accepts one active listener");return s.addEventListener(Eg,C),p=D,()=>{s.removeEventListener(Eg,C),p=null}},createHref(D){return t(s,D)},createURL:T,encodeLocation(D){let I=T(D);return{pathname:I.pathname,search:I.search,hash:I.hash}},push:A,replace:v,go(D){return c.go(D)}};return R}var Sg;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(Sg||(Sg={}));function LE(e,t,n){return n===void 0&&(n="/"),PE(e,t,n,!1)}function PE(e,t,n,r){let s=typeof t=="string"?po(t):t,a=g0(s.pathname||"/",n);if(a==null)return null;let c=B2(e);BE(c);let h=null;for(let p=0;h==null&&p<c.length;++p){let g=QE(a);h=XE(c[p],g,r)}return h}function B2(e,t,n,r){t===void 0&&(t=[]),n===void 0&&(n=[]),r===void 0&&(r="");let s=(a,c,h)=>{let p={relativePath:h===void 0?a.path||"":h,caseSensitive:a.caseSensitive===!0,childrenIndex:c,route:a};p.relativePath.startsWith("/")&&(wt(p.relativePath.startsWith(r),'Absolute route path "'+p.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),p.relativePath=p.relativePath.slice(r.length));let g=vi([r,p.relativePath]),y=n.concat(p);a.children&&a.children.length>0&&(wt(a.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+g+'".')),B2(a.children,t,y,g)),!(a.path==null&&!a.index)&&t.push({path:g,score:VE(g,a.index),routesMeta:y})};return e.forEach((a,c)=>{var h;if(a.path===""||!((h=a.path)!=null&&h.includes("?")))s(a,c);else for(let p of F2(a.path))s(a,c,p)}),t}function F2(e){let t=e.split("/");if(t.length===0)return[];let[n,...r]=t,s=n.endsWith("?"),a=n.replace(/\?$/,"");if(r.length===0)return s?[a,""]:[a];let c=F2(r.join("/")),h=[];return h.push(...c.map(p=>p===""?a:[a,p].join("/"))),s&&h.push(...c),h.map(p=>e.startsWith("/")&&p===""?"/":p)}function BE(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:YE(t.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const FE=/^:[\w-]+$/,jE=3,UE=2,zE=1,HE=10,WE=-2,bg=e=>e==="*";function VE(e,t){let n=e.split("/"),r=n.length;return n.some(bg)&&(r+=WE),t&&(r+=UE),n.filter(s=>!bg(s)).reduce((s,a)=>s+(FE.test(a)?jE:a===""?zE:HE),r)}function YE(e,t){return e.length===t.length&&e.slice(0,-1).every((r,s)=>r===t[s])?e[e.length-1]-t[t.length-1]:0}function XE(e,t,n){let{routesMeta:r}=e,s={},a="/",c=[];for(let h=0;h<r.length;++h){let p=r[h],g=h===r.length-1,y=a==="/"?t:t.slice(a.length)||"/",C=vg({path:p.relativePath,caseSensitive:p.caseSensitive,end:g},y),A=p.route;if(!C&&g&&n&&!r[r.length-1].route.index&&(C=vg({path:p.relativePath,caseSensitive:p.caseSensitive,end:!1},y)),!C)return null;Object.assign(s,C.params),c.push({params:s,pathname:vi([a,C.pathname]),pathnameBase:$E(vi([a,C.pathnameBase])),route:A}),C.pathnameBase!=="/"&&(a=vi([a,C.pathnameBase]))}return c}function vg(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=GE(e.path,e.caseSensitive,e.end),s=t.match(n);if(!s)return null;let a=s[0],c=a.replace(/(.)\/+$/,"$1"),h=s.slice(1);return{params:r.reduce((g,y,C)=>{let{paramName:A,isOptional:v}=y;if(A==="*"){let R=h[C]||"";c=a.slice(0,a.length-R.length).replace(/(.)\/+$/,"$1")}const T=h[C];return v&&!T?g[A]=void 0:g[A]=(T||"").replace(/%2F/g,"/"),g},{}),pathname:a,pathnameBase:c,pattern:e}}function GE(e,t,n){t===void 0&&(t=!1),n===void 0&&(n=!0),P2(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let r=[],s="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(c,h,p)=>(r.push({paramName:h,isOptional:p!=null}),p?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(r.push({paramName:"*"}),s+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?s+="\\/*$":e!==""&&e!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,t?void 0:"i"),r]}function QE(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return P2(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function g0(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&r!=="/"?null:e.slice(n)||"/"}function ZE(e,t){t===void 0&&(t="/");let{pathname:n,search:r="",hash:s=""}=typeof e=="string"?po(e):e;return{pathname:n?n.startsWith("/")?n:KE(n,t):t,search:JE(r),hash:eA(s)}}function KE(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(s=>{s===".."?n.length>1&&n.pop():s!=="."&&n.push(s)}),n.length>1?n.join("/"):"/"}function kf(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function qE(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function p0(e,t){let n=qE(e);return t?n.map((r,s)=>s===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function m0(e,t,n,r){r===void 0&&(r=!1);let s;typeof e=="string"?s=po(e):(s=Ba({},e),wt(!s.pathname||!s.pathname.includes("?"),kf("?","pathname","search",s)),wt(!s.pathname||!s.pathname.includes("#"),kf("#","pathname","hash",s)),wt(!s.search||!s.search.includes("#"),kf("#","search","hash",s)));let a=e===""||s.pathname==="",c=a?"/":s.pathname,h;if(c==null)h=n;else{let C=t.length-1;if(!r&&c.startsWith("..")){let A=c.split("/");for(;A[0]==="..";)A.shift(),C-=1;s.pathname=A.join("/")}h=C>=0?t[C]:"/"}let p=ZE(s,h),g=c&&c!=="/"&&c.endsWith("/"),y=(a||c===".")&&n.endsWith("/");return!p.pathname.endsWith("/")&&(g||y)&&(p.pathname+="/"),p}const vi=e=>e.join("/").replace(/\/\/+/g,"/"),$E=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),JE=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,eA=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function tA(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const j2=["post","put","patch","delete"];new Set(j2);const nA=["get",...j2];new Set(nA);/**
 * React Router v6.30.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Fa(){return Fa=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Fa.apply(this,arguments)}const x0=V.createContext(null),rA=V.createContext(null),Li=V.createContext(null),bu=V.createContext(null),Pi=V.createContext({outlet:null,matches:[],isDataRoute:!1}),U2=V.createContext(null);function iA(e,t){let{relative:n}=t===void 0?{}:t;mo()||wt(!1);let{basename:r,navigator:s}=V.useContext(Li),{hash:a,pathname:c,search:h}=H2(e,{relative:n}),p=c;return r!=="/"&&(p=c==="/"?r:vi([r,c])),s.createHref({pathname:p,search:h,hash:a})}function mo(){return V.useContext(bu)!=null}function qa(){return mo()||wt(!1),V.useContext(bu).location}function z2(e){V.useContext(Li).static||V.useLayoutEffect(e)}function Cs(){let{isDataRoute:e}=V.useContext(Pi);return e?xA():sA()}function sA(){mo()||wt(!1);let e=V.useContext(x0),{basename:t,future:n,navigator:r}=V.useContext(Li),{matches:s}=V.useContext(Pi),{pathname:a}=qa(),c=JSON.stringify(p0(s,n.v7_relativeSplatPath)),h=V.useRef(!1);return z2(()=>{h.current=!0}),V.useCallback(function(g,y){if(y===void 0&&(y={}),!h.current)return;if(typeof g=="number"){r.go(g);return}let C=m0(g,JSON.parse(c),a,y.relative==="path");e==null&&t!=="/"&&(C.pathname=C.pathname==="/"?t:vi([t,C.pathname])),(y.replace?r.replace:r.push)(C,y.state,y)},[t,r,c,a,e])}function H2(e,t){let{relative:n}=t===void 0?{}:t,{future:r}=V.useContext(Li),{matches:s}=V.useContext(Pi),{pathname:a}=qa(),c=JSON.stringify(p0(s,r.v7_relativeSplatPath));return V.useMemo(()=>m0(e,JSON.parse(c),a,n==="path"),[e,c,a,n])}function oA(e,t){return aA(e,t)}function aA(e,t,n,r){mo()||wt(!1);let{navigator:s,static:a}=V.useContext(Li),{matches:c}=V.useContext(Pi),h=c[c.length-1],p=h?h.params:{};h&&h.pathname;let g=h?h.pathnameBase:"/";h&&h.route;let y=qa(),C;if(t){var A;let I=typeof t=="string"?po(t):t;g==="/"||(A=I.pathname)!=null&&A.startsWith(g)||wt(!1),C=I}else C=y;let v=C.pathname||"/",T=v;if(g!=="/"){let I=g.replace(/^\//,"").split("/");T="/"+v.replace(/^\//,"").split("/").slice(I.length).join("/")}let R=!a&&n&&n.matches&&n.matches.length>0?n.matches:LE(e,{pathname:T}),D=dA(R&&R.map(I=>Object.assign({},I,{params:Object.assign({},p,I.params),pathname:vi([g,s.encodeLocation?s.encodeLocation(I.pathname).pathname:I.pathname]),pathnameBase:I.pathnameBase==="/"?g:vi([g,s.encodeLocation?s.encodeLocation(I.pathnameBase).pathname:I.pathnameBase])})),c,n,r);return t&&D?V.createElement(bu.Provider,{value:{location:Fa({pathname:"/",search:"",hash:"",state:null,key:"default"},C),navigationType:gi.Pop}},D):D}function lA(){let e=mA(),t=tA(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return V.createElement(V.Fragment,null,V.createElement("h2",null,"Unexpected Application Error!"),V.createElement("h3",{style:{fontStyle:"italic"}},t),n?V.createElement("pre",{style:s},n):null,null)}const cA=V.createElement(lA,null);class uA extends V.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,n){return n.location!==t.location||n.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:n.error,location:n.location,revalidation:t.revalidation||n.revalidation}}componentDidCatch(t,n){console.error("React Router caught the following error during render",t,n)}render(){return this.state.error!==void 0?V.createElement(Pi.Provider,{value:this.props.routeContext},V.createElement(U2.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function fA(e){let{routeContext:t,match:n,children:r}=e,s=V.useContext(x0);return s&&s.static&&s.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=n.route.id),V.createElement(Pi.Provider,{value:t},r)}function dA(e,t,n,r){var s;if(t===void 0&&(t=[]),n===void 0&&(n=null),r===void 0&&(r=null),e==null){var a;if(!n)return null;if(n.errors)e=n.matches;else if((a=r)!=null&&a.v7_partialHydration&&t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let c=e,h=(s=n)==null?void 0:s.errors;if(h!=null){let y=c.findIndex(C=>C.route.id&&(h==null?void 0:h[C.route.id])!==void 0);y>=0||wt(!1),c=c.slice(0,Math.min(c.length,y+1))}let p=!1,g=-1;if(n&&r&&r.v7_partialHydration)for(let y=0;y<c.length;y++){let C=c[y];if((C.route.HydrateFallback||C.route.hydrateFallbackElement)&&(g=y),C.route.id){let{loaderData:A,errors:v}=n,T=C.route.loader&&A[C.route.id]===void 0&&(!v||v[C.route.id]===void 0);if(C.route.lazy||T){p=!0,g>=0?c=c.slice(0,g+1):c=[c[0]];break}}}return c.reduceRight((y,C,A)=>{let v,T=!1,R=null,D=null;n&&(v=h&&C.route.id?h[C.route.id]:void 0,R=C.route.errorElement||cA,p&&(g<0&&A===0?(T=!0,D=null):g===A&&(T=!0,D=C.route.hydrateFallbackElement||null)));let I=t.concat(c.slice(0,A+1)),_=()=>{let O;return v?O=R:T?O=D:C.route.Component?O=V.createElement(C.route.Component,null):C.route.element?O=C.route.element:O=y,V.createElement(fA,{match:C,routeContext:{outlet:y,matches:I,isDataRoute:n!=null},children:O})};return n&&(C.route.ErrorBoundary||C.route.errorElement||A===0)?V.createElement(uA,{location:n.location,revalidation:n.revalidation,component:R,error:v,children:_(),routeContext:{outlet:null,matches:I,isDataRoute:!0}}):_()},null)}var W2=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(W2||{}),Uc=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(Uc||{});function hA(e){let t=V.useContext(x0);return t||wt(!1),t}function gA(e){let t=V.useContext(rA);return t||wt(!1),t}function pA(e){let t=V.useContext(Pi);return t||wt(!1),t}function V2(e){let t=pA(),n=t.matches[t.matches.length-1];return n.route.id||wt(!1),n.route.id}function mA(){var e;let t=V.useContext(U2),n=gA(Uc.UseRouteError),r=V2(Uc.UseRouteError);return t!==void 0?t:(e=n.errors)==null?void 0:e[r]}function xA(){let{router:e}=hA(W2.UseNavigateStable),t=V2(Uc.UseNavigateStable),n=V.useRef(!1);return z2(()=>{n.current=!0}),V.useCallback(function(s,a){a===void 0&&(a={}),n.current&&(typeof s=="number"?e.navigate(s):e.navigate(s,Fa({fromRouteId:t},a)))},[e,t])}function yA(e,t){e==null||e.v7_startTransition,e==null||e.v7_relativeSplatPath}function wA(e){let{to:t,replace:n,state:r,relative:s}=e;mo()||wt(!1);let{future:a,static:c}=V.useContext(Li),{matches:h}=V.useContext(Pi),{pathname:p}=qa(),g=Cs(),y=m0(t,p0(h,a.v7_relativeSplatPath),p,s==="path"),C=JSON.stringify(y);return V.useEffect(()=>g(JSON.parse(C),{replace:n,state:r,relative:s}),[g,C,s,n,r]),null}function Or(e){wt(!1)}function CA(e){let{basename:t="/",children:n=null,location:r,navigationType:s=gi.Pop,navigator:a,static:c=!1,future:h}=e;mo()&&wt(!1);let p=t.replace(/^\/*/,"/"),g=V.useMemo(()=>({basename:p,navigator:a,static:c,future:Fa({v7_relativeSplatPath:!1},h)}),[p,h,a,c]);typeof r=="string"&&(r=po(r));let{pathname:y="/",search:C="",hash:A="",state:v=null,key:T="default"}=r,R=V.useMemo(()=>{let D=g0(y,p);return D==null?null:{location:{pathname:D,search:C,hash:A,state:v,key:T},navigationType:s}},[p,y,C,A,v,T,s]);return R==null?null:V.createElement(Li.Provider,{value:g},V.createElement(bu.Provider,{children:n,value:R}))}function EA(e){let{children:t,location:n}=e;return oA(Gd(t),n)}new Promise(()=>{});function Gd(e,t){t===void 0&&(t=[]);let n=[];return V.Children.forEach(e,(r,s)=>{if(!V.isValidElement(r))return;let a=[...t,s];if(r.type===V.Fragment){n.push.apply(n,Gd(r.props.children,a));return}r.type!==Or&&wt(!1),!r.props.index||!r.props.children||wt(!1);let c={id:r.props.id||a.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(c.children=Gd(r.props.children,a)),n.push(c)}),n}/**
 * React Router DOM v6.30.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Qd(){return Qd=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Qd.apply(this,arguments)}function AA(e,t){if(e==null)return{};var n={},r=Object.keys(e),s,a;for(a=0;a<r.length;a++)s=r[a],!(t.indexOf(s)>=0)&&(n[s]=e[s]);return n}function SA(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function bA(e,t){return e.button===0&&(!t||t==="_self")&&!SA(e)}const vA=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],_A="6";try{window.__reactRouterVersion=_A}catch{}const IA="startTransition",_g=CC[IA];function TA(e){let{basename:t,children:n,future:r,window:s}=e,a=V.useRef();a.current==null&&(a.current=RE({window:s,v5Compat:!0}));let c=a.current,[h,p]=V.useState({action:c.action,location:c.location}),{v7_startTransition:g}=r||{},y=V.useCallback(C=>{g&&_g?_g(()=>p(C)):p(C)},[p,g]);return V.useLayoutEffect(()=>c.listen(y),[c,y]),V.useEffect(()=>yA(r),[r]),V.createElement(CA,{basename:t,children:n,location:h.location,navigationType:h.action,navigator:c,future:r})}const NA=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",MA=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Mn=V.forwardRef(function(t,n){let{onClick:r,relative:s,reloadDocument:a,replace:c,state:h,target:p,to:g,preventScrollReset:y,viewTransition:C}=t,A=AA(t,vA),{basename:v}=V.useContext(Li),T,R=!1;if(typeof g=="string"&&MA.test(g)&&(T=g,NA))try{let O=new URL(window.location.href),P=g.startsWith("//")?new URL(O.protocol+g):new URL(g),U=g0(P.pathname,v);P.origin===O.origin&&U!=null?g=U+P.search+P.hash:R=!0}catch{}let D=iA(g,{relative:s}),I=OA(g,{replace:c,state:h,target:p,preventScrollReset:y,relative:s,viewTransition:C});function _(O){r&&r(O),O.defaultPrevented||I(O)}return V.createElement("a",Qd({},A,{href:T||D,onClick:R||a?r:_,ref:n,target:p}))});var Ig;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(Ig||(Ig={}));var Tg;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(Tg||(Tg={}));function OA(e,t){let{target:n,replace:r,state:s,preventScrollReset:a,relative:c,viewTransition:h}=t===void 0?{}:t,p=Cs(),g=qa(),y=H2(e,{relative:c});return V.useCallback(C=>{if(bA(C,n)){C.preventDefault();let A=r!==void 0?r:jc(g)===jc(y);p(e,{replace:A,state:s,preventScrollReset:a,relative:c,viewTransition:h})}},[g,p,y,r,s,n,e,a,c,h])}let RA={data:""},DA=e=>typeof window=="object"?((e?e.querySelector("#_goober"):window._goober)||Object.assign((e||document.head).appendChild(document.createElement("style")),{innerHTML:" ",id:"_goober"})).firstChild:e||RA,kA=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,LA=/\/\*[^]*?\*\/|  +/g,Ng=/\n+/g,fi=(e,t)=>{let n="",r="",s="";for(let a in e){let c=e[a];a[0]=="@"?a[1]=="i"?n=a+" "+c+";":r+=a[1]=="f"?fi(c,a):a+"{"+fi(c,a[1]=="k"?"":t)+"}":typeof c=="object"?r+=fi(c,t?t.replace(/([^,])+/g,h=>a.replace(/([^,]*:\S+\([^)]*\))|([^,])+/g,p=>/&/.test(p)?p.replace(/&/g,h):h?h+" "+p:p)):a):c!=null&&(a=/^--/.test(a)?a:a.replace(/[A-Z]/g,"-$&").toLowerCase(),s+=fi.p?fi.p(a,c):a+":"+c+";")}return n+(t&&s?t+"{"+s+"}":s)+r},Nr={},Y2=e=>{if(typeof e=="object"){let t="";for(let n in e)t+=n+Y2(e[n]);return t}return e},PA=(e,t,n,r,s)=>{let a=Y2(e),c=Nr[a]||(Nr[a]=(p=>{let g=0,y=11;for(;g<p.length;)y=101*y+p.charCodeAt(g++)>>>0;return"go"+y})(a));if(!Nr[c]){let p=a!==e?e:(g=>{let y,C,A=[{}];for(;y=kA.exec(g.replace(LA,""));)y[4]?A.shift():y[3]?(C=y[3].replace(Ng," ").trim(),A.unshift(A[0][C]=A[0][C]||{})):A[0][y[1]]=y[2].replace(Ng," ").trim();return A[0]})(e);Nr[c]=fi(s?{["@keyframes "+c]:p}:p,n?"":"."+c)}let h=n&&Nr.g?Nr.g:null;return n&&(Nr.g=Nr[c]),((p,g,y,C)=>{C?g.data=g.data.replace(C,p):g.data.indexOf(p)===-1&&(g.data=y?p+g.data:g.data+p)})(Nr[c],t,r,h),c},BA=(e,t,n)=>e.reduce((r,s,a)=>{let c=t[a];if(c&&c.call){let h=c(n),p=h&&h.props&&h.props.className||/^go/.test(h)&&h;c=p?"."+p:h&&typeof h=="object"?h.props?"":fi(h,""):h===!1?"":h}return r+s+(c??"")},"");function vu(e){let t=this||{},n=e.call?e(t.p):e;return PA(n.unshift?n.raw?BA(n,[].slice.call(arguments,1),t.p):n.reduce((r,s)=>Object.assign(r,s&&s.call?s(t.p):s),{}):n,DA(t.target),t.g,t.o,t.k)}let X2,Zd,Kd;vu.bind({g:1});let Gr=vu.bind({k:1});function FA(e,t,n,r){fi.p=t,X2=e,Zd=n,Kd=r}function Bi(e,t){let n=this||{};return function(){let r=arguments;function s(a,c){let h=Object.assign({},a),p=h.className||s.className;n.p=Object.assign({theme:Zd&&Zd()},h),n.o=/ *go\d+/.test(p),h.className=vu.apply(n,r)+(p?" "+p:"");let g=e;return e[0]&&(g=h.as||e,delete h.as),Kd&&g[0]&&Kd(h),X2(g,h)}return s}}var jA=e=>typeof e=="function",zc=(e,t)=>jA(e)?e(t):e,UA=(()=>{let e=0;return()=>(++e).toString()})(),G2=(()=>{let e;return()=>{if(e===void 0&&typeof window<"u"){let t=matchMedia("(prefers-reduced-motion: reduce)");e=!t||t.matches}return e}})(),zA=20,Q2=(e,t)=>{switch(t.type){case 0:return{...e,toasts:[t.toast,...e.toasts].slice(0,zA)};case 1:return{...e,toasts:e.toasts.map(a=>a.id===t.toast.id?{...a,...t.toast}:a)};case 2:let{toast:n}=t;return Q2(e,{type:e.toasts.find(a=>a.id===n.id)?1:0,toast:n});case 3:let{toastId:r}=t;return{...e,toasts:e.toasts.map(a=>a.id===r||r===void 0?{...a,dismissed:!0,visible:!1}:a)};case 4:return t.toastId===void 0?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(a=>a.id!==t.toastId)};case 5:return{...e,pausedAt:t.time};case 6:let s=t.time-(e.pausedAt||0);return{...e,pausedAt:void 0,toasts:e.toasts.map(a=>({...a,pauseDuration:a.pauseDuration+s}))}}},lc=[],ts={toasts:[],pausedAt:void 0},Es=e=>{ts=Q2(ts,e),lc.forEach(t=>{t(ts)})},HA={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},WA=(e={})=>{let[t,n]=V.useState(ts),r=V.useRef(ts);V.useEffect(()=>(r.current!==ts&&n(ts),lc.push(n),()=>{let a=lc.indexOf(n);a>-1&&lc.splice(a,1)}),[]);let s=t.toasts.map(a=>{var c,h,p;return{...e,...e[a.type],...a,removeDelay:a.removeDelay||((c=e[a.type])==null?void 0:c.removeDelay)||(e==null?void 0:e.removeDelay),duration:a.duration||((h=e[a.type])==null?void 0:h.duration)||(e==null?void 0:e.duration)||HA[a.type],style:{...e.style,...(p=e[a.type])==null?void 0:p.style,...a.style}}});return{...t,toasts:s}},VA=(e,t="blank",n)=>({createdAt:Date.now(),visible:!0,dismissed:!1,type:t,ariaProps:{role:"status","aria-live":"polite"},message:e,pauseDuration:0,...n,id:(n==null?void 0:n.id)||UA()}),$a=e=>(t,n)=>{let r=VA(t,e,n);return Es({type:2,toast:r}),r.id},Ht=(e,t)=>$a("blank")(e,t);Ht.error=$a("error");Ht.success=$a("success");Ht.loading=$a("loading");Ht.custom=$a("custom");Ht.dismiss=e=>{Es({type:3,toastId:e})};Ht.remove=e=>Es({type:4,toastId:e});Ht.promise=(e,t,n)=>{let r=Ht.loading(t.loading,{...n,...n==null?void 0:n.loading});return typeof e=="function"&&(e=e()),e.then(s=>{let a=t.success?zc(t.success,s):void 0;return a?Ht.success(a,{id:r,...n,...n==null?void 0:n.success}):Ht.dismiss(r),s}).catch(s=>{let a=t.error?zc(t.error,s):void 0;a?Ht.error(a,{id:r,...n,...n==null?void 0:n.error}):Ht.dismiss(r)}),e};var YA=(e,t)=>{Es({type:1,toast:{id:e,height:t}})},XA=()=>{Es({type:5,time:Date.now()})},ga=new Map,GA=1e3,QA=(e,t=GA)=>{if(ga.has(e))return;let n=setTimeout(()=>{ga.delete(e),Es({type:4,toastId:e})},t);ga.set(e,n)},ZA=e=>{let{toasts:t,pausedAt:n}=WA(e);V.useEffect(()=>{if(n)return;let a=Date.now(),c=t.map(h=>{if(h.duration===1/0)return;let p=(h.duration||0)+h.pauseDuration-(a-h.createdAt);if(p<0){h.visible&&Ht.dismiss(h.id);return}return setTimeout(()=>Ht.dismiss(h.id),p)});return()=>{c.forEach(h=>h&&clearTimeout(h))}},[t,n]);let r=V.useCallback(()=>{n&&Es({type:6,time:Date.now()})},[n]),s=V.useCallback((a,c)=>{let{reverseOrder:h=!1,gutter:p=8,defaultPosition:g}=c||{},y=t.filter(v=>(v.position||g)===(a.position||g)&&v.height),C=y.findIndex(v=>v.id===a.id),A=y.filter((v,T)=>T<C&&v.visible).length;return y.filter(v=>v.visible).slice(...h?[A+1]:[0,A]).reduce((v,T)=>v+(T.height||0)+p,0)},[t]);return V.useEffect(()=>{t.forEach(a=>{if(a.dismissed)QA(a.id,a.removeDelay);else{let c=ga.get(a.id);c&&(clearTimeout(c),ga.delete(a.id))}})},[t]),{toasts:t,handlers:{updateHeight:YA,startPause:XA,endPause:r,calculateOffset:s}}},KA=Gr`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
 transform: scale(1) rotate(45deg);
  opacity: 1;
}`,qA=Gr`
from {
  transform: scale(0);
  opacity: 0;
}
to {
  transform: scale(1);
  opacity: 1;
}`,$A=Gr`
from {
  transform: scale(0) rotate(90deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(90deg);
	opacity: 1;
}`,JA=Bi("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${e=>e.primary||"#ff4b4b"};
  position: relative;
  transform: rotate(45deg);

  animation: ${KA} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;

  &:after,
  &:before {
    content: '';
    animation: ${qA} 0.15s ease-out forwards;
    animation-delay: 150ms;
    position: absolute;
    border-radius: 3px;
    opacity: 0;
    background: ${e=>e.secondary||"#fff"};
    bottom: 9px;
    left: 4px;
    height: 2px;
    width: 12px;
  }

  &:before {
    animation: ${$A} 0.15s ease-out forwards;
    animation-delay: 180ms;
    transform: rotate(90deg);
  }
`,eS=Gr`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,tS=Bi("div")`
  width: 12px;
  height: 12px;
  box-sizing: border-box;
  border: 2px solid;
  border-radius: 100%;
  border-color: ${e=>e.secondary||"#e0e0e0"};
  border-right-color: ${e=>e.primary||"#616161"};
  animation: ${eS} 1s linear infinite;
`,nS=Gr`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(45deg);
	opacity: 1;
}`,rS=Gr`
0% {
	height: 0;
	width: 0;
	opacity: 0;
}
40% {
  height: 0;
	width: 6px;
	opacity: 1;
}
100% {
  opacity: 1;
  height: 10px;
}`,iS=Bi("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${e=>e.primary||"#61d345"};
  position: relative;
  transform: rotate(45deg);

  animation: ${nS} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;
  &:after {
    content: '';
    box-sizing: border-box;
    animation: ${rS} 0.2s ease-out forwards;
    opacity: 0;
    animation-delay: 200ms;
    position: absolute;
    border-right: 2px solid;
    border-bottom: 2px solid;
    border-color: ${e=>e.secondary||"#fff"};
    bottom: 6px;
    left: 6px;
    height: 10px;
    width: 6px;
  }
`,sS=Bi("div")`
  position: absolute;
`,oS=Bi("div")`
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  min-width: 20px;
  min-height: 20px;
`,aS=Gr`
from {
  transform: scale(0.6);
  opacity: 0.4;
}
to {
  transform: scale(1);
  opacity: 1;
}`,lS=Bi("div")`
  position: relative;
  transform: scale(0.6);
  opacity: 0.4;
  min-width: 20px;
  animation: ${aS} 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
`,cS=({toast:e})=>{let{icon:t,type:n,iconTheme:r}=e;return t!==void 0?typeof t=="string"?V.createElement(lS,null,t):t:n==="blank"?null:V.createElement(oS,null,V.createElement(tS,{...r}),n!=="loading"&&V.createElement(sS,null,n==="error"?V.createElement(JA,{...r}):V.createElement(iS,{...r})))},uS=e=>`
0% {transform: translate3d(0,${e*-200}%,0) scale(.6); opacity:.5;}
100% {transform: translate3d(0,0,0) scale(1); opacity:1;}
`,fS=e=>`
0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}
100% {transform: translate3d(0,${e*-150}%,-1px) scale(.6); opacity:0;}
`,dS="0%{opacity:0;} 100%{opacity:1;}",hS="0%{opacity:1;} 100%{opacity:0;}",gS=Bi("div")`
  display: flex;
  align-items: center;
  background: #fff;
  color: #363636;
  line-height: 1.3;
  will-change: transform;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);
  max-width: 350px;
  pointer-events: auto;
  padding: 8px 10px;
  border-radius: 8px;
`,pS=Bi("div")`
  display: flex;
  justify-content: center;
  margin: 4px 10px;
  color: inherit;
  flex: 1 1 auto;
  white-space: pre-line;
`,mS=(e,t)=>{let n=e.includes("top")?1:-1,[r,s]=G2()?[dS,hS]:[uS(n),fS(n)];return{animation:t?`${Gr(r)} 0.35s cubic-bezier(.21,1.02,.73,1) forwards`:`${Gr(s)} 0.4s forwards cubic-bezier(.06,.71,.55,1)`}},xS=V.memo(({toast:e,position:t,style:n,children:r})=>{let s=e.height?mS(e.position||t||"top-center",e.visible):{opacity:0},a=V.createElement(cS,{toast:e}),c=V.createElement(pS,{...e.ariaProps},zc(e.message,e));return V.createElement(gS,{className:e.className,style:{...s,...n,...e.style}},typeof r=="function"?r({icon:a,message:c}):V.createElement(V.Fragment,null,a,c))});FA(V.createElement);var yS=({id:e,className:t,style:n,onHeightUpdate:r,children:s})=>{let a=V.useCallback(c=>{if(c){let h=()=>{let p=c.getBoundingClientRect().height;r(e,p)};h(),new MutationObserver(h).observe(c,{subtree:!0,childList:!0,characterData:!0})}},[e,r]);return V.createElement("div",{ref:a,className:t,style:n},s)},wS=(e,t)=>{let n=e.includes("top"),r=n?{top:0}:{bottom:0},s=e.includes("center")?{justifyContent:"center"}:e.includes("right")?{justifyContent:"flex-end"}:{};return{left:0,right:0,display:"flex",position:"absolute",transition:G2()?void 0:"all 230ms cubic-bezier(.21,1.02,.73,1)",transform:`translateY(${t*(n?1:-1)}px)`,...r,...s}},CS=vu`
  z-index: 9999;
  > * {
    pointer-events: auto;
  }
`,Ll=16,ES=({reverseOrder:e,position:t="top-center",toastOptions:n,gutter:r,children:s,containerStyle:a,containerClassName:c})=>{let{toasts:h,handlers:p}=ZA(n);return V.createElement("div",{id:"_rht_toaster",style:{position:"fixed",zIndex:9999,top:Ll,left:Ll,right:Ll,bottom:Ll,pointerEvents:"none",...a},className:c,onMouseEnter:p.startPause,onMouseLeave:p.endPause},h.map(g=>{let y=g.position||t,C=p.calculateOffset(g,{reverseOrder:e,gutter:r,defaultPosition:t}),A=wS(y,C);return V.createElement(yS,{id:g.id,key:g.id,onHeightUpdate:p.updateHeight,className:g.visible?CS:"",style:A},g.type==="custom"?zc(g.message,g):s?s(g):V.createElement(xS,{toast:g,position:y}))}))},Gs=Ht,Z2={exports:{}},K2={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ja=V;function AS(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var SS=typeof Object.is=="function"?Object.is:AS,bS=Ja.useSyncExternalStore,vS=Ja.useRef,_S=Ja.useEffect,IS=Ja.useMemo,TS=Ja.useDebugValue;K2.useSyncExternalStoreWithSelector=function(e,t,n,r,s){var a=vS(null);if(a.current===null){var c={hasValue:!1,value:null};a.current=c}else c=a.current;a=IS(function(){function p(v){if(!g){if(g=!0,y=v,v=r(v),s!==void 0&&c.hasValue){var T=c.value;if(s(T,v))return C=T}return C=v}if(T=C,SS(y,v))return T;var R=r(v);return s!==void 0&&s(T,R)?(y=v,T):(y=v,C=R)}var g=!1,y,C,A=n===void 0?null:n;return[function(){return p(t())},A===null?void 0:function(){return p(A())}]},[t,n,r,s]);var h=bS(e,a[0],a[1]);return _S(function(){c.hasValue=!0,c.value=h},[h]),TS(h),h};Z2.exports=K2;var NS=Z2.exports;function MS(e){e()}function OS(){let e=null,t=null;return{clear(){e=null,t=null},notify(){MS(()=>{let n=e;for(;n;)n.callback(),n=n.next})},get(){const n=[];let r=e;for(;r;)n.push(r),r=r.next;return n},subscribe(n){let r=!0;const s=t={callback:n,next:null,prev:t};return s.prev?s.prev.next=s:e=s,function(){!r||e===null||(r=!1,s.next?s.next.prev=s.prev:t=s.prev,s.prev?s.prev.next=s.next:e=s.next)}}}}var Mg={notify(){},get:()=>[]};function RS(e,t){let n,r=Mg,s=0,a=!1;function c(R){y();const D=r.subscribe(R);let I=!1;return()=>{I||(I=!0,D(),C())}}function h(){r.notify()}function p(){T.onStateChange&&T.onStateChange()}function g(){return a}function y(){s++,n||(n=e.subscribe(p),r=OS())}function C(){s--,n&&s===0&&(n(),n=void 0,r.clear(),r=Mg)}function A(){a||(a=!0,y())}function v(){a&&(a=!1,C())}const T={addNestedSub:c,notifyNestedSubs:h,handleChangeWrapper:p,isSubscribed:g,trySubscribe:A,tryUnsubscribe:v,getListeners:()=>r};return T}var DS=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",kS=DS(),LS=()=>typeof navigator<"u"&&navigator.product==="ReactNative",PS=LS(),BS=()=>kS||PS?V.useLayoutEffect:V.useEffect,FS=BS(),Lf=Symbol.for("react-redux-context"),Pf=typeof globalThis<"u"?globalThis:{};function jS(){if(!V.createContext)return{};const e=Pf[Lf]??(Pf[Lf]=new Map);let t=e.get(V.createContext);return t||(t=V.createContext(null),e.set(V.createContext,t)),t}var Ni=jS();function US(e){const{children:t,context:n,serverState:r,store:s}=e,a=V.useMemo(()=>{const p=RS(s);return{store:s,subscription:p,getServerState:r?()=>r:void 0}},[s,r]),c=V.useMemo(()=>s.getState(),[s]);FS(()=>{const{subscription:p}=a;return p.onStateChange=p.notifyNestedSubs,p.trySubscribe(),c!==s.getState()&&p.notifyNestedSubs(),()=>{p.tryUnsubscribe(),p.onStateChange=void 0}},[a,c]);const h=n||Ni;return V.createElement(h.Provider,{value:a},t)}var zS=US;function y0(e=Ni){return function(){return V.useContext(e)}}var q2=y0();function $2(e=Ni){const t=e===Ni?q2:y0(e),n=()=>{const{store:r}=t();return r};return Object.assign(n,{withTypes:()=>n}),n}var HS=$2();function WS(e=Ni){const t=e===Ni?HS:$2(e),n=()=>t().dispatch;return Object.assign(n,{withTypes:()=>n}),n}var _u=WS(),VS=(e,t)=>e===t;function YS(e=Ni){const t=e===Ni?q2:y0(e),n=(r,s={})=>{const{equalityFn:a=VS}=typeof s=="function"?{equalityFn:s}:s,c=t(),{store:h,subscription:p,getServerState:g}=c;V.useRef(!0);const y=V.useCallback({[r.name](A){return r(A)}}[r.name],[r]),C=NS.useSyncExternalStoreWithSelector(p.addNestedSub,h.getState,g||h.getState,y,a);return V.useDebugValue(C),C};return Object.assign(n,{withTypes:()=>n}),n}var J2=YS();function Ut(e){return`Minified Redux error #${e}; visit https://redux.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var XS=typeof Symbol=="function"&&Symbol.observable||"@@observable",Og=XS,Bf=()=>Math.random().toString(36).substring(7).split("").join("."),GS={INIT:`@@redux/INIT${Bf()}`,REPLACE:`@@redux/REPLACE${Bf()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${Bf()}`},Hc=GS;function w0(e){if(typeof e!="object"||e===null)return!1;let t=e;for(;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t||Object.getPrototypeOf(e)===null}function ey(e,t,n){if(typeof e!="function")throw new Error(Ut(2));if(typeof t=="function"&&typeof n=="function"||typeof n=="function"&&typeof arguments[3]=="function")throw new Error(Ut(0));if(typeof t=="function"&&typeof n>"u"&&(n=t,t=void 0),typeof n<"u"){if(typeof n!="function")throw new Error(Ut(1));return n(ey)(e,t)}let r=e,s=t,a=new Map,c=a,h=0,p=!1;function g(){c===a&&(c=new Map,a.forEach((D,I)=>{c.set(I,D)}))}function y(){if(p)throw new Error(Ut(3));return s}function C(D){if(typeof D!="function")throw new Error(Ut(4));if(p)throw new Error(Ut(5));let I=!0;g();const _=h++;return c.set(_,D),function(){if(I){if(p)throw new Error(Ut(6));I=!1,g(),c.delete(_),a=null}}}function A(D){if(!w0(D))throw new Error(Ut(7));if(typeof D.type>"u")throw new Error(Ut(8));if(typeof D.type!="string")throw new Error(Ut(17));if(p)throw new Error(Ut(9));try{p=!0,s=r(s,D)}finally{p=!1}return(a=c).forEach(_=>{_()}),D}function v(D){if(typeof D!="function")throw new Error(Ut(10));r=D,A({type:Hc.REPLACE})}function T(){const D=C;return{subscribe(I){if(typeof I!="object"||I===null)throw new Error(Ut(11));function _(){const P=I;P.next&&P.next(y())}return _(),{unsubscribe:D(_)}},[Og](){return this}}}return A({type:Hc.INIT}),{dispatch:A,subscribe:C,getState:y,replaceReducer:v,[Og]:T}}function QS(e){Object.keys(e).forEach(t=>{const n=e[t];if(typeof n(void 0,{type:Hc.INIT})>"u")throw new Error(Ut(12));if(typeof n(void 0,{type:Hc.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(Ut(13))})}function ZS(e){const t=Object.keys(e),n={};for(let a=0;a<t.length;a++){const c=t[a];typeof e[c]=="function"&&(n[c]=e[c])}const r=Object.keys(n);let s;try{QS(n)}catch(a){s=a}return function(c={},h){if(s)throw s;let p=!1;const g={};for(let y=0;y<r.length;y++){const C=r[y],A=n[C],v=c[C],T=A(v,h);if(typeof T>"u")throw h&&h.type,new Error(Ut(14));g[C]=T,p=p||T!==v}return p=p||r.length!==Object.keys(c).length,p?g:c}}function Wc(...e){return e.length===0?t=>t:e.length===1?e[0]:e.reduce((t,n)=>(...r)=>t(n(...r)))}function KS(...e){return t=>(n,r)=>{const s=t(n,r);let a=()=>{throw new Error(Ut(15))};const c={getState:s.getState,dispatch:(p,...g)=>a(p,...g)},h=e.map(p=>p(c));return a=Wc(...h)(s.dispatch),{...s,dispatch:a}}}function qS(e){return w0(e)&&"type"in e&&typeof e.type=="string"}var ty=Symbol.for("immer-nothing"),Rg=Symbol.for("immer-draftable"),kn=Symbol.for("immer-state");function sr(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var co=Object.getPrototypeOf;function hs(e){return!!e&&!!e[kn]}function Qr(e){var t;return e?ny(e)||Array.isArray(e)||!!e[Rg]||!!((t=e.constructor)!=null&&t[Rg])||Tu(e)||Nu(e):!1}var $S=Object.prototype.constructor.toString();function ny(e){if(!e||typeof e!="object")return!1;const t=co(e);if(t===null)return!0;const n=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;return n===Object?!0:typeof n=="function"&&Function.toString.call(n)===$S}function Vc(e,t){Iu(e)===0?Reflect.ownKeys(e).forEach(n=>{t(n,e[n],e)}):e.forEach((n,r)=>t(r,n,e))}function Iu(e){const t=e[kn];return t?t.type_:Array.isArray(e)?1:Tu(e)?2:Nu(e)?3:0}function qd(e,t){return Iu(e)===2?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function ry(e,t,n){const r=Iu(e);r===2?e.set(t,n):r===3?e.add(n):e[t]=n}function JS(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}function Tu(e){return e instanceof Map}function Nu(e){return e instanceof Set}function Ki(e){return e.copy_||e.base_}function $d(e,t){if(Tu(e))return new Map(e);if(Nu(e))return new Set(e);if(Array.isArray(e))return Array.prototype.slice.call(e);const n=ny(e);if(t===!0||t==="class_only"&&!n){const r=Object.getOwnPropertyDescriptors(e);delete r[kn];let s=Reflect.ownKeys(r);for(let a=0;a<s.length;a++){const c=s[a],h=r[c];h.writable===!1&&(h.writable=!0,h.configurable=!0),(h.get||h.set)&&(r[c]={configurable:!0,writable:!0,enumerable:h.enumerable,value:e[c]})}return Object.create(co(e),r)}else{const r=co(e);if(r!==null&&n)return{...e};const s=Object.create(r);return Object.assign(s,e)}}function C0(e,t=!1){return Mu(e)||hs(e)||!Qr(e)||(Iu(e)>1&&(e.set=e.add=e.clear=e.delete=eb),Object.freeze(e),t&&Object.entries(e).forEach(([n,r])=>C0(r,!0))),e}function eb(){sr(2)}function Mu(e){return Object.isFrozen(e)}var tb={};function gs(e){const t=tb[e];return t||sr(0,e),t}var ja;function iy(){return ja}function nb(e,t){return{drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function Dg(e,t){t&&(gs("Patches"),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function Jd(e){eh(e),e.drafts_.forEach(rb),e.drafts_=null}function eh(e){e===ja&&(ja=e.parent_)}function kg(e){return ja=nb(ja,e)}function rb(e){const t=e[kn];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function Lg(e,t){t.unfinalizedDrafts_=t.drafts_.length;const n=t.drafts_[0];return e!==void 0&&e!==n?(n[kn].modified_&&(Jd(t),sr(4)),Qr(e)&&(e=Yc(t,e),t.parent_||Xc(t,e)),t.patches_&&gs("Patches").generateReplacementPatches_(n[kn].base_,e,t.patches_,t.inversePatches_)):e=Yc(t,n,[]),Jd(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==ty?e:void 0}function Yc(e,t,n){if(Mu(t))return t;const r=t[kn];if(!r)return Vc(t,(s,a)=>Pg(e,r,t,s,a,n)),t;if(r.scope_!==e)return t;if(!r.modified_)return Xc(e,r.base_,!0),r.base_;if(!r.finalized_){r.finalized_=!0,r.scope_.unfinalizedDrafts_--;const s=r.copy_;let a=s,c=!1;r.type_===3&&(a=new Set(s),s.clear(),c=!0),Vc(a,(h,p)=>Pg(e,r,s,h,p,n,c)),Xc(e,s,!1),n&&e.patches_&&gs("Patches").generatePatches_(r,n,e.patches_,e.inversePatches_)}return r.copy_}function Pg(e,t,n,r,s,a,c){if(hs(s)){const h=a&&t&&t.type_!==3&&!qd(t.assigned_,r)?a.concat(r):void 0,p=Yc(e,s,h);if(ry(n,r,p),hs(p))e.canAutoFreeze_=!1;else return}else c&&n.add(s);if(Qr(s)&&!Mu(s)){if(!e.immer_.autoFreeze_&&e.unfinalizedDrafts_<1)return;Yc(e,s),(!t||!t.scope_.parent_)&&typeof r!="symbol"&&Object.prototype.propertyIsEnumerable.call(n,r)&&Xc(e,s)}}function Xc(e,t,n=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&C0(t,n)}function ib(e,t){const n=Array.isArray(e),r={type_:n?1:0,scope_:t?t.scope_:iy(),modified_:!1,finalized_:!1,assigned_:{},parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1};let s=r,a=E0;n&&(s=[r],a=Ua);const{revoke:c,proxy:h}=Proxy.revocable(s,a);return r.draft_=h,r.revoke_=c,h}var E0={get(e,t){if(t===kn)return e;const n=Ki(e);if(!qd(n,t))return sb(e,n,t);const r=n[t];return e.finalized_||!Qr(r)?r:r===Ff(e.base_,t)?(jf(e),e.copy_[t]=nh(r,e)):r},has(e,t){return t in Ki(e)},ownKeys(e){return Reflect.ownKeys(Ki(e))},set(e,t,n){const r=sy(Ki(e),t);if(r!=null&&r.set)return r.set.call(e.draft_,n),!0;if(!e.modified_){const s=Ff(Ki(e),t),a=s==null?void 0:s[kn];if(a&&a.base_===n)return e.copy_[t]=n,e.assigned_[t]=!1,!0;if(JS(n,s)&&(n!==void 0||qd(e.base_,t)))return!0;jf(e),th(e)}return e.copy_[t]===n&&(n!==void 0||t in e.copy_)||Number.isNaN(n)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=n,e.assigned_[t]=!0),!0},deleteProperty(e,t){return Ff(e.base_,t)!==void 0||t in e.base_?(e.assigned_[t]=!1,jf(e),th(e)):delete e.assigned_[t],e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor(e,t){const n=Ki(e),r=Reflect.getOwnPropertyDescriptor(n,t);return r&&{writable:!0,configurable:e.type_!==1||t!=="length",enumerable:r.enumerable,value:n[t]}},defineProperty(){sr(11)},getPrototypeOf(e){return co(e.base_)},setPrototypeOf(){sr(12)}},Ua={};Vc(E0,(e,t)=>{Ua[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}});Ua.deleteProperty=function(e,t){return Ua.set.call(this,e,t,void 0)};Ua.set=function(e,t,n){return E0.set.call(this,e[0],t,n,e[0])};function Ff(e,t){const n=e[kn];return(n?Ki(n):e)[t]}function sb(e,t,n){var s;const r=sy(t,n);return r?"value"in r?r.value:(s=r.get)==null?void 0:s.call(e.draft_):void 0}function sy(e,t){if(!(t in e))return;let n=co(e);for(;n;){const r=Object.getOwnPropertyDescriptor(n,t);if(r)return r;n=co(n)}}function th(e){e.modified_||(e.modified_=!0,e.parent_&&th(e.parent_))}function jf(e){e.copy_||(e.copy_=$d(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var ob=class{constructor(e){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.produce=(t,n,r)=>{if(typeof t=="function"&&typeof n!="function"){const a=n;n=t;const c=this;return function(p=a,...g){return c.produce(p,y=>n.call(this,y,...g))}}typeof n!="function"&&sr(6),r!==void 0&&typeof r!="function"&&sr(7);let s;if(Qr(t)){const a=kg(this),c=nh(t,void 0);let h=!0;try{s=n(c),h=!1}finally{h?Jd(a):eh(a)}return Dg(a,r),Lg(s,a)}else if(!t||typeof t!="object"){if(s=n(t),s===void 0&&(s=t),s===ty&&(s=void 0),this.autoFreeze_&&C0(s,!0),r){const a=[],c=[];gs("Patches").generateReplacementPatches_(t,s,a,c),r(a,c)}return s}else sr(1,t)},this.produceWithPatches=(t,n)=>{if(typeof t=="function")return(c,...h)=>this.produceWithPatches(c,p=>t(p,...h));let r,s;return[this.produce(t,n,(c,h)=>{r=c,s=h}),r,s]},typeof(e==null?void 0:e.autoFreeze)=="boolean"&&this.setAutoFreeze(e.autoFreeze),typeof(e==null?void 0:e.useStrictShallowCopy)=="boolean"&&this.setUseStrictShallowCopy(e.useStrictShallowCopy)}createDraft(e){Qr(e)||sr(8),hs(e)&&(e=ab(e));const t=kg(this),n=nh(e,void 0);return n[kn].isManual_=!0,eh(t),n}finishDraft(e,t){const n=e&&e[kn];(!n||!n.isManual_)&&sr(9);const{scope_:r}=n;return Dg(r,t),Lg(void 0,r)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}applyPatches(e,t){let n;for(n=t.length-1;n>=0;n--){const s=t[n];if(s.path.length===0&&s.op==="replace"){e=s.value;break}}n>-1&&(t=t.slice(n+1));const r=gs("Patches").applyPatches_;return hs(e)?r(e,t):this.produce(e,s=>r(s,t))}};function nh(e,t){const n=Tu(e)?gs("MapSet").proxyMap_(e,t):Nu(e)?gs("MapSet").proxySet_(e,t):ib(e,t);return(t?t.scope_:iy()).drafts_.push(n),n}function ab(e){return hs(e)||sr(10,e),oy(e)}function oy(e){if(!Qr(e)||Mu(e))return e;const t=e[kn];let n;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,n=$d(e,t.scope_.immer_.useStrictShallowCopy_)}else n=$d(e,!0);return Vc(n,(r,s)=>{ry(n,r,oy(s))}),t&&(t.finalized_=!1),n}var Ln=new ob,ay=Ln.produce;Ln.produceWithPatches.bind(Ln);Ln.setAutoFreeze.bind(Ln);Ln.setUseStrictShallowCopy.bind(Ln);Ln.applyPatches.bind(Ln);Ln.createDraft.bind(Ln);Ln.finishDraft.bind(Ln);function ly(e){return({dispatch:n,getState:r})=>s=>a=>typeof a=="function"?a(n,r,e):s(a)}var lb=ly(),cb=ly,ub=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?Wc:Wc.apply(null,arguments)};function Bg(e,t){function n(...r){if(t){let s=t(...r);if(!s)throw new Error(zr(0));return{type:e,payload:s.payload,..."meta"in s&&{meta:s.meta},..."error"in s&&{error:s.error}}}return{type:e,payload:r[0]}}return n.toString=()=>`${e}`,n.type=e,n.match=r=>qS(r)&&r.type===e,n}var cy=class $o extends Array{constructor(...t){super(...t),Object.setPrototypeOf(this,$o.prototype)}static get[Symbol.species](){return $o}concat(...t){return super.concat.apply(this,t)}prepend(...t){return t.length===1&&Array.isArray(t[0])?new $o(...t[0].concat(this)):new $o(...t.concat(this))}};function Fg(e){return Qr(e)?ay(e,()=>{}):e}function jg(e,t,n){return e.has(t)?e.get(t):e.set(t,n(t)).get(t)}function fb(e){return typeof e=="boolean"}var db=()=>function(t){const{thunk:n=!0,immutableCheck:r=!0,serializableCheck:s=!0,actionCreatorCheck:a=!0}=t??{};let c=new cy;return n&&(fb(n)?c.push(lb):c.push(cb(n.extraArgument))),c},hb="RTK_autoBatch",Ug=e=>t=>{setTimeout(t,e)},gb=(e={type:"raf"})=>t=>(...n)=>{const r=t(...n);let s=!0,a=!1,c=!1;const h=new Set,p=e.type==="tick"?queueMicrotask:e.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:Ug(10):e.type==="callback"?e.queueNotification:Ug(e.timeout),g=()=>{c=!1,a&&(a=!1,h.forEach(y=>y()))};return Object.assign({},r,{subscribe(y){const C=()=>s&&y(),A=r.subscribe(C);return h.add(y),()=>{A(),h.delete(y)}},dispatch(y){var C;try{return s=!((C=y==null?void 0:y.meta)!=null&&C[hb]),a=!s,a&&(c||(c=!0,p(g))),r.dispatch(y)}finally{s=!0}}})},pb=e=>function(n){const{autoBatch:r=!0}=n??{};let s=new cy(e);return r&&s.push(gb(typeof r=="object"?r:void 0)),s};function mb(e){const t=db(),{reducer:n=void 0,middleware:r,devTools:s=!0,preloadedState:a=void 0,enhancers:c=void 0}=e||{};let h;if(typeof n=="function")h=n;else if(w0(n))h=ZS(n);else throw new Error(zr(1));let p;typeof r=="function"?p=r(t):p=t();let g=Wc;s&&(g=ub({trace:!1,...typeof s=="object"&&s}));const y=KS(...p),C=pb(y);let A=typeof c=="function"?c(C):C();const v=g(...A);return ey(h,a,v)}function uy(e){const t={},n=[];let r;const s={addCase(a,c){const h=typeof a=="string"?a:a.type;if(!h)throw new Error(zr(28));if(h in t)throw new Error(zr(29));return t[h]=c,s},addMatcher(a,c){return n.push({matcher:a,reducer:c}),s},addDefaultCase(a){return r=a,s}};return e(s),[t,n,r]}function xb(e){return typeof e=="function"}function yb(e,t){let[n,r,s]=uy(t),a;if(xb(e))a=()=>Fg(e());else{const h=Fg(e);a=()=>h}function c(h=a(),p){let g=[n[p.type],...r.filter(({matcher:y})=>y(p)).map(({reducer:y})=>y)];return g.filter(y=>!!y).length===0&&(g=[s]),g.reduce((y,C)=>{if(C)if(hs(y)){const v=C(y,p);return v===void 0?y:v}else{if(Qr(y))return ay(y,A=>C(A,p));{const A=C(y,p);if(A===void 0){if(y===null)return y;throw Error("A case reducer on a non-draftable value must not return undefined")}return A}}return y},h)}return c.getInitialState=a,c}var wb=Symbol.for("rtk-slice-createasyncthunk");function Cb(e,t){return`${e}/${t}`}function Eb({creators:e}={}){var n;const t=(n=e==null?void 0:e.asyncThunk)==null?void 0:n[wb];return function(s){const{name:a,reducerPath:c=a}=s;if(!a)throw new Error(zr(11));typeof process<"u";const h=(typeof s.reducers=="function"?s.reducers(bb()):s.reducers)||{},p=Object.keys(h),g={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},y={addCase(O,P){const U=typeof O=="string"?O:O.type;if(!U)throw new Error(zr(12));if(U in g.sliceCaseReducersByType)throw new Error(zr(13));return g.sliceCaseReducersByType[U]=P,y},addMatcher(O,P){return g.sliceMatchers.push({matcher:O,reducer:P}),y},exposeAction(O,P){return g.actionCreators[O]=P,y},exposeCaseReducer(O,P){return g.sliceCaseReducersByName[O]=P,y}};p.forEach(O=>{const P=h[O],U={reducerName:O,type:Cb(a,O),createNotation:typeof s.reducers=="function"};_b(P)?Tb(U,P,y,t):vb(U,P,y)});function C(){const[O={},P=[],U=void 0]=typeof s.extraReducers=="function"?uy(s.extraReducers):[s.extraReducers],Y={...O,...g.sliceCaseReducersByType};return yb(s.initialState,j=>{for(let G in Y)j.addCase(G,Y[G]);for(let G of g.sliceMatchers)j.addMatcher(G.matcher,G.reducer);for(let G of P)j.addMatcher(G.matcher,G.reducer);U&&j.addDefaultCase(U)})}const A=O=>O,v=new Map;let T;function R(O,P){return T||(T=C()),T(O,P)}function D(){return T||(T=C()),T.getInitialState()}function I(O,P=!1){function U(j){let G=j[O];return typeof G>"u"&&P&&(G=D()),G}function Y(j=A){const G=jg(v,P,()=>new WeakMap);return jg(G,j,()=>{const Z={};for(const[se,he]of Object.entries(s.selectors??{}))Z[se]=Ab(he,j,D,P);return Z})}return{reducerPath:O,getSelectors:Y,get selectors(){return Y(U)},selectSlice:U}}const _={name:a,reducer:R,actions:g.actionCreators,caseReducers:g.sliceCaseReducersByName,getInitialState:D,...I(c),injectInto(O,{reducerPath:P,...U}={}){const Y=P??c;return O.inject({reducerPath:Y,reducer:R},U),{..._,...I(Y,!0)}}};return _}}function Ab(e,t,n,r){function s(a,...c){let h=t(a);return typeof h>"u"&&r&&(h=n()),e(h,...c)}return s.unwrapped=e,s}var Sb=Eb();function bb(){function e(t,n){return{_reducerDefinitionType:"asyncThunk",payloadCreator:t,...n}}return e.withTypes=()=>e,{reducer(t){return Object.assign({[t.name](...n){return t(...n)}}[t.name],{_reducerDefinitionType:"reducer"})},preparedReducer(t,n){return{_reducerDefinitionType:"reducerWithPrepare",prepare:t,reducer:n}},asyncThunk:e}}function vb({type:e,reducerName:t,createNotation:n},r,s){let a,c;if("reducer"in r){if(n&&!Ib(r))throw new Error(zr(17));a=r.reducer,c=r.prepare}else a=r;s.addCase(e,a).exposeCaseReducer(t,a).exposeAction(t,c?Bg(e,c):Bg(e))}function _b(e){return e._reducerDefinitionType==="asyncThunk"}function Ib(e){return e._reducerDefinitionType==="reducerWithPrepare"}function Tb({type:e,reducerName:t},n,r,s){if(!s)throw new Error(zr(18));const{payloadCreator:a,fulfilled:c,pending:h,rejected:p,settled:g,options:y}=n,C=s(e,a,y);r.exposeAction(t,C),c&&r.addCase(C.fulfilled,c),h&&r.addCase(C.pending,h),p&&r.addCase(C.rejected,p),g&&r.addMatcher(C.settled,g),r.exposeCaseReducer(t,{fulfilled:c||Pl,pending:h||Pl,rejected:p||Pl,settled:g||Pl})}function Pl(){}function zr(e){return`Minified Redux Toolkit error #${e}; visit https://redux-toolkit.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}const Nb={user:null,token:localStorage.getItem("token"),isAuthenticated:!!localStorage.getItem("token")},fy=Sb({name:"auth",initialState:Nb,reducers:{setCredentials:(e,t)=>{e.user=t.payload.user,e.token=t.payload.token,e.isAuthenticated=!0,localStorage.setItem("token",t.payload.token)},setUser:(e,t)=>{e.user=t.payload,e.isAuthenticated=!0},logout:e=>{e.user=null,e.token=null,e.isAuthenticated=!1,localStorage.removeItem("token")}}}),{setCredentials:A0,logout:dy,setUser:Mb}=fy.actions,Ob=fy.reducer;/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var Rb={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Db=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),pt=(e,t)=>{const n=V.forwardRef(({color:r="currentColor",size:s=24,strokeWidth:a=2,absoluteStrokeWidth:c,className:h="",children:p,...g},y)=>V.createElement("svg",{ref:y,...Rb,width:s,height:s,stroke:r,strokeWidth:c?Number(a)*24/Number(s):a,className:["lucide",`lucide-${Db(e)}`,h].join(" "),...g},[...t.map(([C,A])=>V.createElement(C,A)),...Array.isArray(p)?p:[p]]));return n.displayName=`${e}`,n};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kb=pt("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const el=pt("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lb=pt("BarChart3",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const S0=pt("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pb=pt("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bb=pt("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fb=pt("Coffee",[["path",{d:"M17 8h1a4 4 0 1 1 0 8h-1",key:"jx4kbh"}],["path",{d:"M3 8h14v9a4 4 0 0 1-4 4H7a4 4 0 0 1-4-4Z",key:"1bxrl0"}],["line",{x1:"6",x2:"6",y1:"2",y2:"4",key:"1cr9l3"}],["line",{x1:"10",x2:"10",y1:"2",y2:"4",key:"170wym"}],["line",{x1:"14",x2:"14",y1:"2",y2:"4",key:"1c5f70"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jb=pt("GraduationCap",[["path",{d:"M21.42 10.922a1 1 0 0 0-.019-1.838L12.83 5.18a2 2 0 0 0-1.66 0L2.6 9.08a1 1 0 0 0 0 1.832l8.57 3.908a2 2 0 0 0 1.66 0z",key:"j76jl0"}],["path",{d:"M22 10v6",key:"1lu8f3"}],["path",{d:"M6 12.5V16a6 3 0 0 0 12 0v-3.5",key:"1r8lef"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hy=pt("IceCream",[["path",{d:"m7 11 4.08 10.35a1 1 0 0 0 1.84 0L17 11",key:"1v6356"}],["path",{d:"M17 7A5 5 0 0 0 7 7",key:"151p3v"}],["path",{d:"M17 7a2 2 0 0 1 0 4H7a2 2 0 0 1 0-4",key:"1sdaij"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gy=pt("Loader",[["line",{x1:"12",x2:"12",y1:"2",y2:"6",key:"gza1u7"}],["line",{x1:"12",x2:"12",y1:"18",y2:"22",key:"1qhbu9"}],["line",{x1:"4.93",x2:"7.76",y1:"4.93",y2:"7.76",key:"xae44r"}],["line",{x1:"16.24",x2:"19.07",y1:"16.24",y2:"19.07",key:"bxnmvf"}],["line",{x1:"2",x2:"6",y1:"12",y2:"12",key:"89khin"}],["line",{x1:"18",x2:"22",y1:"12",y2:"12",key:"pb8tfm"}],["line",{x1:"4.93",x2:"7.76",y1:"19.07",y2:"16.24",key:"1uxjnu"}],["line",{x1:"16.24",x2:"19.07",y1:"7.76",y2:"4.93",key:"6duxfx"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const py=pt("LogIn",[["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}],["polyline",{points:"10 17 15 12 10 7",key:"1ail0h"}],["line",{x1:"15",x2:"3",y1:"12",y2:"12",key:"v6grx8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ub=pt("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zb=pt("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ou=pt("QrCode",[["rect",{width:"5",height:"5",x:"3",y:"3",rx:"1",key:"1tu5fj"}],["rect",{width:"5",height:"5",x:"16",y:"3",rx:"1",key:"1v8r4q"}],["rect",{width:"5",height:"5",x:"3",y:"16",rx:"1",key:"1x03jg"}],["path",{d:"M21 16h-3a2 2 0 0 0-2 2v3",key:"177gqh"}],["path",{d:"M21 21v.01",key:"ents32"}],["path",{d:"M12 7v3a2 2 0 0 1-2 2H7",key:"8crl2c"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M12 3h.01",key:"n36tog"}],["path",{d:"M12 16v.01",key:"133mhm"}],["path",{d:"M16 12h1",key:"1slzba"}],["path",{d:"M21 12v.01",key:"1lwtk9"}],["path",{d:"M12 21v-1",key:"1880an"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hr=pt("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rh=pt("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hb=pt("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cc=pt("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wb=pt("UtensilsCrossed",[["path",{d:"m16 2-2.3 2.3a3 3 0 0 0 0 4.2l1.8 1.8a3 3 0 0 0 4.2 0L22 8",key:"n7qcjb"}],["path",{d:"M15 15 3.3 3.3a4.2 4.2 0 0 0 0 6l7.3 7.3c.7.7 2 .7 2.8 0L15 15Zm0 0 7 7",key:"d0u48b"}],["path",{d:"m2.1 21.8 6.4-6.3",key:"yn04lh"}],["path",{d:"m19 5-7 7",key:"194lzd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vb=pt("Utensils",[["path",{d:"M3 2v7c0 1.1.9 2 2 2h4a2 2 0 0 0 2-2V2",key:"cjf0a3"}],["path",{d:"M7 2v20",key:"1473qp"}],["path",{d:"M21 15V2v0a5 5 0 0 0-5 5v6c0 1.1.9 2 2 2h3Zm0 0v7",key:"1ogz0v"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const b0=pt("XCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yb=pt("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);function my(e,t){return function(){return e.apply(t,arguments)}}const{toString:Xb}=Object.prototype,{getPrototypeOf:v0}=Object,Ru=(e=>t=>{const n=Xb.call(t);return e[n]||(e[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),ur=e=>(e=e.toLowerCase(),t=>Ru(t)===e),Du=e=>t=>typeof t===e,{isArray:xo}=Array,za=Du("undefined");function Gb(e){return e!==null&&!za(e)&&e.constructor!==null&&!za(e.constructor)&&Rn(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const xy=ur("ArrayBuffer");function Qb(e){let t;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?t=ArrayBuffer.isView(e):t=e&&e.buffer&&xy(e.buffer),t}const Zb=Du("string"),Rn=Du("function"),yy=Du("number"),ku=e=>e!==null&&typeof e=="object",Kb=e=>e===!0||e===!1,uc=e=>{if(Ru(e)!=="object")return!1;const t=v0(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},qb=ur("Date"),$b=ur("File"),Jb=ur("Blob"),ev=ur("FileList"),tv=e=>ku(e)&&Rn(e.pipe),nv=e=>{let t;return e&&(typeof FormData=="function"&&e instanceof FormData||Rn(e.append)&&((t=Ru(e))==="formdata"||t==="object"&&Rn(e.toString)&&e.toString()==="[object FormData]"))},rv=ur("URLSearchParams"),[iv,sv,ov,av]=["ReadableStream","Request","Response","Headers"].map(ur),lv=e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function tl(e,t,{allOwnKeys:n=!1}={}){if(e===null||typeof e>"u")return;let r,s;if(typeof e!="object"&&(e=[e]),xo(e))for(r=0,s=e.length;r<s;r++)t.call(null,e[r],r,e);else{const a=n?Object.getOwnPropertyNames(e):Object.keys(e),c=a.length;let h;for(r=0;r<c;r++)h=a[r],t.call(null,e[h],h,e)}}function wy(e,t){t=t.toLowerCase();const n=Object.keys(e);let r=n.length,s;for(;r-- >0;)if(s=n[r],t===s.toLowerCase())return s;return null}const ns=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,Cy=e=>!za(e)&&e!==ns;function ih(){const{caseless:e}=Cy(this)&&this||{},t={},n=(r,s)=>{const a=e&&wy(t,s)||s;uc(t[a])&&uc(r)?t[a]=ih(t[a],r):uc(r)?t[a]=ih({},r):xo(r)?t[a]=r.slice():t[a]=r};for(let r=0,s=arguments.length;r<s;r++)arguments[r]&&tl(arguments[r],n);return t}const cv=(e,t,n,{allOwnKeys:r}={})=>(tl(t,(s,a)=>{n&&Rn(s)?e[a]=my(s,n):e[a]=s},{allOwnKeys:r}),e),uv=e=>(e.charCodeAt(0)===65279&&(e=e.slice(1)),e),fv=(e,t,n,r)=>{e.prototype=Object.create(t.prototype,r),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),n&&Object.assign(e.prototype,n)},dv=(e,t,n,r)=>{let s,a,c;const h={};if(t=t||{},e==null)return t;do{for(s=Object.getOwnPropertyNames(e),a=s.length;a-- >0;)c=s[a],(!r||r(c,e,t))&&!h[c]&&(t[c]=e[c],h[c]=!0);e=n!==!1&&v0(e)}while(e&&(!n||n(e,t))&&e!==Object.prototype);return t},hv=(e,t,n)=>{e=String(e),(n===void 0||n>e.length)&&(n=e.length),n-=t.length;const r=e.indexOf(t,n);return r!==-1&&r===n},gv=e=>{if(!e)return null;if(xo(e))return e;let t=e.length;if(!yy(t))return null;const n=new Array(t);for(;t-- >0;)n[t]=e[t];return n},pv=(e=>t=>e&&t instanceof e)(typeof Uint8Array<"u"&&v0(Uint8Array)),mv=(e,t)=>{const r=(e&&e[Symbol.iterator]).call(e);let s;for(;(s=r.next())&&!s.done;){const a=s.value;t.call(e,a[0],a[1])}},xv=(e,t)=>{let n;const r=[];for(;(n=e.exec(t))!==null;)r.push(n);return r},yv=ur("HTMLFormElement"),wv=e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(n,r,s){return r.toUpperCase()+s}),zg=(({hasOwnProperty:e})=>(t,n)=>e.call(t,n))(Object.prototype),Cv=ur("RegExp"),Ey=(e,t)=>{const n=Object.getOwnPropertyDescriptors(e),r={};tl(n,(s,a)=>{let c;(c=t(s,a,e))!==!1&&(r[a]=c||s)}),Object.defineProperties(e,r)},Ev=e=>{Ey(e,(t,n)=>{if(Rn(e)&&["arguments","caller","callee"].indexOf(n)!==-1)return!1;const r=e[n];if(Rn(r)){if(t.enumerable=!1,"writable"in t){t.writable=!1;return}t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")})}})},Av=(e,t)=>{const n={},r=s=>{s.forEach(a=>{n[a]=!0})};return xo(e)?r(e):r(String(e).split(t)),n},Sv=()=>{},bv=(e,t)=>e!=null&&Number.isFinite(e=+e)?e:t;function vv(e){return!!(e&&Rn(e.append)&&e[Symbol.toStringTag]==="FormData"&&e[Symbol.iterator])}const _v=e=>{const t=new Array(10),n=(r,s)=>{if(ku(r)){if(t.indexOf(r)>=0)return;if(!("toJSON"in r)){t[s]=r;const a=xo(r)?[]:{};return tl(r,(c,h)=>{const p=n(c,s+1);!za(p)&&(a[h]=p)}),t[s]=void 0,a}}return r};return n(e,0)},Iv=ur("AsyncFunction"),Tv=e=>e&&(ku(e)||Rn(e))&&Rn(e.then)&&Rn(e.catch),Ay=((e,t)=>e?setImmediate:t?((n,r)=>(ns.addEventListener("message",({source:s,data:a})=>{s===ns&&a===n&&r.length&&r.shift()()},!1),s=>{r.push(s),ns.postMessage(n,"*")}))(`axios@${Math.random()}`,[]):n=>setTimeout(n))(typeof setImmediate=="function",Rn(ns.postMessage)),Nv=typeof queueMicrotask<"u"?queueMicrotask.bind(ns):typeof process<"u"&&process.nextTick||Ay,K={isArray:xo,isArrayBuffer:xy,isBuffer:Gb,isFormData:nv,isArrayBufferView:Qb,isString:Zb,isNumber:yy,isBoolean:Kb,isObject:ku,isPlainObject:uc,isReadableStream:iv,isRequest:sv,isResponse:ov,isHeaders:av,isUndefined:za,isDate:qb,isFile:$b,isBlob:Jb,isRegExp:Cv,isFunction:Rn,isStream:tv,isURLSearchParams:rv,isTypedArray:pv,isFileList:ev,forEach:tl,merge:ih,extend:cv,trim:lv,stripBOM:uv,inherits:fv,toFlatObject:dv,kindOf:Ru,kindOfTest:ur,endsWith:hv,toArray:gv,forEachEntry:mv,matchAll:xv,isHTMLForm:yv,hasOwnProperty:zg,hasOwnProp:zg,reduceDescriptors:Ey,freezeMethods:Ev,toObjectSet:Av,toCamelCase:wv,noop:Sv,toFiniteNumber:bv,findKey:wy,global:ns,isContextDefined:Cy,isSpecCompliantForm:vv,toJSONObject:_v,isAsyncFn:Iv,isThenable:Tv,setImmediate:Ay,asap:Nv};function Ae(e,t,n,r,s){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=e,this.name="AxiosError",t&&(this.code=t),n&&(this.config=n),r&&(this.request=r),s&&(this.response=s,this.status=s.status?s.status:null)}K.inherits(Ae,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:K.toJSONObject(this.config),code:this.code,status:this.status}}});const Sy=Ae.prototype,by={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{by[e]={value:e}});Object.defineProperties(Ae,by);Object.defineProperty(Sy,"isAxiosError",{value:!0});Ae.from=(e,t,n,r,s,a)=>{const c=Object.create(Sy);return K.toFlatObject(e,c,function(p){return p!==Error.prototype},h=>h!=="isAxiosError"),Ae.call(c,e.message,t,n,r,s),c.cause=e,c.name=e.name,a&&Object.assign(c,a),c};const Mv=null;function sh(e){return K.isPlainObject(e)||K.isArray(e)}function vy(e){return K.endsWith(e,"[]")?e.slice(0,-2):e}function Hg(e,t,n){return e?e.concat(t).map(function(s,a){return s=vy(s),!n&&a?"["+s+"]":s}).join(n?".":""):t}function Ov(e){return K.isArray(e)&&!e.some(sh)}const Rv=K.toFlatObject(K,{},null,function(t){return/^is[A-Z]/.test(t)});function Lu(e,t,n){if(!K.isObject(e))throw new TypeError("target must be an object");t=t||new FormData,n=K.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(R,D){return!K.isUndefined(D[R])});const r=n.metaTokens,s=n.visitor||y,a=n.dots,c=n.indexes,p=(n.Blob||typeof Blob<"u"&&Blob)&&K.isSpecCompliantForm(t);if(!K.isFunction(s))throw new TypeError("visitor must be a function");function g(T){if(T===null)return"";if(K.isDate(T))return T.toISOString();if(!p&&K.isBlob(T))throw new Ae("Blob is not supported. Use a Buffer instead.");return K.isArrayBuffer(T)||K.isTypedArray(T)?p&&typeof Blob=="function"?new Blob([T]):Buffer.from(T):T}function y(T,R,D){let I=T;if(T&&!D&&typeof T=="object"){if(K.endsWith(R,"{}"))R=r?R:R.slice(0,-2),T=JSON.stringify(T);else if(K.isArray(T)&&Ov(T)||(K.isFileList(T)||K.endsWith(R,"[]"))&&(I=K.toArray(T)))return R=vy(R),I.forEach(function(O,P){!(K.isUndefined(O)||O===null)&&t.append(c===!0?Hg([R],P,a):c===null?R:R+"[]",g(O))}),!1}return sh(T)?!0:(t.append(Hg(D,R,a),g(T)),!1)}const C=[],A=Object.assign(Rv,{defaultVisitor:y,convertValue:g,isVisitable:sh});function v(T,R){if(!K.isUndefined(T)){if(C.indexOf(T)!==-1)throw Error("Circular reference detected in "+R.join("."));C.push(T),K.forEach(T,function(I,_){(!(K.isUndefined(I)||I===null)&&s.call(t,I,K.isString(_)?_.trim():_,R,A))===!0&&v(I,R?R.concat(_):[_])}),C.pop()}}if(!K.isObject(e))throw new TypeError("data must be an object");return v(e),t}function Wg(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(r){return t[r]})}function _0(e,t){this._pairs=[],e&&Lu(e,this,t)}const _y=_0.prototype;_y.append=function(t,n){this._pairs.push([t,n])};_y.toString=function(t){const n=t?function(r){return t.call(this,r,Wg)}:Wg;return this._pairs.map(function(s){return n(s[0])+"="+n(s[1])},"").join("&")};function Dv(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function Iy(e,t,n){if(!t)return e;const r=n&&n.encode||Dv;K.isFunction(n)&&(n={serialize:n});const s=n&&n.serialize;let a;if(s?a=s(t,n):a=K.isURLSearchParams(t)?t.toString():new _0(t,n).toString(r),a){const c=e.indexOf("#");c!==-1&&(e=e.slice(0,c)),e+=(e.indexOf("?")===-1?"?":"&")+a}return e}class Vg{constructor(){this.handlers=[]}use(t,n,r){return this.handlers.push({fulfilled:t,rejected:n,synchronous:r?r.synchronous:!1,runWhen:r?r.runWhen:null}),this.handlers.length-1}eject(t){this.handlers[t]&&(this.handlers[t]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(t){K.forEach(this.handlers,function(r){r!==null&&t(r)})}}const Ty={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},kv=typeof URLSearchParams<"u"?URLSearchParams:_0,Lv=typeof FormData<"u"?FormData:null,Pv=typeof Blob<"u"?Blob:null,Bv={isBrowser:!0,classes:{URLSearchParams:kv,FormData:Lv,Blob:Pv},protocols:["http","https","file","blob","url","data"]},I0=typeof window<"u"&&typeof document<"u",oh=typeof navigator=="object"&&navigator||void 0,Fv=I0&&(!oh||["ReactNative","NativeScript","NS"].indexOf(oh.product)<0),jv=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",Uv=I0&&window.location.href||"http://localhost",zv=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:I0,hasStandardBrowserEnv:Fv,hasStandardBrowserWebWorkerEnv:jv,navigator:oh,origin:Uv},Symbol.toStringTag,{value:"Module"})),qt={...zv,...Bv};function Hv(e,t){return Lu(e,new qt.classes.URLSearchParams,Object.assign({visitor:function(n,r,s,a){return qt.isNode&&K.isBuffer(n)?(this.append(r,n.toString("base64")),!1):a.defaultVisitor.apply(this,arguments)}},t))}function Wv(e){return K.matchAll(/\w+|\[(\w*)]/g,e).map(t=>t[0]==="[]"?"":t[1]||t[0])}function Vv(e){const t={},n=Object.keys(e);let r;const s=n.length;let a;for(r=0;r<s;r++)a=n[r],t[a]=e[a];return t}function Ny(e){function t(n,r,s,a){let c=n[a++];if(c==="__proto__")return!0;const h=Number.isFinite(+c),p=a>=n.length;return c=!c&&K.isArray(s)?s.length:c,p?(K.hasOwnProp(s,c)?s[c]=[s[c],r]:s[c]=r,!h):((!s[c]||!K.isObject(s[c]))&&(s[c]=[]),t(n,r,s[c],a)&&K.isArray(s[c])&&(s[c]=Vv(s[c])),!h)}if(K.isFormData(e)&&K.isFunction(e.entries)){const n={};return K.forEachEntry(e,(r,s)=>{t(Wv(r),s,n,0)}),n}return null}function Yv(e,t,n){if(K.isString(e))try{return(t||JSON.parse)(e),K.trim(e)}catch(r){if(r.name!=="SyntaxError")throw r}return(0,JSON.stringify)(e)}const nl={transitional:Ty,adapter:["xhr","http","fetch"],transformRequest:[function(t,n){const r=n.getContentType()||"",s=r.indexOf("application/json")>-1,a=K.isObject(t);if(a&&K.isHTMLForm(t)&&(t=new FormData(t)),K.isFormData(t))return s?JSON.stringify(Ny(t)):t;if(K.isArrayBuffer(t)||K.isBuffer(t)||K.isStream(t)||K.isFile(t)||K.isBlob(t)||K.isReadableStream(t))return t;if(K.isArrayBufferView(t))return t.buffer;if(K.isURLSearchParams(t))return n.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),t.toString();let h;if(a){if(r.indexOf("application/x-www-form-urlencoded")>-1)return Hv(t,this.formSerializer).toString();if((h=K.isFileList(t))||r.indexOf("multipart/form-data")>-1){const p=this.env&&this.env.FormData;return Lu(h?{"files[]":t}:t,p&&new p,this.formSerializer)}}return a||s?(n.setContentType("application/json",!1),Yv(t)):t}],transformResponse:[function(t){const n=this.transitional||nl.transitional,r=n&&n.forcedJSONParsing,s=this.responseType==="json";if(K.isResponse(t)||K.isReadableStream(t))return t;if(t&&K.isString(t)&&(r&&!this.responseType||s)){const c=!(n&&n.silentJSONParsing)&&s;try{return JSON.parse(t)}catch(h){if(c)throw h.name==="SyntaxError"?Ae.from(h,Ae.ERR_BAD_RESPONSE,this,null,this.response):h}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:qt.classes.FormData,Blob:qt.classes.Blob},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};K.forEach(["delete","get","head","post","put","patch"],e=>{nl.headers[e]={}});const Xv=K.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),Gv=e=>{const t={};let n,r,s;return e&&e.split(`
`).forEach(function(c){s=c.indexOf(":"),n=c.substring(0,s).trim().toLowerCase(),r=c.substring(s+1).trim(),!(!n||t[n]&&Xv[n])&&(n==="set-cookie"?t[n]?t[n].push(r):t[n]=[r]:t[n]=t[n]?t[n]+", "+r:r)}),t},Yg=Symbol("internals");function zo(e){return e&&String(e).trim().toLowerCase()}function fc(e){return e===!1||e==null?e:K.isArray(e)?e.map(fc):String(e)}function Qv(e){const t=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=n.exec(e);)t[r[1]]=r[2];return t}const Zv=e=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim());function Uf(e,t,n,r,s){if(K.isFunction(r))return r.call(this,t,n);if(s&&(t=n),!!K.isString(t)){if(K.isString(r))return t.indexOf(r)!==-1;if(K.isRegExp(r))return r.test(t)}}function Kv(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(t,n,r)=>n.toUpperCase()+r)}function qv(e,t){const n=K.toCamelCase(" "+t);["get","set","has"].forEach(r=>{Object.defineProperty(e,r+n,{value:function(s,a,c){return this[r].call(this,t,s,a,c)},configurable:!0})})}class En{constructor(t){t&&this.set(t)}set(t,n,r){const s=this;function a(h,p,g){const y=zo(p);if(!y)throw new Error("header name must be a non-empty string");const C=K.findKey(s,y);(!C||s[C]===void 0||g===!0||g===void 0&&s[C]!==!1)&&(s[C||p]=fc(h))}const c=(h,p)=>K.forEach(h,(g,y)=>a(g,y,p));if(K.isPlainObject(t)||t instanceof this.constructor)c(t,n);else if(K.isString(t)&&(t=t.trim())&&!Zv(t))c(Gv(t),n);else if(K.isHeaders(t))for(const[h,p]of t.entries())a(p,h,r);else t!=null&&a(n,t,r);return this}get(t,n){if(t=zo(t),t){const r=K.findKey(this,t);if(r){const s=this[r];if(!n)return s;if(n===!0)return Qv(s);if(K.isFunction(n))return n.call(this,s,r);if(K.isRegExp(n))return n.exec(s);throw new TypeError("parser must be boolean|regexp|function")}}}has(t,n){if(t=zo(t),t){const r=K.findKey(this,t);return!!(r&&this[r]!==void 0&&(!n||Uf(this,this[r],r,n)))}return!1}delete(t,n){const r=this;let s=!1;function a(c){if(c=zo(c),c){const h=K.findKey(r,c);h&&(!n||Uf(r,r[h],h,n))&&(delete r[h],s=!0)}}return K.isArray(t)?t.forEach(a):a(t),s}clear(t){const n=Object.keys(this);let r=n.length,s=!1;for(;r--;){const a=n[r];(!t||Uf(this,this[a],a,t,!0))&&(delete this[a],s=!0)}return s}normalize(t){const n=this,r={};return K.forEach(this,(s,a)=>{const c=K.findKey(r,a);if(c){n[c]=fc(s),delete n[a];return}const h=t?Kv(a):String(a).trim();h!==a&&delete n[a],n[h]=fc(s),r[h]=!0}),this}concat(...t){return this.constructor.concat(this,...t)}toJSON(t){const n=Object.create(null);return K.forEach(this,(r,s)=>{r!=null&&r!==!1&&(n[s]=t&&K.isArray(r)?r.join(", "):r)}),n}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([t,n])=>t+": "+n).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(t){return t instanceof this?t:new this(t)}static concat(t,...n){const r=new this(t);return n.forEach(s=>r.set(s)),r}static accessor(t){const r=(this[Yg]=this[Yg]={accessors:{}}).accessors,s=this.prototype;function a(c){const h=zo(c);r[h]||(qv(s,c),r[h]=!0)}return K.isArray(t)?t.forEach(a):a(t),this}}En.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);K.reduceDescriptors(En.prototype,({value:e},t)=>{let n=t[0].toUpperCase()+t.slice(1);return{get:()=>e,set(r){this[n]=r}}});K.freezeMethods(En);function zf(e,t){const n=this||nl,r=t||n,s=En.from(r.headers);let a=r.data;return K.forEach(e,function(h){a=h.call(n,a,s.normalize(),t?t.status:void 0)}),s.normalize(),a}function My(e){return!!(e&&e.__CANCEL__)}function yo(e,t,n){Ae.call(this,e??"canceled",Ae.ERR_CANCELED,t,n),this.name="CanceledError"}K.inherits(yo,Ae,{__CANCEL__:!0});function Oy(e,t,n){const r=n.config.validateStatus;!n.status||!r||r(n.status)?e(n):t(new Ae("Request failed with status code "+n.status,[Ae.ERR_BAD_REQUEST,Ae.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n))}function $v(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}function Jv(e,t){e=e||10;const n=new Array(e),r=new Array(e);let s=0,a=0,c;return t=t!==void 0?t:1e3,function(p){const g=Date.now(),y=r[a];c||(c=g),n[s]=p,r[s]=g;let C=a,A=0;for(;C!==s;)A+=n[C++],C=C%e;if(s=(s+1)%e,s===a&&(a=(a+1)%e),g-c<t)return;const v=y&&g-y;return v?Math.round(A*1e3/v):void 0}}function e4(e,t){let n=0,r=1e3/t,s,a;const c=(g,y=Date.now())=>{n=y,s=null,a&&(clearTimeout(a),a=null),e.apply(null,g)};return[(...g)=>{const y=Date.now(),C=y-n;C>=r?c(g,y):(s=g,a||(a=setTimeout(()=>{a=null,c(s)},r-C)))},()=>s&&c(s)]}const Gc=(e,t,n=3)=>{let r=0;const s=Jv(50,250);return e4(a=>{const c=a.loaded,h=a.lengthComputable?a.total:void 0,p=c-r,g=s(p),y=c<=h;r=c;const C={loaded:c,total:h,progress:h?c/h:void 0,bytes:p,rate:g||void 0,estimated:g&&h&&y?(h-c)/g:void 0,event:a,lengthComputable:h!=null,[t?"download":"upload"]:!0};e(C)},n)},Xg=(e,t)=>{const n=e!=null;return[r=>t[0]({lengthComputable:n,total:e,loaded:r}),t[1]]},Gg=e=>(...t)=>K.asap(()=>e(...t)),t4=qt.hasStandardBrowserEnv?((e,t)=>n=>(n=new URL(n,qt.origin),e.protocol===n.protocol&&e.host===n.host&&(t||e.port===n.port)))(new URL(qt.origin),qt.navigator&&/(msie|trident)/i.test(qt.navigator.userAgent)):()=>!0,n4=qt.hasStandardBrowserEnv?{write(e,t,n,r,s,a){const c=[e+"="+encodeURIComponent(t)];K.isNumber(n)&&c.push("expires="+new Date(n).toGMTString()),K.isString(r)&&c.push("path="+r),K.isString(s)&&c.push("domain="+s),a===!0&&c.push("secure"),document.cookie=c.join("; ")},read(e){const t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove(e){this.write(e,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function r4(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}function i4(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}function Ry(e,t,n){let r=!r4(t);return e&&(r||n==!1)?i4(e,t):t}const Qg=e=>e instanceof En?{...e}:e;function ps(e,t){t=t||{};const n={};function r(g,y,C,A){return K.isPlainObject(g)&&K.isPlainObject(y)?K.merge.call({caseless:A},g,y):K.isPlainObject(y)?K.merge({},y):K.isArray(y)?y.slice():y}function s(g,y,C,A){if(K.isUndefined(y)){if(!K.isUndefined(g))return r(void 0,g,C,A)}else return r(g,y,C,A)}function a(g,y){if(!K.isUndefined(y))return r(void 0,y)}function c(g,y){if(K.isUndefined(y)){if(!K.isUndefined(g))return r(void 0,g)}else return r(void 0,y)}function h(g,y,C){if(C in t)return r(g,y);if(C in e)return r(void 0,g)}const p={url:a,method:a,data:a,baseURL:c,transformRequest:c,transformResponse:c,paramsSerializer:c,timeout:c,timeoutMessage:c,withCredentials:c,withXSRFToken:c,adapter:c,responseType:c,xsrfCookieName:c,xsrfHeaderName:c,onUploadProgress:c,onDownloadProgress:c,decompress:c,maxContentLength:c,maxBodyLength:c,beforeRedirect:c,transport:c,httpAgent:c,httpsAgent:c,cancelToken:c,socketPath:c,responseEncoding:c,validateStatus:h,headers:(g,y,C)=>s(Qg(g),Qg(y),C,!0)};return K.forEach(Object.keys(Object.assign({},e,t)),function(y){const C=p[y]||s,A=C(e[y],t[y],y);K.isUndefined(A)&&C!==h||(n[y]=A)}),n}const Dy=e=>{const t=ps({},e);let{data:n,withXSRFToken:r,xsrfHeaderName:s,xsrfCookieName:a,headers:c,auth:h}=t;t.headers=c=En.from(c),t.url=Iy(Ry(t.baseURL,t.url,t.allowAbsoluteUrls),e.params,e.paramsSerializer),h&&c.set("Authorization","Basic "+btoa((h.username||"")+":"+(h.password?unescape(encodeURIComponent(h.password)):"")));let p;if(K.isFormData(n)){if(qt.hasStandardBrowserEnv||qt.hasStandardBrowserWebWorkerEnv)c.setContentType(void 0);else if((p=c.getContentType())!==!1){const[g,...y]=p?p.split(";").map(C=>C.trim()).filter(Boolean):[];c.setContentType([g||"multipart/form-data",...y].join("; "))}}if(qt.hasStandardBrowserEnv&&(r&&K.isFunction(r)&&(r=r(t)),r||r!==!1&&t4(t.url))){const g=s&&a&&n4.read(a);g&&c.set(s,g)}return t},s4=typeof XMLHttpRequest<"u",o4=s4&&function(e){return new Promise(function(n,r){const s=Dy(e);let a=s.data;const c=En.from(s.headers).normalize();let{responseType:h,onUploadProgress:p,onDownloadProgress:g}=s,y,C,A,v,T;function R(){v&&v(),T&&T(),s.cancelToken&&s.cancelToken.unsubscribe(y),s.signal&&s.signal.removeEventListener("abort",y)}let D=new XMLHttpRequest;D.open(s.method.toUpperCase(),s.url,!0),D.timeout=s.timeout;function I(){if(!D)return;const O=En.from("getAllResponseHeaders"in D&&D.getAllResponseHeaders()),U={data:!h||h==="text"||h==="json"?D.responseText:D.response,status:D.status,statusText:D.statusText,headers:O,config:e,request:D};Oy(function(j){n(j),R()},function(j){r(j),R()},U),D=null}"onloadend"in D?D.onloadend=I:D.onreadystatechange=function(){!D||D.readyState!==4||D.status===0&&!(D.responseURL&&D.responseURL.indexOf("file:")===0)||setTimeout(I)},D.onabort=function(){D&&(r(new Ae("Request aborted",Ae.ECONNABORTED,e,D)),D=null)},D.onerror=function(){r(new Ae("Network Error",Ae.ERR_NETWORK,e,D)),D=null},D.ontimeout=function(){let P=s.timeout?"timeout of "+s.timeout+"ms exceeded":"timeout exceeded";const U=s.transitional||Ty;s.timeoutErrorMessage&&(P=s.timeoutErrorMessage),r(new Ae(P,U.clarifyTimeoutError?Ae.ETIMEDOUT:Ae.ECONNABORTED,e,D)),D=null},a===void 0&&c.setContentType(null),"setRequestHeader"in D&&K.forEach(c.toJSON(),function(P,U){D.setRequestHeader(U,P)}),K.isUndefined(s.withCredentials)||(D.withCredentials=!!s.withCredentials),h&&h!=="json"&&(D.responseType=s.responseType),g&&([A,T]=Gc(g,!0),D.addEventListener("progress",A)),p&&D.upload&&([C,v]=Gc(p),D.upload.addEventListener("progress",C),D.upload.addEventListener("loadend",v)),(s.cancelToken||s.signal)&&(y=O=>{D&&(r(!O||O.type?new yo(null,e,D):O),D.abort(),D=null)},s.cancelToken&&s.cancelToken.subscribe(y),s.signal&&(s.signal.aborted?y():s.signal.addEventListener("abort",y)));const _=$v(s.url);if(_&&qt.protocols.indexOf(_)===-1){r(new Ae("Unsupported protocol "+_+":",Ae.ERR_BAD_REQUEST,e));return}D.send(a||null)})},a4=(e,t)=>{const{length:n}=e=e?e.filter(Boolean):[];if(t||n){let r=new AbortController,s;const a=function(g){if(!s){s=!0,h();const y=g instanceof Error?g:this.reason;r.abort(y instanceof Ae?y:new yo(y instanceof Error?y.message:y))}};let c=t&&setTimeout(()=>{c=null,a(new Ae(`timeout ${t} of ms exceeded`,Ae.ETIMEDOUT))},t);const h=()=>{e&&(c&&clearTimeout(c),c=null,e.forEach(g=>{g.unsubscribe?g.unsubscribe(a):g.removeEventListener("abort",a)}),e=null)};e.forEach(g=>g.addEventListener("abort",a));const{signal:p}=r;return p.unsubscribe=()=>K.asap(h),p}},l4=function*(e,t){let n=e.byteLength;if(n<t){yield e;return}let r=0,s;for(;r<n;)s=r+t,yield e.slice(r,s),r=s},c4=async function*(e,t){for await(const n of u4(e))yield*l4(n,t)},u4=async function*(e){if(e[Symbol.asyncIterator]){yield*e;return}const t=e.getReader();try{for(;;){const{done:n,value:r}=await t.read();if(n)break;yield r}}finally{await t.cancel()}},Zg=(e,t,n,r)=>{const s=c4(e,t);let a=0,c,h=p=>{c||(c=!0,r&&r(p))};return new ReadableStream({async pull(p){try{const{done:g,value:y}=await s.next();if(g){h(),p.close();return}let C=y.byteLength;if(n){let A=a+=C;n(A)}p.enqueue(new Uint8Array(y))}catch(g){throw h(g),g}},cancel(p){return h(p),s.return()}},{highWaterMark:2})},Pu=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",ky=Pu&&typeof ReadableStream=="function",f4=Pu&&(typeof TextEncoder=="function"?(e=>t=>e.encode(t))(new TextEncoder):async e=>new Uint8Array(await new Response(e).arrayBuffer())),Ly=(e,...t)=>{try{return!!e(...t)}catch{return!1}},d4=ky&&Ly(()=>{let e=!1;const t=new Request(qt.origin,{body:new ReadableStream,method:"POST",get duplex(){return e=!0,"half"}}).headers.has("Content-Type");return e&&!t}),Kg=64*1024,ah=ky&&Ly(()=>K.isReadableStream(new Response("").body)),Qc={stream:ah&&(e=>e.body)};Pu&&(e=>{["text","arrayBuffer","blob","formData","stream"].forEach(t=>{!Qc[t]&&(Qc[t]=K.isFunction(e[t])?n=>n[t]():(n,r)=>{throw new Ae(`Response type '${t}' is not supported`,Ae.ERR_NOT_SUPPORT,r)})})})(new Response);const h4=async e=>{if(e==null)return 0;if(K.isBlob(e))return e.size;if(K.isSpecCompliantForm(e))return(await new Request(qt.origin,{method:"POST",body:e}).arrayBuffer()).byteLength;if(K.isArrayBufferView(e)||K.isArrayBuffer(e))return e.byteLength;if(K.isURLSearchParams(e)&&(e=e+""),K.isString(e))return(await f4(e)).byteLength},g4=async(e,t)=>{const n=K.toFiniteNumber(e.getContentLength());return n??h4(t)},p4=Pu&&(async e=>{let{url:t,method:n,data:r,signal:s,cancelToken:a,timeout:c,onDownloadProgress:h,onUploadProgress:p,responseType:g,headers:y,withCredentials:C="same-origin",fetchOptions:A}=Dy(e);g=g?(g+"").toLowerCase():"text";let v=a4([s,a&&a.toAbortSignal()],c),T;const R=v&&v.unsubscribe&&(()=>{v.unsubscribe()});let D;try{if(p&&d4&&n!=="get"&&n!=="head"&&(D=await g4(y,r))!==0){let U=new Request(t,{method:"POST",body:r,duplex:"half"}),Y;if(K.isFormData(r)&&(Y=U.headers.get("content-type"))&&y.setContentType(Y),U.body){const[j,G]=Xg(D,Gc(Gg(p)));r=Zg(U.body,Kg,j,G)}}K.isString(C)||(C=C?"include":"omit");const I="credentials"in Request.prototype;T=new Request(t,{...A,signal:v,method:n.toUpperCase(),headers:y.normalize().toJSON(),body:r,duplex:"half",credentials:I?C:void 0});let _=await fetch(T);const O=ah&&(g==="stream"||g==="response");if(ah&&(h||O&&R)){const U={};["status","statusText","headers"].forEach(Z=>{U[Z]=_[Z]});const Y=K.toFiniteNumber(_.headers.get("content-length")),[j,G]=h&&Xg(Y,Gc(Gg(h),!0))||[];_=new Response(Zg(_.body,Kg,j,()=>{G&&G(),R&&R()}),U)}g=g||"text";let P=await Qc[K.findKey(Qc,g)||"text"](_,e);return!O&&R&&R(),await new Promise((U,Y)=>{Oy(U,Y,{data:P,headers:En.from(_.headers),status:_.status,statusText:_.statusText,config:e,request:T})})}catch(I){throw R&&R(),I&&I.name==="TypeError"&&/fetch/i.test(I.message)?Object.assign(new Ae("Network Error",Ae.ERR_NETWORK,e,T),{cause:I.cause||I}):Ae.from(I,I&&I.code,e,T)}}),lh={http:Mv,xhr:o4,fetch:p4};K.forEach(lh,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch{}Object.defineProperty(e,"adapterName",{value:t})}});const qg=e=>`- ${e}`,m4=e=>K.isFunction(e)||e===null||e===!1,Py={getAdapter:e=>{e=K.isArray(e)?e:[e];const{length:t}=e;let n,r;const s={};for(let a=0;a<t;a++){n=e[a];let c;if(r=n,!m4(n)&&(r=lh[(c=String(n)).toLowerCase()],r===void 0))throw new Ae(`Unknown adapter '${c}'`);if(r)break;s[c||"#"+a]=r}if(!r){const a=Object.entries(s).map(([h,p])=>`adapter ${h} `+(p===!1?"is not supported by the environment":"is not available in the build"));let c=t?a.length>1?`since :
`+a.map(qg).join(`
`):" "+qg(a[0]):"as no adapter specified";throw new Ae("There is no suitable adapter to dispatch the request "+c,"ERR_NOT_SUPPORT")}return r},adapters:lh};function Hf(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new yo(null,e)}function $g(e){return Hf(e),e.headers=En.from(e.headers),e.data=zf.call(e,e.transformRequest),["post","put","patch"].indexOf(e.method)!==-1&&e.headers.setContentType("application/x-www-form-urlencoded",!1),Py.getAdapter(e.adapter||nl.adapter)(e).then(function(r){return Hf(e),r.data=zf.call(e,e.transformResponse,r),r.headers=En.from(r.headers),r},function(r){return My(r)||(Hf(e),r&&r.response&&(r.response.data=zf.call(e,e.transformResponse,r.response),r.response.headers=En.from(r.response.headers))),Promise.reject(r)})}const By="1.8.4",Bu={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{Bu[e]=function(r){return typeof r===e||"a"+(t<1?"n ":" ")+e}});const Jg={};Bu.transitional=function(t,n,r){function s(a,c){return"[Axios v"+By+"] Transitional option '"+a+"'"+c+(r?". "+r:"")}return(a,c,h)=>{if(t===!1)throw new Ae(s(c," has been removed"+(n?" in "+n:"")),Ae.ERR_DEPRECATED);return n&&!Jg[c]&&(Jg[c]=!0,console.warn(s(c," has been deprecated since v"+n+" and will be removed in the near future"))),t?t(a,c,h):!0}};Bu.spelling=function(t){return(n,r)=>(console.warn(`${r} is likely a misspelling of ${t}`),!0)};function x4(e,t,n){if(typeof e!="object")throw new Ae("options must be an object",Ae.ERR_BAD_OPTION_VALUE);const r=Object.keys(e);let s=r.length;for(;s-- >0;){const a=r[s],c=t[a];if(c){const h=e[a],p=h===void 0||c(h,a,e);if(p!==!0)throw new Ae("option "+a+" must be "+p,Ae.ERR_BAD_OPTION_VALUE);continue}if(n!==!0)throw new Ae("Unknown option "+a,Ae.ERR_BAD_OPTION)}}const dc={assertOptions:x4,validators:Bu},wr=dc.validators;class os{constructor(t){this.defaults=t,this.interceptors={request:new Vg,response:new Vg}}async request(t,n){try{return await this._request(t,n)}catch(r){if(r instanceof Error){let s={};Error.captureStackTrace?Error.captureStackTrace(s):s=new Error;const a=s.stack?s.stack.replace(/^.+\n/,""):"";try{r.stack?a&&!String(r.stack).endsWith(a.replace(/^.+\n.+\n/,""))&&(r.stack+=`
`+a):r.stack=a}catch{}}throw r}}_request(t,n){typeof t=="string"?(n=n||{},n.url=t):n=t||{},n=ps(this.defaults,n);const{transitional:r,paramsSerializer:s,headers:a}=n;r!==void 0&&dc.assertOptions(r,{silentJSONParsing:wr.transitional(wr.boolean),forcedJSONParsing:wr.transitional(wr.boolean),clarifyTimeoutError:wr.transitional(wr.boolean)},!1),s!=null&&(K.isFunction(s)?n.paramsSerializer={serialize:s}:dc.assertOptions(s,{encode:wr.function,serialize:wr.function},!0)),n.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?n.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:n.allowAbsoluteUrls=!0),dc.assertOptions(n,{baseUrl:wr.spelling("baseURL"),withXsrfToken:wr.spelling("withXSRFToken")},!0),n.method=(n.method||this.defaults.method||"get").toLowerCase();let c=a&&K.merge(a.common,a[n.method]);a&&K.forEach(["delete","get","head","post","put","patch","common"],T=>{delete a[T]}),n.headers=En.concat(c,a);const h=[];let p=!0;this.interceptors.request.forEach(function(R){typeof R.runWhen=="function"&&R.runWhen(n)===!1||(p=p&&R.synchronous,h.unshift(R.fulfilled,R.rejected))});const g=[];this.interceptors.response.forEach(function(R){g.push(R.fulfilled,R.rejected)});let y,C=0,A;if(!p){const T=[$g.bind(this),void 0];for(T.unshift.apply(T,h),T.push.apply(T,g),A=T.length,y=Promise.resolve(n);C<A;)y=y.then(T[C++],T[C++]);return y}A=h.length;let v=n;for(C=0;C<A;){const T=h[C++],R=h[C++];try{v=T(v)}catch(D){R.call(this,D);break}}try{y=$g.call(this,v)}catch(T){return Promise.reject(T)}for(C=0,A=g.length;C<A;)y=y.then(g[C++],g[C++]);return y}getUri(t){t=ps(this.defaults,t);const n=Ry(t.baseURL,t.url,t.allowAbsoluteUrls);return Iy(n,t.params,t.paramsSerializer)}}K.forEach(["delete","get","head","options"],function(t){os.prototype[t]=function(n,r){return this.request(ps(r||{},{method:t,url:n,data:(r||{}).data}))}});K.forEach(["post","put","patch"],function(t){function n(r){return function(a,c,h){return this.request(ps(h||{},{method:t,headers:r?{"Content-Type":"multipart/form-data"}:{},url:a,data:c}))}}os.prototype[t]=n(),os.prototype[t+"Form"]=n(!0)});class T0{constructor(t){if(typeof t!="function")throw new TypeError("executor must be a function.");let n;this.promise=new Promise(function(a){n=a});const r=this;this.promise.then(s=>{if(!r._listeners)return;let a=r._listeners.length;for(;a-- >0;)r._listeners[a](s);r._listeners=null}),this.promise.then=s=>{let a;const c=new Promise(h=>{r.subscribe(h),a=h}).then(s);return c.cancel=function(){r.unsubscribe(a)},c},t(function(a,c,h){r.reason||(r.reason=new yo(a,c,h),n(r.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(t){if(this.reason){t(this.reason);return}this._listeners?this._listeners.push(t):this._listeners=[t]}unsubscribe(t){if(!this._listeners)return;const n=this._listeners.indexOf(t);n!==-1&&this._listeners.splice(n,1)}toAbortSignal(){const t=new AbortController,n=r=>{t.abort(r)};return this.subscribe(n),t.signal.unsubscribe=()=>this.unsubscribe(n),t.signal}static source(){let t;return{token:new T0(function(s){t=s}),cancel:t}}}function y4(e){return function(n){return e.apply(null,n)}}function w4(e){return K.isObject(e)&&e.isAxiosError===!0}const ch={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(ch).forEach(([e,t])=>{ch[t]=e});function Fy(e){const t=new os(e),n=my(os.prototype.request,t);return K.extend(n,os.prototype,t,{allOwnKeys:!0}),K.extend(n,t,null,{allOwnKeys:!0}),n.create=function(s){return Fy(ps(e,s))},n}const Ze=Fy(nl);Ze.Axios=os;Ze.CanceledError=yo;Ze.CancelToken=T0;Ze.isCancel=My;Ze.VERSION=By;Ze.toFormData=Lu;Ze.AxiosError=Ae;Ze.Cancel=Ze.CanceledError;Ze.all=function(t){return Promise.all(t)};Ze.spread=y4;Ze.isAxiosError=w4;Ze.mergeConfig=ps;Ze.AxiosHeaders=En;Ze.formToJSON=e=>Ny(K.isHTMLForm(e)?new FormData(e):e);Ze.getAdapter=Py.getAdapter;Ze.HttpStatusCode=ch;Ze.default=Ze;const C4=()=>{const[e,t]=V.useState(""),[n,r]=V.useState(""),s=Cs(),a=_u(),c=async h=>{var p,g;h.preventDefault();try{const C=(await Ze.post("/api/auth/signin",{email:e,password:n})).data;a(A0({user:C.user,token:C.token})),Ht.success("Login successful!"),s("/")}catch(y){const C=((g=(p=y.response)==null?void 0:p.data)==null?void 0:g.message)||"Something went wrong. Please try again.";Ht.error(C)}};return M.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-100",children:M.jsxs("div",{className:"bg-white p-8 rounded-lg shadow-md w-96",children:[M.jsxs("div",{className:"flex items-center justify-center mb-8",children:[M.jsx(py,{className:"w-8 h-8 text-blue-600"}),M.jsx("h2",{className:"text-2xl font-bold ml-2",children:"Login"})]}),M.jsxs("form",{onSubmit:c,children:[M.jsxs("div",{className:"mb-4",children:[M.jsx("label",{className:"block text-gray-700 text-sm font-bold mb-2",children:"Email"}),M.jsx("input",{type:"email",value:e,onChange:h=>t(h.target.value),className:"w-full p-2 border rounded-md",required:!0})]}),M.jsxs("div",{className:"mb-6",children:[M.jsx("label",{className:"block text-gray-700 text-sm font-bold mb-2",children:"Password"}),M.jsx("input",{type:"password",value:n,onChange:h=>r(h.target.value),className:"w-full p-2 border rounded-md",required:!0})]}),M.jsx("button",{type:"submit",className:"w-full bg-blue-600 text-white py-2 rounded-md hover:bg-blue-700",children:"Login"})]}),M.jsxs("p",{className:"mt-4 text-center text-gray-600",children:["Don't have an account?"," ",M.jsx(Mn,{to:"/signup",className:"text-blue-600 hover:underline",children:"Sign up"})]})]})})};/*!
 * @kurkle/color v0.3.4
 * https://github.com/kurkle/color#readme
 * (c) 2024 Jukka Kurkela
 * Released under the MIT License
 */function rl(e){return e+.5|0}const pi=(e,t,n)=>Math.max(Math.min(e,n),t);function Jo(e){return pi(rl(e*2.55),0,255)}function _i(e){return pi(rl(e*255),0,255)}function Pr(e){return pi(rl(e/2.55)/100,0,1)}function ep(e){return pi(rl(e*100),0,100)}const Hn={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},uh=[..."0123456789ABCDEF"],E4=e=>uh[e&15],A4=e=>uh[(e&240)>>4]+uh[e&15],Bl=e=>(e&240)>>4===(e&15),S4=e=>Bl(e.r)&&Bl(e.g)&&Bl(e.b)&&Bl(e.a);function b4(e){var t=e.length,n;return e[0]==="#"&&(t===4||t===5?n={r:255&Hn[e[1]]*17,g:255&Hn[e[2]]*17,b:255&Hn[e[3]]*17,a:t===5?Hn[e[4]]*17:255}:(t===7||t===9)&&(n={r:Hn[e[1]]<<4|Hn[e[2]],g:Hn[e[3]]<<4|Hn[e[4]],b:Hn[e[5]]<<4|Hn[e[6]],a:t===9?Hn[e[7]]<<4|Hn[e[8]]:255})),n}const v4=(e,t)=>e<255?t(e):"";function _4(e){var t=S4(e)?E4:A4;return e?"#"+t(e.r)+t(e.g)+t(e.b)+v4(e.a,t):void 0}const I4=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function jy(e,t,n){const r=t*Math.min(n,1-n),s=(a,c=(a+e/30)%12)=>n-r*Math.max(Math.min(c-3,9-c,1),-1);return[s(0),s(8),s(4)]}function T4(e,t,n){const r=(s,a=(s+e/60)%6)=>n-n*t*Math.max(Math.min(a,4-a,1),0);return[r(5),r(3),r(1)]}function N4(e,t,n){const r=jy(e,1,.5);let s;for(t+n>1&&(s=1/(t+n),t*=s,n*=s),s=0;s<3;s++)r[s]*=1-t-n,r[s]+=t;return r}function M4(e,t,n,r,s){return e===s?(t-n)/r+(t<n?6:0):t===s?(n-e)/r+2:(e-t)/r+4}function N0(e){const n=e.r/255,r=e.g/255,s=e.b/255,a=Math.max(n,r,s),c=Math.min(n,r,s),h=(a+c)/2;let p,g,y;return a!==c&&(y=a-c,g=h>.5?y/(2-a-c):y/(a+c),p=M4(n,r,s,y,a),p=p*60+.5),[p|0,g||0,h]}function M0(e,t,n,r){return(Array.isArray(t)?e(t[0],t[1],t[2]):e(t,n,r)).map(_i)}function O0(e,t,n){return M0(jy,e,t,n)}function O4(e,t,n){return M0(N4,e,t,n)}function R4(e,t,n){return M0(T4,e,t,n)}function Uy(e){return(e%360+360)%360}function D4(e){const t=I4.exec(e);let n=255,r;if(!t)return;t[5]!==r&&(n=t[6]?Jo(+t[5]):_i(+t[5]));const s=Uy(+t[2]),a=+t[3]/100,c=+t[4]/100;return t[1]==="hwb"?r=O4(s,a,c):t[1]==="hsv"?r=R4(s,a,c):r=O0(s,a,c),{r:r[0],g:r[1],b:r[2],a:n}}function k4(e,t){var n=N0(e);n[0]=Uy(n[0]+t),n=O0(n),e.r=n[0],e.g=n[1],e.b=n[2]}function L4(e){if(!e)return;const t=N0(e),n=t[0],r=ep(t[1]),s=ep(t[2]);return e.a<255?`hsla(${n}, ${r}%, ${s}%, ${Pr(e.a)})`:`hsl(${n}, ${r}%, ${s}%)`}const tp={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},np={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function P4(){const e={},t=Object.keys(np),n=Object.keys(tp);let r,s,a,c,h;for(r=0;r<t.length;r++){for(c=h=t[r],s=0;s<n.length;s++)a=n[s],h=h.replace(a,tp[a]);a=parseInt(np[c],16),e[h]=[a>>16&255,a>>8&255,a&255]}return e}let Fl;function B4(e){Fl||(Fl=P4(),Fl.transparent=[0,0,0,0]);const t=Fl[e.toLowerCase()];return t&&{r:t[0],g:t[1],b:t[2],a:t.length===4?t[3]:255}}const F4=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function j4(e){const t=F4.exec(e);let n=255,r,s,a;if(t){if(t[7]!==r){const c=+t[7];n=t[8]?Jo(c):pi(c*255,0,255)}return r=+t[1],s=+t[3],a=+t[5],r=255&(t[2]?Jo(r):pi(r,0,255)),s=255&(t[4]?Jo(s):pi(s,0,255)),a=255&(t[6]?Jo(a):pi(a,0,255)),{r,g:s,b:a,a:n}}}function U4(e){return e&&(e.a<255?`rgba(${e.r}, ${e.g}, ${e.b}, ${Pr(e.a)})`:`rgb(${e.r}, ${e.g}, ${e.b})`)}const Wf=e=>e<=.0031308?e*12.92:Math.pow(e,1/2.4)*1.055-.055,Ds=e=>e<=.04045?e/12.92:Math.pow((e+.055)/1.055,2.4);function z4(e,t,n){const r=Ds(Pr(e.r)),s=Ds(Pr(e.g)),a=Ds(Pr(e.b));return{r:_i(Wf(r+n*(Ds(Pr(t.r))-r))),g:_i(Wf(s+n*(Ds(Pr(t.g))-s))),b:_i(Wf(a+n*(Ds(Pr(t.b))-a))),a:e.a+n*(t.a-e.a)}}function jl(e,t,n){if(e){let r=N0(e);r[t]=Math.max(0,Math.min(r[t]+r[t]*n,t===0?360:1)),r=O0(r),e.r=r[0],e.g=r[1],e.b=r[2]}}function zy(e,t){return e&&Object.assign(t||{},e)}function rp(e){var t={r:0,g:0,b:0,a:255};return Array.isArray(e)?e.length>=3&&(t={r:e[0],g:e[1],b:e[2],a:255},e.length>3&&(t.a=_i(e[3]))):(t=zy(e,{r:0,g:0,b:0,a:1}),t.a=_i(t.a)),t}function H4(e){return e.charAt(0)==="r"?j4(e):D4(e)}class Ha{constructor(t){if(t instanceof Ha)return t;const n=typeof t;let r;n==="object"?r=rp(t):n==="string"&&(r=b4(t)||B4(t)||H4(t)),this._rgb=r,this._valid=!!r}get valid(){return this._valid}get rgb(){var t=zy(this._rgb);return t&&(t.a=Pr(t.a)),t}set rgb(t){this._rgb=rp(t)}rgbString(){return this._valid?U4(this._rgb):void 0}hexString(){return this._valid?_4(this._rgb):void 0}hslString(){return this._valid?L4(this._rgb):void 0}mix(t,n){if(t){const r=this.rgb,s=t.rgb;let a;const c=n===a?.5:n,h=2*c-1,p=r.a-s.a,g=((h*p===-1?h:(h+p)/(1+h*p))+1)/2;a=1-g,r.r=255&g*r.r+a*s.r+.5,r.g=255&g*r.g+a*s.g+.5,r.b=255&g*r.b+a*s.b+.5,r.a=c*r.a+(1-c)*s.a,this.rgb=r}return this}interpolate(t,n){return t&&(this._rgb=z4(this._rgb,t._rgb,n)),this}clone(){return new Ha(this.rgb)}alpha(t){return this._rgb.a=_i(t),this}clearer(t){const n=this._rgb;return n.a*=1-t,this}greyscale(){const t=this._rgb,n=rl(t.r*.3+t.g*.59+t.b*.11);return t.r=t.g=t.b=n,this}opaquer(t){const n=this._rgb;return n.a*=1+t,this}negate(){const t=this._rgb;return t.r=255-t.r,t.g=255-t.g,t.b=255-t.b,this}lighten(t){return jl(this._rgb,2,t),this}darken(t){return jl(this._rgb,2,-t),this}saturate(t){return jl(this._rgb,1,t),this}desaturate(t){return jl(this._rgb,1,-t),this}rotate(t){return k4(this._rgb,t),this}}/*!
 * Chart.js v4.4.9
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */function Mr(){}const W4=(()=>{let e=0;return()=>e++})();function $t(e){return e==null}function Wt(e){if(Array.isArray&&Array.isArray(e))return!0;const t=Object.prototype.toString.call(e);return t.slice(0,7)==="[object"&&t.slice(-6)==="Array]"}function ke(e){return e!==null&&Object.prototype.toString.call(e)==="[object Object]"}function Zr(e){return(typeof e=="number"||e instanceof Number)&&isFinite(+e)}function Cr(e,t){return Zr(e)?e:t}function We(e,t){return typeof e>"u"?t:e}const V4=(e,t)=>typeof e=="string"&&e.endsWith("%")?parseFloat(e)/100:+e/t,Hy=(e,t)=>typeof e=="string"&&e.endsWith("%")?parseFloat(e)/100*t:+e;function nt(e,t,n){if(e&&typeof e.call=="function")return e.apply(n,t)}function He(e,t,n,r){let s,a,c;if(Wt(e))for(a=e.length,s=0;s<a;s++)t.call(n,e[s],s);else if(ke(e))for(c=Object.keys(e),a=c.length,s=0;s<a;s++)t.call(n,e[c[s]],c[s])}function Zc(e,t){let n,r,s,a;if(!e||!t||e.length!==t.length)return!1;for(n=0,r=e.length;n<r;++n)if(s=e[n],a=t[n],s.datasetIndex!==a.datasetIndex||s.index!==a.index)return!1;return!0}function Kc(e){if(Wt(e))return e.map(Kc);if(ke(e)){const t=Object.create(null),n=Object.keys(e),r=n.length;let s=0;for(;s<r;++s)t[n[s]]=Kc(e[n[s]]);return t}return e}function Wy(e){return["__proto__","prototype","constructor"].indexOf(e)===-1}function Y4(e,t,n,r){if(!Wy(e))return;const s=t[e],a=n[e];ke(s)&&ke(a)?Wa(s,a,r):t[e]=Kc(a)}function Wa(e,t,n){const r=Wt(t)?t:[t],s=r.length;if(!ke(e))return e;n=n||{};const a=n.merger||Y4;let c;for(let h=0;h<s;++h){if(c=r[h],!ke(c))continue;const p=Object.keys(c);for(let g=0,y=p.length;g<y;++g)a(p[g],e,c,n)}return e}function pa(e,t){return Wa(e,t,{merger:X4})}function X4(e,t,n){if(!Wy(e))return;const r=t[e],s=n[e];ke(r)&&ke(s)?pa(r,s):Object.prototype.hasOwnProperty.call(t,e)||(t[e]=Kc(s))}const ip={"":e=>e,x:e=>e.x,y:e=>e.y};function G4(e){const t=e.split("."),n=[];let r="";for(const s of t)r+=s,r.endsWith("\\")?r=r.slice(0,-1)+".":(n.push(r),r="");return n}function Q4(e){const t=G4(e);return n=>{for(const r of t){if(r==="")break;n=n&&n[r]}return n}}function Va(e,t){return(ip[t]||(ip[t]=Q4(t)))(e)}function R0(e){return e.charAt(0).toUpperCase()+e.slice(1)}const qc=e=>typeof e<"u",Mi=e=>typeof e=="function",sp=(e,t)=>{if(e.size!==t.size)return!1;for(const n of e)if(!t.has(n))return!1;return!0};function Z4(e){return e.type==="mouseup"||e.type==="click"||e.type==="contextmenu"}const Lt=Math.PI,At=2*Lt,$c=Number.POSITIVE_INFINITY,K4=Lt/180,Tt=Lt/2,Vi=Lt/4,op=Lt*2/3,ap=Math.log10,lp=Math.sign;function q4(e){const t=[],n=Math.sqrt(e);let r;for(r=1;r<n;r++)e%r===0&&(t.push(r),t.push(e/r));return n===(n|0)&&t.push(n),t.sort((s,a)=>s-a).pop(),t}function $4(e){return typeof e=="symbol"||typeof e=="object"&&e!==null&&!(Symbol.toPrimitive in e||"toString"in e||"valueOf"in e)}function Jc(e){return!$4(e)&&!isNaN(parseFloat(e))&&isFinite(e)}function rs(e){return e*(Lt/180)}function J4(e){return e*(180/Lt)}function Vy(e,t){const n=t.x-e.x,r=t.y-e.y,s=Math.sqrt(n*n+r*r);let a=Math.atan2(r,n);return a<-.5*Lt&&(a+=At),{angle:a,distance:s}}function e_(e,t){return Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2))}function Yi(e){return(e%At+At)%At}function eu(e,t,n,r){const s=Yi(e),a=Yi(t),c=Yi(n),h=Yi(a-s),p=Yi(c-s),g=Yi(s-a),y=Yi(s-c);return s===a||s===c||r&&a===c||h>p&&g<y}function Gn(e,t,n){return Math.max(t,Math.min(n,e))}function t_(e){return Gn(e,-32768,32767)}function ea(e,t,n,r=1e-6){return e>=Math.min(t,n)-r&&e<=Math.max(t,n)+r}function D0(e,t,n){n=n||(c=>e[c]<t);let r=e.length-1,s=0,a;for(;r-s>1;)a=s+r>>1,n(a)?s=a:r=a;return{lo:s,hi:r}}const fh=(e,t,n,r)=>D0(e,n,r?s=>{const a=e[s][t];return a<n||a===n&&e[s+1][t]===n}:s=>e[s][t]<n),n_=(e,t,n)=>D0(e,n,r=>e[r][t]>=n);function r_(e,t,n){let r=0,s=e.length;for(;r<s&&e[r]<t;)r++;for(;s>r&&e[s-1]>n;)s--;return r>0||s<e.length?e.slice(r,s):e}const Yy=["push","pop","shift","splice","unshift"];function i_(e,t){if(e._chartjs){e._chartjs.listeners.push(t);return}Object.defineProperty(e,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[t]}}),Yy.forEach(n=>{const r="_onData"+R0(n),s=e[n];Object.defineProperty(e,n,{configurable:!0,enumerable:!1,value(...a){const c=s.apply(this,a);return e._chartjs.listeners.forEach(h=>{typeof h[r]=="function"&&h[r](...a)}),c}})})}function cp(e,t){const n=e._chartjs;if(!n)return;const r=n.listeners,s=r.indexOf(t);s!==-1&&r.splice(s,1),!(r.length>0)&&(Yy.forEach(a=>{delete e[a]}),delete e._chartjs)}function s_(e){const t=new Set(e);return t.size===e.length?e:Array.from(t)}const Xy=function(){return typeof window>"u"?function(e){return e()}:window.requestAnimationFrame}();function Gy(e,t){let n=[],r=!1;return function(...s){n=s,r||(r=!0,Xy.call(window,()=>{r=!1,e.apply(t,n)}))}}function o_(e,t){let n;return function(...r){return t?(clearTimeout(n),n=setTimeout(e,t,r)):e.apply(this,r),t}}const Qy=e=>e==="start"?"left":e==="end"?"right":"center",bn=(e,t,n)=>e==="start"?t:e==="end"?n:(t+n)/2,a_=(e,t,n,r)=>e===(r?"left":"right")?n:e==="center"?(t+n)/2:t,Ul=e=>e===0||e===1,up=(e,t,n)=>-(Math.pow(2,10*(e-=1))*Math.sin((e-t)*At/n)),fp=(e,t,n)=>Math.pow(2,-10*e)*Math.sin((e-t)*At/n)+1,ma={linear:e=>e,easeInQuad:e=>e*e,easeOutQuad:e=>-e*(e-2),easeInOutQuad:e=>(e/=.5)<1?.5*e*e:-.5*(--e*(e-2)-1),easeInCubic:e=>e*e*e,easeOutCubic:e=>(e-=1)*e*e+1,easeInOutCubic:e=>(e/=.5)<1?.5*e*e*e:.5*((e-=2)*e*e+2),easeInQuart:e=>e*e*e*e,easeOutQuart:e=>-((e-=1)*e*e*e-1),easeInOutQuart:e=>(e/=.5)<1?.5*e*e*e*e:-.5*((e-=2)*e*e*e-2),easeInQuint:e=>e*e*e*e*e,easeOutQuint:e=>(e-=1)*e*e*e*e+1,easeInOutQuint:e=>(e/=.5)<1?.5*e*e*e*e*e:.5*((e-=2)*e*e*e*e+2),easeInSine:e=>-Math.cos(e*Tt)+1,easeOutSine:e=>Math.sin(e*Tt),easeInOutSine:e=>-.5*(Math.cos(Lt*e)-1),easeInExpo:e=>e===0?0:Math.pow(2,10*(e-1)),easeOutExpo:e=>e===1?1:-Math.pow(2,-10*e)+1,easeInOutExpo:e=>Ul(e)?e:e<.5?.5*Math.pow(2,10*(e*2-1)):.5*(-Math.pow(2,-10*(e*2-1))+2),easeInCirc:e=>e>=1?e:-(Math.sqrt(1-e*e)-1),easeOutCirc:e=>Math.sqrt(1-(e-=1)*e),easeInOutCirc:e=>(e/=.5)<1?-.5*(Math.sqrt(1-e*e)-1):.5*(Math.sqrt(1-(e-=2)*e)+1),easeInElastic:e=>Ul(e)?e:up(e,.075,.3),easeOutElastic:e=>Ul(e)?e:fp(e,.075,.3),easeInOutElastic(e){return Ul(e)?e:e<.5?.5*up(e*2,.1125,.45):.5+.5*fp(e*2-1,.1125,.45)},easeInBack(e){return e*e*((1.70158+1)*e-1.70158)},easeOutBack(e){return(e-=1)*e*((1.70158+1)*e+1.70158)+1},easeInOutBack(e){let t=1.70158;return(e/=.5)<1?.5*(e*e*(((t*=1.525)+1)*e-t)):.5*((e-=2)*e*(((t*=1.525)+1)*e+t)+2)},easeInBounce:e=>1-ma.easeOutBounce(1-e),easeOutBounce(e){return e<1/2.75?7.5625*e*e:e<2/2.75?7.5625*(e-=1.5/2.75)*e+.75:e<2.5/2.75?7.5625*(e-=2.25/2.75)*e+.9375:7.5625*(e-=2.625/2.75)*e+.984375},easeInOutBounce:e=>e<.5?ma.easeInBounce(e*2)*.5:ma.easeOutBounce(e*2-1)*.5+.5};function Zy(e){if(e&&typeof e=="object"){const t=e.toString();return t==="[object CanvasPattern]"||t==="[object CanvasGradient]"}return!1}function dp(e){return Zy(e)?e:new Ha(e)}function Vf(e){return Zy(e)?e:new Ha(e).saturate(.5).darken(.1).hexString()}const l_=["x","y","borderWidth","radius","tension"],c_=["color","borderColor","backgroundColor"];function u_(e){e.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),e.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:t=>t!=="onProgress"&&t!=="onComplete"&&t!=="fn"}),e.set("animations",{colors:{type:"color",properties:c_},numbers:{type:"number",properties:l_}}),e.describe("animations",{_fallback:"animation"}),e.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:t=>t|0}}}})}function f_(e){e.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})}const hp=new Map;function d_(e,t){t=t||{};const n=e+JSON.stringify(t);let r=hp.get(n);return r||(r=new Intl.NumberFormat(e,t),hp.set(n,r)),r}function Ky(e,t,n){return d_(t,n).format(e)}const qy={values(e){return Wt(e)?e:""+e},numeric(e,t,n){if(e===0)return"0";const r=this.chart.options.locale;let s,a=e;if(n.length>1){const g=Math.max(Math.abs(n[0].value),Math.abs(n[n.length-1].value));(g<1e-4||g>1e15)&&(s="scientific"),a=h_(e,n)}const c=ap(Math.abs(a)),h=isNaN(c)?1:Math.max(Math.min(-1*Math.floor(c),20),0),p={notation:s,minimumFractionDigits:h,maximumFractionDigits:h};return Object.assign(p,this.options.ticks.format),Ky(e,r,p)},logarithmic(e,t,n){if(e===0)return"0";const r=n[t].significand||e/Math.pow(10,Math.floor(ap(e)));return[1,2,3,5,10,15].includes(r)||t>.8*n.length?qy.numeric.call(this,e,t,n):""}};function h_(e,t){let n=t.length>3?t[2].value-t[1].value:t[1].value-t[0].value;return Math.abs(n)>=1&&e!==Math.floor(e)&&(n=e-Math.floor(e)),n}var g_={formatters:qy};function p_(e){e.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(t,n)=>n.lineWidth,tickColor:(t,n)=>n.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:g_.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),e.route("scale.ticks","color","","color"),e.route("scale.grid","color","","borderColor"),e.route("scale.border","color","","borderColor"),e.route("scale.title","color","","color"),e.describe("scale",{_fallback:!1,_scriptable:t=>!t.startsWith("before")&&!t.startsWith("after")&&t!=="callback"&&t!=="parser",_indexable:t=>t!=="borderDash"&&t!=="tickBorderDash"&&t!=="dash"}),e.describe("scales",{_fallback:"scale"}),e.describe("scale.ticks",{_scriptable:t=>t!=="backdropPadding"&&t!=="callback",_indexable:t=>t!=="backdropPadding"})}const ms=Object.create(null),dh=Object.create(null);function xa(e,t){if(!t)return e;const n=t.split(".");for(let r=0,s=n.length;r<s;++r){const a=n[r];e=e[a]||(e[a]=Object.create(null))}return e}function Yf(e,t,n){return typeof t=="string"?Wa(xa(e,t),n):Wa(xa(e,""),t)}class m_{constructor(t,n){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=r=>r.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(r,s)=>Vf(s.backgroundColor),this.hoverBorderColor=(r,s)=>Vf(s.borderColor),this.hoverColor=(r,s)=>Vf(s.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(t),this.apply(n)}set(t,n){return Yf(this,t,n)}get(t){return xa(this,t)}describe(t,n){return Yf(dh,t,n)}override(t,n){return Yf(ms,t,n)}route(t,n,r,s){const a=xa(this,t),c=xa(this,r),h="_"+n;Object.defineProperties(a,{[h]:{value:a[n],writable:!0},[n]:{enumerable:!0,get(){const p=this[h],g=c[s];return ke(p)?Object.assign({},g,p):We(p,g)},set(p){this[h]=p}}})}apply(t){t.forEach(n=>n(this))}}var yt=new m_({_scriptable:e=>!e.startsWith("on"),_indexable:e=>e!=="events",hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[u_,f_,p_]);function x_(e){return!e||$t(e.size)||$t(e.family)?null:(e.style?e.style+" ":"")+(e.weight?e.weight+" ":"")+e.size+"px "+e.family}function gp(e,t,n,r,s){let a=t[s];return a||(a=t[s]=e.measureText(s).width,n.push(s)),a>r&&(r=a),r}function Xi(e,t,n){const r=e.currentDevicePixelRatio,s=n!==0?Math.max(n/2,.5):0;return Math.round((t-s)*r)/r+s}function pp(e,t){!t&&!e||(t=t||e.getContext("2d"),t.save(),t.resetTransform(),t.clearRect(0,0,e.width,e.height),t.restore())}function mp(e,t,n,r){$y(e,t,n,r,null)}function $y(e,t,n,r,s){let a,c,h,p,g,y,C,A;const v=t.pointStyle,T=t.rotation,R=t.radius;let D=(T||0)*K4;if(v&&typeof v=="object"&&(a=v.toString(),a==="[object HTMLImageElement]"||a==="[object HTMLCanvasElement]")){e.save(),e.translate(n,r),e.rotate(D),e.drawImage(v,-v.width/2,-v.height/2,v.width,v.height),e.restore();return}if(!(isNaN(R)||R<=0)){switch(e.beginPath(),v){default:s?e.ellipse(n,r,s/2,R,0,0,At):e.arc(n,r,R,0,At),e.closePath();break;case"triangle":y=s?s/2:R,e.moveTo(n+Math.sin(D)*y,r-Math.cos(D)*R),D+=op,e.lineTo(n+Math.sin(D)*y,r-Math.cos(D)*R),D+=op,e.lineTo(n+Math.sin(D)*y,r-Math.cos(D)*R),e.closePath();break;case"rectRounded":g=R*.516,p=R-g,c=Math.cos(D+Vi)*p,C=Math.cos(D+Vi)*(s?s/2-g:p),h=Math.sin(D+Vi)*p,A=Math.sin(D+Vi)*(s?s/2-g:p),e.arc(n-C,r-h,g,D-Lt,D-Tt),e.arc(n+A,r-c,g,D-Tt,D),e.arc(n+C,r+h,g,D,D+Tt),e.arc(n-A,r+c,g,D+Tt,D+Lt),e.closePath();break;case"rect":if(!T){p=Math.SQRT1_2*R,y=s?s/2:p,e.rect(n-y,r-p,2*y,2*p);break}D+=Vi;case"rectRot":C=Math.cos(D)*(s?s/2:R),c=Math.cos(D)*R,h=Math.sin(D)*R,A=Math.sin(D)*(s?s/2:R),e.moveTo(n-C,r-h),e.lineTo(n+A,r-c),e.lineTo(n+C,r+h),e.lineTo(n-A,r+c),e.closePath();break;case"crossRot":D+=Vi;case"cross":C=Math.cos(D)*(s?s/2:R),c=Math.cos(D)*R,h=Math.sin(D)*R,A=Math.sin(D)*(s?s/2:R),e.moveTo(n-C,r-h),e.lineTo(n+C,r+h),e.moveTo(n+A,r-c),e.lineTo(n-A,r+c);break;case"star":C=Math.cos(D)*(s?s/2:R),c=Math.cos(D)*R,h=Math.sin(D)*R,A=Math.sin(D)*(s?s/2:R),e.moveTo(n-C,r-h),e.lineTo(n+C,r+h),e.moveTo(n+A,r-c),e.lineTo(n-A,r+c),D+=Vi,C=Math.cos(D)*(s?s/2:R),c=Math.cos(D)*R,h=Math.sin(D)*R,A=Math.sin(D)*(s?s/2:R),e.moveTo(n-C,r-h),e.lineTo(n+C,r+h),e.moveTo(n+A,r-c),e.lineTo(n-A,r+c);break;case"line":c=s?s/2:Math.cos(D)*R,h=Math.sin(D)*R,e.moveTo(n-c,r-h),e.lineTo(n+c,r+h);break;case"dash":e.moveTo(n,r),e.lineTo(n+Math.cos(D)*(s?s/2:R),r+Math.sin(D)*R);break;case!1:e.closePath();break}e.fill(),t.borderWidth>0&&e.stroke()}}function Jy(e,t,n){return n=n||.5,!t||e&&e.x>t.left-n&&e.x<t.right+n&&e.y>t.top-n&&e.y<t.bottom+n}function k0(e,t){e.save(),e.beginPath(),e.rect(t.left,t.top,t.right-t.left,t.bottom-t.top),e.clip()}function L0(e){e.restore()}function y_(e,t){t.translation&&e.translate(t.translation[0],t.translation[1]),$t(t.rotation)||e.rotate(t.rotation),t.color&&(e.fillStyle=t.color),t.textAlign&&(e.textAlign=t.textAlign),t.textBaseline&&(e.textBaseline=t.textBaseline)}function w_(e,t,n,r,s){if(s.strikethrough||s.underline){const a=e.measureText(r),c=t-a.actualBoundingBoxLeft,h=t+a.actualBoundingBoxRight,p=n-a.actualBoundingBoxAscent,g=n+a.actualBoundingBoxDescent,y=s.strikethrough?(p+g)/2:g;e.strokeStyle=e.fillStyle,e.beginPath(),e.lineWidth=s.decorationWidth||2,e.moveTo(c,y),e.lineTo(h,y),e.stroke()}}function C_(e,t){const n=e.fillStyle;e.fillStyle=t.color,e.fillRect(t.left,t.top,t.width,t.height),e.fillStyle=n}function tu(e,t,n,r,s,a={}){const c=Wt(t)?t:[t],h=a.strokeWidth>0&&a.strokeColor!=="";let p,g;for(e.save(),e.font=s.string,y_(e,a),p=0;p<c.length;++p)g=c[p],a.backdrop&&C_(e,a.backdrop),h&&(a.strokeColor&&(e.strokeStyle=a.strokeColor),$t(a.strokeWidth)||(e.lineWidth=a.strokeWidth),e.strokeText(g,n,r,a.maxWidth)),e.fillText(g,n,r,a.maxWidth),w_(e,n,r,g,a),r+=Number(s.lineHeight);e.restore()}function hh(e,t){const{x:n,y:r,w:s,h:a,radius:c}=t;e.arc(n+c.topLeft,r+c.topLeft,c.topLeft,1.5*Lt,Lt,!0),e.lineTo(n,r+a-c.bottomLeft),e.arc(n+c.bottomLeft,r+a-c.bottomLeft,c.bottomLeft,Lt,Tt,!0),e.lineTo(n+s-c.bottomRight,r+a),e.arc(n+s-c.bottomRight,r+a-c.bottomRight,c.bottomRight,Tt,0,!0),e.lineTo(n+s,r+c.topRight),e.arc(n+s-c.topRight,r+c.topRight,c.topRight,0,-Tt,!0),e.lineTo(n+c.topLeft,r)}const E_=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,A_=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function S_(e,t){const n=(""+e).match(E_);if(!n||n[1]==="normal")return t*1.2;switch(e=+n[2],n[3]){case"px":return e;case"%":e/=100;break}return t*e}const b_=e=>+e||0;function P0(e,t){const n={},r=ke(t),s=r?Object.keys(t):t,a=ke(e)?r?c=>We(e[c],e[t[c]]):c=>e[c]:()=>e;for(const c of s)n[c]=b_(a(c));return n}function v_(e){return P0(e,{top:"y",right:"x",bottom:"y",left:"x"})}function ya(e){return P0(e,["topLeft","topRight","bottomLeft","bottomRight"])}function cr(e){const t=v_(e);return t.width=t.left+t.right,t.height=t.top+t.bottom,t}function xn(e,t){e=e||{},t=t||yt.font;let n=We(e.size,t.size);typeof n=="string"&&(n=parseInt(n,10));let r=We(e.style,t.style);r&&!(""+r).match(A_)&&(console.warn('Invalid font style specified: "'+r+'"'),r=void 0);const s={family:We(e.family,t.family),lineHeight:S_(We(e.lineHeight,t.lineHeight),n),size:n,style:r,weight:We(e.weight,t.weight),string:""};return s.string=x_(s),s}function zl(e,t,n,r){let s,a,c;for(s=0,a=e.length;s<a;++s)if(c=e[s],c!==void 0&&c!==void 0)return c}function __(e,t,n){const{min:r,max:s}=e,a=Hy(t,(s-r)/2),c=(h,p)=>n&&h===0?0:h+p;return{min:c(r,-Math.abs(a)),max:c(s,a)}}function wo(e,t){return Object.assign(Object.create(e),t)}function B0(e,t=[""],n,r,s=()=>e[0]){const a=n||e;typeof r>"u"&&(r=rw("_fallback",e));const c={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:e,_rootScopes:a,_fallback:r,_getTarget:s,override:h=>B0([h,...e],t,a,r)};return new Proxy(c,{deleteProperty(h,p){return delete h[p],delete h._keys,delete e[0][p],!0},get(h,p){return tw(h,p,()=>k_(p,t,e,h))},getOwnPropertyDescriptor(h,p){return Reflect.getOwnPropertyDescriptor(h._scopes[0],p)},getPrototypeOf(){return Reflect.getPrototypeOf(e[0])},has(h,p){return yp(h).includes(p)},ownKeys(h){return yp(h)},set(h,p,g){const y=h._storage||(h._storage=s());return h[p]=y[p]=g,delete h._keys,!0}})}function uo(e,t,n,r){const s={_cacheable:!1,_proxy:e,_context:t,_subProxy:n,_stack:new Set,_descriptors:ew(e,r),setContext:a=>uo(e,a,n,r),override:a=>uo(e.override(a),t,n,r)};return new Proxy(s,{deleteProperty(a,c){return delete a[c],delete e[c],!0},get(a,c,h){return tw(a,c,()=>T_(a,c,h))},getOwnPropertyDescriptor(a,c){return a._descriptors.allKeys?Reflect.has(e,c)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(e,c)},getPrototypeOf(){return Reflect.getPrototypeOf(e)},has(a,c){return Reflect.has(e,c)},ownKeys(){return Reflect.ownKeys(e)},set(a,c,h){return e[c]=h,delete a[c],!0}})}function ew(e,t={scriptable:!0,indexable:!0}){const{_scriptable:n=t.scriptable,_indexable:r=t.indexable,_allKeys:s=t.allKeys}=e;return{allKeys:s,scriptable:n,indexable:r,isScriptable:Mi(n)?n:()=>n,isIndexable:Mi(r)?r:()=>r}}const I_=(e,t)=>e?e+R0(t):t,F0=(e,t)=>ke(t)&&e!=="adapters"&&(Object.getPrototypeOf(t)===null||t.constructor===Object);function tw(e,t,n){if(Object.prototype.hasOwnProperty.call(e,t)||t==="constructor")return e[t];const r=n();return e[t]=r,r}function T_(e,t,n){const{_proxy:r,_context:s,_subProxy:a,_descriptors:c}=e;let h=r[t];return Mi(h)&&c.isScriptable(t)&&(h=N_(t,h,e,n)),Wt(h)&&h.length&&(h=M_(t,h,e,c.isIndexable)),F0(t,h)&&(h=uo(h,s,a&&a[t],c)),h}function N_(e,t,n,r){const{_proxy:s,_context:a,_subProxy:c,_stack:h}=n;if(h.has(e))throw new Error("Recursion detected: "+Array.from(h).join("->")+"->"+e);h.add(e);let p=t(a,c||r);return h.delete(e),F0(e,p)&&(p=j0(s._scopes,s,e,p)),p}function M_(e,t,n,r){const{_proxy:s,_context:a,_subProxy:c,_descriptors:h}=n;if(typeof a.index<"u"&&r(e))return t[a.index%t.length];if(ke(t[0])){const p=t,g=s._scopes.filter(y=>y!==p);t=[];for(const y of p){const C=j0(g,s,e,y);t.push(uo(C,a,c&&c[e],h))}}return t}function nw(e,t,n){return Mi(e)?e(t,n):e}const O_=(e,t)=>e===!0?t:typeof e=="string"?Va(t,e):void 0;function R_(e,t,n,r,s){for(const a of t){const c=O_(n,a);if(c){e.add(c);const h=nw(c._fallback,n,s);if(typeof h<"u"&&h!==n&&h!==r)return h}else if(c===!1&&typeof r<"u"&&n!==r)return null}return!1}function j0(e,t,n,r){const s=t._rootScopes,a=nw(t._fallback,n,r),c=[...e,...s],h=new Set;h.add(r);let p=xp(h,c,n,a||n,r);return p===null||typeof a<"u"&&a!==n&&(p=xp(h,c,a,p,r),p===null)?!1:B0(Array.from(h),[""],s,a,()=>D_(t,n,r))}function xp(e,t,n,r,s){for(;n;)n=R_(e,t,n,r,s);return n}function D_(e,t,n){const r=e._getTarget();t in r||(r[t]={});const s=r[t];return Wt(s)&&ke(n)?n:s||{}}function k_(e,t,n,r){let s;for(const a of t)if(s=rw(I_(a,e),n),typeof s<"u")return F0(e,s)?j0(n,r,e,s):s}function rw(e,t){for(const n of t){if(!n)continue;const r=n[e];if(typeof r<"u")return r}}function yp(e){let t=e._keys;return t||(t=e._keys=L_(e._scopes)),t}function L_(e){const t=new Set;for(const n of e)for(const r of Object.keys(n).filter(s=>!s.startsWith("_")))t.add(r);return Array.from(t)}function U0(){return typeof window<"u"&&typeof document<"u"}function z0(e){let t=e.parentNode;return t&&t.toString()==="[object ShadowRoot]"&&(t=t.host),t}function nu(e,t,n){let r;return typeof e=="string"?(r=parseInt(e,10),e.indexOf("%")!==-1&&(r=r/100*t.parentNode[n])):r=e,r}const Fu=e=>e.ownerDocument.defaultView.getComputedStyle(e,null);function P_(e,t){return Fu(e).getPropertyValue(t)}const B_=["top","right","bottom","left"];function as(e,t,n){const r={};n=n?"-"+n:"";for(let s=0;s<4;s++){const a=B_[s];r[a]=parseFloat(e[t+"-"+a+n])||0}return r.width=r.left+r.right,r.height=r.top+r.bottom,r}const F_=(e,t,n)=>(e>0||t>0)&&(!n||!n.shadowRoot);function j_(e,t){const n=e.touches,r=n&&n.length?n[0]:e,{offsetX:s,offsetY:a}=r;let c=!1,h,p;if(F_(s,a,e.target))h=s,p=a;else{const g=t.getBoundingClientRect();h=r.clientX-g.left,p=r.clientY-g.top,c=!0}return{x:h,y:p,box:c}}function qi(e,t){if("native"in e)return e;const{canvas:n,currentDevicePixelRatio:r}=t,s=Fu(n),a=s.boxSizing==="border-box",c=as(s,"padding"),h=as(s,"border","width"),{x:p,y:g,box:y}=j_(e,n),C=c.left+(y&&h.left),A=c.top+(y&&h.top);let{width:v,height:T}=t;return a&&(v-=c.width+h.width,T-=c.height+h.height),{x:Math.round((p-C)/v*n.width/r),y:Math.round((g-A)/T*n.height/r)}}function U_(e,t,n){let r,s;if(t===void 0||n===void 0){const a=e&&z0(e);if(!a)t=e.clientWidth,n=e.clientHeight;else{const c=a.getBoundingClientRect(),h=Fu(a),p=as(h,"border","width"),g=as(h,"padding");t=c.width-g.width-p.width,n=c.height-g.height-p.height,r=nu(h.maxWidth,a,"clientWidth"),s=nu(h.maxHeight,a,"clientHeight")}}return{width:t,height:n,maxWidth:r||$c,maxHeight:s||$c}}const Hl=e=>Math.round(e*10)/10;function z_(e,t,n,r){const s=Fu(e),a=as(s,"margin"),c=nu(s.maxWidth,e,"clientWidth")||$c,h=nu(s.maxHeight,e,"clientHeight")||$c,p=U_(e,t,n);let{width:g,height:y}=p;if(s.boxSizing==="content-box"){const A=as(s,"border","width"),v=as(s,"padding");g-=v.width+A.width,y-=v.height+A.height}return g=Math.max(0,g-a.width),y=Math.max(0,r?g/r:y-a.height),g=Hl(Math.min(g,c,p.maxWidth)),y=Hl(Math.min(y,h,p.maxHeight)),g&&!y&&(y=Hl(g/2)),(t!==void 0||n!==void 0)&&r&&p.height&&y>p.height&&(y=p.height,g=Hl(Math.floor(y*r))),{width:g,height:y}}function wp(e,t,n){const r=t||1,s=Math.floor(e.height*r),a=Math.floor(e.width*r);e.height=Math.floor(e.height),e.width=Math.floor(e.width);const c=e.canvas;return c.style&&(n||!c.style.height&&!c.style.width)&&(c.style.height=`${e.height}px`,c.style.width=`${e.width}px`),e.currentDevicePixelRatio!==r||c.height!==s||c.width!==a?(e.currentDevicePixelRatio=r,c.height=s,c.width=a,e.ctx.setTransform(r,0,0,r,0,0),!0):!1}const H_=function(){let e=!1;try{const t={get passive(){return e=!0,!1}};U0()&&(window.addEventListener("test",null,t),window.removeEventListener("test",null,t))}catch{}return e}();function Cp(e,t){const n=P_(e,t),r=n&&n.match(/^(\d+)(\.\d+)?px$/);return r?+r[1]:void 0}const W_=function(e,t){return{x(n){return e+e+t-n},setWidth(n){t=n},textAlign(n){return n==="center"?n:n==="right"?"left":"right"},xPlus(n,r){return n-r},leftForLtr(n,r){return n-r}}},V_=function(){return{x(e){return e},setWidth(e){},textAlign(e){return e},xPlus(e,t){return e+t},leftForLtr(e,t){return e}}};function to(e,t,n){return e?W_(t,n):V_()}function iw(e,t){let n,r;(t==="ltr"||t==="rtl")&&(n=e.canvas.style,r=[n.getPropertyValue("direction"),n.getPropertyPriority("direction")],n.setProperty("direction",t,"important"),e.prevTextDirection=r)}function sw(e,t){t!==void 0&&(delete e.prevTextDirection,e.canvas.style.setProperty("direction",t[0],t[1]))}function Wl(e,t,n){return e.options.clip?e[n]:t[n]}function Y_(e,t){const{xScale:n,yScale:r}=e;return n&&r?{left:Wl(n,t,"left"),right:Wl(n,t,"right"),top:Wl(r,t,"top"),bottom:Wl(r,t,"bottom")}:t}function X_(e,t){const n=t._clip;if(n.disabled)return!1;const r=Y_(t,e.chartArea);return{left:n.left===!1?0:r.left-(n.left===!0?0:n.left),right:n.right===!1?e.width:r.right+(n.right===!0?0:n.right),top:n.top===!1?0:r.top-(n.top===!0?0:n.top),bottom:n.bottom===!1?e.height:r.bottom+(n.bottom===!0?0:n.bottom)}}/*!
 * Chart.js v4.4.9
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */class G_{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(t,n,r,s){const a=n.listeners[s],c=n.duration;a.forEach(h=>h({chart:t,initial:n.initial,numSteps:c,currentStep:Math.min(r-n.start,c)}))}_refresh(){this._request||(this._running=!0,this._request=Xy.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(t=Date.now()){let n=0;this._charts.forEach((r,s)=>{if(!r.running||!r.items.length)return;const a=r.items;let c=a.length-1,h=!1,p;for(;c>=0;--c)p=a[c],p._active?(p._total>r.duration&&(r.duration=p._total),p.tick(t),h=!0):(a[c]=a[a.length-1],a.pop());h&&(s.draw(),this._notify(s,r,t,"progress")),a.length||(r.running=!1,this._notify(s,r,t,"complete"),r.initial=!1),n+=a.length}),this._lastDate=t,n===0&&(this._running=!1)}_getAnims(t){const n=this._charts;let r=n.get(t);return r||(r={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},n.set(t,r)),r}listen(t,n,r){this._getAnims(t).listeners[n].push(r)}add(t,n){!n||!n.length||this._getAnims(t).items.push(...n)}has(t){return this._getAnims(t).items.length>0}start(t){const n=this._charts.get(t);n&&(n.running=!0,n.start=Date.now(),n.duration=n.items.reduce((r,s)=>Math.max(r,s._duration),0),this._refresh())}running(t){if(!this._running)return!1;const n=this._charts.get(t);return!(!n||!n.running||!n.items.length)}stop(t){const n=this._charts.get(t);if(!n||!n.items.length)return;const r=n.items;let s=r.length-1;for(;s>=0;--s)r[s].cancel();n.items=[],this._notify(t,n,Date.now(),"complete")}remove(t){return this._charts.delete(t)}}var Rr=new G_;const Ep="transparent",Q_={boolean(e,t,n){return n>.5?t:e},color(e,t,n){const r=dp(e||Ep),s=r.valid&&dp(t||Ep);return s&&s.valid?s.mix(r,n).hexString():t},number(e,t,n){return e+(t-e)*n}};class Z_{constructor(t,n,r,s){const a=n[r];s=zl([t.to,s,a,t.from]);const c=zl([t.from,a,s]);this._active=!0,this._fn=t.fn||Q_[t.type||typeof c],this._easing=ma[t.easing]||ma.linear,this._start=Math.floor(Date.now()+(t.delay||0)),this._duration=this._total=Math.floor(t.duration),this._loop=!!t.loop,this._target=n,this._prop=r,this._from=c,this._to=s,this._promises=void 0}active(){return this._active}update(t,n,r){if(this._active){this._notify(!1);const s=this._target[this._prop],a=r-this._start,c=this._duration-a;this._start=r,this._duration=Math.floor(Math.max(c,t.duration)),this._total+=a,this._loop=!!t.loop,this._to=zl([t.to,n,s,t.from]),this._from=zl([t.from,s,n])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(t){const n=t-this._start,r=this._duration,s=this._prop,a=this._from,c=this._loop,h=this._to;let p;if(this._active=a!==h&&(c||n<r),!this._active){this._target[s]=h,this._notify(!0);return}if(n<0){this._target[s]=a;return}p=n/r%2,p=c&&p>1?2-p:p,p=this._easing(Math.min(1,Math.max(0,p))),this._target[s]=this._fn(a,h,p)}wait(){const t=this._promises||(this._promises=[]);return new Promise((n,r)=>{t.push({res:n,rej:r})})}_notify(t){const n=t?"res":"rej",r=this._promises||[];for(let s=0;s<r.length;s++)r[s][n]()}}class ow{constructor(t,n){this._chart=t,this._properties=new Map,this.configure(n)}configure(t){if(!ke(t))return;const n=Object.keys(yt.animation),r=this._properties;Object.getOwnPropertyNames(t).forEach(s=>{const a=t[s];if(!ke(a))return;const c={};for(const h of n)c[h]=a[h];(Wt(a.properties)&&a.properties||[s]).forEach(h=>{(h===s||!r.has(h))&&r.set(h,c)})})}_animateOptions(t,n){const r=n.options,s=q_(t,r);if(!s)return[];const a=this._createAnimations(s,r);return r.$shared&&K_(t.options.$animations,r).then(()=>{t.options=r},()=>{}),a}_createAnimations(t,n){const r=this._properties,s=[],a=t.$animations||(t.$animations={}),c=Object.keys(n),h=Date.now();let p;for(p=c.length-1;p>=0;--p){const g=c[p];if(g.charAt(0)==="$")continue;if(g==="options"){s.push(...this._animateOptions(t,n));continue}const y=n[g];let C=a[g];const A=r.get(g);if(C)if(A&&C.active()){C.update(A,y,h);continue}else C.cancel();if(!A||!A.duration){t[g]=y;continue}a[g]=C=new Z_(A,t,g,y),s.push(C)}return s}update(t,n){if(this._properties.size===0){Object.assign(t,n);return}const r=this._createAnimations(t,n);if(r.length)return Rr.add(this._chart,r),!0}}function K_(e,t){const n=[],r=Object.keys(t);for(let s=0;s<r.length;s++){const a=e[r[s]];a&&a.active()&&n.push(a.wait())}return Promise.all(n)}function q_(e,t){if(!t)return;let n=e.options;if(!n){e.options=t;return}return n.$shared&&(e.options=n=Object.assign({},n,{$shared:!1,$animations:{}})),n}function Ap(e,t){const n=e&&e.options||{},r=n.reverse,s=n.min===void 0?t:0,a=n.max===void 0?t:0;return{start:r?a:s,end:r?s:a}}function $_(e,t,n){if(n===!1)return!1;const r=Ap(e,n),s=Ap(t,n);return{top:s.end,right:r.end,bottom:s.start,left:r.start}}function J_(e){let t,n,r,s;return ke(e)?(t=e.top,n=e.right,r=e.bottom,s=e.left):t=n=r=s=e,{top:t,right:n,bottom:r,left:s,disabled:e===!1}}function aw(e,t){const n=[],r=e._getSortedDatasetMetas(t);let s,a;for(s=0,a=r.length;s<a;++s)n.push(r[s].index);return n}function Sp(e,t,n,r={}){const s=e.keys,a=r.mode==="single";let c,h,p,g;if(t===null)return;let y=!1;for(c=0,h=s.length;c<h;++c){if(p=+s[c],p===n){if(y=!0,r.all)continue;break}g=e.values[p],Zr(g)&&(a||t===0||lp(t)===lp(g))&&(t+=g)}return!y&&!r.all?0:t}function e8(e,t){const{iScale:n,vScale:r}=t,s=n.axis==="x"?"x":"y",a=r.axis==="x"?"x":"y",c=Object.keys(e),h=new Array(c.length);let p,g,y;for(p=0,g=c.length;p<g;++p)y=c[p],h[p]={[s]:y,[a]:e[y]};return h}function Xf(e,t){const n=e&&e.options.stacked;return n||n===void 0&&t.stack!==void 0}function t8(e,t,n){return`${e.id}.${t.id}.${n.stack||n.type}`}function n8(e){const{min:t,max:n,minDefined:r,maxDefined:s}=e.getUserBounds();return{min:r?t:Number.NEGATIVE_INFINITY,max:s?n:Number.POSITIVE_INFINITY}}function r8(e,t,n){const r=e[t]||(e[t]={});return r[n]||(r[n]={})}function bp(e,t,n,r){for(const s of t.getMatchingVisibleMetas(r).reverse()){const a=e[s.index];if(n&&a>0||!n&&a<0)return s.index}return null}function vp(e,t){const{chart:n,_cachedMeta:r}=e,s=n._stacks||(n._stacks={}),{iScale:a,vScale:c,index:h}=r,p=a.axis,g=c.axis,y=t8(a,c,r),C=t.length;let A;for(let v=0;v<C;++v){const T=t[v],{[p]:R,[g]:D}=T,I=T._stacks||(T._stacks={});A=I[g]=r8(s,y,R),A[h]=D,A._top=bp(A,c,!0,r.type),A._bottom=bp(A,c,!1,r.type);const _=A._visualValues||(A._visualValues={});_[h]=D}}function Gf(e,t){const n=e.scales;return Object.keys(n).filter(r=>n[r].axis===t).shift()}function i8(e,t){return wo(e,{active:!1,dataset:void 0,datasetIndex:t,index:t,mode:"default",type:"dataset"})}function s8(e,t,n){return wo(e,{active:!1,dataIndex:t,parsed:void 0,raw:void 0,element:n,index:t,mode:"default",type:"data"})}function Ho(e,t){const n=e.controller.index,r=e.vScale&&e.vScale.axis;if(r){t=t||e._parsed;for(const s of t){const a=s._stacks;if(!a||a[r]===void 0||a[r][n]===void 0)return;delete a[r][n],a[r]._visualValues!==void 0&&a[r]._visualValues[n]!==void 0&&delete a[r]._visualValues[n]}}}const Qf=e=>e==="reset"||e==="none",_p=(e,t)=>t?e:Object.assign({},e),o8=(e,t,n)=>e&&!t.hidden&&t._stacked&&{keys:aw(n,!0),values:null};class wa{constructor(t,n){this.chart=t,this._ctx=t.ctx,this.index=n,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const t=this._cachedMeta;this.configure(),this.linkScales(),t._stacked=Xf(t.vScale,t),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(t){this.index!==t&&Ho(this._cachedMeta),this.index=t}linkScales(){const t=this.chart,n=this._cachedMeta,r=this.getDataset(),s=(C,A,v,T)=>C==="x"?A:C==="r"?T:v,a=n.xAxisID=We(r.xAxisID,Gf(t,"x")),c=n.yAxisID=We(r.yAxisID,Gf(t,"y")),h=n.rAxisID=We(r.rAxisID,Gf(t,"r")),p=n.indexAxis,g=n.iAxisID=s(p,a,c,h),y=n.vAxisID=s(p,c,a,h);n.xScale=this.getScaleForId(a),n.yScale=this.getScaleForId(c),n.rScale=this.getScaleForId(h),n.iScale=this.getScaleForId(g),n.vScale=this.getScaleForId(y)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(t){return this.chart.scales[t]}_getOtherScale(t){const n=this._cachedMeta;return t===n.iScale?n.vScale:n.iScale}reset(){this._update("reset")}_destroy(){const t=this._cachedMeta;this._data&&cp(this._data,this),t._stacked&&Ho(t)}_dataCheck(){const t=this.getDataset(),n=t.data||(t.data=[]),r=this._data;if(ke(n)){const s=this._cachedMeta;this._data=e8(n,s)}else if(r!==n){if(r){cp(r,this);const s=this._cachedMeta;Ho(s),s._parsed=[]}n&&Object.isExtensible(n)&&i_(n,this),this._syncList=[],this._data=n}}addElements(){const t=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(t.dataset=new this.datasetElementType)}buildOrUpdateElements(t){const n=this._cachedMeta,r=this.getDataset();let s=!1;this._dataCheck();const a=n._stacked;n._stacked=Xf(n.vScale,n),n.stack!==r.stack&&(s=!0,Ho(n),n.stack=r.stack),this._resyncElements(t),(s||a!==n._stacked)&&(vp(this,n._parsed),n._stacked=Xf(n.vScale,n))}configure(){const t=this.chart.config,n=t.datasetScopeKeys(this._type),r=t.getOptionScopes(this.getDataset(),n,!0);this.options=t.createResolver(r,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(t,n){const{_cachedMeta:r,_data:s}=this,{iScale:a,_stacked:c}=r,h=a.axis;let p=t===0&&n===s.length?!0:r._sorted,g=t>0&&r._parsed[t-1],y,C,A;if(this._parsing===!1)r._parsed=s,r._sorted=!0,A=s;else{Wt(s[t])?A=this.parseArrayData(r,s,t,n):ke(s[t])?A=this.parseObjectData(r,s,t,n):A=this.parsePrimitiveData(r,s,t,n);const v=()=>C[h]===null||g&&C[h]<g[h];for(y=0;y<n;++y)r._parsed[y+t]=C=A[y],p&&(v()&&(p=!1),g=C);r._sorted=p}c&&vp(this,A)}parsePrimitiveData(t,n,r,s){const{iScale:a,vScale:c}=t,h=a.axis,p=c.axis,g=a.getLabels(),y=a===c,C=new Array(s);let A,v,T;for(A=0,v=s;A<v;++A)T=A+r,C[A]={[h]:y||a.parse(g[T],T),[p]:c.parse(n[T],T)};return C}parseArrayData(t,n,r,s){const{xScale:a,yScale:c}=t,h=new Array(s);let p,g,y,C;for(p=0,g=s;p<g;++p)y=p+r,C=n[y],h[p]={x:a.parse(C[0],y),y:c.parse(C[1],y)};return h}parseObjectData(t,n,r,s){const{xScale:a,yScale:c}=t,{xAxisKey:h="x",yAxisKey:p="y"}=this._parsing,g=new Array(s);let y,C,A,v;for(y=0,C=s;y<C;++y)A=y+r,v=n[A],g[y]={x:a.parse(Va(v,h),A),y:c.parse(Va(v,p),A)};return g}getParsed(t){return this._cachedMeta._parsed[t]}getDataElement(t){return this._cachedMeta.data[t]}applyStack(t,n,r){const s=this.chart,a=this._cachedMeta,c=n[t.axis],h={keys:aw(s,!0),values:n._stacks[t.axis]._visualValues};return Sp(h,c,a.index,{mode:r})}updateRangeFromParsed(t,n,r,s){const a=r[n.axis];let c=a===null?NaN:a;const h=s&&r._stacks[n.axis];s&&h&&(s.values=h,c=Sp(s,a,this._cachedMeta.index)),t.min=Math.min(t.min,c),t.max=Math.max(t.max,c)}getMinMax(t,n){const r=this._cachedMeta,s=r._parsed,a=r._sorted&&t===r.iScale,c=s.length,h=this._getOtherScale(t),p=o8(n,r,this.chart),g={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:y,max:C}=n8(h);let A,v;function T(){v=s[A];const R=v[h.axis];return!Zr(v[t.axis])||y>R||C<R}for(A=0;A<c&&!(!T()&&(this.updateRangeFromParsed(g,t,v,p),a));++A);if(a){for(A=c-1;A>=0;--A)if(!T()){this.updateRangeFromParsed(g,t,v,p);break}}return g}getAllParsedValues(t){const n=this._cachedMeta._parsed,r=[];let s,a,c;for(s=0,a=n.length;s<a;++s)c=n[s][t.axis],Zr(c)&&r.push(c);return r}getMaxOverflow(){return!1}getLabelAndValue(t){const n=this._cachedMeta,r=n.iScale,s=n.vScale,a=this.getParsed(t);return{label:r?""+r.getLabelForValue(a[r.axis]):"",value:s?""+s.getLabelForValue(a[s.axis]):""}}_update(t){const n=this._cachedMeta;this.update(t||"default"),n._clip=J_(We(this.options.clip,$_(n.xScale,n.yScale,this.getMaxOverflow())))}update(t){}draw(){const t=this._ctx,n=this.chart,r=this._cachedMeta,s=r.data||[],a=n.chartArea,c=[],h=this._drawStart||0,p=this._drawCount||s.length-h,g=this.options.drawActiveElementsOnTop;let y;for(r.dataset&&r.dataset.draw(t,a,h,p),y=h;y<h+p;++y){const C=s[y];C.hidden||(C.active&&g?c.push(C):C.draw(t,a))}for(y=0;y<c.length;++y)c[y].draw(t,a)}getStyle(t,n){const r=n?"active":"default";return t===void 0&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(r):this.resolveDataElementOptions(t||0,r)}getContext(t,n,r){const s=this.getDataset();let a;if(t>=0&&t<this._cachedMeta.data.length){const c=this._cachedMeta.data[t];a=c.$context||(c.$context=s8(this.getContext(),t,c)),a.parsed=this.getParsed(t),a.raw=s.data[t],a.index=a.dataIndex=t}else a=this.$context||(this.$context=i8(this.chart.getContext(),this.index)),a.dataset=s,a.index=a.datasetIndex=this.index;return a.active=!!n,a.mode=r,a}resolveDatasetElementOptions(t){return this._resolveElementOptions(this.datasetElementType.id,t)}resolveDataElementOptions(t,n){return this._resolveElementOptions(this.dataElementType.id,n,t)}_resolveElementOptions(t,n="default",r){const s=n==="active",a=this._cachedDataOpts,c=t+"-"+n,h=a[c],p=this.enableOptionSharing&&qc(r);if(h)return _p(h,p);const g=this.chart.config,y=g.datasetElementScopeKeys(this._type,t),C=s?[`${t}Hover`,"hover",t,""]:[t,""],A=g.getOptionScopes(this.getDataset(),y),v=Object.keys(yt.elements[t]),T=()=>this.getContext(r,s,n),R=g.resolveNamedOptions(A,v,T,C);return R.$shared&&(R.$shared=p,a[c]=Object.freeze(_p(R,p))),R}_resolveAnimations(t,n,r){const s=this.chart,a=this._cachedDataOpts,c=`animation-${n}`,h=a[c];if(h)return h;let p;if(s.options.animation!==!1){const y=this.chart.config,C=y.datasetAnimationScopeKeys(this._type,n),A=y.getOptionScopes(this.getDataset(),C);p=y.createResolver(A,this.getContext(t,r,n))}const g=new ow(s,p&&p.animations);return p&&p._cacheable&&(a[c]=Object.freeze(g)),g}getSharedOptions(t){if(t.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},t))}includeOptions(t,n){return!n||Qf(t)||this.chart._animationsDisabled}_getSharedOptions(t,n){const r=this.resolveDataElementOptions(t,n),s=this._sharedOptions,a=this.getSharedOptions(r),c=this.includeOptions(n,a)||a!==s;return this.updateSharedOptions(a,n,r),{sharedOptions:a,includeOptions:c}}updateElement(t,n,r,s){Qf(s)?Object.assign(t,r):this._resolveAnimations(n,s).update(t,r)}updateSharedOptions(t,n,r){t&&!Qf(n)&&this._resolveAnimations(void 0,n).update(t,r)}_setStyle(t,n,r,s){t.active=s;const a=this.getStyle(n,s);this._resolveAnimations(n,r,s).update(t,{options:!s&&this.getSharedOptions(a)||a})}removeHoverStyle(t,n,r){this._setStyle(t,r,"active",!1)}setHoverStyle(t,n,r){this._setStyle(t,r,"active",!0)}_removeDatasetHoverStyle(){const t=this._cachedMeta.dataset;t&&this._setStyle(t,void 0,"active",!1)}_setDatasetHoverStyle(){const t=this._cachedMeta.dataset;t&&this._setStyle(t,void 0,"active",!0)}_resyncElements(t){const n=this._data,r=this._cachedMeta.data;for(const[h,p,g]of this._syncList)this[h](p,g);this._syncList=[];const s=r.length,a=n.length,c=Math.min(a,s);c&&this.parse(0,c),a>s?this._insertElements(s,a-s,t):a<s&&this._removeElements(a,s-a)}_insertElements(t,n,r=!0){const s=this._cachedMeta,a=s.data,c=t+n;let h;const p=g=>{for(g.length+=n,h=g.length-1;h>=c;h--)g[h]=g[h-n]};for(p(a),h=t;h<c;++h)a[h]=new this.dataElementType;this._parsing&&p(s._parsed),this.parse(t,n),r&&this.updateElements(a,t,n,"reset")}updateElements(t,n,r,s){}_removeElements(t,n){const r=this._cachedMeta;if(this._parsing){const s=r._parsed.splice(t,n);r._stacked&&Ho(r,s)}r.data.splice(t,n)}_sync(t){if(this._parsing)this._syncList.push(t);else{const[n,r,s]=t;this[n](r,s)}this.chart._dataChanges.push([this.index,...t])}_onDataPush(){const t=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-t,t])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(t,n){n&&this._sync(["_removeElements",t,n]);const r=arguments.length-2;r&&this._sync(["_insertElements",t,r])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}ve(wa,"defaults",{}),ve(wa,"datasetElementType",null),ve(wa,"dataElementType",null);function a8(e,t,n){let r=1,s=1,a=0,c=0;if(t<At){const h=e,p=h+t,g=Math.cos(h),y=Math.sin(h),C=Math.cos(p),A=Math.sin(p),v=(O,P,U)=>eu(O,h,p,!0)?1:Math.max(P,P*n,U,U*n),T=(O,P,U)=>eu(O,h,p,!0)?-1:Math.min(P,P*n,U,U*n),R=v(0,g,C),D=v(Tt,y,A),I=T(Lt,g,C),_=T(Lt+Tt,y,A);r=(R-I)/2,s=(D-_)/2,a=-(R+I)/2,c=-(D+_)/2}return{ratioX:r,ratioY:s,offsetX:a,offsetY:c}}class ta extends wa{constructor(t,n){super(t,n),this.enableOptionSharing=!0,this.innerRadius=void 0,this.outerRadius=void 0,this.offsetX=void 0,this.offsetY=void 0}linkScales(){}parse(t,n){const r=this.getDataset().data,s=this._cachedMeta;if(this._parsing===!1)s._parsed=r;else{let a=p=>+r[p];if(ke(r[t])){const{key:p="value"}=this._parsing;a=g=>+Va(r[g],p)}let c,h;for(c=t,h=t+n;c<h;++c)s._parsed[c]=a(c)}}_getRotation(){return rs(this.options.rotation-90)}_getCircumference(){return rs(this.options.circumference)}_getRotationExtents(){let t=At,n=-At;for(let r=0;r<this.chart.data.datasets.length;++r)if(this.chart.isDatasetVisible(r)&&this.chart.getDatasetMeta(r).type===this._type){const s=this.chart.getDatasetMeta(r).controller,a=s._getRotation(),c=s._getCircumference();t=Math.min(t,a),n=Math.max(n,a+c)}return{rotation:t,circumference:n-t}}update(t){const n=this.chart,{chartArea:r}=n,s=this._cachedMeta,a=s.data,c=this.getMaxBorderWidth()+this.getMaxOffset(a)+this.options.spacing,h=Math.max((Math.min(r.width,r.height)-c)/2,0),p=Math.min(V4(this.options.cutout,h),1),g=this._getRingWeight(this.index),{circumference:y,rotation:C}=this._getRotationExtents(),{ratioX:A,ratioY:v,offsetX:T,offsetY:R}=a8(C,y,p),D=(r.width-c)/A,I=(r.height-c)/v,_=Math.max(Math.min(D,I)/2,0),O=Hy(this.options.radius,_),P=Math.max(O*p,0),U=(O-P)/this._getVisibleDatasetWeightTotal();this.offsetX=T*O,this.offsetY=R*O,s.total=this.calculateTotal(),this.outerRadius=O-U*this._getRingWeightOffset(this.index),this.innerRadius=Math.max(this.outerRadius-U*g,0),this.updateElements(a,0,a.length,t)}_circumference(t,n){const r=this.options,s=this._cachedMeta,a=this._getCircumference();return n&&r.animation.animateRotate||!this.chart.getDataVisibility(t)||s._parsed[t]===null||s.data[t].hidden?0:this.calculateCircumference(s._parsed[t]*a/At)}updateElements(t,n,r,s){const a=s==="reset",c=this.chart,h=c.chartArea,g=c.options.animation,y=(h.left+h.right)/2,C=(h.top+h.bottom)/2,A=a&&g.animateScale,v=A?0:this.innerRadius,T=A?0:this.outerRadius,{sharedOptions:R,includeOptions:D}=this._getSharedOptions(n,s);let I=this._getRotation(),_;for(_=0;_<n;++_)I+=this._circumference(_,a);for(_=n;_<n+r;++_){const O=this._circumference(_,a),P=t[_],U={x:y+this.offsetX,y:C+this.offsetY,startAngle:I,endAngle:I+O,circumference:O,outerRadius:T,innerRadius:v};D&&(U.options=R||this.resolveDataElementOptions(_,P.active?"active":s)),I+=O,this.updateElement(P,_,U,s)}}calculateTotal(){const t=this._cachedMeta,n=t.data;let r=0,s;for(s=0;s<n.length;s++){const a=t._parsed[s];a!==null&&!isNaN(a)&&this.chart.getDataVisibility(s)&&!n[s].hidden&&(r+=Math.abs(a))}return r}calculateCircumference(t){const n=this._cachedMeta.total;return n>0&&!isNaN(t)?At*(Math.abs(t)/n):0}getLabelAndValue(t){const n=this._cachedMeta,r=this.chart,s=r.data.labels||[],a=Ky(n._parsed[t],r.options.locale);return{label:s[t]||"",value:a}}getMaxBorderWidth(t){let n=0;const r=this.chart;let s,a,c,h,p;if(!t){for(s=0,a=r.data.datasets.length;s<a;++s)if(r.isDatasetVisible(s)){c=r.getDatasetMeta(s),t=c.data,h=c.controller;break}}if(!t)return 0;for(s=0,a=t.length;s<a;++s)p=h.resolveDataElementOptions(s),p.borderAlign!=="inner"&&(n=Math.max(n,p.borderWidth||0,p.hoverBorderWidth||0));return n}getMaxOffset(t){let n=0;for(let r=0,s=t.length;r<s;++r){const a=this.resolveDataElementOptions(r);n=Math.max(n,a.offset||0,a.hoverOffset||0)}return n}_getRingWeightOffset(t){let n=0;for(let r=0;r<t;++r)this.chart.isDatasetVisible(r)&&(n+=this._getRingWeight(r));return n}_getRingWeight(t){return Math.max(We(this.chart.data.datasets[t].weight,1),0)}_getVisibleDatasetWeightTotal(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}}ve(ta,"id","doughnut"),ve(ta,"defaults",{datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"}),ve(ta,"descriptors",{_scriptable:t=>t!=="spacing",_indexable:t=>t!=="spacing"&&!t.startsWith("borderDash")&&!t.startsWith("hoverBorderDash")}),ve(ta,"overrides",{aspectRatio:1,plugins:{legend:{labels:{generateLabels(t){const n=t.data;if(n.labels.length&&n.datasets.length){const{labels:{pointStyle:r,color:s}}=t.legend.options;return n.labels.map((a,c)=>{const p=t.getDatasetMeta(0).controller.getStyle(c);return{text:a,fillStyle:p.backgroundColor,strokeStyle:p.borderColor,fontColor:s,lineWidth:p.borderWidth,pointStyle:r,hidden:!t.getDataVisibility(c),index:c}})}return[]}},onClick(t,n,r){r.chart.toggleDataVisibility(n.index),r.chart.update()}}}});class gh extends ta{}ve(gh,"id","pie"),ve(gh,"defaults",{cutout:0,rotation:0,circumference:360,radius:"100%"});function Gi(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class H0{constructor(t){ve(this,"options");this.options=t||{}}static override(t){Object.assign(H0.prototype,t)}init(){}formats(){return Gi()}parse(){return Gi()}format(){return Gi()}add(){return Gi()}diff(){return Gi()}startOf(){return Gi()}endOf(){return Gi()}}var l8={_date:H0};function c8(e,t,n,r){const{controller:s,data:a,_sorted:c}=e,h=s._cachedMeta.iScale,p=e.dataset&&e.dataset.options?e.dataset.options.spanGaps:null;if(h&&t===h.axis&&t!=="r"&&c&&a.length){const g=h._reversePixels?n_:fh;if(r){if(s._sharedOptions){const y=a[0],C=typeof y.getRange=="function"&&y.getRange(t);if(C){const A=g(a,t,n-C),v=g(a,t,n+C);return{lo:A.lo,hi:v.hi}}}}else{const y=g(a,t,n);if(p){const{vScale:C}=s._cachedMeta,{_parsed:A}=e,v=A.slice(0,y.lo+1).reverse().findIndex(R=>!$t(R[C.axis]));y.lo-=Math.max(0,v);const T=A.slice(y.hi).findIndex(R=>!$t(R[C.axis]));y.hi+=Math.max(0,T)}return y}}return{lo:0,hi:a.length-1}}function il(e,t,n,r,s){const a=e.getSortedVisibleDatasetMetas(),c=n[t];for(let h=0,p=a.length;h<p;++h){const{index:g,data:y}=a[h],{lo:C,hi:A}=c8(a[h],t,c,s);for(let v=C;v<=A;++v){const T=y[v];T.skip||r(T,g,v)}}}function u8(e){const t=e.indexOf("x")!==-1,n=e.indexOf("y")!==-1;return function(r,s){const a=t?Math.abs(r.x-s.x):0,c=n?Math.abs(r.y-s.y):0;return Math.sqrt(Math.pow(a,2)+Math.pow(c,2))}}function Zf(e,t,n,r,s){const a=[];return!s&&!e.isPointInArea(t)||il(e,n,t,function(h,p,g){!s&&!Jy(h,e.chartArea,0)||h.inRange(t.x,t.y,r)&&a.push({element:h,datasetIndex:p,index:g})},!0),a}function f8(e,t,n,r){let s=[];function a(c,h,p){const{startAngle:g,endAngle:y}=c.getProps(["startAngle","endAngle"],r),{angle:C}=Vy(c,{x:t.x,y:t.y});eu(C,g,y)&&s.push({element:c,datasetIndex:h,index:p})}return il(e,n,t,a),s}function d8(e,t,n,r,s,a){let c=[];const h=u8(n);let p=Number.POSITIVE_INFINITY;function g(y,C,A){const v=y.inRange(t.x,t.y,s);if(r&&!v)return;const T=y.getCenterPoint(s);if(!(!!a||e.isPointInArea(T))&&!v)return;const D=h(t,T);D<p?(c=[{element:y,datasetIndex:C,index:A}],p=D):D===p&&c.push({element:y,datasetIndex:C,index:A})}return il(e,n,t,g),c}function Kf(e,t,n,r,s,a){return!a&&!e.isPointInArea(t)?[]:n==="r"&&!r?f8(e,t,n,s):d8(e,t,n,r,s,a)}function Ip(e,t,n,r,s){const a=[],c=n==="x"?"inXRange":"inYRange";let h=!1;return il(e,n,t,(p,g,y)=>{p[c]&&p[c](t[n],s)&&(a.push({element:p,datasetIndex:g,index:y}),h=h||p.inRange(t.x,t.y,s))}),r&&!h?[]:a}var h8={evaluateInteractionItems:il,modes:{index(e,t,n,r){const s=qi(t,e),a=n.axis||"x",c=n.includeInvisible||!1,h=n.intersect?Zf(e,s,a,r,c):Kf(e,s,a,!1,r,c),p=[];return h.length?(e.getSortedVisibleDatasetMetas().forEach(g=>{const y=h[0].index,C=g.data[y];C&&!C.skip&&p.push({element:C,datasetIndex:g.index,index:y})}),p):[]},dataset(e,t,n,r){const s=qi(t,e),a=n.axis||"xy",c=n.includeInvisible||!1;let h=n.intersect?Zf(e,s,a,r,c):Kf(e,s,a,!1,r,c);if(h.length>0){const p=h[0].datasetIndex,g=e.getDatasetMeta(p).data;h=[];for(let y=0;y<g.length;++y)h.push({element:g[y],datasetIndex:p,index:y})}return h},point(e,t,n,r){const s=qi(t,e),a=n.axis||"xy",c=n.includeInvisible||!1;return Zf(e,s,a,r,c)},nearest(e,t,n,r){const s=qi(t,e),a=n.axis||"xy",c=n.includeInvisible||!1;return Kf(e,s,a,n.intersect,r,c)},x(e,t,n,r){const s=qi(t,e);return Ip(e,s,"x",n.intersect,r)},y(e,t,n,r){const s=qi(t,e);return Ip(e,s,"y",n.intersect,r)}}};const lw=["left","top","right","bottom"];function Wo(e,t){return e.filter(n=>n.pos===t)}function Tp(e,t){return e.filter(n=>lw.indexOf(n.pos)===-1&&n.box.axis===t)}function Vo(e,t){return e.sort((n,r)=>{const s=t?r:n,a=t?n:r;return s.weight===a.weight?s.index-a.index:s.weight-a.weight})}function g8(e){const t=[];let n,r,s,a,c,h;for(n=0,r=(e||[]).length;n<r;++n)s=e[n],{position:a,options:{stack:c,stackWeight:h=1}}=s,t.push({index:n,box:s,pos:a,horizontal:s.isHorizontal(),weight:s.weight,stack:c&&a+c,stackWeight:h});return t}function p8(e){const t={};for(const n of e){const{stack:r,pos:s,stackWeight:a}=n;if(!r||!lw.includes(s))continue;const c=t[r]||(t[r]={count:0,placed:0,weight:0,size:0});c.count++,c.weight+=a}return t}function m8(e,t){const n=p8(e),{vBoxMaxWidth:r,hBoxMaxHeight:s}=t;let a,c,h;for(a=0,c=e.length;a<c;++a){h=e[a];const{fullSize:p}=h.box,g=n[h.stack],y=g&&h.stackWeight/g.weight;h.horizontal?(h.width=y?y*r:p&&t.availableWidth,h.height=s):(h.width=r,h.height=y?y*s:p&&t.availableHeight)}return n}function x8(e){const t=g8(e),n=Vo(t.filter(g=>g.box.fullSize),!0),r=Vo(Wo(t,"left"),!0),s=Vo(Wo(t,"right")),a=Vo(Wo(t,"top"),!0),c=Vo(Wo(t,"bottom")),h=Tp(t,"x"),p=Tp(t,"y");return{fullSize:n,leftAndTop:r.concat(a),rightAndBottom:s.concat(p).concat(c).concat(h),chartArea:Wo(t,"chartArea"),vertical:r.concat(s).concat(p),horizontal:a.concat(c).concat(h)}}function Np(e,t,n,r){return Math.max(e[n],t[n])+Math.max(e[r],t[r])}function cw(e,t){e.top=Math.max(e.top,t.top),e.left=Math.max(e.left,t.left),e.bottom=Math.max(e.bottom,t.bottom),e.right=Math.max(e.right,t.right)}function y8(e,t,n,r){const{pos:s,box:a}=n,c=e.maxPadding;if(!ke(s)){n.size&&(e[s]-=n.size);const C=r[n.stack]||{size:0,count:1};C.size=Math.max(C.size,n.horizontal?a.height:a.width),n.size=C.size/C.count,e[s]+=n.size}a.getPadding&&cw(c,a.getPadding());const h=Math.max(0,t.outerWidth-Np(c,e,"left","right")),p=Math.max(0,t.outerHeight-Np(c,e,"top","bottom")),g=h!==e.w,y=p!==e.h;return e.w=h,e.h=p,n.horizontal?{same:g,other:y}:{same:y,other:g}}function w8(e){const t=e.maxPadding;function n(r){const s=Math.max(t[r]-e[r],0);return e[r]+=s,s}e.y+=n("top"),e.x+=n("left"),n("right"),n("bottom")}function C8(e,t){const n=t.maxPadding;function r(s){const a={left:0,top:0,right:0,bottom:0};return s.forEach(c=>{a[c]=Math.max(t[c],n[c])}),a}return r(e?["left","right"]:["top","bottom"])}function na(e,t,n,r){const s=[];let a,c,h,p,g,y;for(a=0,c=e.length,g=0;a<c;++a){h=e[a],p=h.box,p.update(h.width||t.w,h.height||t.h,C8(h.horizontal,t));const{same:C,other:A}=y8(t,n,h,r);g|=C&&s.length,y=y||A,p.fullSize||s.push(h)}return g&&na(s,t,n,r)||y}function Vl(e,t,n,r,s){e.top=n,e.left=t,e.right=t+r,e.bottom=n+s,e.width=r,e.height=s}function Mp(e,t,n,r){const s=n.padding;let{x:a,y:c}=t;for(const h of e){const p=h.box,g=r[h.stack]||{count:1,placed:0,weight:1},y=h.stackWeight/g.weight||1;if(h.horizontal){const C=t.w*y,A=g.size||p.height;qc(g.start)&&(c=g.start),p.fullSize?Vl(p,s.left,c,n.outerWidth-s.right-s.left,A):Vl(p,t.left+g.placed,c,C,A),g.start=c,g.placed+=C,c=p.bottom}else{const C=t.h*y,A=g.size||p.width;qc(g.start)&&(a=g.start),p.fullSize?Vl(p,a,s.top,A,n.outerHeight-s.bottom-s.top):Vl(p,a,t.top+g.placed,A,C),g.start=a,g.placed+=C,a=p.right}}t.x=a,t.y=c}var mi={addBox(e,t){e.boxes||(e.boxes=[]),t.fullSize=t.fullSize||!1,t.position=t.position||"top",t.weight=t.weight||0,t._layers=t._layers||function(){return[{z:0,draw(n){t.draw(n)}}]},e.boxes.push(t)},removeBox(e,t){const n=e.boxes?e.boxes.indexOf(t):-1;n!==-1&&e.boxes.splice(n,1)},configure(e,t,n){t.fullSize=n.fullSize,t.position=n.position,t.weight=n.weight},update(e,t,n,r){if(!e)return;const s=cr(e.options.layout.padding),a=Math.max(t-s.width,0),c=Math.max(n-s.height,0),h=x8(e.boxes),p=h.vertical,g=h.horizontal;He(e.boxes,R=>{typeof R.beforeLayout=="function"&&R.beforeLayout()});const y=p.reduce((R,D)=>D.box.options&&D.box.options.display===!1?R:R+1,0)||1,C=Object.freeze({outerWidth:t,outerHeight:n,padding:s,availableWidth:a,availableHeight:c,vBoxMaxWidth:a/2/y,hBoxMaxHeight:c/2}),A=Object.assign({},s);cw(A,cr(r));const v=Object.assign({maxPadding:A,w:a,h:c,x:s.left,y:s.top},s),T=m8(p.concat(g),C);na(h.fullSize,v,C,T),na(p,v,C,T),na(g,v,C,T)&&na(p,v,C,T),w8(v),Mp(h.leftAndTop,v,C,T),v.x+=v.w,v.y+=v.h,Mp(h.rightAndBottom,v,C,T),e.chartArea={left:v.left,top:v.top,right:v.left+v.w,bottom:v.top+v.h,height:v.h,width:v.w},He(h.chartArea,R=>{const D=R.box;Object.assign(D,e.chartArea),D.update(v.w,v.h,{left:0,top:0,right:0,bottom:0})})}};class uw{acquireContext(t,n){}releaseContext(t){return!1}addEventListener(t,n,r){}removeEventListener(t,n,r){}getDevicePixelRatio(){return 1}getMaximumSize(t,n,r,s){return n=Math.max(0,n||t.width),r=r||t.height,{width:n,height:Math.max(0,s?Math.floor(n/s):r)}}isAttached(t){return!0}updateConfig(t){}}class E8 extends uw{acquireContext(t){return t&&t.getContext&&t.getContext("2d")||null}updateConfig(t){t.options.animation=!1}}const hc="$chartjs",A8={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},Op=e=>e===null||e==="";function S8(e,t){const n=e.style,r=e.getAttribute("height"),s=e.getAttribute("width");if(e[hc]={initial:{height:r,width:s,style:{display:n.display,height:n.height,width:n.width}}},n.display=n.display||"block",n.boxSizing=n.boxSizing||"border-box",Op(s)){const a=Cp(e,"width");a!==void 0&&(e.width=a)}if(Op(r))if(e.style.height==="")e.height=e.width/(t||2);else{const a=Cp(e,"height");a!==void 0&&(e.height=a)}return e}const fw=H_?{passive:!0}:!1;function b8(e,t,n){e&&e.addEventListener(t,n,fw)}function v8(e,t,n){e&&e.canvas&&e.canvas.removeEventListener(t,n,fw)}function _8(e,t){const n=A8[e.type]||e.type,{x:r,y:s}=qi(e,t);return{type:n,chart:t,native:e,x:r!==void 0?r:null,y:s!==void 0?s:null}}function ru(e,t){for(const n of e)if(n===t||n.contains(t))return!0}function I8(e,t,n){const r=e.canvas,s=new MutationObserver(a=>{let c=!1;for(const h of a)c=c||ru(h.addedNodes,r),c=c&&!ru(h.removedNodes,r);c&&n()});return s.observe(document,{childList:!0,subtree:!0}),s}function T8(e,t,n){const r=e.canvas,s=new MutationObserver(a=>{let c=!1;for(const h of a)c=c||ru(h.removedNodes,r),c=c&&!ru(h.addedNodes,r);c&&n()});return s.observe(document,{childList:!0,subtree:!0}),s}const Ya=new Map;let Rp=0;function dw(){const e=window.devicePixelRatio;e!==Rp&&(Rp=e,Ya.forEach((t,n)=>{n.currentDevicePixelRatio!==e&&t()}))}function N8(e,t){Ya.size||window.addEventListener("resize",dw),Ya.set(e,t)}function M8(e){Ya.delete(e),Ya.size||window.removeEventListener("resize",dw)}function O8(e,t,n){const r=e.canvas,s=r&&z0(r);if(!s)return;const a=Gy((h,p)=>{const g=s.clientWidth;n(h,p),g<s.clientWidth&&n()},window),c=new ResizeObserver(h=>{const p=h[0],g=p.contentRect.width,y=p.contentRect.height;g===0&&y===0||a(g,y)});return c.observe(s),N8(e,a),c}function qf(e,t,n){n&&n.disconnect(),t==="resize"&&M8(e)}function R8(e,t,n){const r=e.canvas,s=Gy(a=>{e.ctx!==null&&n(_8(a,e))},e);return b8(r,t,s),s}class D8 extends uw{acquireContext(t,n){const r=t&&t.getContext&&t.getContext("2d");return r&&r.canvas===t?(S8(t,n),r):null}releaseContext(t){const n=t.canvas;if(!n[hc])return!1;const r=n[hc].initial;["height","width"].forEach(a=>{const c=r[a];$t(c)?n.removeAttribute(a):n.setAttribute(a,c)});const s=r.style||{};return Object.keys(s).forEach(a=>{n.style[a]=s[a]}),n.width=n.width,delete n[hc],!0}addEventListener(t,n,r){this.removeEventListener(t,n);const s=t.$proxies||(t.$proxies={}),c={attach:I8,detach:T8,resize:O8}[n]||R8;s[n]=c(t,n,r)}removeEventListener(t,n){const r=t.$proxies||(t.$proxies={}),s=r[n];if(!s)return;({attach:qf,detach:qf,resize:qf}[n]||v8)(t,n,s),r[n]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(t,n,r,s){return z_(t,n,r,s)}isAttached(t){const n=t&&z0(t);return!!(n&&n.isConnected)}}function k8(e){return!U0()||typeof OffscreenCanvas<"u"&&e instanceof OffscreenCanvas?E8:D8}class xs{constructor(){ve(this,"x");ve(this,"y");ve(this,"active",!1);ve(this,"options");ve(this,"$animations")}tooltipPosition(t){const{x:n,y:r}=this.getProps(["x","y"],t);return{x:n,y:r}}hasValue(){return Jc(this.x)&&Jc(this.y)}getProps(t,n){const r=this.$animations;if(!n||!r)return this;const s={};return t.forEach(a=>{s[a]=r[a]&&r[a].active()?r[a]._to:this[a]}),s}}ve(xs,"defaults",{}),ve(xs,"defaultRoutes");function L8(e,t){const n=e.options.ticks,r=P8(e),s=Math.min(n.maxTicksLimit||r,r),a=n.major.enabled?F8(t):[],c=a.length,h=a[0],p=a[c-1],g=[];if(c>s)return j8(t,g,a,c/s),g;const y=B8(a,t,s);if(c>0){let C,A;const v=c>1?Math.round((p-h)/(c-1)):null;for(Yl(t,g,y,$t(v)?0:h-v,h),C=0,A=c-1;C<A;C++)Yl(t,g,y,a[C],a[C+1]);return Yl(t,g,y,p,$t(v)?t.length:p+v),g}return Yl(t,g,y),g}function P8(e){const t=e.options.offset,n=e._tickSize(),r=e._length/n+(t?0:1),s=e._maxLength/n;return Math.floor(Math.min(r,s))}function B8(e,t,n){const r=U8(e),s=t.length/n;if(!r)return Math.max(s,1);const a=q4(r);for(let c=0,h=a.length-1;c<h;c++){const p=a[c];if(p>s)return p}return Math.max(s,1)}function F8(e){const t=[];let n,r;for(n=0,r=e.length;n<r;n++)e[n].major&&t.push(n);return t}function j8(e,t,n,r){let s=0,a=n[0],c;for(r=Math.ceil(r),c=0;c<e.length;c++)c===a&&(t.push(e[c]),s++,a=n[s*r])}function Yl(e,t,n,r,s){const a=We(r,0),c=Math.min(We(s,e.length),e.length);let h=0,p,g,y;for(n=Math.ceil(n),s&&(p=s-r,n=p/Math.floor(p/n)),y=a;y<0;)h++,y=Math.round(a+h*n);for(g=Math.max(a,0);g<c;g++)g===y&&(t.push(e[g]),h++,y=Math.round(a+h*n))}function U8(e){const t=e.length;let n,r;if(t<2)return!1;for(r=e[0],n=1;n<t;++n)if(e[n]-e[n-1]!==r)return!1;return r}const z8=e=>e==="left"?"right":e==="right"?"left":e,Dp=(e,t,n)=>t==="top"||t==="left"?e[t]+n:e[t]-n,kp=(e,t)=>Math.min(t||e,e);function Lp(e,t){const n=[],r=e.length/t,s=e.length;let a=0;for(;a<s;a+=r)n.push(e[Math.floor(a)]);return n}function H8(e,t,n){const r=e.ticks.length,s=Math.min(t,r-1),a=e._startPixel,c=e._endPixel,h=1e-6;let p=e.getPixelForTick(s),g;if(!(n&&(r===1?g=Math.max(p-a,c-p):t===0?g=(e.getPixelForTick(1)-p)/2:g=(p-e.getPixelForTick(s-1))/2,p+=s<t?g:-g,p<a-h||p>c+h)))return p}function W8(e,t){He(e,n=>{const r=n.gc,s=r.length/2;let a;if(s>t){for(a=0;a<s;++a)delete n.data[r[a]];r.splice(0,s)}})}function Yo(e){return e.drawTicks?e.tickLength:0}function Pp(e,t){if(!e.display)return 0;const n=xn(e.font,t),r=cr(e.padding);return(Wt(e.text)?e.text.length:1)*n.lineHeight+r.height}function V8(e,t){return wo(e,{scale:t,type:"scale"})}function Y8(e,t,n){return wo(e,{tick:n,index:t,type:"tick"})}function X8(e,t,n){let r=Qy(e);return(n&&t!=="right"||!n&&t==="right")&&(r=z8(r)),r}function G8(e,t,n,r){const{top:s,left:a,bottom:c,right:h,chart:p}=e,{chartArea:g,scales:y}=p;let C=0,A,v,T;const R=c-s,D=h-a;if(e.isHorizontal()){if(v=bn(r,a,h),ke(n)){const I=Object.keys(n)[0],_=n[I];T=y[I].getPixelForValue(_)+R-t}else n==="center"?T=(g.bottom+g.top)/2+R-t:T=Dp(e,n,t);A=h-a}else{if(ke(n)){const I=Object.keys(n)[0],_=n[I];v=y[I].getPixelForValue(_)-D+t}else n==="center"?v=(g.left+g.right)/2-D+t:v=Dp(e,n,t);T=bn(r,c,s),C=n==="left"?-Tt:Tt}return{titleX:v,titleY:T,maxWidth:A,rotation:C}}class ju extends xs{constructor(t){super(),this.id=t.id,this.type=t.type,this.options=void 0,this.ctx=t.ctx,this.chart=t.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(t){this.options=t.setContext(this.getContext()),this.axis=t.axis,this._userMin=this.parse(t.min),this._userMax=this.parse(t.max),this._suggestedMin=this.parse(t.suggestedMin),this._suggestedMax=this.parse(t.suggestedMax)}parse(t,n){return t}getUserBounds(){let{_userMin:t,_userMax:n,_suggestedMin:r,_suggestedMax:s}=this;return t=Cr(t,Number.POSITIVE_INFINITY),n=Cr(n,Number.NEGATIVE_INFINITY),r=Cr(r,Number.POSITIVE_INFINITY),s=Cr(s,Number.NEGATIVE_INFINITY),{min:Cr(t,r),max:Cr(n,s),minDefined:Zr(t),maxDefined:Zr(n)}}getMinMax(t){let{min:n,max:r,minDefined:s,maxDefined:a}=this.getUserBounds(),c;if(s&&a)return{min:n,max:r};const h=this.getMatchingVisibleMetas();for(let p=0,g=h.length;p<g;++p)c=h[p].controller.getMinMax(this,t),s||(n=Math.min(n,c.min)),a||(r=Math.max(r,c.max));return n=a&&n>r?r:n,r=s&&n>r?n:r,{min:Cr(n,Cr(r,n)),max:Cr(r,Cr(n,r))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const t=this.chart.data;return this.options.labels||(this.isHorizontal()?t.xLabels:t.yLabels)||t.labels||[]}getLabelItems(t=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(t))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){nt(this.options.beforeUpdate,[this])}update(t,n,r){const{beginAtZero:s,grace:a,ticks:c}=this.options,h=c.sampleSize;this.beforeUpdate(),this.maxWidth=t,this.maxHeight=n,this._margins=r=Object.assign({left:0,right:0,top:0,bottom:0},r),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+r.left+r.right:this.height+r.top+r.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=__(this,a,s),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const p=h<this.ticks.length;this._convertTicksToLabels(p?Lp(this.ticks,h):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),c.display&&(c.autoSkip||c.source==="auto")&&(this.ticks=L8(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),p&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let t=this.options.reverse,n,r;this.isHorizontal()?(n=this.left,r=this.right):(n=this.top,r=this.bottom,t=!t),this._startPixel=n,this._endPixel=r,this._reversePixels=t,this._length=r-n,this._alignToPixels=this.options.alignToPixels}afterUpdate(){nt(this.options.afterUpdate,[this])}beforeSetDimensions(){nt(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){nt(this.options.afterSetDimensions,[this])}_callHooks(t){this.chart.notifyPlugins(t,this.getContext()),nt(this.options[t],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){nt(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(t){const n=this.options.ticks;let r,s,a;for(r=0,s=t.length;r<s;r++)a=t[r],a.label=nt(n.callback,[a.value,r,t],this)}afterTickToLabelConversion(){nt(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){nt(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const t=this.options,n=t.ticks,r=kp(this.ticks.length,t.ticks.maxTicksLimit),s=n.minRotation||0,a=n.maxRotation;let c=s,h,p,g;if(!this._isVisible()||!n.display||s>=a||r<=1||!this.isHorizontal()){this.labelRotation=s;return}const y=this._getLabelSizes(),C=y.widest.width,A=y.highest.height,v=Gn(this.chart.width-C,0,this.maxWidth);h=t.offset?this.maxWidth/r:v/(r-1),C+6>h&&(h=v/(r-(t.offset?.5:1)),p=this.maxHeight-Yo(t.grid)-n.padding-Pp(t.title,this.chart.options.font),g=Math.sqrt(C*C+A*A),c=J4(Math.min(Math.asin(Gn((y.highest.height+6)/h,-1,1)),Math.asin(Gn(p/g,-1,1))-Math.asin(Gn(A/g,-1,1)))),c=Math.max(s,Math.min(a,c))),this.labelRotation=c}afterCalculateLabelRotation(){nt(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){nt(this.options.beforeFit,[this])}fit(){const t={width:0,height:0},{chart:n,options:{ticks:r,title:s,grid:a}}=this,c=this._isVisible(),h=this.isHorizontal();if(c){const p=Pp(s,n.options.font);if(h?(t.width=this.maxWidth,t.height=Yo(a)+p):(t.height=this.maxHeight,t.width=Yo(a)+p),r.display&&this.ticks.length){const{first:g,last:y,widest:C,highest:A}=this._getLabelSizes(),v=r.padding*2,T=rs(this.labelRotation),R=Math.cos(T),D=Math.sin(T);if(h){const I=r.mirror?0:D*C.width+R*A.height;t.height=Math.min(this.maxHeight,t.height+I+v)}else{const I=r.mirror?0:R*C.width+D*A.height;t.width=Math.min(this.maxWidth,t.width+I+v)}this._calculatePadding(g,y,D,R)}}this._handleMargins(),h?(this.width=this._length=n.width-this._margins.left-this._margins.right,this.height=t.height):(this.width=t.width,this.height=this._length=n.height-this._margins.top-this._margins.bottom)}_calculatePadding(t,n,r,s){const{ticks:{align:a,padding:c},position:h}=this.options,p=this.labelRotation!==0,g=h!=="top"&&this.axis==="x";if(this.isHorizontal()){const y=this.getPixelForTick(0)-this.left,C=this.right-this.getPixelForTick(this.ticks.length-1);let A=0,v=0;p?g?(A=s*t.width,v=r*n.height):(A=r*t.height,v=s*n.width):a==="start"?v=n.width:a==="end"?A=t.width:a!=="inner"&&(A=t.width/2,v=n.width/2),this.paddingLeft=Math.max((A-y+c)*this.width/(this.width-y),0),this.paddingRight=Math.max((v-C+c)*this.width/(this.width-C),0)}else{let y=n.height/2,C=t.height/2;a==="start"?(y=0,C=t.height):a==="end"&&(y=n.height,C=0),this.paddingTop=y+c,this.paddingBottom=C+c}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){nt(this.options.afterFit,[this])}isHorizontal(){const{axis:t,position:n}=this.options;return n==="top"||n==="bottom"||t==="x"}isFullSize(){return this.options.fullSize}_convertTicksToLabels(t){this.beforeTickToLabelConversion(),this.generateTickLabels(t);let n,r;for(n=0,r=t.length;n<r;n++)$t(t[n].label)&&(t.splice(n,1),r--,n--);this.afterTickToLabelConversion()}_getLabelSizes(){let t=this._labelSizes;if(!t){const n=this.options.ticks.sampleSize;let r=this.ticks;n<r.length&&(r=Lp(r,n)),this._labelSizes=t=this._computeLabelSizes(r,r.length,this.options.ticks.maxTicksLimit)}return t}_computeLabelSizes(t,n,r){const{ctx:s,_longestTextCache:a}=this,c=[],h=[],p=Math.floor(n/kp(n,r));let g=0,y=0,C,A,v,T,R,D,I,_,O,P,U;for(C=0;C<n;C+=p){if(T=t[C].label,R=this._resolveTickFontOptions(C),s.font=D=R.string,I=a[D]=a[D]||{data:{},gc:[]},_=R.lineHeight,O=P=0,!$t(T)&&!Wt(T))O=gp(s,I.data,I.gc,O,T),P=_;else if(Wt(T))for(A=0,v=T.length;A<v;++A)U=T[A],!$t(U)&&!Wt(U)&&(O=gp(s,I.data,I.gc,O,U),P+=_);c.push(O),h.push(P),g=Math.max(O,g),y=Math.max(P,y)}W8(a,n);const Y=c.indexOf(g),j=h.indexOf(y),G=Z=>({width:c[Z]||0,height:h[Z]||0});return{first:G(0),last:G(n-1),widest:G(Y),highest:G(j),widths:c,heights:h}}getLabelForValue(t){return t}getPixelForValue(t,n){return NaN}getValueForPixel(t){}getPixelForTick(t){const n=this.ticks;return t<0||t>n.length-1?null:this.getPixelForValue(n[t].value)}getPixelForDecimal(t){this._reversePixels&&(t=1-t);const n=this._startPixel+t*this._length;return t_(this._alignToPixels?Xi(this.chart,n,0):n)}getDecimalForPixel(t){const n=(t-this._startPixel)/this._length;return this._reversePixels?1-n:n}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:t,max:n}=this;return t<0&&n<0?n:t>0&&n>0?t:0}getContext(t){const n=this.ticks||[];if(t>=0&&t<n.length){const r=n[t];return r.$context||(r.$context=Y8(this.getContext(),t,r))}return this.$context||(this.$context=V8(this.chart.getContext(),this))}_tickSize(){const t=this.options.ticks,n=rs(this.labelRotation),r=Math.abs(Math.cos(n)),s=Math.abs(Math.sin(n)),a=this._getLabelSizes(),c=t.autoSkipPadding||0,h=a?a.widest.width+c:0,p=a?a.highest.height+c:0;return this.isHorizontal()?p*r>h*s?h/r:p/s:p*s<h*r?p/r:h/s}_isVisible(){const t=this.options.display;return t!=="auto"?!!t:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(t){const n=this.axis,r=this.chart,s=this.options,{grid:a,position:c,border:h}=s,p=a.offset,g=this.isHorizontal(),C=this.ticks.length+(p?1:0),A=Yo(a),v=[],T=h.setContext(this.getContext()),R=T.display?T.width:0,D=R/2,I=function(Ce){return Xi(r,Ce,R)};let _,O,P,U,Y,j,G,Z,se,he,ne,xe;if(c==="top")_=I(this.bottom),j=this.bottom-A,Z=_-D,he=I(t.top)+D,xe=t.bottom;else if(c==="bottom")_=I(this.top),he=t.top,xe=I(t.bottom)-D,j=_+D,Z=this.top+A;else if(c==="left")_=I(this.right),Y=this.right-A,G=_-D,se=I(t.left)+D,ne=t.right;else if(c==="right")_=I(this.left),se=t.left,ne=I(t.right)-D,Y=_+D,G=this.left+A;else if(n==="x"){if(c==="center")_=I((t.top+t.bottom)/2+.5);else if(ke(c)){const Ce=Object.keys(c)[0],ue=c[Ce];_=I(this.chart.scales[Ce].getPixelForValue(ue))}he=t.top,xe=t.bottom,j=_+D,Z=j+A}else if(n==="y"){if(c==="center")_=I((t.left+t.right)/2);else if(ke(c)){const Ce=Object.keys(c)[0],ue=c[Ce];_=I(this.chart.scales[Ce].getPixelForValue(ue))}Y=_-D,G=Y-A,se=t.left,ne=t.right}const Ne=We(s.ticks.maxTicksLimit,C),W=Math.max(1,Math.ceil(C/Ne));for(O=0;O<C;O+=W){const Ce=this.getContext(O),ue=a.setContext(Ce),re=h.setContext(Ce),oe=ue.lineWidth,pe=ue.color,Ue=re.dash||[],Se=re.dashOffset,Nt=ue.tickWidth,Le=ue.tickColor,An=ue.tickBorderDash||[],ae=ue.tickBorderDashOffset;P=H8(this,O,p),P!==void 0&&(U=Xi(r,P,oe),g?Y=G=se=ne=U:j=Z=he=xe=U,v.push({tx1:Y,ty1:j,tx2:G,ty2:Z,x1:se,y1:he,x2:ne,y2:xe,width:oe,color:pe,borderDash:Ue,borderDashOffset:Se,tickWidth:Nt,tickColor:Le,tickBorderDash:An,tickBorderDashOffset:ae}))}return this._ticksLength=C,this._borderValue=_,v}_computeLabelItems(t){const n=this.axis,r=this.options,{position:s,ticks:a}=r,c=this.isHorizontal(),h=this.ticks,{align:p,crossAlign:g,padding:y,mirror:C}=a,A=Yo(r.grid),v=A+y,T=C?-y:v,R=-rs(this.labelRotation),D=[];let I,_,O,P,U,Y,j,G,Z,se,he,ne,xe="middle";if(s==="top")Y=this.bottom-T,j=this._getXAxisLabelAlignment();else if(s==="bottom")Y=this.top+T,j=this._getXAxisLabelAlignment();else if(s==="left"){const W=this._getYAxisLabelAlignment(A);j=W.textAlign,U=W.x}else if(s==="right"){const W=this._getYAxisLabelAlignment(A);j=W.textAlign,U=W.x}else if(n==="x"){if(s==="center")Y=(t.top+t.bottom)/2+v;else if(ke(s)){const W=Object.keys(s)[0],Ce=s[W];Y=this.chart.scales[W].getPixelForValue(Ce)+v}j=this._getXAxisLabelAlignment()}else if(n==="y"){if(s==="center")U=(t.left+t.right)/2-v;else if(ke(s)){const W=Object.keys(s)[0],Ce=s[W];U=this.chart.scales[W].getPixelForValue(Ce)}j=this._getYAxisLabelAlignment(A).textAlign}n==="y"&&(p==="start"?xe="top":p==="end"&&(xe="bottom"));const Ne=this._getLabelSizes();for(I=0,_=h.length;I<_;++I){O=h[I],P=O.label;const W=a.setContext(this.getContext(I));G=this.getPixelForTick(I)+a.labelOffset,Z=this._resolveTickFontOptions(I),se=Z.lineHeight,he=Wt(P)?P.length:1;const Ce=he/2,ue=W.color,re=W.textStrokeColor,oe=W.textStrokeWidth;let pe=j;c?(U=G,j==="inner"&&(I===_-1?pe=this.options.reverse?"left":"right":I===0?pe=this.options.reverse?"right":"left":pe="center"),s==="top"?g==="near"||R!==0?ne=-he*se+se/2:g==="center"?ne=-Ne.highest.height/2-Ce*se+se:ne=-Ne.highest.height+se/2:g==="near"||R!==0?ne=se/2:g==="center"?ne=Ne.highest.height/2-Ce*se:ne=Ne.highest.height-he*se,C&&(ne*=-1),R!==0&&!W.showLabelBackdrop&&(U+=se/2*Math.sin(R))):(Y=G,ne=(1-he)*se/2);let Ue;if(W.showLabelBackdrop){const Se=cr(W.backdropPadding),Nt=Ne.heights[I],Le=Ne.widths[I];let An=ne-Se.top,ae=0-Se.left;switch(xe){case"middle":An-=Nt/2;break;case"bottom":An-=Nt;break}switch(j){case"center":ae-=Le/2;break;case"right":ae-=Le;break;case"inner":I===_-1?ae-=Le:I>0&&(ae-=Le/2);break}Ue={left:ae,top:An,width:Le+Se.width,height:Nt+Se.height,color:W.backdropColor}}D.push({label:P,font:Z,textOffset:ne,options:{rotation:R,color:ue,strokeColor:re,strokeWidth:oe,textAlign:pe,textBaseline:xe,translation:[U,Y],backdrop:Ue}})}return D}_getXAxisLabelAlignment(){const{position:t,ticks:n}=this.options;if(-rs(this.labelRotation))return t==="top"?"left":"right";let s="center";return n.align==="start"?s="left":n.align==="end"?s="right":n.align==="inner"&&(s="inner"),s}_getYAxisLabelAlignment(t){const{position:n,ticks:{crossAlign:r,mirror:s,padding:a}}=this.options,c=this._getLabelSizes(),h=t+a,p=c.widest.width;let g,y;return n==="left"?s?(y=this.right+a,r==="near"?g="left":r==="center"?(g="center",y+=p/2):(g="right",y+=p)):(y=this.right-h,r==="near"?g="right":r==="center"?(g="center",y-=p/2):(g="left",y=this.left)):n==="right"?s?(y=this.left+a,r==="near"?g="right":r==="center"?(g="center",y-=p/2):(g="left",y-=p)):(y=this.left+h,r==="near"?g="left":r==="center"?(g="center",y+=p/2):(g="right",y=this.right)):g="right",{textAlign:g,x:y}}_computeLabelArea(){if(this.options.ticks.mirror)return;const t=this.chart,n=this.options.position;if(n==="left"||n==="right")return{top:0,left:this.left,bottom:t.height,right:this.right};if(n==="top"||n==="bottom")return{top:this.top,left:0,bottom:this.bottom,right:t.width}}drawBackground(){const{ctx:t,options:{backgroundColor:n},left:r,top:s,width:a,height:c}=this;n&&(t.save(),t.fillStyle=n,t.fillRect(r,s,a,c),t.restore())}getLineWidthForValue(t){const n=this.options.grid;if(!this._isVisible()||!n.display)return 0;const s=this.ticks.findIndex(a=>a.value===t);return s>=0?n.setContext(this.getContext(s)).lineWidth:0}drawGrid(t){const n=this.options.grid,r=this.ctx,s=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(t));let a,c;const h=(p,g,y)=>{!y.width||!y.color||(r.save(),r.lineWidth=y.width,r.strokeStyle=y.color,r.setLineDash(y.borderDash||[]),r.lineDashOffset=y.borderDashOffset,r.beginPath(),r.moveTo(p.x,p.y),r.lineTo(g.x,g.y),r.stroke(),r.restore())};if(n.display)for(a=0,c=s.length;a<c;++a){const p=s[a];n.drawOnChartArea&&h({x:p.x1,y:p.y1},{x:p.x2,y:p.y2},p),n.drawTicks&&h({x:p.tx1,y:p.ty1},{x:p.tx2,y:p.ty2},{color:p.tickColor,width:p.tickWidth,borderDash:p.tickBorderDash,borderDashOffset:p.tickBorderDashOffset})}}drawBorder(){const{chart:t,ctx:n,options:{border:r,grid:s}}=this,a=r.setContext(this.getContext()),c=r.display?a.width:0;if(!c)return;const h=s.setContext(this.getContext(0)).lineWidth,p=this._borderValue;let g,y,C,A;this.isHorizontal()?(g=Xi(t,this.left,c)-c/2,y=Xi(t,this.right,h)+h/2,C=A=p):(C=Xi(t,this.top,c)-c/2,A=Xi(t,this.bottom,h)+h/2,g=y=p),n.save(),n.lineWidth=a.width,n.strokeStyle=a.color,n.beginPath(),n.moveTo(g,C),n.lineTo(y,A),n.stroke(),n.restore()}drawLabels(t){if(!this.options.ticks.display)return;const r=this.ctx,s=this._computeLabelArea();s&&k0(r,s);const a=this.getLabelItems(t);for(const c of a){const h=c.options,p=c.font,g=c.label,y=c.textOffset;tu(r,g,0,y,p,h)}s&&L0(r)}drawTitle(){const{ctx:t,options:{position:n,title:r,reverse:s}}=this;if(!r.display)return;const a=xn(r.font),c=cr(r.padding),h=r.align;let p=a.lineHeight/2;n==="bottom"||n==="center"||ke(n)?(p+=c.bottom,Wt(r.text)&&(p+=a.lineHeight*(r.text.length-1))):p+=c.top;const{titleX:g,titleY:y,maxWidth:C,rotation:A}=G8(this,p,n,h);tu(t,r.text,0,0,a,{color:r.color,maxWidth:C,rotation:A,textAlign:X8(h,n,s),textBaseline:"middle",translation:[g,y]})}draw(t){this._isVisible()&&(this.drawBackground(),this.drawGrid(t),this.drawBorder(),this.drawTitle(),this.drawLabels(t))}_layers(){const t=this.options,n=t.ticks&&t.ticks.z||0,r=We(t.grid&&t.grid.z,-1),s=We(t.border&&t.border.z,0);return!this._isVisible()||this.draw!==ju.prototype.draw?[{z:n,draw:a=>{this.draw(a)}}]:[{z:r,draw:a=>{this.drawBackground(),this.drawGrid(a),this.drawTitle()}},{z:s,draw:()=>{this.drawBorder()}},{z:n,draw:a=>{this.drawLabels(a)}}]}getMatchingVisibleMetas(t){const n=this.chart.getSortedVisibleDatasetMetas(),r=this.axis+"AxisID",s=[];let a,c;for(a=0,c=n.length;a<c;++a){const h=n[a];h[r]===this.id&&(!t||h.type===t)&&s.push(h)}return s}_resolveTickFontOptions(t){const n=this.options.ticks.setContext(this.getContext(t));return xn(n.font)}_maxDigits(){const t=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/t}}class Xl{constructor(t,n,r){this.type=t,this.scope=n,this.override=r,this.items=Object.create(null)}isForType(t){return Object.prototype.isPrototypeOf.call(this.type.prototype,t.prototype)}register(t){const n=Object.getPrototypeOf(t);let r;K8(n)&&(r=this.register(n));const s=this.items,a=t.id,c=this.scope+"."+a;if(!a)throw new Error("class does not have id: "+t);return a in s||(s[a]=t,Q8(t,c,r),this.override&&yt.override(t.id,t.overrides)),c}get(t){return this.items[t]}unregister(t){const n=this.items,r=t.id,s=this.scope;r in n&&delete n[r],s&&r in yt[s]&&(delete yt[s][r],this.override&&delete ms[r])}}function Q8(e,t,n){const r=Wa(Object.create(null),[n?yt.get(n):{},yt.get(t),e.defaults]);yt.set(t,r),e.defaultRoutes&&Z8(t,e.defaultRoutes),e.descriptors&&yt.describe(t,e.descriptors)}function Z8(e,t){Object.keys(t).forEach(n=>{const r=n.split("."),s=r.pop(),a=[e].concat(r).join("."),c=t[n].split("."),h=c.pop(),p=c.join(".");yt.route(a,s,p,h)})}function K8(e){return"id"in e&&"defaults"in e}class q8{constructor(){this.controllers=new Xl(wa,"datasets",!0),this.elements=new Xl(xs,"elements"),this.plugins=new Xl(Object,"plugins"),this.scales=new Xl(ju,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...t){this._each("register",t)}remove(...t){this._each("unregister",t)}addControllers(...t){this._each("register",t,this.controllers)}addElements(...t){this._each("register",t,this.elements)}addPlugins(...t){this._each("register",t,this.plugins)}addScales(...t){this._each("register",t,this.scales)}getController(t){return this._get(t,this.controllers,"controller")}getElement(t){return this._get(t,this.elements,"element")}getPlugin(t){return this._get(t,this.plugins,"plugin")}getScale(t){return this._get(t,this.scales,"scale")}removeControllers(...t){this._each("unregister",t,this.controllers)}removeElements(...t){this._each("unregister",t,this.elements)}removePlugins(...t){this._each("unregister",t,this.plugins)}removeScales(...t){this._each("unregister",t,this.scales)}_each(t,n,r){[...n].forEach(s=>{const a=r||this._getRegistryForType(s);r||a.isForType(s)||a===this.plugins&&s.id?this._exec(t,a,s):He(s,c=>{const h=r||this._getRegistryForType(c);this._exec(t,h,c)})})}_exec(t,n,r){const s=R0(t);nt(r["before"+s],[],r),n[t](r),nt(r["after"+s],[],r)}_getRegistryForType(t){for(let n=0;n<this._typedRegistries.length;n++){const r=this._typedRegistries[n];if(r.isForType(t))return r}return this.plugins}_get(t,n,r){const s=n.get(t);if(s===void 0)throw new Error('"'+t+'" is not a registered '+r+".");return s}}var Sr=new q8;class $8{constructor(){this._init=[]}notify(t,n,r,s){n==="beforeInit"&&(this._init=this._createDescriptors(t,!0),this._notify(this._init,t,"install"));const a=s?this._descriptors(t).filter(s):this._descriptors(t),c=this._notify(a,t,n,r);return n==="afterDestroy"&&(this._notify(a,t,"stop"),this._notify(this._init,t,"uninstall")),c}_notify(t,n,r,s){s=s||{};for(const a of t){const c=a.plugin,h=c[r],p=[n,s,a.options];if(nt(h,p,c)===!1&&s.cancelable)return!1}return!0}invalidate(){$t(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(t){if(this._cache)return this._cache;const n=this._cache=this._createDescriptors(t);return this._notifyStateChanges(t),n}_createDescriptors(t,n){const r=t&&t.config,s=We(r.options&&r.options.plugins,{}),a=J8(r);return s===!1&&!n?[]:tI(t,a,s,n)}_notifyStateChanges(t){const n=this._oldCache||[],r=this._cache,s=(a,c)=>a.filter(h=>!c.some(p=>h.plugin.id===p.plugin.id));this._notify(s(n,r),t,"stop"),this._notify(s(r,n),t,"start")}}function J8(e){const t={},n=[],r=Object.keys(Sr.plugins.items);for(let a=0;a<r.length;a++)n.push(Sr.getPlugin(r[a]));const s=e.plugins||[];for(let a=0;a<s.length;a++){const c=s[a];n.indexOf(c)===-1&&(n.push(c),t[c.id]=!0)}return{plugins:n,localIds:t}}function eI(e,t){return!t&&e===!1?null:e===!0?{}:e}function tI(e,{plugins:t,localIds:n},r,s){const a=[],c=e.getContext();for(const h of t){const p=h.id,g=eI(r[p],s);g!==null&&a.push({plugin:h,options:nI(e.config,{plugin:h,local:n[p]},g,c)})}return a}function nI(e,{plugin:t,local:n},r,s){const a=e.pluginScopeKeys(t),c=e.getOptionScopes(r,a);return n&&t.defaults&&c.push(t.defaults),e.createResolver(c,s,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function ph(e,t){const n=yt.datasets[e]||{};return((t.datasets||{})[e]||{}).indexAxis||t.indexAxis||n.indexAxis||"x"}function rI(e,t){let n=e;return e==="_index_"?n=t:e==="_value_"&&(n=t==="x"?"y":"x"),n}function iI(e,t){return e===t?"_index_":"_value_"}function Bp(e){if(e==="x"||e==="y"||e==="r")return e}function sI(e){if(e==="top"||e==="bottom")return"x";if(e==="left"||e==="right")return"y"}function mh(e,...t){if(Bp(e))return e;for(const n of t){const r=n.axis||sI(n.position)||e.length>1&&Bp(e[0].toLowerCase());if(r)return r}throw new Error(`Cannot determine type of '${e}' axis. Please provide 'axis' or 'position' option.`)}function Fp(e,t,n){if(n[t+"AxisID"]===e)return{axis:t}}function oI(e,t){if(t.data&&t.data.datasets){const n=t.data.datasets.filter(r=>r.xAxisID===e||r.yAxisID===e);if(n.length)return Fp(e,"x",n[0])||Fp(e,"y",n[0])}return{}}function aI(e,t){const n=ms[e.type]||{scales:{}},r=t.scales||{},s=ph(e.type,t),a=Object.create(null);return Object.keys(r).forEach(c=>{const h=r[c];if(!ke(h))return console.error(`Invalid scale configuration for scale: ${c}`);if(h._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${c}`);const p=mh(c,h,oI(c,e),yt.scales[h.type]),g=iI(p,s),y=n.scales||{};a[c]=pa(Object.create(null),[{axis:p},h,y[p],y[g]])}),e.data.datasets.forEach(c=>{const h=c.type||e.type,p=c.indexAxis||ph(h,t),y=(ms[h]||{}).scales||{};Object.keys(y).forEach(C=>{const A=rI(C,p),v=c[A+"AxisID"]||A;a[v]=a[v]||Object.create(null),pa(a[v],[{axis:A},r[v],y[C]])})}),Object.keys(a).forEach(c=>{const h=a[c];pa(h,[yt.scales[h.type],yt.scale])}),a}function hw(e){const t=e.options||(e.options={});t.plugins=We(t.plugins,{}),t.scales=aI(e,t)}function gw(e){return e=e||{},e.datasets=e.datasets||[],e.labels=e.labels||[],e}function lI(e){return e=e||{},e.data=gw(e.data),hw(e),e}const jp=new Map,pw=new Set;function Gl(e,t){let n=jp.get(e);return n||(n=t(),jp.set(e,n),pw.add(n)),n}const Xo=(e,t,n)=>{const r=Va(t,n);r!==void 0&&e.add(r)};class cI{constructor(t){this._config=lI(t),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(t){this._config.type=t}get data(){return this._config.data}set data(t){this._config.data=gw(t)}get options(){return this._config.options}set options(t){this._config.options=t}get plugins(){return this._config.plugins}update(){const t=this._config;this.clearCache(),hw(t)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(t){return Gl(t,()=>[[`datasets.${t}`,""]])}datasetAnimationScopeKeys(t,n){return Gl(`${t}.transition.${n}`,()=>[[`datasets.${t}.transitions.${n}`,`transitions.${n}`],[`datasets.${t}`,""]])}datasetElementScopeKeys(t,n){return Gl(`${t}-${n}`,()=>[[`datasets.${t}.elements.${n}`,`datasets.${t}`,`elements.${n}`,""]])}pluginScopeKeys(t){const n=t.id,r=this.type;return Gl(`${r}-plugin-${n}`,()=>[[`plugins.${n}`,...t.additionalOptionScopes||[]]])}_cachedScopes(t,n){const r=this._scopeCache;let s=r.get(t);return(!s||n)&&(s=new Map,r.set(t,s)),s}getOptionScopes(t,n,r){const{options:s,type:a}=this,c=this._cachedScopes(t,r),h=c.get(n);if(h)return h;const p=new Set;n.forEach(y=>{t&&(p.add(t),y.forEach(C=>Xo(p,t,C))),y.forEach(C=>Xo(p,s,C)),y.forEach(C=>Xo(p,ms[a]||{},C)),y.forEach(C=>Xo(p,yt,C)),y.forEach(C=>Xo(p,dh,C))});const g=Array.from(p);return g.length===0&&g.push(Object.create(null)),pw.has(n)&&c.set(n,g),g}chartOptionScopes(){const{options:t,type:n}=this;return[t,ms[n]||{},yt.datasets[n]||{},{type:n},yt,dh]}resolveNamedOptions(t,n,r,s=[""]){const a={$shared:!0},{resolver:c,subPrefixes:h}=Up(this._resolverCache,t,s);let p=c;if(fI(c,n)){a.$shared=!1,r=Mi(r)?r():r;const g=this.createResolver(t,r,h);p=uo(c,r,g)}for(const g of n)a[g]=p[g];return a}createResolver(t,n,r=[""],s){const{resolver:a}=Up(this._resolverCache,t,r);return ke(n)?uo(a,n,void 0,s):a}}function Up(e,t,n){let r=e.get(t);r||(r=new Map,e.set(t,r));const s=n.join();let a=r.get(s);return a||(a={resolver:B0(t,n),subPrefixes:n.filter(h=>!h.toLowerCase().includes("hover"))},r.set(s,a)),a}const uI=e=>ke(e)&&Object.getOwnPropertyNames(e).some(t=>Mi(e[t]));function fI(e,t){const{isScriptable:n,isIndexable:r}=ew(e);for(const s of t){const a=n(s),c=r(s),h=(c||a)&&e[s];if(a&&(Mi(h)||uI(h))||c&&Wt(h))return!0}return!1}var dI="4.4.9";const hI=["top","bottom","left","right","chartArea"];function zp(e,t){return e==="top"||e==="bottom"||hI.indexOf(e)===-1&&t==="x"}function Hp(e,t){return function(n,r){return n[e]===r[e]?n[t]-r[t]:n[e]-r[e]}}function Wp(e){const t=e.chart,n=t.options.animation;t.notifyPlugins("afterRender"),nt(n&&n.onComplete,[e],t)}function gI(e){const t=e.chart,n=t.options.animation;nt(n&&n.onProgress,[e],t)}function mw(e){return U0()&&typeof e=="string"?e=document.getElementById(e):e&&e.length&&(e=e[0]),e&&e.canvas&&(e=e.canvas),e}const gc={},Vp=e=>{const t=mw(e);return Object.values(gc).filter(n=>n.canvas===t).pop()};function pI(e,t,n){const r=Object.keys(e);for(const s of r){const a=+s;if(a>=t){const c=e[s];delete e[s],(n>0||a>t)&&(e[a+n]=c)}}}function mI(e,t,n,r){return!n||e.type==="mouseout"?null:r?t:e}class Yn{static register(...t){Sr.add(...t),Yp()}static unregister(...t){Sr.remove(...t),Yp()}constructor(t,n){const r=this.config=new cI(n),s=mw(t),a=Vp(s);if(a)throw new Error("Canvas is already in use. Chart with ID '"+a.id+"' must be destroyed before the canvas with ID '"+a.canvas.id+"' can be reused.");const c=r.createResolver(r.chartOptionScopes(),this.getContext());this.platform=new(r.platform||k8(s)),this.platform.updateConfig(r);const h=this.platform.acquireContext(s,c.aspectRatio),p=h&&h.canvas,g=p&&p.height,y=p&&p.width;if(this.id=W4(),this.ctx=h,this.canvas=p,this.width=y,this.height=g,this._options=c,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new $8,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=o_(C=>this.update(C),c.resizeDelay||0),this._dataChanges=[],gc[this.id]=this,!h||!p){console.error("Failed to create chart: can't acquire context from the given item");return}Rr.listen(this,"complete",Wp),Rr.listen(this,"progress",gI),this._initialize(),this.attached&&this.update()}get aspectRatio(){const{options:{aspectRatio:t,maintainAspectRatio:n},width:r,height:s,_aspectRatio:a}=this;return $t(t)?n&&a?a:s?r/s:null:t}get data(){return this.config.data}set data(t){this.config.data=t}get options(){return this._options}set options(t){this.config.options=t}get registry(){return Sr}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():wp(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return pp(this.canvas,this.ctx),this}stop(){return Rr.stop(this),this}resize(t,n){Rr.running(this)?this._resizeBeforeDraw={width:t,height:n}:this._resize(t,n)}_resize(t,n){const r=this.options,s=this.canvas,a=r.maintainAspectRatio&&this.aspectRatio,c=this.platform.getMaximumSize(s,t,n,a),h=r.devicePixelRatio||this.platform.getDevicePixelRatio(),p=this.width?"resize":"attach";this.width=c.width,this.height=c.height,this._aspectRatio=this.aspectRatio,wp(this,h,!0)&&(this.notifyPlugins("resize",{size:c}),nt(r.onResize,[this,c],this),this.attached&&this._doResize(p)&&this.render())}ensureScalesHaveIDs(){const n=this.options.scales||{};He(n,(r,s)=>{r.id=s})}buildOrUpdateScales(){const t=this.options,n=t.scales,r=this.scales,s=Object.keys(r).reduce((c,h)=>(c[h]=!1,c),{});let a=[];n&&(a=a.concat(Object.keys(n).map(c=>{const h=n[c],p=mh(c,h),g=p==="r",y=p==="x";return{options:h,dposition:g?"chartArea":y?"bottom":"left",dtype:g?"radialLinear":y?"category":"linear"}}))),He(a,c=>{const h=c.options,p=h.id,g=mh(p,h),y=We(h.type,c.dtype);(h.position===void 0||zp(h.position,g)!==zp(c.dposition))&&(h.position=c.dposition),s[p]=!0;let C=null;if(p in r&&r[p].type===y)C=r[p];else{const A=Sr.getScale(y);C=new A({id:p,type:y,ctx:this.ctx,chart:this}),r[C.id]=C}C.init(h,t)}),He(s,(c,h)=>{c||delete r[h]}),He(r,c=>{mi.configure(this,c,c.options),mi.addBox(this,c)})}_updateMetasets(){const t=this._metasets,n=this.data.datasets.length,r=t.length;if(t.sort((s,a)=>s.index-a.index),r>n){for(let s=n;s<r;++s)this._destroyDatasetMeta(s);t.splice(n,r-n)}this._sortedMetasets=t.slice(0).sort(Hp("order","index"))}_removeUnreferencedMetasets(){const{_metasets:t,data:{datasets:n}}=this;t.length>n.length&&delete this._stacks,t.forEach((r,s)=>{n.filter(a=>a===r._dataset).length===0&&this._destroyDatasetMeta(s)})}buildOrUpdateControllers(){const t=[],n=this.data.datasets;let r,s;for(this._removeUnreferencedMetasets(),r=0,s=n.length;r<s;r++){const a=n[r];let c=this.getDatasetMeta(r);const h=a.type||this.config.type;if(c.type&&c.type!==h&&(this._destroyDatasetMeta(r),c=this.getDatasetMeta(r)),c.type=h,c.indexAxis=a.indexAxis||ph(h,this.options),c.order=a.order||0,c.index=r,c.label=""+a.label,c.visible=this.isDatasetVisible(r),c.controller)c.controller.updateIndex(r),c.controller.linkScales();else{const p=Sr.getController(h),{datasetElementType:g,dataElementType:y}=yt.datasets[h];Object.assign(p,{dataElementType:Sr.getElement(y),datasetElementType:g&&Sr.getElement(g)}),c.controller=new p(this,r),t.push(c.controller)}}return this._updateMetasets(),t}_resetElements(){He(this.data.datasets,(t,n)=>{this.getDatasetMeta(n).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(t){const n=this.config;n.update();const r=this._options=n.createResolver(n.chartOptionScopes(),this.getContext()),s=this._animationsDisabled=!r.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),this.notifyPlugins("beforeUpdate",{mode:t,cancelable:!0})===!1)return;const a=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let c=0;for(let g=0,y=this.data.datasets.length;g<y;g++){const{controller:C}=this.getDatasetMeta(g),A=!s&&a.indexOf(C)===-1;C.buildOrUpdateElements(A),c=Math.max(+C.getMaxOverflow(),c)}c=this._minPadding=r.layout.autoPadding?c:0,this._updateLayout(c),s||He(a,g=>{g.reset()}),this._updateDatasets(t),this.notifyPlugins("afterUpdate",{mode:t}),this._layers.sort(Hp("z","_idx"));const{_active:h,_lastEvent:p}=this;p?this._eventHandler(p,!0):h.length&&this._updateHoverStyles(h,h,!0),this.render()}_updateScales(){He(this.scales,t=>{mi.removeBox(this,t)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const t=this.options,n=new Set(Object.keys(this._listeners)),r=new Set(t.events);(!sp(n,r)||!!this._responsiveListeners!==t.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:t}=this,n=this._getUniformDataChanges()||[];for(const{method:r,start:s,count:a}of n){const c=r==="_removeElements"?-a:a;pI(t,s,c)}}_getUniformDataChanges(){const t=this._dataChanges;if(!t||!t.length)return;this._dataChanges=[];const n=this.data.datasets.length,r=a=>new Set(t.filter(c=>c[0]===a).map((c,h)=>h+","+c.splice(1).join(","))),s=r(0);for(let a=1;a<n;a++)if(!sp(s,r(a)))return;return Array.from(s).map(a=>a.split(",")).map(a=>({method:a[1],start:+a[2],count:+a[3]}))}_updateLayout(t){if(this.notifyPlugins("beforeLayout",{cancelable:!0})===!1)return;mi.update(this,this.width,this.height,t);const n=this.chartArea,r=n.width<=0||n.height<=0;this._layers=[],He(this.boxes,s=>{r&&s.position==="chartArea"||(s.configure&&s.configure(),this._layers.push(...s._layers()))},this),this._layers.forEach((s,a)=>{s._idx=a}),this.notifyPlugins("afterLayout")}_updateDatasets(t){if(this.notifyPlugins("beforeDatasetsUpdate",{mode:t,cancelable:!0})!==!1){for(let n=0,r=this.data.datasets.length;n<r;++n)this.getDatasetMeta(n).controller.configure();for(let n=0,r=this.data.datasets.length;n<r;++n)this._updateDataset(n,Mi(t)?t({datasetIndex:n}):t);this.notifyPlugins("afterDatasetsUpdate",{mode:t})}}_updateDataset(t,n){const r=this.getDatasetMeta(t),s={meta:r,index:t,mode:n,cancelable:!0};this.notifyPlugins("beforeDatasetUpdate",s)!==!1&&(r.controller._update(n),s.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",s))}render(){this.notifyPlugins("beforeRender",{cancelable:!0})!==!1&&(Rr.has(this)?this.attached&&!Rr.running(this)&&Rr.start(this):(this.draw(),Wp({chart:this})))}draw(){let t;if(this._resizeBeforeDraw){const{width:r,height:s}=this._resizeBeforeDraw;this._resizeBeforeDraw=null,this._resize(r,s)}if(this.clear(),this.width<=0||this.height<=0||this.notifyPlugins("beforeDraw",{cancelable:!0})===!1)return;const n=this._layers;for(t=0;t<n.length&&n[t].z<=0;++t)n[t].draw(this.chartArea);for(this._drawDatasets();t<n.length;++t)n[t].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(t){const n=this._sortedMetasets,r=[];let s,a;for(s=0,a=n.length;s<a;++s){const c=n[s];(!t||c.visible)&&r.push(c)}return r}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})===!1)return;const t=this.getSortedVisibleDatasetMetas();for(let n=t.length-1;n>=0;--n)this._drawDataset(t[n]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(t){const n=this.ctx,r={meta:t,index:t.index,cancelable:!0},s=X_(this,t);this.notifyPlugins("beforeDatasetDraw",r)!==!1&&(s&&k0(n,s),t.controller.draw(),s&&L0(n),r.cancelable=!1,this.notifyPlugins("afterDatasetDraw",r))}isPointInArea(t){return Jy(t,this.chartArea,this._minPadding)}getElementsAtEventForMode(t,n,r,s){const a=h8.modes[n];return typeof a=="function"?a(this,t,r,s):[]}getDatasetMeta(t){const n=this.data.datasets[t],r=this._metasets;let s=r.filter(a=>a&&a._dataset===n).pop();return s||(s={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:n&&n.order||0,index:t,_dataset:n,_parsed:[],_sorted:!1},r.push(s)),s}getContext(){return this.$context||(this.$context=wo(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(t){const n=this.data.datasets[t];if(!n)return!1;const r=this.getDatasetMeta(t);return typeof r.hidden=="boolean"?!r.hidden:!n.hidden}setDatasetVisibility(t,n){const r=this.getDatasetMeta(t);r.hidden=!n}toggleDataVisibility(t){this._hiddenIndices[t]=!this._hiddenIndices[t]}getDataVisibility(t){return!this._hiddenIndices[t]}_updateVisibility(t,n,r){const s=r?"show":"hide",a=this.getDatasetMeta(t),c=a.controller._resolveAnimations(void 0,s);qc(n)?(a.data[n].hidden=!r,this.update()):(this.setDatasetVisibility(t,r),c.update(a,{visible:r}),this.update(h=>h.datasetIndex===t?s:void 0))}hide(t,n){this._updateVisibility(t,n,!1)}show(t,n){this._updateVisibility(t,n,!0)}_destroyDatasetMeta(t){const n=this._metasets[t];n&&n.controller&&n.controller._destroy(),delete this._metasets[t]}_stop(){let t,n;for(this.stop(),Rr.remove(this),t=0,n=this.data.datasets.length;t<n;++t)this._destroyDatasetMeta(t)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:t,ctx:n}=this;this._stop(),this.config.clearCache(),t&&(this.unbindEvents(),pp(t,n),this.platform.releaseContext(n),this.canvas=null,this.ctx=null),delete gc[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...t){return this.canvas.toDataURL(...t)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const t=this._listeners,n=this.platform,r=(a,c)=>{n.addEventListener(this,a,c),t[a]=c},s=(a,c,h)=>{a.offsetX=c,a.offsetY=h,this._eventHandler(a)};He(this.options.events,a=>r(a,s))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const t=this._responsiveListeners,n=this.platform,r=(p,g)=>{n.addEventListener(this,p,g),t[p]=g},s=(p,g)=>{t[p]&&(n.removeEventListener(this,p,g),delete t[p])},a=(p,g)=>{this.canvas&&this.resize(p,g)};let c;const h=()=>{s("attach",h),this.attached=!0,this.resize(),r("resize",a),r("detach",c)};c=()=>{this.attached=!1,s("resize",a),this._stop(),this._resize(0,0),r("attach",h)},n.isAttached(this.canvas)?h():c()}unbindEvents(){He(this._listeners,(t,n)=>{this.platform.removeEventListener(this,n,t)}),this._listeners={},He(this._responsiveListeners,(t,n)=>{this.platform.removeEventListener(this,n,t)}),this._responsiveListeners=void 0}updateHoverStyle(t,n,r){const s=r?"set":"remove";let a,c,h,p;for(n==="dataset"&&(a=this.getDatasetMeta(t[0].datasetIndex),a.controller["_"+s+"DatasetHoverStyle"]()),h=0,p=t.length;h<p;++h){c=t[h];const g=c&&this.getDatasetMeta(c.datasetIndex).controller;g&&g[s+"HoverStyle"](c.element,c.datasetIndex,c.index)}}getActiveElements(){return this._active||[]}setActiveElements(t){const n=this._active||[],r=t.map(({datasetIndex:a,index:c})=>{const h=this.getDatasetMeta(a);if(!h)throw new Error("No dataset found at index "+a);return{datasetIndex:a,element:h.data[c],index:c}});!Zc(r,n)&&(this._active=r,this._lastEvent=null,this._updateHoverStyles(r,n))}notifyPlugins(t,n,r){return this._plugins.notify(this,t,n,r)}isPluginEnabled(t){return this._plugins._cache.filter(n=>n.plugin.id===t).length===1}_updateHoverStyles(t,n,r){const s=this.options.hover,a=(p,g)=>p.filter(y=>!g.some(C=>y.datasetIndex===C.datasetIndex&&y.index===C.index)),c=a(n,t),h=r?t:a(t,n);c.length&&this.updateHoverStyle(c,s.mode,!1),h.length&&s.mode&&this.updateHoverStyle(h,s.mode,!0)}_eventHandler(t,n){const r={event:t,replay:n,cancelable:!0,inChartArea:this.isPointInArea(t)},s=c=>(c.options.events||this.options.events).includes(t.native.type);if(this.notifyPlugins("beforeEvent",r,s)===!1)return;const a=this._handleEvent(t,n,r.inChartArea);return r.cancelable=!1,this.notifyPlugins("afterEvent",r,s),(a||r.changed)&&this.render(),this}_handleEvent(t,n,r){const{_active:s=[],options:a}=this,c=n,h=this._getActiveElements(t,s,r,c),p=Z4(t),g=mI(t,this._lastEvent,r,p);r&&(this._lastEvent=null,nt(a.onHover,[t,h,this],this),p&&nt(a.onClick,[t,h,this],this));const y=!Zc(h,s);return(y||n)&&(this._active=h,this._updateHoverStyles(h,s,n)),this._lastEvent=g,y}_getActiveElements(t,n,r,s){if(t.type==="mouseout")return[];if(!r)return n;const a=this.options.hover;return this.getElementsAtEventForMode(t,a.mode,a,s)}}ve(Yn,"defaults",yt),ve(Yn,"instances",gc),ve(Yn,"overrides",ms),ve(Yn,"registry",Sr),ve(Yn,"version",dI),ve(Yn,"getChart",Vp);function Yp(){return He(Yn.instances,e=>e._plugins.invalidate())}function xI(e,t,n){const{startAngle:r,pixelMargin:s,x:a,y:c,outerRadius:h,innerRadius:p}=t;let g=s/h;e.beginPath(),e.arc(a,c,h,r-g,n+g),p>s?(g=s/p,e.arc(a,c,p,n+g,r-g,!0)):e.arc(a,c,s,n+Tt,r-Tt),e.closePath(),e.clip()}function yI(e){return P0(e,["outerStart","outerEnd","innerStart","innerEnd"])}function wI(e,t,n,r){const s=yI(e.options.borderRadius),a=(n-t)/2,c=Math.min(a,r*t/2),h=p=>{const g=(n-Math.min(a,p))*r/2;return Gn(p,0,Math.min(a,g))};return{outerStart:h(s.outerStart),outerEnd:h(s.outerEnd),innerStart:Gn(s.innerStart,0,c),innerEnd:Gn(s.innerEnd,0,c)}}function ks(e,t,n,r){return{x:n+e*Math.cos(t),y:r+e*Math.sin(t)}}function iu(e,t,n,r,s,a){const{x:c,y:h,startAngle:p,pixelMargin:g,innerRadius:y}=t,C=Math.max(t.outerRadius+r+n-g,0),A=y>0?y+r+n+g:0;let v=0;const T=s-p;if(r){const W=y>0?y-r:0,Ce=C>0?C-r:0,ue=(W+Ce)/2,re=ue!==0?T*ue/(ue+r):T;v=(T-re)/2}const R=Math.max(.001,T*C-n/Lt)/C,D=(T-R)/2,I=p+D+v,_=s-D-v,{outerStart:O,outerEnd:P,innerStart:U,innerEnd:Y}=wI(t,A,C,_-I),j=C-O,G=C-P,Z=I+O/j,se=_-P/G,he=A+U,ne=A+Y,xe=I+U/he,Ne=_-Y/ne;if(e.beginPath(),a){const W=(Z+se)/2;if(e.arc(c,h,C,Z,W),e.arc(c,h,C,W,se),P>0){const oe=ks(G,se,c,h);e.arc(oe.x,oe.y,P,se,_+Tt)}const Ce=ks(ne,_,c,h);if(e.lineTo(Ce.x,Ce.y),Y>0){const oe=ks(ne,Ne,c,h);e.arc(oe.x,oe.y,Y,_+Tt,Ne+Math.PI)}const ue=(_-Y/A+(I+U/A))/2;if(e.arc(c,h,A,_-Y/A,ue,!0),e.arc(c,h,A,ue,I+U/A,!0),U>0){const oe=ks(he,xe,c,h);e.arc(oe.x,oe.y,U,xe+Math.PI,I-Tt)}const re=ks(j,I,c,h);if(e.lineTo(re.x,re.y),O>0){const oe=ks(j,Z,c,h);e.arc(oe.x,oe.y,O,I-Tt,Z)}}else{e.moveTo(c,h);const W=Math.cos(Z)*C+c,Ce=Math.sin(Z)*C+h;e.lineTo(W,Ce);const ue=Math.cos(se)*C+c,re=Math.sin(se)*C+h;e.lineTo(ue,re)}e.closePath()}function CI(e,t,n,r,s){const{fullCircles:a,startAngle:c,circumference:h}=t;let p=t.endAngle;if(a){iu(e,t,n,r,p,s);for(let g=0;g<a;++g)e.fill();isNaN(h)||(p=c+(h%At||At))}return iu(e,t,n,r,p,s),e.fill(),p}function EI(e,t,n,r,s){const{fullCircles:a,startAngle:c,circumference:h,options:p}=t,{borderWidth:g,borderJoinStyle:y,borderDash:C,borderDashOffset:A}=p,v=p.borderAlign==="inner";if(!g)return;e.setLineDash(C||[]),e.lineDashOffset=A,v?(e.lineWidth=g*2,e.lineJoin=y||"round"):(e.lineWidth=g,e.lineJoin=y||"bevel");let T=t.endAngle;if(a){iu(e,t,n,r,T,s);for(let R=0;R<a;++R)e.stroke();isNaN(h)||(T=c+(h%At||At))}v&&xI(e,t,T),a||(iu(e,t,n,r,T,s),e.stroke())}class ra extends xs{constructor(n){super();ve(this,"circumference");ve(this,"endAngle");ve(this,"fullCircles");ve(this,"innerRadius");ve(this,"outerRadius");ve(this,"pixelMargin");ve(this,"startAngle");this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,n&&Object.assign(this,n)}inRange(n,r,s){const a=this.getProps(["x","y"],s),{angle:c,distance:h}=Vy(a,{x:n,y:r}),{startAngle:p,endAngle:g,innerRadius:y,outerRadius:C,circumference:A}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],s),v=(this.options.spacing+this.options.borderWidth)/2,T=We(A,g-p),R=eu(c,p,g)&&p!==g,D=T>=At||R,I=ea(h,y+v,C+v);return D&&I}getCenterPoint(n){const{x:r,y:s,startAngle:a,endAngle:c,innerRadius:h,outerRadius:p}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius"],n),{offset:g,spacing:y}=this.options,C=(a+c)/2,A=(h+p+y+g)/2;return{x:r+Math.cos(C)*A,y:s+Math.sin(C)*A}}tooltipPosition(n){return this.getCenterPoint(n)}draw(n){const{options:r,circumference:s}=this,a=(r.offset||0)/4,c=(r.spacing||0)/2,h=r.circular;if(this.pixelMargin=r.borderAlign==="inner"?.33:0,this.fullCircles=s>At?Math.floor(s/At):0,s===0||this.innerRadius<0||this.outerRadius<0)return;n.save();const p=(this.startAngle+this.endAngle)/2;n.translate(Math.cos(p)*a,Math.sin(p)*a);const g=1-Math.sin(Math.min(Lt,s||0)),y=a*g;n.fillStyle=r.backgroundColor,n.strokeStyle=r.borderColor,CI(n,this,y,c,h),EI(n,this,y,c,h),n.restore()}}ve(ra,"id","arc"),ve(ra,"defaults",{borderAlign:"center",borderColor:"#fff",borderDash:[],borderDashOffset:0,borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0,circular:!0}),ve(ra,"defaultRoutes",{backgroundColor:"backgroundColor"}),ve(ra,"descriptors",{_scriptable:!0,_indexable:n=>n!=="borderDash"});const Xp=(e,t)=>{let{boxHeight:n=t,boxWidth:r=t}=e;return e.usePointStyle&&(n=Math.min(n,t),r=e.pointStyleWidth||Math.min(r,t)),{boxWidth:r,boxHeight:n,itemHeight:Math.max(t,n)}},AI=(e,t)=>e!==null&&t!==null&&e.datasetIndex===t.datasetIndex&&e.index===t.index;class Gp extends xs{constructor(t){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=t.chart,this.options=t.options,this.ctx=t.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(t,n,r){this.maxWidth=t,this.maxHeight=n,this._margins=r,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const t=this.options.labels||{};let n=nt(t.generateLabels,[this.chart],this)||[];t.filter&&(n=n.filter(r=>t.filter(r,this.chart.data))),t.sort&&(n=n.sort((r,s)=>t.sort(r,s,this.chart.data))),this.options.reverse&&n.reverse(),this.legendItems=n}fit(){const{options:t,ctx:n}=this;if(!t.display){this.width=this.height=0;return}const r=t.labels,s=xn(r.font),a=s.size,c=this._computeTitleHeight(),{boxWidth:h,itemHeight:p}=Xp(r,a);let g,y;n.font=s.string,this.isHorizontal()?(g=this.maxWidth,y=this._fitRows(c,a,h,p)+10):(y=this.maxHeight,g=this._fitCols(c,s,h,p)+10),this.width=Math.min(g,t.maxWidth||this.maxWidth),this.height=Math.min(y,t.maxHeight||this.maxHeight)}_fitRows(t,n,r,s){const{ctx:a,maxWidth:c,options:{labels:{padding:h}}}=this,p=this.legendHitBoxes=[],g=this.lineWidths=[0],y=s+h;let C=t;a.textAlign="left",a.textBaseline="middle";let A=-1,v=-y;return this.legendItems.forEach((T,R)=>{const D=r+n/2+a.measureText(T.text).width;(R===0||g[g.length-1]+D+2*h>c)&&(C+=y,g[g.length-(R>0?0:1)]=0,v+=y,A++),p[R]={left:0,top:v,row:A,width:D,height:s},g[g.length-1]+=D+h}),C}_fitCols(t,n,r,s){const{ctx:a,maxHeight:c,options:{labels:{padding:h}}}=this,p=this.legendHitBoxes=[],g=this.columnSizes=[],y=c-t;let C=h,A=0,v=0,T=0,R=0;return this.legendItems.forEach((D,I)=>{const{itemWidth:_,itemHeight:O}=SI(r,n,a,D,s);I>0&&v+O+2*h>y&&(C+=A+h,g.push({width:A,height:v}),T+=A+h,R++,A=v=0),p[I]={left:T,top:v,col:R,width:_,height:O},A=Math.max(A,_),v+=O+h}),C+=A,g.push({width:A,height:v}),C}adjustHitBoxes(){if(!this.options.display)return;const t=this._computeTitleHeight(),{legendHitBoxes:n,options:{align:r,labels:{padding:s},rtl:a}}=this,c=to(a,this.left,this.width);if(this.isHorizontal()){let h=0,p=bn(r,this.left+s,this.right-this.lineWidths[h]);for(const g of n)h!==g.row&&(h=g.row,p=bn(r,this.left+s,this.right-this.lineWidths[h])),g.top+=this.top+t+s,g.left=c.leftForLtr(c.x(p),g.width),p+=g.width+s}else{let h=0,p=bn(r,this.top+t+s,this.bottom-this.columnSizes[h].height);for(const g of n)g.col!==h&&(h=g.col,p=bn(r,this.top+t+s,this.bottom-this.columnSizes[h].height)),g.top=p,g.left+=this.left+s,g.left=c.leftForLtr(c.x(g.left),g.width),p+=g.height+s}}isHorizontal(){return this.options.position==="top"||this.options.position==="bottom"}draw(){if(this.options.display){const t=this.ctx;k0(t,this),this._draw(),L0(t)}}_draw(){const{options:t,columnSizes:n,lineWidths:r,ctx:s}=this,{align:a,labels:c}=t,h=yt.color,p=to(t.rtl,this.left,this.width),g=xn(c.font),{padding:y}=c,C=g.size,A=C/2;let v;this.drawTitle(),s.textAlign=p.textAlign("left"),s.textBaseline="middle",s.lineWidth=.5,s.font=g.string;const{boxWidth:T,boxHeight:R,itemHeight:D}=Xp(c,C),I=function(Y,j,G){if(isNaN(T)||T<=0||isNaN(R)||R<0)return;s.save();const Z=We(G.lineWidth,1);if(s.fillStyle=We(G.fillStyle,h),s.lineCap=We(G.lineCap,"butt"),s.lineDashOffset=We(G.lineDashOffset,0),s.lineJoin=We(G.lineJoin,"miter"),s.lineWidth=Z,s.strokeStyle=We(G.strokeStyle,h),s.setLineDash(We(G.lineDash,[])),c.usePointStyle){const se={radius:R*Math.SQRT2/2,pointStyle:G.pointStyle,rotation:G.rotation,borderWidth:Z},he=p.xPlus(Y,T/2),ne=j+A;$y(s,se,he,ne,c.pointStyleWidth&&T)}else{const se=j+Math.max((C-R)/2,0),he=p.leftForLtr(Y,T),ne=ya(G.borderRadius);s.beginPath(),Object.values(ne).some(xe=>xe!==0)?hh(s,{x:he,y:se,w:T,h:R,radius:ne}):s.rect(he,se,T,R),s.fill(),Z!==0&&s.stroke()}s.restore()},_=function(Y,j,G){tu(s,G.text,Y,j+D/2,g,{strikethrough:G.hidden,textAlign:p.textAlign(G.textAlign)})},O=this.isHorizontal(),P=this._computeTitleHeight();O?v={x:bn(a,this.left+y,this.right-r[0]),y:this.top+y+P,line:0}:v={x:this.left+y,y:bn(a,this.top+P+y,this.bottom-n[0].height),line:0},iw(this.ctx,t.textDirection);const U=D+y;this.legendItems.forEach((Y,j)=>{s.strokeStyle=Y.fontColor,s.fillStyle=Y.fontColor;const G=s.measureText(Y.text).width,Z=p.textAlign(Y.textAlign||(Y.textAlign=c.textAlign)),se=T+A+G;let he=v.x,ne=v.y;p.setWidth(this.width),O?j>0&&he+se+y>this.right&&(ne=v.y+=U,v.line++,he=v.x=bn(a,this.left+y,this.right-r[v.line])):j>0&&ne+U>this.bottom&&(he=v.x=he+n[v.line].width+y,v.line++,ne=v.y=bn(a,this.top+P+y,this.bottom-n[v.line].height));const xe=p.x(he);if(I(xe,ne,Y),he=a_(Z,he+T+A,O?he+se:this.right,t.rtl),_(p.x(he),ne,Y),O)v.x+=se+y;else if(typeof Y.text!="string"){const Ne=g.lineHeight;v.y+=xw(Y,Ne)+y}else v.y+=U}),sw(this.ctx,t.textDirection)}drawTitle(){const t=this.options,n=t.title,r=xn(n.font),s=cr(n.padding);if(!n.display)return;const a=to(t.rtl,this.left,this.width),c=this.ctx,h=n.position,p=r.size/2,g=s.top+p;let y,C=this.left,A=this.width;if(this.isHorizontal())A=Math.max(...this.lineWidths),y=this.top+g,C=bn(t.align,C,this.right-A);else{const T=this.columnSizes.reduce((R,D)=>Math.max(R,D.height),0);y=g+bn(t.align,this.top,this.bottom-T-t.labels.padding-this._computeTitleHeight())}const v=bn(h,C,C+A);c.textAlign=a.textAlign(Qy(h)),c.textBaseline="middle",c.strokeStyle=n.color,c.fillStyle=n.color,c.font=r.string,tu(c,n.text,v,y,r)}_computeTitleHeight(){const t=this.options.title,n=xn(t.font),r=cr(t.padding);return t.display?n.lineHeight+r.height:0}_getLegendItemAt(t,n){let r,s,a;if(ea(t,this.left,this.right)&&ea(n,this.top,this.bottom)){for(a=this.legendHitBoxes,r=0;r<a.length;++r)if(s=a[r],ea(t,s.left,s.left+s.width)&&ea(n,s.top,s.top+s.height))return this.legendItems[r]}return null}handleEvent(t){const n=this.options;if(!_I(t.type,n))return;const r=this._getLegendItemAt(t.x,t.y);if(t.type==="mousemove"||t.type==="mouseout"){const s=this._hoveredItem,a=AI(s,r);s&&!a&&nt(n.onLeave,[t,s,this],this),this._hoveredItem=r,r&&!a&&nt(n.onHover,[t,r,this],this)}else r&&nt(n.onClick,[t,r,this],this)}}function SI(e,t,n,r,s){const a=bI(r,e,t,n),c=vI(s,r,t.lineHeight);return{itemWidth:a,itemHeight:c}}function bI(e,t,n,r){let s=e.text;return s&&typeof s!="string"&&(s=s.reduce((a,c)=>a.length>c.length?a:c)),t+n.size/2+r.measureText(s).width}function vI(e,t,n){let r=e;return typeof t.text!="string"&&(r=xw(t,n)),r}function xw(e,t){const n=e.text?e.text.length:0;return t*n}function _I(e,t){return!!((e==="mousemove"||e==="mouseout")&&(t.onHover||t.onLeave)||t.onClick&&(e==="click"||e==="mouseup"))}var II={id:"legend",_element:Gp,start(e,t,n){const r=e.legend=new Gp({ctx:e.ctx,options:n,chart:e});mi.configure(e,r,n),mi.addBox(e,r)},stop(e){mi.removeBox(e,e.legend),delete e.legend},beforeUpdate(e,t,n){const r=e.legend;mi.configure(e,r,n),r.options=n},afterUpdate(e){const t=e.legend;t.buildLabels(),t.adjustHitBoxes()},afterEvent(e,t){t.replay||e.legend.handleEvent(t.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(e,t,n){const r=t.datasetIndex,s=n.chart;s.isDatasetVisible(r)?(s.hide(r),t.hidden=!0):(s.show(r),t.hidden=!1)},onHover:null,onLeave:null,labels:{color:e=>e.chart.options.color,boxWidth:40,padding:10,generateLabels(e){const t=e.data.datasets,{labels:{usePointStyle:n,pointStyle:r,textAlign:s,color:a,useBorderRadius:c,borderRadius:h}}=e.legend.options;return e._getSortedDatasetMetas().map(p=>{const g=p.controller.getStyle(n?0:void 0),y=cr(g.borderWidth);return{text:t[p.index].label,fillStyle:g.backgroundColor,fontColor:a,hidden:!p.visible,lineCap:g.borderCapStyle,lineDash:g.borderDash,lineDashOffset:g.borderDashOffset,lineJoin:g.borderJoinStyle,lineWidth:(y.width+y.height)/4,strokeStyle:g.borderColor,pointStyle:r||g.pointStyle,rotation:g.rotation,textAlign:s||g.textAlign,borderRadius:c&&(h||g.borderRadius),datasetIndex:p.index}},this)}},title:{color:e=>e.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:e=>!e.startsWith("on"),labels:{_scriptable:e=>!["generateLabels","filter","sort"].includes(e)}}};const ia={average(e){if(!e.length)return!1;let t,n,r=new Set,s=0,a=0;for(t=0,n=e.length;t<n;++t){const h=e[t].element;if(h&&h.hasValue()){const p=h.tooltipPosition();r.add(p.x),s+=p.y,++a}}return a===0||r.size===0?!1:{x:[...r].reduce((h,p)=>h+p)/r.size,y:s/a}},nearest(e,t){if(!e.length)return!1;let n=t.x,r=t.y,s=Number.POSITIVE_INFINITY,a,c,h;for(a=0,c=e.length;a<c;++a){const p=e[a].element;if(p&&p.hasValue()){const g=p.getCenterPoint(),y=e_(t,g);y<s&&(s=y,h=p)}}if(h){const p=h.tooltipPosition();n=p.x,r=p.y}return{x:n,y:r}}};function Er(e,t){return t&&(Wt(t)?Array.prototype.push.apply(e,t):e.push(t)),e}function Dr(e){return(typeof e=="string"||e instanceof String)&&e.indexOf(`
`)>-1?e.split(`
`):e}function TI(e,t){const{element:n,datasetIndex:r,index:s}=t,a=e.getDatasetMeta(r).controller,{label:c,value:h}=a.getLabelAndValue(s);return{chart:e,label:c,parsed:a.getParsed(s),raw:e.data.datasets[r].data[s],formattedValue:h,dataset:a.getDataset(),dataIndex:s,datasetIndex:r,element:n}}function Qp(e,t){const n=e.chart.ctx,{body:r,footer:s,title:a}=e,{boxWidth:c,boxHeight:h}=t,p=xn(t.bodyFont),g=xn(t.titleFont),y=xn(t.footerFont),C=a.length,A=s.length,v=r.length,T=cr(t.padding);let R=T.height,D=0,I=r.reduce((P,U)=>P+U.before.length+U.lines.length+U.after.length,0);if(I+=e.beforeBody.length+e.afterBody.length,C&&(R+=C*g.lineHeight+(C-1)*t.titleSpacing+t.titleMarginBottom),I){const P=t.displayColors?Math.max(h,p.lineHeight):p.lineHeight;R+=v*P+(I-v)*p.lineHeight+(I-1)*t.bodySpacing}A&&(R+=t.footerMarginTop+A*y.lineHeight+(A-1)*t.footerSpacing);let _=0;const O=function(P){D=Math.max(D,n.measureText(P).width+_)};return n.save(),n.font=g.string,He(e.title,O),n.font=p.string,He(e.beforeBody.concat(e.afterBody),O),_=t.displayColors?c+2+t.boxPadding:0,He(r,P=>{He(P.before,O),He(P.lines,O),He(P.after,O)}),_=0,n.font=y.string,He(e.footer,O),n.restore(),D+=T.width,{width:D,height:R}}function NI(e,t){const{y:n,height:r}=t;return n<r/2?"top":n>e.height-r/2?"bottom":"center"}function MI(e,t,n,r){const{x:s,width:a}=r,c=n.caretSize+n.caretPadding;if(e==="left"&&s+a+c>t.width||e==="right"&&s-a-c<0)return!0}function OI(e,t,n,r){const{x:s,width:a}=n,{width:c,chartArea:{left:h,right:p}}=e;let g="center";return r==="center"?g=s<=(h+p)/2?"left":"right":s<=a/2?g="left":s>=c-a/2&&(g="right"),MI(g,e,t,n)&&(g="center"),g}function Zp(e,t,n){const r=n.yAlign||t.yAlign||NI(e,n);return{xAlign:n.xAlign||t.xAlign||OI(e,t,n,r),yAlign:r}}function RI(e,t){let{x:n,width:r}=e;return t==="right"?n-=r:t==="center"&&(n-=r/2),n}function DI(e,t,n){let{y:r,height:s}=e;return t==="top"?r+=n:t==="bottom"?r-=s+n:r-=s/2,r}function Kp(e,t,n,r){const{caretSize:s,caretPadding:a,cornerRadius:c}=e,{xAlign:h,yAlign:p}=n,g=s+a,{topLeft:y,topRight:C,bottomLeft:A,bottomRight:v}=ya(c);let T=RI(t,h);const R=DI(t,p,g);return p==="center"?h==="left"?T+=g:h==="right"&&(T-=g):h==="left"?T-=Math.max(y,A)+s:h==="right"&&(T+=Math.max(C,v)+s),{x:Gn(T,0,r.width-t.width),y:Gn(R,0,r.height-t.height)}}function Ql(e,t,n){const r=cr(n.padding);return t==="center"?e.x+e.width/2:t==="right"?e.x+e.width-r.right:e.x+r.left}function qp(e){return Er([],Dr(e))}function kI(e,t,n){return wo(e,{tooltip:t,tooltipItems:n,type:"tooltip"})}function $p(e,t){const n=t&&t.dataset&&t.dataset.tooltip&&t.dataset.tooltip.callbacks;return n?e.override(n):e}const yw={beforeTitle:Mr,title(e){if(e.length>0){const t=e[0],n=t.chart.data.labels,r=n?n.length:0;if(this&&this.options&&this.options.mode==="dataset")return t.dataset.label||"";if(t.label)return t.label;if(r>0&&t.dataIndex<r)return n[t.dataIndex]}return""},afterTitle:Mr,beforeBody:Mr,beforeLabel:Mr,label(e){if(this&&this.options&&this.options.mode==="dataset")return e.label+": "+e.formattedValue||e.formattedValue;let t=e.dataset.label||"";t&&(t+=": ");const n=e.formattedValue;return $t(n)||(t+=n),t},labelColor(e){const n=e.chart.getDatasetMeta(e.datasetIndex).controller.getStyle(e.dataIndex);return{borderColor:n.borderColor,backgroundColor:n.backgroundColor,borderWidth:n.borderWidth,borderDash:n.borderDash,borderDashOffset:n.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(e){const n=e.chart.getDatasetMeta(e.datasetIndex).controller.getStyle(e.dataIndex);return{pointStyle:n.pointStyle,rotation:n.rotation}},afterLabel:Mr,afterBody:Mr,beforeFooter:Mr,footer:Mr,afterFooter:Mr};function hn(e,t,n,r){const s=e[t].call(n,r);return typeof s>"u"?yw[t].call(n,r):s}class xh extends xs{constructor(t){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=t.chart,this.options=t.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(t){this.options=t,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const t=this._cachedAnimations;if(t)return t;const n=this.chart,r=this.options.setContext(this.getContext()),s=r.enabled&&n.options.animation&&r.animations,a=new ow(this.chart,s);return s._cacheable&&(this._cachedAnimations=Object.freeze(a)),a}getContext(){return this.$context||(this.$context=kI(this.chart.getContext(),this,this._tooltipItems))}getTitle(t,n){const{callbacks:r}=n,s=hn(r,"beforeTitle",this,t),a=hn(r,"title",this,t),c=hn(r,"afterTitle",this,t);let h=[];return h=Er(h,Dr(s)),h=Er(h,Dr(a)),h=Er(h,Dr(c)),h}getBeforeBody(t,n){return qp(hn(n.callbacks,"beforeBody",this,t))}getBody(t,n){const{callbacks:r}=n,s=[];return He(t,a=>{const c={before:[],lines:[],after:[]},h=$p(r,a);Er(c.before,Dr(hn(h,"beforeLabel",this,a))),Er(c.lines,hn(h,"label",this,a)),Er(c.after,Dr(hn(h,"afterLabel",this,a))),s.push(c)}),s}getAfterBody(t,n){return qp(hn(n.callbacks,"afterBody",this,t))}getFooter(t,n){const{callbacks:r}=n,s=hn(r,"beforeFooter",this,t),a=hn(r,"footer",this,t),c=hn(r,"afterFooter",this,t);let h=[];return h=Er(h,Dr(s)),h=Er(h,Dr(a)),h=Er(h,Dr(c)),h}_createItems(t){const n=this._active,r=this.chart.data,s=[],a=[],c=[];let h=[],p,g;for(p=0,g=n.length;p<g;++p)h.push(TI(this.chart,n[p]));return t.filter&&(h=h.filter((y,C,A)=>t.filter(y,C,A,r))),t.itemSort&&(h=h.sort((y,C)=>t.itemSort(y,C,r))),He(h,y=>{const C=$p(t.callbacks,y);s.push(hn(C,"labelColor",this,y)),a.push(hn(C,"labelPointStyle",this,y)),c.push(hn(C,"labelTextColor",this,y))}),this.labelColors=s,this.labelPointStyles=a,this.labelTextColors=c,this.dataPoints=h,h}update(t,n){const r=this.options.setContext(this.getContext()),s=this._active;let a,c=[];if(!s.length)this.opacity!==0&&(a={opacity:0});else{const h=ia[r.position].call(this,s,this._eventPosition);c=this._createItems(r),this.title=this.getTitle(c,r),this.beforeBody=this.getBeforeBody(c,r),this.body=this.getBody(c,r),this.afterBody=this.getAfterBody(c,r),this.footer=this.getFooter(c,r);const p=this._size=Qp(this,r),g=Object.assign({},h,p),y=Zp(this.chart,r,g),C=Kp(r,g,y,this.chart);this.xAlign=y.xAlign,this.yAlign=y.yAlign,a={opacity:1,x:C.x,y:C.y,width:p.width,height:p.height,caretX:h.x,caretY:h.y}}this._tooltipItems=c,this.$context=void 0,a&&this._resolveAnimations().update(this,a),t&&r.external&&r.external.call(this,{chart:this.chart,tooltip:this,replay:n})}drawCaret(t,n,r,s){const a=this.getCaretPosition(t,r,s);n.lineTo(a.x1,a.y1),n.lineTo(a.x2,a.y2),n.lineTo(a.x3,a.y3)}getCaretPosition(t,n,r){const{xAlign:s,yAlign:a}=this,{caretSize:c,cornerRadius:h}=r,{topLeft:p,topRight:g,bottomLeft:y,bottomRight:C}=ya(h),{x:A,y:v}=t,{width:T,height:R}=n;let D,I,_,O,P,U;return a==="center"?(P=v+R/2,s==="left"?(D=A,I=D-c,O=P+c,U=P-c):(D=A+T,I=D+c,O=P-c,U=P+c),_=D):(s==="left"?I=A+Math.max(p,y)+c:s==="right"?I=A+T-Math.max(g,C)-c:I=this.caretX,a==="top"?(O=v,P=O-c,D=I-c,_=I+c):(O=v+R,P=O+c,D=I+c,_=I-c),U=O),{x1:D,x2:I,x3:_,y1:O,y2:P,y3:U}}drawTitle(t,n,r){const s=this.title,a=s.length;let c,h,p;if(a){const g=to(r.rtl,this.x,this.width);for(t.x=Ql(this,r.titleAlign,r),n.textAlign=g.textAlign(r.titleAlign),n.textBaseline="middle",c=xn(r.titleFont),h=r.titleSpacing,n.fillStyle=r.titleColor,n.font=c.string,p=0;p<a;++p)n.fillText(s[p],g.x(t.x),t.y+c.lineHeight/2),t.y+=c.lineHeight+h,p+1===a&&(t.y+=r.titleMarginBottom-h)}}_drawColorBox(t,n,r,s,a){const c=this.labelColors[r],h=this.labelPointStyles[r],{boxHeight:p,boxWidth:g}=a,y=xn(a.bodyFont),C=Ql(this,"left",a),A=s.x(C),v=p<y.lineHeight?(y.lineHeight-p)/2:0,T=n.y+v;if(a.usePointStyle){const R={radius:Math.min(g,p)/2,pointStyle:h.pointStyle,rotation:h.rotation,borderWidth:1},D=s.leftForLtr(A,g)+g/2,I=T+p/2;t.strokeStyle=a.multiKeyBackground,t.fillStyle=a.multiKeyBackground,mp(t,R,D,I),t.strokeStyle=c.borderColor,t.fillStyle=c.backgroundColor,mp(t,R,D,I)}else{t.lineWidth=ke(c.borderWidth)?Math.max(...Object.values(c.borderWidth)):c.borderWidth||1,t.strokeStyle=c.borderColor,t.setLineDash(c.borderDash||[]),t.lineDashOffset=c.borderDashOffset||0;const R=s.leftForLtr(A,g),D=s.leftForLtr(s.xPlus(A,1),g-2),I=ya(c.borderRadius);Object.values(I).some(_=>_!==0)?(t.beginPath(),t.fillStyle=a.multiKeyBackground,hh(t,{x:R,y:T,w:g,h:p,radius:I}),t.fill(),t.stroke(),t.fillStyle=c.backgroundColor,t.beginPath(),hh(t,{x:D,y:T+1,w:g-2,h:p-2,radius:I}),t.fill()):(t.fillStyle=a.multiKeyBackground,t.fillRect(R,T,g,p),t.strokeRect(R,T,g,p),t.fillStyle=c.backgroundColor,t.fillRect(D,T+1,g-2,p-2))}t.fillStyle=this.labelTextColors[r]}drawBody(t,n,r){const{body:s}=this,{bodySpacing:a,bodyAlign:c,displayColors:h,boxHeight:p,boxWidth:g,boxPadding:y}=r,C=xn(r.bodyFont);let A=C.lineHeight,v=0;const T=to(r.rtl,this.x,this.width),R=function(G){n.fillText(G,T.x(t.x+v),t.y+A/2),t.y+=A+a},D=T.textAlign(c);let I,_,O,P,U,Y,j;for(n.textAlign=c,n.textBaseline="middle",n.font=C.string,t.x=Ql(this,D,r),n.fillStyle=r.bodyColor,He(this.beforeBody,R),v=h&&D!=="right"?c==="center"?g/2+y:g+2+y:0,P=0,Y=s.length;P<Y;++P){for(I=s[P],_=this.labelTextColors[P],n.fillStyle=_,He(I.before,R),O=I.lines,h&&O.length&&(this._drawColorBox(n,t,P,T,r),A=Math.max(C.lineHeight,p)),U=0,j=O.length;U<j;++U)R(O[U]),A=C.lineHeight;He(I.after,R)}v=0,A=C.lineHeight,He(this.afterBody,R),t.y-=a}drawFooter(t,n,r){const s=this.footer,a=s.length;let c,h;if(a){const p=to(r.rtl,this.x,this.width);for(t.x=Ql(this,r.footerAlign,r),t.y+=r.footerMarginTop,n.textAlign=p.textAlign(r.footerAlign),n.textBaseline="middle",c=xn(r.footerFont),n.fillStyle=r.footerColor,n.font=c.string,h=0;h<a;++h)n.fillText(s[h],p.x(t.x),t.y+c.lineHeight/2),t.y+=c.lineHeight+r.footerSpacing}}drawBackground(t,n,r,s){const{xAlign:a,yAlign:c}=this,{x:h,y:p}=t,{width:g,height:y}=r,{topLeft:C,topRight:A,bottomLeft:v,bottomRight:T}=ya(s.cornerRadius);n.fillStyle=s.backgroundColor,n.strokeStyle=s.borderColor,n.lineWidth=s.borderWidth,n.beginPath(),n.moveTo(h+C,p),c==="top"&&this.drawCaret(t,n,r,s),n.lineTo(h+g-A,p),n.quadraticCurveTo(h+g,p,h+g,p+A),c==="center"&&a==="right"&&this.drawCaret(t,n,r,s),n.lineTo(h+g,p+y-T),n.quadraticCurveTo(h+g,p+y,h+g-T,p+y),c==="bottom"&&this.drawCaret(t,n,r,s),n.lineTo(h+v,p+y),n.quadraticCurveTo(h,p+y,h,p+y-v),c==="center"&&a==="left"&&this.drawCaret(t,n,r,s),n.lineTo(h,p+C),n.quadraticCurveTo(h,p,h+C,p),n.closePath(),n.fill(),s.borderWidth>0&&n.stroke()}_updateAnimationTarget(t){const n=this.chart,r=this.$animations,s=r&&r.x,a=r&&r.y;if(s||a){const c=ia[t.position].call(this,this._active,this._eventPosition);if(!c)return;const h=this._size=Qp(this,t),p=Object.assign({},c,this._size),g=Zp(n,t,p),y=Kp(t,p,g,n);(s._to!==y.x||a._to!==y.y)&&(this.xAlign=g.xAlign,this.yAlign=g.yAlign,this.width=h.width,this.height=h.height,this.caretX=c.x,this.caretY=c.y,this._resolveAnimations().update(this,y))}}_willRender(){return!!this.opacity}draw(t){const n=this.options.setContext(this.getContext());let r=this.opacity;if(!r)return;this._updateAnimationTarget(n);const s={width:this.width,height:this.height},a={x:this.x,y:this.y};r=Math.abs(r)<.001?0:r;const c=cr(n.padding),h=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;n.enabled&&h&&(t.save(),t.globalAlpha=r,this.drawBackground(a,t,s,n),iw(t,n.textDirection),a.y+=c.top,this.drawTitle(a,t,n),this.drawBody(a,t,n),this.drawFooter(a,t,n),sw(t,n.textDirection),t.restore())}getActiveElements(){return this._active||[]}setActiveElements(t,n){const r=this._active,s=t.map(({datasetIndex:h,index:p})=>{const g=this.chart.getDatasetMeta(h);if(!g)throw new Error("Cannot find a dataset at index "+h);return{datasetIndex:h,element:g.data[p],index:p}}),a=!Zc(r,s),c=this._positionChanged(s,n);(a||c)&&(this._active=s,this._eventPosition=n,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(t,n,r=!0){if(n&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const s=this.options,a=this._active||[],c=this._getActiveElements(t,a,n,r),h=this._positionChanged(c,t),p=n||!Zc(c,a)||h;return p&&(this._active=c,(s.enabled||s.external)&&(this._eventPosition={x:t.x,y:t.y},this.update(!0,n))),p}_getActiveElements(t,n,r,s){const a=this.options;if(t.type==="mouseout")return[];if(!s)return n.filter(h=>this.chart.data.datasets[h.datasetIndex]&&this.chart.getDatasetMeta(h.datasetIndex).controller.getParsed(h.index)!==void 0);const c=this.chart.getElementsAtEventForMode(t,a.mode,a,r);return a.reverse&&c.reverse(),c}_positionChanged(t,n){const{caretX:r,caretY:s,options:a}=this,c=ia[a.position].call(this,t,n);return c!==!1&&(r!==c.x||s!==c.y)}}ve(xh,"positioners",ia);var LI={id:"tooltip",_element:xh,positioners:ia,afterInit(e,t,n){n&&(e.tooltip=new xh({chart:e,options:n}))},beforeUpdate(e,t,n){e.tooltip&&e.tooltip.initialize(n)},reset(e,t,n){e.tooltip&&e.tooltip.initialize(n)},afterDraw(e){const t=e.tooltip;if(t&&t._willRender()){const n={tooltip:t};if(e.notifyPlugins("beforeTooltipDraw",{...n,cancelable:!0})===!1)return;t.draw(e.ctx),e.notifyPlugins("afterTooltipDraw",n)}},afterEvent(e,t){if(e.tooltip){const n=t.replay;e.tooltip.handleEvent(t.event,n,t.inChartArea)&&(t.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(e,t)=>t.bodyFont.size,boxWidth:(e,t)=>t.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:yw},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:e=>e!=="filter"&&e!=="itemSort"&&e!=="external",_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]};const Uu={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},pn=Object.keys(Uu);function Jp(e,t){return e-t}function em(e,t){if($t(t))return null;const n=e._adapter,{parser:r,round:s,isoWeekday:a}=e._parseOpts;let c=t;return typeof r=="function"&&(c=r(c)),Zr(c)||(c=typeof r=="string"?n.parse(c,r):n.parse(c)),c===null?null:(s&&(c=s==="week"&&(Jc(a)||a===!0)?n.startOf(c,"isoWeek",a):n.startOf(c,s)),+c)}function tm(e,t,n,r){const s=pn.length;for(let a=pn.indexOf(e);a<s-1;++a){const c=Uu[pn[a]],h=c.steps?c.steps:Number.MAX_SAFE_INTEGER;if(c.common&&Math.ceil((n-t)/(h*c.size))<=r)return pn[a]}return pn[s-1]}function PI(e,t,n,r,s){for(let a=pn.length-1;a>=pn.indexOf(n);a--){const c=pn[a];if(Uu[c].common&&e._adapter.diff(s,r,c)>=t-1)return c}return pn[n?pn.indexOf(n):0]}function BI(e){for(let t=pn.indexOf(e)+1,n=pn.length;t<n;++t)if(Uu[pn[t]].common)return pn[t]}function nm(e,t,n){if(!n)e[t]=!0;else if(n.length){const{lo:r,hi:s}=D0(n,t),a=n[r]>=t?n[r]:n[s];e[a]=!0}}function FI(e,t,n,r){const s=e._adapter,a=+s.startOf(t[0].value,r),c=t[t.length-1].value;let h,p;for(h=a;h<=c;h=+s.add(h,1,r))p=n[h],p>=0&&(t[p].major=!0);return t}function rm(e,t,n){const r=[],s={},a=t.length;let c,h;for(c=0;c<a;++c)h=t[c],s[h]=c,r.push({value:h,major:!1});return a===0||!n?r:FI(e,r,s,n)}class su extends ju{constructor(t){super(t),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(t,n={}){const r=t.time||(t.time={}),s=this._adapter=new l8._date(t.adapters.date);s.init(n),pa(r.displayFormats,s.formats()),this._parseOpts={parser:r.parser,round:r.round,isoWeekday:r.isoWeekday},super.init(t),this._normalized=n.normalized}parse(t,n){return t===void 0?null:em(this,t)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const t=this.options,n=this._adapter,r=t.time.unit||"day";let{min:s,max:a,minDefined:c,maxDefined:h}=this.getUserBounds();function p(g){!c&&!isNaN(g.min)&&(s=Math.min(s,g.min)),!h&&!isNaN(g.max)&&(a=Math.max(a,g.max))}(!c||!h)&&(p(this._getLabelBounds()),(t.bounds!=="ticks"||t.ticks.source!=="labels")&&p(this.getMinMax(!1))),s=Zr(s)&&!isNaN(s)?s:+n.startOf(Date.now(),r),a=Zr(a)&&!isNaN(a)?a:+n.endOf(Date.now(),r)+1,this.min=Math.min(s,a-1),this.max=Math.max(s+1,a)}_getLabelBounds(){const t=this.getLabelTimestamps();let n=Number.POSITIVE_INFINITY,r=Number.NEGATIVE_INFINITY;return t.length&&(n=t[0],r=t[t.length-1]),{min:n,max:r}}buildTicks(){const t=this.options,n=t.time,r=t.ticks,s=r.source==="labels"?this.getLabelTimestamps():this._generate();t.bounds==="ticks"&&s.length&&(this.min=this._userMin||s[0],this.max=this._userMax||s[s.length-1]);const a=this.min,c=this.max,h=r_(s,a,c);return this._unit=n.unit||(r.autoSkip?tm(n.minUnit,this.min,this.max,this._getLabelCapacity(a)):PI(this,h.length,n.minUnit,this.min,this.max)),this._majorUnit=!r.major.enabled||this._unit==="year"?void 0:BI(this._unit),this.initOffsets(s),t.reverse&&h.reverse(),rm(this,h,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(t=>+t.value))}initOffsets(t=[]){let n=0,r=0,s,a;this.options.offset&&t.length&&(s=this.getDecimalForValue(t[0]),t.length===1?n=1-s:n=(this.getDecimalForValue(t[1])-s)/2,a=this.getDecimalForValue(t[t.length-1]),t.length===1?r=a:r=(a-this.getDecimalForValue(t[t.length-2]))/2);const c=t.length<3?.5:.25;n=Gn(n,0,c),r=Gn(r,0,c),this._offsets={start:n,end:r,factor:1/(n+1+r)}}_generate(){const t=this._adapter,n=this.min,r=this.max,s=this.options,a=s.time,c=a.unit||tm(a.minUnit,n,r,this._getLabelCapacity(n)),h=We(s.ticks.stepSize,1),p=c==="week"?a.isoWeekday:!1,g=Jc(p)||p===!0,y={};let C=n,A,v;if(g&&(C=+t.startOf(C,"isoWeek",p)),C=+t.startOf(C,g?"day":c),t.diff(r,n,c)>1e5*h)throw new Error(n+" and "+r+" are too far apart with stepSize of "+h+" "+c);const T=s.ticks.source==="data"&&this.getDataTimestamps();for(A=C,v=0;A<r;A=+t.add(A,h,c),v++)nm(y,A,T);return(A===r||s.bounds==="ticks"||v===1)&&nm(y,A,T),Object.keys(y).sort(Jp).map(R=>+R)}getLabelForValue(t){const n=this._adapter,r=this.options.time;return r.tooltipFormat?n.format(t,r.tooltipFormat):n.format(t,r.displayFormats.datetime)}format(t,n){const s=this.options.time.displayFormats,a=this._unit,c=n||s[a];return this._adapter.format(t,c)}_tickFormatFunction(t,n,r,s){const a=this.options,c=a.ticks.callback;if(c)return nt(c,[t,n,r],this);const h=a.time.displayFormats,p=this._unit,g=this._majorUnit,y=p&&h[p],C=g&&h[g],A=r[n],v=g&&C&&A&&A.major;return this._adapter.format(t,s||(v?C:y))}generateTickLabels(t){let n,r,s;for(n=0,r=t.length;n<r;++n)s=t[n],s.label=this._tickFormatFunction(s.value,n,t)}getDecimalForValue(t){return t===null?NaN:(t-this.min)/(this.max-this.min)}getPixelForValue(t){const n=this._offsets,r=this.getDecimalForValue(t);return this.getPixelForDecimal((n.start+r)*n.factor)}getValueForPixel(t){const n=this._offsets,r=this.getDecimalForPixel(t)/n.factor-n.end;return this.min+r*(this.max-this.min)}_getLabelSize(t){const n=this.options.ticks,r=this.ctx.measureText(t).width,s=rs(this.isHorizontal()?n.maxRotation:n.minRotation),a=Math.cos(s),c=Math.sin(s),h=this._resolveTickFontOptions(0).size;return{w:r*a+h*c,h:r*c+h*a}}_getLabelCapacity(t){const n=this.options.time,r=n.displayFormats,s=r[n.unit]||r.millisecond,a=this._tickFormatFunction(t,0,rm(this,[t],this._majorUnit),s),c=this._getLabelSize(a),h=Math.floor(this.isHorizontal()?this.width/c.w:this.height/c.h)-1;return h>0?h:1}getDataTimestamps(){let t=this._cache.data||[],n,r;if(t.length)return t;const s=this.getMatchingVisibleMetas();if(this._normalized&&s.length)return this._cache.data=s[0].controller.getAllParsedValues(this);for(n=0,r=s.length;n<r;++n)t=t.concat(s[n].controller.getAllParsedValues(this));return this._cache.data=this.normalize(t)}getLabelTimestamps(){const t=this._cache.labels||[];let n,r;if(t.length)return t;const s=this.getLabels();for(n=0,r=s.length;n<r;++n)t.push(em(this,s[n]));return this._cache.labels=this._normalized?t:this.normalize(t)}normalize(t){return s_(t.sort(Jp))}}ve(su,"id","time"),ve(su,"defaults",{bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}});function Zl(e,t,n){let r=0,s=e.length-1,a,c,h,p;n?(t>=e[r].pos&&t<=e[s].pos&&({lo:r,hi:s}=fh(e,"pos",t)),{pos:a,time:h}=e[r],{pos:c,time:p}=e[s]):(t>=e[r].time&&t<=e[s].time&&({lo:r,hi:s}=fh(e,"time",t)),{time:a,pos:h}=e[r],{time:c,pos:p}=e[s]);const g=c-a;return g?h+(p-h)*(t-a)/g:h}class im extends su{constructor(t){super(t),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const t=this._getTimestampsForTable(),n=this._table=this.buildLookupTable(t);this._minPos=Zl(n,this.min),this._tableRange=Zl(n,this.max)-this._minPos,super.initOffsets(t)}buildLookupTable(t){const{min:n,max:r}=this,s=[],a=[];let c,h,p,g,y;for(c=0,h=t.length;c<h;++c)g=t[c],g>=n&&g<=r&&s.push(g);if(s.length<2)return[{time:n,pos:0},{time:r,pos:1}];for(c=0,h=s.length;c<h;++c)y=s[c+1],p=s[c-1],g=s[c],Math.round((y+p)/2)!==g&&a.push({time:g,pos:c/(h-1)});return a}_generate(){const t=this.min,n=this.max;let r=super.getDataTimestamps();return(!r.includes(t)||!r.length)&&r.splice(0,0,t),(!r.includes(n)||r.length===1)&&r.push(n),r.sort((s,a)=>s-a)}_getTimestampsForTable(){let t=this._cache.all||[];if(t.length)return t;const n=this.getDataTimestamps(),r=this.getLabelTimestamps();return n.length&&r.length?t=this.normalize(n.concat(r)):t=n.length?n:r,t=this._cache.all=t,t}getDecimalForValue(t){return(Zl(this._table,t)-this._minPos)/this._tableRange}getValueForPixel(t){const n=this._offsets,r=this.getDecimalForPixel(t)/n.factor-n.end;return Zl(this._table,r*this._tableRange+this._minPos,!0)}}ve(im,"id","timeseries"),ve(im,"defaults",su.defaults);Yn.register(ra,LI,II,gh);const jI=async()=>{try{return(await Ze.get("/api/student/",{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}})).data}catch(e){throw console.error("Error fetching student data:",e),e}},UI=()=>{const[e,t]=V.useState(null),[n,r]=V.useState(!0),[s,a]=V.useState(null),[c,h]=V.useState("overall"),p=V.useRef(null),g=V.useRef(null),y=V.useRef(null),C=V.useRef(null),A=V.useRef(null),v=V.useRef(null),T=V.useRef(null),R=V.useRef(null),D=Cs(),I=()=>{D("/searchstudent")};V.useEffect(()=>{(async()=>{try{r(!0),a(null);try{const P=await jI();t(P)}catch{console.warn("Using fallback data for development")}}catch(P){a("Failed to load student data. Please try again later."),console.error("Error loading data:",P)}finally{r(!1)}})()},[]);const _=e?e[c]:{total:0,checkIn:0,notCheckIn:0,takenFood:0,notTakenFood:0,takenIcecream:0,notTakenIcecream:0,completedAll:0,missingAny:0};return V.useEffect(()=>{if(!e||n)return;const O={checkIn:{yes:"rgba(34, 197, 94, 0.8)",no:"rgba(239, 68, 68, 0.8)"},food:{yes:"rgba(245, 158, 11, 0.8)",no:"rgba(156, 163, 175, 0.8)"},iceCream:{yes:"rgba(59, 130, 246, 0.8)",no:"rgba(156, 163, 175, 0.8)"},completion:{yes:"rgba(168, 85, 247, 0.8)",no:"rgba(156, 163, 175, 0.8)"}},P={responsive:!0,maintainAspectRatio:!1,plugins:{legend:{position:"bottom",labels:{boxWidth:12,padding:15,font:{size:10}}},tooltip:{callbacks:{label:function(U){const Y=U.label||"",j=U.raw||0,G=Math.round(j/_.total*100);return`${Y}: ${j} (${G}%)`}}}}};if(p.current){A.current&&A.current.destroy();const U={labels:["Checked In","Not Checked In"],datasets:[{data:[_.checkIn,_.notCheckIn],backgroundColor:[O.checkIn.yes,O.checkIn.no],borderWidth:1}]};A.current=new Yn(p.current,{type:"pie",data:U,options:P})}if(g.current){v.current&&v.current.destroy();const U={labels:["Food Taken","Food Not Taken"],datasets:[{data:[_.takenFood,_.notTakenFood],backgroundColor:[O.food.yes,O.food.no],borderWidth:1}]};v.current=new Yn(g.current,{type:"pie",data:U,options:P})}if(y.current){T.current&&T.current.destroy();const U={labels:["Ice Cream Taken","Ice Cream Not Taken"],datasets:[{data:[_.takenIcecream,_.notTakenIcecream],backgroundColor:[O.iceCream.yes,O.iceCream.no],borderWidth:1}]};T.current=new Yn(y.current,{type:"pie",data:U,options:P})}if(C.current){R.current&&R.current.destroy();const U={labels:["Completed All","Missing Any"],datasets:[{data:[_.completedAll,_.missingAny],backgroundColor:[O.completion.yes,O.completion.no],borderWidth:1}]};R.current=new Yn(C.current,{type:"pie",data:U,options:P})}return()=>{A.current&&A.current.destroy(),v.current&&v.current.destroy(),T.current&&T.current.destroy(),R.current&&R.current.destroy()}},[c,_,e,n]),n?M.jsxs("div",{className:"flex flex-col h-screen bg-gray-100 items-center justify-center",children:[M.jsx(gy,{size:48,className:"text-blue-600 animate-spin mb-4"}),M.jsx("p",{className:"text-gray-600",children:"Loading student data..."})]}):s?M.jsxs("div",{className:"flex flex-col h-screen bg-gray-100 items-center justify-center p-4",children:[M.jsxs("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded-md mb-4 max-w-md w-full",children:[M.jsx("p",{className:"font-bold mb-1",children:"Error"}),M.jsx("p",{children:s})]}),M.jsx("button",{onClick:()=>window.location.reload(),className:"bg-blue-600 text-white px-4 py-2 rounded-md",children:"Retry"})]}):M.jsxs("div",{className:"flex flex-col h-screen bg-gray-100",children:[M.jsxs("div",{className:"bg-blue-600 text-white p-4 flex justify-between items-center shadow-md",children:[M.jsx("h1",{className:"text-xl font-bold",children:"Student Dashboard"}),M.jsxs("button",{onClick:I,className:"bg-white text-blue-600 px-3 py-2 rounded-md flex items-center shadow-sm",children:[M.jsx(rh,{size:18,className:"mr-2"}),M.jsx("span",{children:"Search Student"})]})]}),M.jsxs("div",{className:"flex bg-white shadow-sm",children:[M.jsx("button",{className:`flex-1 py-3 text-center ${c==="overall"?"border-b-2 border-blue-600 text-blue-600 font-medium":"text-gray-600"}`,onClick:()=>h("overall"),children:"Overall"}),M.jsx("button",{className:`flex-1 py-3 text-center ${c==="E3"?"border-b-2 border-blue-600 text-blue-600 font-medium":"text-gray-600"}`,onClick:()=>h("E3"),children:"E3"}),M.jsx("button",{className:`flex-1 py-3 text-center ${c==="E4"?"border-b-2 border-blue-600 text-blue-600 font-medium":"text-gray-600"}`,onClick:()=>h("E4"),children:"E4"})]}),M.jsx("div",{className:"p-4",children:M.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-4",children:[M.jsx("div",{className:"flex justify-between items-center mb-2",children:M.jsx("h3",{className:"text-sm font-medium text-gray-500",children:"Total Students"})}),M.jsx("p",{className:"text-2xl font-bold",children:_.total}),M.jsxs("p",{className:"text-xs text-gray-500",children:["Checked In: ",_.checkIn," (",Math.round(_.checkIn/_.total*100),"%)"]})]})}),M.jsxs("div",{className:"px-4 pb-4 grid grid-cols-2 gap-4",children:[M.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-3",children:[M.jsx("h3",{className:"text-sm font-medium text-gray-600 mb-2",children:"Check-in Status"}),M.jsx("div",{className:"h-32",children:M.jsx("canvas",{ref:p})})]}),M.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-3",children:[M.jsx("h3",{className:"text-sm font-medium text-gray-600 mb-2",children:"Food Status"}),M.jsx("div",{className:"h-32",children:M.jsx("canvas",{ref:g})})]}),M.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-3",children:[M.jsx("h3",{className:"text-sm font-medium text-gray-600 mb-2",children:"Ice Cream Status"}),M.jsx("div",{className:"h-32",children:M.jsx("canvas",{ref:y})})]}),M.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-3",children:[M.jsx("h3",{className:"text-sm font-medium text-gray-600 mb-2",children:"Completion Status"}),M.jsx("div",{className:"h-32",children:M.jsx("canvas",{ref:C})})]})]})]})},Go=({element:e})=>{const{isAuthenticated:t}=J2(n=>n.auth);return t?e:M.jsx(wA,{to:"/login",replace:!0})},zI=()=>{const e=J2(c=>c.auth.user),[t,n]=Rm.useState(!0),r=_u();V.useEffect(()=>{n(!!e)},[e,r]);const s=Cs(),a=()=>{t?(r(dy()),Gs.success("Logged out successfully")):s("/login")};return M.jsxs("div",{className:"flex flex-col w-full min-h-screen bg-gradient-to-b from-blue-50 to-indigo-100",children:[M.jsxs("header",{className:"p-4 flex items-center justify-between",children:[M.jsxs("div",{className:"flex items-center",children:[M.jsx(Wb,{className:"w-7 h-7 text-indigo-600 mr-2"}),M.jsx("h1",{className:"text-2xl sm:text-3xl font-bold text-indigo-800",children:"Yaadein"})]}),M.jsx("button",{onClick:a,className:"flex items-center gap-1 px-3 py-2 rounded-lg bg-white shadow-sm hover:shadow-md transition-all text-sm",children:t?M.jsxs(M.Fragment,{children:[M.jsx(Ub,{className:"w-4 h-4 text-indigo-600"}),M.jsx("span",{className:"text-indigo-600",children:"Logout"})]}):M.jsxs(M.Fragment,{children:[M.jsx(py,{className:"w-4 h-4 text-indigo-600"}),M.jsx("span",{className:"text-indigo-600",children:"Sign In"})]})})]}),M.jsx("div",{className:"text-center mb-2",children:M.jsx("p",{className:"text-gray-600 text-sm",children:"Food Token Management System"})}),M.jsxs("main",{className:"flex flex-col flex-1 items-center justify-center p-4",children:[M.jsxs("div",{className:"w-full max-w-md bg-white rounded-2xl shadow-lg overflow-hidden",children:[M.jsxs("div",{className:"bg-indigo-600 p-5 text-white text-center",children:[M.jsx("h2",{className:"text-xl font-semibold",children:"Welcome to Yaadein"}),M.jsx("p",{className:"text-indigo-100 mt-1 text-sm",children:"Select an option to continue"})]}),M.jsxs("div",{className:"p-5 space-y-4",children:[M.jsx(Mn,{to:"/checkin",className:"block w-full",children:M.jsxs("button",{className:"flex items-center justify-between w-full p-4 bg-blue-600 text-white rounded-xl hover:bg-blue-700 transition-all shadow-sm hover:shadow-md",children:[M.jsx("span",{className:"font-medium",children:"Check In"}),M.jsx(Ou,{className:"w-5 h-5"})]})}),M.jsx(Mn,{to:"/scanfood",className:"block w-full",children:M.jsxs("button",{className:"flex items-center justify-between w-full p-4 bg-blue-600 text-white rounded-xl hover:bg-blue-700 transition-all shadow-sm hover:shadow-md",children:[M.jsx("span",{className:"font-medium",children:"Scan Food"}),M.jsx(Vb,{className:"w-5 h-5"})]})}),M.jsx(Mn,{to:"/scanicecream",className:"block w-full",children:M.jsxs("button",{className:"flex items-center justify-between w-full p-4 bg-blue-600 text-white rounded-xl hover:bg-blue-700 transition-all shadow-sm hover:shadow-md",children:[M.jsx("span",{className:"font-medium",children:"Scan Ice Cream"}),M.jsx(hy,{className:"w-5 h-5"})]})}),M.jsxs("div",{className:"relative",children:[M.jsx("div",{className:"absolute inset-0 flex items-center",children:M.jsx("div",{className:"w-full border-t border-gray-200"})}),M.jsx("div",{className:"relative flex justify-center text-sm",children:M.jsx("span",{className:"px-2 bg-white text-gray-500",children:"or"})})]}),M.jsx(Mn,{to:"/dashboard",className:"block w-full",children:M.jsxs("button",{className:"flex items-center justify-between w-full p-4 bg-indigo-600 text-white rounded-xl hover:bg-indigo-700 transition-all shadow-sm hover:shadow-md",children:[M.jsx("span",{className:"font-medium",children:"View Dashboard"}),M.jsx(Lb,{className:"w-5 h-5"})]})})]})]}),M.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3 w-full max-w-md mt-5",children:[M.jsxs("div",{className:"bg-white p-4 rounded-lg shadow-md",children:[M.jsx("div",{className:"text-blue-600 text-base font-semibold mb-1",children:"Scanner"}),M.jsx("p",{className:"text-gray-600 text-sm",children:"Scan QR codes to validate food tokens"})]}),M.jsxs("div",{className:"bg-white p-4 rounded-lg shadow-md",children:[M.jsx("div",{className:"text-indigo-600 text-base font-semibold mb-1",children:"Dashboard"}),M.jsx("p",{className:"text-gray-600 text-sm",children:"View statistics and manage tokens"})]})]})]}),M.jsx("footer",{className:"p-4 text-center text-gray-600 text-sm",children:M.jsxs("p",{children:[" ",new Date().getFullYear()," Yaadein Food Token System"]})})]})},HI=()=>{const[e,t]=V.useState(""),[n,r]=V.useState(""),[s,a]=V.useState(""),[c,h]=V.useState(!1),p=Cs(),g=_u();function y(A){if(!A.endsWith("@rguktsklm.ac.in"))return!1;const T=A.split("@")[0],R=/^rs20\d{4}$/,D=/^s19\d{4}$/;return R.test(T)||D.test(T)}const C=async A=>{var v,T;if(A.preventDefault(),n!==s){Gs.error("Passwords do not match");return}if(!y(e)){Gs.error("Enter Valid email");return}h(!0);try{const D=(await Ze.post("/api/auth/signup",{email:e,password:n})).data;g(Mb(D.user)),g(A0({user:D.user,token:D.token})),Gs.success("Successfully registered!"),p("/dashboard")}catch(R){const D=((T=(v=R.response)==null?void 0:v.data)==null?void 0:T.message)||"Something went wrong. Please try again.";Gs.error(D)}finally{h(!1)}};return M.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-100 py-12 px-4 sm:px-6 lg:px-8",children:M.jsxs("div",{className:"max-w-md w-full space-y-8 bg-white p-8 rounded-xl shadow-lg",children:[M.jsxs("div",{children:[M.jsxs(Mn,{to:"/login",className:"flex items-center text-gray-600 hover:text-gray-800 mb-8",children:[M.jsx(el,{className:"h-5 w-5 mr-2"}),"Back to Login"]}),M.jsx("div",{className:"flex justify-center",children:M.jsx(Hb,{className:"h-12 w-12 text-indigo-600"})}),M.jsx("h2",{className:"mt-6 text-center text-3xl font-extrabold text-gray-900",children:"Create your account"})]}),M.jsxs("form",{className:"mt-8 space-y-6",onSubmit:C,children:[M.jsxs("div",{className:"rounded-md shadow-sm space-y-4",children:[M.jsxs("div",{children:[M.jsx("label",{htmlFor:"email",className:"sr-only",children:"Email address"}),M.jsx("input",{id:"email",name:"email",type:"email",autoComplete:"email",required:!0,className:"appearance-none rounded-lg relative block w-full px-3 py-2 border border-gray-300 placeholder-gray-500 text-gray-900 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 focus:z-10 sm:text-sm",placeholder:"Email address",value:e,onChange:A=>t(A.target.value)})]}),M.jsxs("div",{children:[M.jsx("label",{htmlFor:"password",className:"sr-only",children:"Password"}),M.jsx("input",{id:"password",name:"password",type:"password",autoComplete:"new-password",required:!0,className:"appearance-none rounded-lg relative block w-full px-3 py-2 border border-gray-300 placeholder-gray-500 text-gray-900 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 focus:z-10 sm:text-sm",placeholder:"Password",value:n,onChange:A=>r(A.target.value)})]}),M.jsxs("div",{children:[M.jsx("label",{htmlFor:"confirm-password",className:"sr-only",children:"Confirm Password"}),M.jsx("input",{id:"confirm-password",name:"confirm-password",type:"password",autoComplete:"new-password",required:!0,className:"appearance-none rounded-lg relative block w-full px-3 py-2 border border-gray-300 placeholder-gray-500 text-gray-900 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 focus:z-10 sm:text-sm",placeholder:"Confirm Password",value:s,onChange:A=>a(A.target.value)})]})]}),M.jsx("div",{children:M.jsx("button",{type:"submit",disabled:c,className:"group relative w-full flex justify-center py-2 px-4 border border-transparent text-sm font-medium rounded-md text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 disabled:opacity-50 disabled:cursor-not-allowed",children:c?"Creating account...":"Sign up"})}),M.jsxs("div",{className:"text-sm text-center",children:[M.jsx("span",{className:"text-gray-600",children:"Already have an account? "}),M.jsx(Mn,{to:"/login",className:"font-medium text-indigo-600 hover:text-indigo-500",children:"Sign in"})]})]})]})})};var ce;(function(e){e[e.QR_CODE=0]="QR_CODE",e[e.AZTEC=1]="AZTEC",e[e.CODABAR=2]="CODABAR",e[e.CODE_39=3]="CODE_39",e[e.CODE_93=4]="CODE_93",e[e.CODE_128=5]="CODE_128",e[e.DATA_MATRIX=6]="DATA_MATRIX",e[e.MAXICODE=7]="MAXICODE",e[e.ITF=8]="ITF",e[e.EAN_13=9]="EAN_13",e[e.EAN_8=10]="EAN_8",e[e.PDF_417=11]="PDF_417",e[e.RSS_14=12]="RSS_14",e[e.RSS_EXPANDED=13]="RSS_EXPANDED",e[e.UPC_A=14]="UPC_A",e[e.UPC_E=15]="UPC_E",e[e.UPC_EAN_EXTENSION=16]="UPC_EAN_EXTENSION"})(ce||(ce={}));var sm=new Map([[ce.QR_CODE,"QR_CODE"],[ce.AZTEC,"AZTEC"],[ce.CODABAR,"CODABAR"],[ce.CODE_39,"CODE_39"],[ce.CODE_93,"CODE_93"],[ce.CODE_128,"CODE_128"],[ce.DATA_MATRIX,"DATA_MATRIX"],[ce.MAXICODE,"MAXICODE"],[ce.ITF,"ITF"],[ce.EAN_13,"EAN_13"],[ce.EAN_8,"EAN_8"],[ce.PDF_417,"PDF_417"],[ce.RSS_14,"RSS_14"],[ce.RSS_EXPANDED,"RSS_EXPANDED"],[ce.UPC_A,"UPC_A"],[ce.UPC_E,"UPC_E"],[ce.UPC_EAN_EXTENSION,"UPC_EAN_EXTENSION"]]),om;(function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.URL=1]="URL"})(om||(om={}));function WI(e){return Object.values(ce).includes(e)}var Oi;(function(e){e[e.SCAN_TYPE_CAMERA=0]="SCAN_TYPE_CAMERA",e[e.SCAN_TYPE_FILE=1]="SCAN_TYPE_FILE"})(Oi||(Oi={}));var rr=function(){function e(){}return e.GITHUB_PROJECT_URL="https://github.com/mebjas/html5-qrcode",e.SCAN_DEFAULT_FPS=2,e.DEFAULT_DISABLE_FLIP=!1,e.DEFAULT_REMEMBER_LAST_CAMERA_USED=!0,e.DEFAULT_SUPPORTED_SCAN_TYPE=[Oi.SCAN_TYPE_CAMERA,Oi.SCAN_TYPE_FILE],e}(),ww=function(){function e(t,n){this.format=t,this.formatName=n}return e.prototype.toString=function(){return this.formatName},e.create=function(t){if(!sm.has(t))throw"".concat(t," not in html5QrcodeSupportedFormatsTextMap");return new e(t,sm.get(t))},e}(),am=function(){function e(){}return e.createFromText=function(t){var n={text:t};return{decodedText:t,result:n}},e.createFromQrcodeResult=function(t){return{decodedText:t.text,result:t}},e}(),yh;(function(e){e[e.UNKWOWN_ERROR=0]="UNKWOWN_ERROR",e[e.IMPLEMENTATION_ERROR=1]="IMPLEMENTATION_ERROR",e[e.NO_CODE_FOUND_ERROR=2]="NO_CODE_FOUND_ERROR"})(yh||(yh={}));var Cw=function(){function e(){}return e.createFrom=function(t){return{errorMessage:t,type:yh.UNKWOWN_ERROR}},e}(),Ew=function(){function e(t){this.verbose=t}return e.prototype.log=function(t){this.verbose&&console.log(t)},e.prototype.warn=function(t){this.verbose&&console.warn(t)},e.prototype.logError=function(t,n){(this.verbose||n===!0)&&console.error(t)},e.prototype.logErrors=function(t){if(t.length===0)throw"Logger#logError called without arguments";this.verbose&&console.error(t)},e}();function br(e){return typeof e>"u"||e===null}function VI(e,t,n){return e>n?n:e<t?t:e}var Qs=function(){function e(){}return e.codeParseError=function(t){return"QR code parse error, error = ".concat(t)},e.errorGettingUserMedia=function(t){return"Error getting userMedia, error = ".concat(t)},e.onlyDeviceSupportedError=function(){return"The device doesn't support navigator.mediaDevices , only supported cameraIdOrConfig in this case is deviceId parameter (string)."},e.cameraStreamingNotSupported=function(){return"Camera streaming not supported by the browser."},e.unableToQuerySupportedDevices=function(){return"Unable to query supported devices, unknown error."},e.insecureContextCameraQueryError=function(){return"Camera access is only supported in secure context like https or localhost."},e.scannerPaused=function(){return"Scanner paused"},e}(),ze=function(){function e(){}return e.scanningStatus=function(){return"Scanning"},e.idleStatus=function(){return"Idle"},e.errorStatus=function(){return"Error"},e.permissionStatus=function(){return"Permission"},e.noCameraFoundErrorStatus=function(){return"No Cameras"},e.lastMatch=function(t){return"Last Match: ".concat(t)},e.codeScannerTitle=function(){return"Code Scanner"},e.cameraPermissionTitle=function(){return"Request Camera Permissions"},e.cameraPermissionRequesting=function(){return"Requesting camera permissions..."},e.noCameraFound=function(){return"No camera found"},e.scanButtonStopScanningText=function(){return"Stop Scanning"},e.scanButtonStartScanningText=function(){return"Start Scanning"},e.torchOnButton=function(){return"Switch On Torch"},e.torchOffButton=function(){return"Switch Off Torch"},e.torchOnFailedMessage=function(){return"Failed to turn on torch"},e.torchOffFailedMessage=function(){return"Failed to turn off torch"},e.scanButtonScanningStarting=function(){return"Launching Camera..."},e.textIfCameraScanSelected=function(){return"Scan an Image File"},e.textIfFileScanSelected=function(){return"Scan using camera directly"},e.selectCamera=function(){return"Select Camera"},e.fileSelectionChooseImage=function(){return"Choose Image"},e.fileSelectionChooseAnother=function(){return"Choose Another"},e.fileSelectionNoImageSelected=function(){return"No image choosen"},e.anonymousCameraPrefix=function(){return"Anonymous Camera"},e.dragAndDropMessage=function(){return"Or drop an image to scan"},e.dragAndDropMessageOnlyImages=function(){return"Or drop an image to scan (other files not supported)"},e.zoom=function(){return"zoom"},e.loadingImage=function(){return"Loading image..."},e.cameraScanAltText=function(){return"Camera based scan"},e.fileScanAltText=function(){return"Fule based scan"},e}(),lm=function(){function e(){}return e.poweredBy=function(){return"Powered by "},e.reportIssues=function(){return"Report issues"},e}(),Aw=function(){function e(){}return e.isMediaStreamConstraintsValid=function(t,n){if(typeof t!="object"){var r=typeof t;return n.logError("videoConstraints should be of type object, the "+"object passed is of type ".concat(r,"."),!0),!1}for(var s=["autoGainControl","channelCount","echoCancellation","latency","noiseSuppression","sampleRate","sampleSize","volume"],a=new Set(s),c=Object.keys(t),h=0,p=c;h<p.length;h++){var g=p[h];if(a.has(g))return n.logError("".concat(g," is not supported videoConstaints."),!0),!1}return!0},e}(),wh={exports:{}};(function(e,t){(function(n,r){r(t)})(Ro,function(n){function r(S){return S==null}var s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(S,i){S.__proto__=i}||function(S,i){for(var o in i)i.hasOwnProperty(o)&&(S[o]=i[o])};function a(S,i){s(S,i);function o(){this.constructor=S}S.prototype=i===null?Object.create(i):(o.prototype=i.prototype,new o)}function c(S,i){var o=Object.setPrototypeOf;o?o(S,i):S.__proto__=i}function h(S,i){i===void 0&&(i=S.constructor);var o=Error.captureStackTrace;o&&o(S,i)}var p=function(S){a(i,S);function i(o){var l=this.constructor,u=S.call(this,o)||this;return Object.defineProperty(u,"name",{value:l.name,enumerable:!1}),c(u,l.prototype),h(u),u}return i}(Error);class g extends p{constructor(i=void 0){super(i),this.message=i}getKind(){return this.constructor.kind}}g.kind="Exception";class y extends g{}y.kind="ArgumentException";class C extends g{}C.kind="IllegalArgumentException";class A{constructor(i){if(this.binarizer=i,i===null)throw new C("Binarizer must be non-null.")}getWidth(){return this.binarizer.getWidth()}getHeight(){return this.binarizer.getHeight()}getBlackRow(i,o){return this.binarizer.getBlackRow(i,o)}getBlackMatrix(){return(this.matrix===null||this.matrix===void 0)&&(this.matrix=this.binarizer.getBlackMatrix()),this.matrix}isCropSupported(){return this.binarizer.getLuminanceSource().isCropSupported()}crop(i,o,l,u){const f=this.binarizer.getLuminanceSource().crop(i,o,l,u);return new A(this.binarizer.createBinarizer(f))}isRotateSupported(){return this.binarizer.getLuminanceSource().isRotateSupported()}rotateCounterClockwise(){const i=this.binarizer.getLuminanceSource().rotateCounterClockwise();return new A(this.binarizer.createBinarizer(i))}rotateCounterClockwise45(){const i=this.binarizer.getLuminanceSource().rotateCounterClockwise45();return new A(this.binarizer.createBinarizer(i))}toString(){try{return this.getBlackMatrix().toString()}catch{return""}}}class v extends g{static getChecksumInstance(){return new v}}v.kind="ChecksumException";class T{constructor(i){this.source=i}getLuminanceSource(){return this.source}getWidth(){return this.source.getWidth()}getHeight(){return this.source.getHeight()}}class R{static arraycopy(i,o,l,u,f){for(;f--;)l[u++]=i[o++]}static currentTimeMillis(){return Date.now()}}class D extends g{}D.kind="IndexOutOfBoundsException";class I extends D{constructor(i=void 0,o=void 0){super(o),this.index=i,this.message=o}}I.kind="ArrayIndexOutOfBoundsException";class _{static fill(i,o){for(let l=0,u=i.length;l<u;l++)i[l]=o}static fillWithin(i,o,l,u){_.rangeCheck(i.length,o,l);for(let f=o;f<l;f++)i[f]=u}static rangeCheck(i,o,l){if(o>l)throw new C("fromIndex("+o+") > toIndex("+l+")");if(o<0)throw new I(o);if(l>i)throw new I(l)}static asList(...i){return i}static create(i,o,l){return Array.from({length:i}).map(f=>Array.from({length:o}).fill(l))}static createInt32Array(i,o,l){return Array.from({length:i}).map(f=>Int32Array.from({length:o}).fill(l))}static equals(i,o){if(!i||!o||!i.length||!o.length||i.length!==o.length)return!1;for(let l=0,u=i.length;l<u;l++)if(i[l]!==o[l])return!1;return!0}static hashCode(i){if(i===null)return 0;let o=1;for(const l of i)o=31*o+l;return o}static fillUint8Array(i,o){for(let l=0;l!==i.length;l++)i[l]=o}static copyOf(i,o){return i.slice(0,o)}static copyOfUint8Array(i,o){if(i.length<=o){const l=new Uint8Array(o);return l.set(i),l}return i.slice(0,o)}static copyOfRange(i,o,l){const u=l-o,f=new Int32Array(u);return R.arraycopy(i,o,f,0,u),f}static binarySearch(i,o,l){l===void 0&&(l=_.numberComparator);let u=0,f=i.length-1;for(;u<=f;){const d=f+u>>1,m=l(o,i[d]);if(m>0)u=d+1;else if(m<0)f=d-1;else return d}return-u-1}static numberComparator(i,o){return i-o}}class O{static numberOfTrailingZeros(i){let o;if(i===0)return 32;let l=31;return o=i<<16,o!==0&&(l-=16,i=o),o=i<<8,o!==0&&(l-=8,i=o),o=i<<4,o!==0&&(l-=4,i=o),o=i<<2,o!==0&&(l-=2,i=o),l-(i<<1>>>31)}static numberOfLeadingZeros(i){if(i===0)return 32;let o=1;return i>>>16||(o+=16,i<<=16),i>>>24||(o+=8,i<<=8),i>>>28||(o+=4,i<<=4),i>>>30||(o+=2,i<<=2),o-=i>>>31,o}static toHexString(i){return i.toString(16)}static toBinaryString(i){return String(parseInt(String(i),2))}static bitCount(i){return i=i-(i>>>1&1431655765),i=(i&858993459)+(i>>>2&858993459),i=i+(i>>>4)&252645135,i=i+(i>>>8),i=i+(i>>>16),i&63}static truncDivision(i,o){return Math.trunc(i/o)}static parseInt(i,o=void 0){return parseInt(i,o)}}O.MIN_VALUE_32_BITS=-2147483648,O.MAX_VALUE=Number.MAX_SAFE_INTEGER;class P{constructor(i,o){i===void 0?(this.size=0,this.bits=new Int32Array(1)):(this.size=i,o==null?this.bits=P.makeArray(i):this.bits=o)}getSize(){return this.size}getSizeInBytes(){return Math.floor((this.size+7)/8)}ensureCapacity(i){if(i>this.bits.length*32){const o=P.makeArray(i);R.arraycopy(this.bits,0,o,0,this.bits.length),this.bits=o}}get(i){return(this.bits[Math.floor(i/32)]&1<<(i&31))!==0}set(i){this.bits[Math.floor(i/32)]|=1<<(i&31)}flip(i){this.bits[Math.floor(i/32)]^=1<<(i&31)}getNextSet(i){const o=this.size;if(i>=o)return o;const l=this.bits;let u=Math.floor(i/32),f=l[u];f&=~((1<<(i&31))-1);const d=l.length;for(;f===0;){if(++u===d)return o;f=l[u]}const m=u*32+O.numberOfTrailingZeros(f);return m>o?o:m}getNextUnset(i){const o=this.size;if(i>=o)return o;const l=this.bits;let u=Math.floor(i/32),f=~l[u];f&=~((1<<(i&31))-1);const d=l.length;for(;f===0;){if(++u===d)return o;f=~l[u]}const m=u*32+O.numberOfTrailingZeros(f);return m>o?o:m}setBulk(i,o){this.bits[Math.floor(i/32)]=o}setRange(i,o){if(o<i||i<0||o>this.size)throw new C;if(o===i)return;o--;const l=Math.floor(i/32),u=Math.floor(o/32),f=this.bits;for(let d=l;d<=u;d++){const m=d>l?0:i&31,w=(2<<(d<u?31:o&31))-(1<<m);f[d]|=w}}clear(){const i=this.bits.length,o=this.bits;for(let l=0;l<i;l++)o[l]=0}isRange(i,o,l){if(o<i||i<0||o>this.size)throw new C;if(o===i)return!0;o--;const u=Math.floor(i/32),f=Math.floor(o/32),d=this.bits;for(let m=u;m<=f;m++){const x=m>u?0:i&31,E=(2<<(m<f?31:o&31))-(1<<x)&4294967295;if((d[m]&E)!==(l?E:0))return!1}return!0}appendBit(i){this.ensureCapacity(this.size+1),i&&(this.bits[Math.floor(this.size/32)]|=1<<(this.size&31)),this.size++}appendBits(i,o){if(o<0||o>32)throw new C("Num bits must be between 0 and 32");this.ensureCapacity(this.size+o);for(let l=o;l>0;l--)this.appendBit((i>>l-1&1)===1)}appendBitArray(i){const o=i.size;this.ensureCapacity(this.size+o);for(let l=0;l<o;l++)this.appendBit(i.get(l))}xor(i){if(this.size!==i.size)throw new C("Sizes don't match");const o=this.bits;for(let l=0,u=o.length;l<u;l++)o[l]^=i.bits[l]}toBytes(i,o,l,u){for(let f=0;f<u;f++){let d=0;for(let m=0;m<8;m++)this.get(i)&&(d|=1<<7-m),i++;o[l+f]=d}}getBitArray(){return this.bits}reverse(){const i=new Int32Array(this.bits.length),o=Math.floor((this.size-1)/32),l=o+1,u=this.bits;for(let f=0;f<l;f++){let d=u[f];d=d>>1&1431655765|(d&1431655765)<<1,d=d>>2&858993459|(d&858993459)<<2,d=d>>4&252645135|(d&252645135)<<4,d=d>>8&16711935|(d&16711935)<<8,d=d>>16&65535|(d&65535)<<16,i[o-f]=d}if(this.size!==l*32){const f=l*32-this.size;let d=i[0]>>>f;for(let m=1;m<l;m++){const x=i[m];d|=x<<32-f,i[m-1]=d,d=x>>>f}i[l-1]=d}this.bits=i}static makeArray(i){return new Int32Array(Math.floor((i+31)/32))}equals(i){if(!(i instanceof P))return!1;const o=i;return this.size===o.size&&_.equals(this.bits,o.bits)}hashCode(){return 31*this.size+_.hashCode(this.bits)}toString(){let i="";for(let o=0,l=this.size;o<l;o++)o&7||(i+=" "),i+=this.get(o)?"X":".";return i}clone(){return new P(this.size,this.bits.slice())}}var U;(function(S){S[S.OTHER=0]="OTHER",S[S.PURE_BARCODE=1]="PURE_BARCODE",S[S.POSSIBLE_FORMATS=2]="POSSIBLE_FORMATS",S[S.TRY_HARDER=3]="TRY_HARDER",S[S.CHARACTER_SET=4]="CHARACTER_SET",S[S.ALLOWED_LENGTHS=5]="ALLOWED_LENGTHS",S[S.ASSUME_CODE_39_CHECK_DIGIT=6]="ASSUME_CODE_39_CHECK_DIGIT",S[S.ASSUME_GS1=7]="ASSUME_GS1",S[S.RETURN_CODABAR_START_END=8]="RETURN_CODABAR_START_END",S[S.NEED_RESULT_POINT_CALLBACK=9]="NEED_RESULT_POINT_CALLBACK",S[S.ALLOWED_EAN_EXTENSIONS=10]="ALLOWED_EAN_EXTENSIONS"})(U||(U={}));var Y=U;class j extends g{static getFormatInstance(){return new j}}j.kind="FormatException";var G;(function(S){S[S.Cp437=0]="Cp437",S[S.ISO8859_1=1]="ISO8859_1",S[S.ISO8859_2=2]="ISO8859_2",S[S.ISO8859_3=3]="ISO8859_3",S[S.ISO8859_4=4]="ISO8859_4",S[S.ISO8859_5=5]="ISO8859_5",S[S.ISO8859_6=6]="ISO8859_6",S[S.ISO8859_7=7]="ISO8859_7",S[S.ISO8859_8=8]="ISO8859_8",S[S.ISO8859_9=9]="ISO8859_9",S[S.ISO8859_10=10]="ISO8859_10",S[S.ISO8859_11=11]="ISO8859_11",S[S.ISO8859_13=12]="ISO8859_13",S[S.ISO8859_14=13]="ISO8859_14",S[S.ISO8859_15=14]="ISO8859_15",S[S.ISO8859_16=15]="ISO8859_16",S[S.SJIS=16]="SJIS",S[S.Cp1250=17]="Cp1250",S[S.Cp1251=18]="Cp1251",S[S.Cp1252=19]="Cp1252",S[S.Cp1256=20]="Cp1256",S[S.UnicodeBigUnmarked=21]="UnicodeBigUnmarked",S[S.UTF8=22]="UTF8",S[S.ASCII=23]="ASCII",S[S.Big5=24]="Big5",S[S.GB18030=25]="GB18030",S[S.EUC_KR=26]="EUC_KR"})(G||(G={}));class Z{constructor(i,o,l,...u){this.valueIdentifier=i,this.name=l,typeof o=="number"?this.values=Int32Array.from([o]):this.values=o,this.otherEncodingNames=u,Z.VALUE_IDENTIFIER_TO_ECI.set(i,this),Z.NAME_TO_ECI.set(l,this);const f=this.values;for(let d=0,m=f.length;d!==m;d++){const x=f[d];Z.VALUES_TO_ECI.set(x,this)}for(const d of u)Z.NAME_TO_ECI.set(d,this)}getValueIdentifier(){return this.valueIdentifier}getName(){return this.name}getValue(){return this.values[0]}static getCharacterSetECIByValue(i){if(i<0||i>=900)throw new j("incorect value");const o=Z.VALUES_TO_ECI.get(i);if(o===void 0)throw new j("incorect value");return o}static getCharacterSetECIByName(i){const o=Z.NAME_TO_ECI.get(i);if(o===void 0)throw new j("incorect value");return o}equals(i){if(!(i instanceof Z))return!1;const o=i;return this.getName()===o.getName()}}Z.VALUE_IDENTIFIER_TO_ECI=new Map,Z.VALUES_TO_ECI=new Map,Z.NAME_TO_ECI=new Map,Z.Cp437=new Z(G.Cp437,Int32Array.from([0,2]),"Cp437"),Z.ISO8859_1=new Z(G.ISO8859_1,Int32Array.from([1,3]),"ISO-8859-1","ISO88591","ISO8859_1"),Z.ISO8859_2=new Z(G.ISO8859_2,4,"ISO-8859-2","ISO88592","ISO8859_2"),Z.ISO8859_3=new Z(G.ISO8859_3,5,"ISO-8859-3","ISO88593","ISO8859_3"),Z.ISO8859_4=new Z(G.ISO8859_4,6,"ISO-8859-4","ISO88594","ISO8859_4"),Z.ISO8859_5=new Z(G.ISO8859_5,7,"ISO-8859-5","ISO88595","ISO8859_5"),Z.ISO8859_6=new Z(G.ISO8859_6,8,"ISO-8859-6","ISO88596","ISO8859_6"),Z.ISO8859_7=new Z(G.ISO8859_7,9,"ISO-8859-7","ISO88597","ISO8859_7"),Z.ISO8859_8=new Z(G.ISO8859_8,10,"ISO-8859-8","ISO88598","ISO8859_8"),Z.ISO8859_9=new Z(G.ISO8859_9,11,"ISO-8859-9","ISO88599","ISO8859_9"),Z.ISO8859_10=new Z(G.ISO8859_10,12,"ISO-8859-10","ISO885910","ISO8859_10"),Z.ISO8859_11=new Z(G.ISO8859_11,13,"ISO-8859-11","ISO885911","ISO8859_11"),Z.ISO8859_13=new Z(G.ISO8859_13,15,"ISO-8859-13","ISO885913","ISO8859_13"),Z.ISO8859_14=new Z(G.ISO8859_14,16,"ISO-8859-14","ISO885914","ISO8859_14"),Z.ISO8859_15=new Z(G.ISO8859_15,17,"ISO-8859-15","ISO885915","ISO8859_15"),Z.ISO8859_16=new Z(G.ISO8859_16,18,"ISO-8859-16","ISO885916","ISO8859_16"),Z.SJIS=new Z(G.SJIS,20,"SJIS","Shift_JIS"),Z.Cp1250=new Z(G.Cp1250,21,"Cp1250","windows-1250"),Z.Cp1251=new Z(G.Cp1251,22,"Cp1251","windows-1251"),Z.Cp1252=new Z(G.Cp1252,23,"Cp1252","windows-1252"),Z.Cp1256=new Z(G.Cp1256,24,"Cp1256","windows-1256"),Z.UnicodeBigUnmarked=new Z(G.UnicodeBigUnmarked,25,"UnicodeBigUnmarked","UTF-16BE","UnicodeBig"),Z.UTF8=new Z(G.UTF8,26,"UTF8","UTF-8"),Z.ASCII=new Z(G.ASCII,Int32Array.from([27,170]),"ASCII","US-ASCII"),Z.Big5=new Z(G.Big5,28,"Big5"),Z.GB18030=new Z(G.GB18030,29,"GB18030","GB2312","EUC_CN","GBK"),Z.EUC_KR=new Z(G.EUC_KR,30,"EUC_KR","EUC-KR");class se extends g{}se.kind="UnsupportedOperationException";class he{static decode(i,o){const l=this.encodingName(o);return this.customDecoder?this.customDecoder(i,l):typeof TextDecoder>"u"||this.shouldDecodeOnFallback(l)?this.decodeFallback(i,l):new TextDecoder(l).decode(i)}static shouldDecodeOnFallback(i){return!he.isBrowser()&&i==="ISO-8859-1"}static encode(i,o){const l=this.encodingName(o);return this.customEncoder?this.customEncoder(i,l):typeof TextEncoder>"u"?this.encodeFallback(i):new TextEncoder().encode(i)}static isBrowser(){return typeof window<"u"&&{}.toString.call(window)==="[object Window]"}static encodingName(i){return typeof i=="string"?i:i.getName()}static encodingCharacterSet(i){return i instanceof Z?i:Z.getCharacterSetECIByName(i)}static decodeFallback(i,o){const l=this.encodingCharacterSet(o);if(he.isDecodeFallbackSupported(l)){let u="";for(let f=0,d=i.length;f<d;f++){let m=i[f].toString(16);m.length<2&&(m="0"+m),u+="%"+m}return decodeURIComponent(u)}if(l.equals(Z.UnicodeBigUnmarked))return String.fromCharCode.apply(null,new Uint16Array(i.buffer));throw new se(`Encoding ${this.encodingName(o)} not supported by fallback.`)}static isDecodeFallbackSupported(i){return i.equals(Z.UTF8)||i.equals(Z.ISO8859_1)||i.equals(Z.ASCII)}static encodeFallback(i){const l=btoa(unescape(encodeURIComponent(i))).split(""),u=[];for(let f=0;f<l.length;f++)u.push(l[f].charCodeAt(0));return new Uint8Array(u)}}class ne{static castAsNonUtf8Char(i,o=null){const l=o?o.getName():this.ISO88591;return he.decode(new Uint8Array([i]),l)}static guessEncoding(i,o){if(o!=null&&o.get(Y.CHARACTER_SET)!==void 0)return o.get(Y.CHARACTER_SET).toString();const l=i.length;let u=!0,f=!0,d=!0,m=0,x=0,w=0,E=0,b=0,N=0,L=0,B=0,F=0,z=0,Q=0;const ee=i.length>3&&i[0]===239&&i[1]===187&&i[2]===191;for(let te=0;te<l&&(u||f||d);te++){const $=i[te]&255;d&&(m>0?$&128?m--:d=!1:$&128&&($&64?(m++,$&32?(m++,$&16?(m++,$&8?d=!1:E++):w++):x++):d=!1)),u&&($>127&&$<160?u=!1:$>159&&($<192||$===215||$===247)&&Q++),f&&(b>0?$<64||$===127||$>252?f=!1:b--:$===128||$===160||$>239?f=!1:$>160&&$<224?(N++,B=0,L++,L>F&&(F=L)):$>127?(b++,L=0,B++,B>z&&(z=B)):(L=0,B=0))}return d&&m>0&&(d=!1),f&&b>0&&(f=!1),d&&(ee||x+w+E>0)?ne.UTF8:f&&(ne.ASSUME_SHIFT_JIS||F>=3||z>=3)?ne.SHIFT_JIS:u&&f?F===2&&N===2||Q*10>=l?ne.SHIFT_JIS:ne.ISO88591:u?ne.ISO88591:f?ne.SHIFT_JIS:d?ne.UTF8:ne.PLATFORM_DEFAULT_ENCODING}static format(i,...o){let l=-1;function u(d,m,x,w,E,b){if(d==="%%")return"%";if(o[++l]===void 0)return;d=w?parseInt(w.substr(1)):void 0;let N=E?parseInt(E.substr(1)):void 0,L;switch(b){case"s":L=o[l];break;case"c":L=o[l][0];break;case"f":L=parseFloat(o[l]).toFixed(d);break;case"p":L=parseFloat(o[l]).toPrecision(d);break;case"e":L=parseFloat(o[l]).toExponential(d);break;case"x":L=parseInt(o[l]).toString(N||16);break;case"d":L=parseFloat(parseInt(o[l],N||10).toPrecision(d)).toFixed(0);break}L=typeof L=="object"?JSON.stringify(L):(+L).toString(N);let B=parseInt(x),F=x&&x[0]+""=="0"?"0":" ";for(;L.length<B;)L=m!==void 0?L+F:F+L;return L}let f=/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g;return i.replace(f,u)}static getBytes(i,o){return he.encode(i,o)}static getCharCode(i,o=0){return i.charCodeAt(o)}static getCharAt(i){return String.fromCharCode(i)}}ne.SHIFT_JIS=Z.SJIS.getName(),ne.GB2312="GB2312",ne.ISO88591=Z.ISO8859_1.getName(),ne.EUC_JP="EUC_JP",ne.UTF8=Z.UTF8.getName(),ne.PLATFORM_DEFAULT_ENCODING=ne.UTF8,ne.ASSUME_SHIFT_JIS=!1;class xe{constructor(i=""){this.value=i}enableDecoding(i){return this.encoding=i,this}append(i){return typeof i=="string"?this.value+=i.toString():this.encoding?this.value+=ne.castAsNonUtf8Char(i,this.encoding):this.value+=String.fromCharCode(i),this}appendChars(i,o,l){for(let u=o;o<o+l;u++)this.append(i[u]);return this}length(){return this.value.length}charAt(i){return this.value.charAt(i)}deleteCharAt(i){this.value=this.value.substr(0,i)+this.value.substring(i+1)}setCharAt(i,o){this.value=this.value.substr(0,i)+o+this.value.substr(i+1)}substring(i,o){return this.value.substring(i,o)}setLengthToZero(){this.value=""}toString(){return this.value}insert(i,o){this.value=this.value.substr(0,i)+o+this.value.substr(i+o.length)}}class Ne{constructor(i,o,l,u){if(this.width=i,this.height=o,this.rowSize=l,this.bits=u,o==null&&(o=i),this.height=o,i<1||o<1)throw new C("Both dimensions must be greater than 0");l==null&&(l=Math.floor((i+31)/32)),this.rowSize=l,u==null&&(this.bits=new Int32Array(this.rowSize*this.height))}static parseFromBooleanArray(i){const o=i.length,l=i[0].length,u=new Ne(l,o);for(let f=0;f<o;f++){const d=i[f];for(let m=0;m<l;m++)d[m]&&u.set(m,f)}return u}static parseFromString(i,o,l){if(i===null)throw new C("stringRepresentation cannot be null");const u=new Array(i.length);let f=0,d=0,m=-1,x=0,w=0;for(;w<i.length;)if(i.charAt(w)===`
`||i.charAt(w)==="\r"){if(f>d){if(m===-1)m=f-d;else if(f-d!==m)throw new C("row lengths do not match");d=f,x++}w++}else if(i.substring(w,w+o.length)===o)w+=o.length,u[f]=!0,f++;else if(i.substring(w,w+l.length)===l)w+=l.length,u[f]=!1,f++;else throw new C("illegal character encountered: "+i.substring(w));if(f>d){if(m===-1)m=f-d;else if(f-d!==m)throw new C("row lengths do not match");x++}const E=new Ne(m,x);for(let b=0;b<f;b++)u[b]&&E.set(Math.floor(b%m),Math.floor(b/m));return E}get(i,o){const l=o*this.rowSize+Math.floor(i/32);return(this.bits[l]>>>(i&31)&1)!==0}set(i,o){const l=o*this.rowSize+Math.floor(i/32);this.bits[l]|=1<<(i&31)&4294967295}unset(i,o){const l=o*this.rowSize+Math.floor(i/32);this.bits[l]&=~(1<<(i&31)&4294967295)}flip(i,o){const l=o*this.rowSize+Math.floor(i/32);this.bits[l]^=1<<(i&31)&4294967295}xor(i){if(this.width!==i.getWidth()||this.height!==i.getHeight()||this.rowSize!==i.getRowSize())throw new C("input matrix dimensions do not match");const o=new P(Math.floor(this.width/32)+1),l=this.rowSize,u=this.bits;for(let f=0,d=this.height;f<d;f++){const m=f*l,x=i.getRow(f,o).getBitArray();for(let w=0;w<l;w++)u[m+w]^=x[w]}}clear(){const i=this.bits,o=i.length;for(let l=0;l<o;l++)i[l]=0}setRegion(i,o,l,u){if(o<0||i<0)throw new C("Left and top must be nonnegative");if(u<1||l<1)throw new C("Height and width must be at least 1");const f=i+l,d=o+u;if(d>this.height||f>this.width)throw new C("The region must fit inside the matrix");const m=this.rowSize,x=this.bits;for(let w=o;w<d;w++){const E=w*m;for(let b=i;b<f;b++)x[E+Math.floor(b/32)]|=1<<(b&31)&4294967295}}getRow(i,o){o==null||o.getSize()<this.width?o=new P(this.width):o.clear();const l=this.rowSize,u=this.bits,f=i*l;for(let d=0;d<l;d++)o.setBulk(d*32,u[f+d]);return o}setRow(i,o){R.arraycopy(o.getBitArray(),0,this.bits,i*this.rowSize,this.rowSize)}rotate180(){const i=this.getWidth(),o=this.getHeight();let l=new P(i),u=new P(i);for(let f=0,d=Math.floor((o+1)/2);f<d;f++)l=this.getRow(f,l),u=this.getRow(o-1-f,u),l.reverse(),u.reverse(),this.setRow(f,u),this.setRow(o-1-f,l)}getEnclosingRectangle(){const i=this.width,o=this.height,l=this.rowSize,u=this.bits;let f=i,d=o,m=-1,x=-1;for(let w=0;w<o;w++)for(let E=0;E<l;E++){const b=u[w*l+E];if(b!==0){if(w<d&&(d=w),w>x&&(x=w),E*32<f){let N=0;for(;!(b<<31-N&4294967295);)N++;E*32+N<f&&(f=E*32+N)}if(E*32+31>m){let N=31;for(;!(b>>>N);)N--;E*32+N>m&&(m=E*32+N)}}}return m<f||x<d?null:Int32Array.from([f,d,m-f+1,x-d+1])}getTopLeftOnBit(){const i=this.rowSize,o=this.bits;let l=0;for(;l<o.length&&o[l]===0;)l++;if(l===o.length)return null;const u=l/i;let f=l%i*32;const d=o[l];let m=0;for(;!(d<<31-m&4294967295);)m++;return f+=m,Int32Array.from([f,u])}getBottomRightOnBit(){const i=this.rowSize,o=this.bits;let l=o.length-1;for(;l>=0&&o[l]===0;)l--;if(l<0)return null;const u=Math.floor(l/i);let f=Math.floor(l%i)*32;const d=o[l];let m=31;for(;!(d>>>m);)m--;return f+=m,Int32Array.from([f,u])}getWidth(){return this.width}getHeight(){return this.height}getRowSize(){return this.rowSize}equals(i){if(!(i instanceof Ne))return!1;const o=i;return this.width===o.width&&this.height===o.height&&this.rowSize===o.rowSize&&_.equals(this.bits,o.bits)}hashCode(){let i=this.width;return i=31*i+this.width,i=31*i+this.height,i=31*i+this.rowSize,i=31*i+_.hashCode(this.bits),i}toString(i="X ",o="  ",l=`
`){return this.buildToString(i,o,l)}buildToString(i,o,l){let u=new xe;for(let f=0,d=this.height;f<d;f++){for(let m=0,x=this.width;m<x;m++)u.append(this.get(m,f)?i:o);u.append(l)}return u.toString()}clone(){return new Ne(this.width,this.height,this.rowSize,this.bits.slice())}}class W extends g{static getNotFoundInstance(){return new W}}W.kind="NotFoundException";class Ce extends T{constructor(i){super(i),this.luminances=Ce.EMPTY,this.buckets=new Int32Array(Ce.LUMINANCE_BUCKETS)}getBlackRow(i,o){const l=this.getLuminanceSource(),u=l.getWidth();o==null||o.getSize()<u?o=new P(u):o.clear(),this.initArrays(u);const f=l.getRow(i,this.luminances),d=this.buckets;for(let x=0;x<u;x++)d[(f[x]&255)>>Ce.LUMINANCE_SHIFT]++;const m=Ce.estimateBlackPoint(d);if(u<3)for(let x=0;x<u;x++)(f[x]&255)<m&&o.set(x);else{let x=f[0]&255,w=f[1]&255;for(let E=1;E<u-1;E++){const b=f[E+1]&255;(w*4-x-b)/2<m&&o.set(E),x=w,w=b}}return o}getBlackMatrix(){const i=this.getLuminanceSource(),o=i.getWidth(),l=i.getHeight(),u=new Ne(o,l);this.initArrays(o);const f=this.buckets;for(let x=1;x<5;x++){const w=Math.floor(l*x/5),E=i.getRow(w,this.luminances),b=Math.floor(o*4/5);for(let N=Math.floor(o/5);N<b;N++){const L=E[N]&255;f[L>>Ce.LUMINANCE_SHIFT]++}}const d=Ce.estimateBlackPoint(f),m=i.getMatrix();for(let x=0;x<l;x++){const w=x*o;for(let E=0;E<o;E++)(m[w+E]&255)<d&&u.set(E,x)}return u}createBinarizer(i){return new Ce(i)}initArrays(i){this.luminances.length<i&&(this.luminances=new Uint8ClampedArray(i));const o=this.buckets;for(let l=0;l<Ce.LUMINANCE_BUCKETS;l++)o[l]=0}static estimateBlackPoint(i){const o=i.length;let l=0,u=0,f=0;for(let E=0;E<o;E++)i[E]>f&&(u=E,f=i[E]),i[E]>l&&(l=i[E]);let d=0,m=0;for(let E=0;E<o;E++){const b=E-u,N=i[E]*b*b;N>m&&(d=E,m=N)}if(u>d){const E=u;u=d,d=E}if(d-u<=o/16)throw new W;let x=d-1,w=-1;for(let E=d-1;E>u;E--){const b=E-u,N=b*b*(d-E)*(l-i[E]);N>w&&(x=E,w=N)}return x<<Ce.LUMINANCE_SHIFT}}Ce.LUMINANCE_BITS=5,Ce.LUMINANCE_SHIFT=8-Ce.LUMINANCE_BITS,Ce.LUMINANCE_BUCKETS=1<<Ce.LUMINANCE_BITS,Ce.EMPTY=Uint8ClampedArray.from([0]);class ue extends Ce{constructor(i){super(i),this.matrix=null}getBlackMatrix(){if(this.matrix!==null)return this.matrix;const i=this.getLuminanceSource(),o=i.getWidth(),l=i.getHeight();if(o>=ue.MINIMUM_DIMENSION&&l>=ue.MINIMUM_DIMENSION){const u=i.getMatrix();let f=o>>ue.BLOCK_SIZE_POWER;o&ue.BLOCK_SIZE_MASK&&f++;let d=l>>ue.BLOCK_SIZE_POWER;l&ue.BLOCK_SIZE_MASK&&d++;const m=ue.calculateBlackPoints(u,f,d,o,l),x=new Ne(o,l);ue.calculateThresholdForBlock(u,f,d,o,l,m,x),this.matrix=x}else this.matrix=super.getBlackMatrix();return this.matrix}createBinarizer(i){return new ue(i)}static calculateThresholdForBlock(i,o,l,u,f,d,m){const x=f-ue.BLOCK_SIZE,w=u-ue.BLOCK_SIZE;for(let E=0;E<l;E++){let b=E<<ue.BLOCK_SIZE_POWER;b>x&&(b=x);const N=ue.cap(E,2,l-3);for(let L=0;L<o;L++){let B=L<<ue.BLOCK_SIZE_POWER;B>w&&(B=w);const F=ue.cap(L,2,o-3);let z=0;for(let ee=-2;ee<=2;ee++){const te=d[N+ee];z+=te[F-2]+te[F-1]+te[F]+te[F+1]+te[F+2]}const Q=z/25;ue.thresholdBlock(i,B,b,Q,u,m)}}}static cap(i,o,l){return i<o?o:i>l?l:i}static thresholdBlock(i,o,l,u,f,d){for(let m=0,x=l*f+o;m<ue.BLOCK_SIZE;m++,x+=f)for(let w=0;w<ue.BLOCK_SIZE;w++)(i[x+w]&255)<=u&&d.set(o+w,l+m)}static calculateBlackPoints(i,o,l,u,f){const d=f-ue.BLOCK_SIZE,m=u-ue.BLOCK_SIZE,x=new Array(l);for(let w=0;w<l;w++){x[w]=new Int32Array(o);let E=w<<ue.BLOCK_SIZE_POWER;E>d&&(E=d);for(let b=0;b<o;b++){let N=b<<ue.BLOCK_SIZE_POWER;N>m&&(N=m);let L=0,B=255,F=0;for(let Q=0,ee=E*u+N;Q<ue.BLOCK_SIZE;Q++,ee+=u){for(let te=0;te<ue.BLOCK_SIZE;te++){const $=i[ee+te]&255;L+=$,$<B&&(B=$),$>F&&(F=$)}if(F-B>ue.MIN_DYNAMIC_RANGE)for(Q++,ee+=u;Q<ue.BLOCK_SIZE;Q++,ee+=u)for(let te=0;te<ue.BLOCK_SIZE;te++)L+=i[ee+te]&255}let z=L>>ue.BLOCK_SIZE_POWER*2;if(F-B<=ue.MIN_DYNAMIC_RANGE&&(z=B/2,w>0&&b>0)){const Q=(x[w-1][b]+2*x[w][b-1]+x[w-1][b-1])/4;B<Q&&(z=Q)}x[w][b]=z}}return x}}ue.BLOCK_SIZE_POWER=3,ue.BLOCK_SIZE=1<<ue.BLOCK_SIZE_POWER,ue.BLOCK_SIZE_MASK=ue.BLOCK_SIZE-1,ue.MINIMUM_DIMENSION=ue.BLOCK_SIZE*5,ue.MIN_DYNAMIC_RANGE=24;class re{constructor(i,o){this.width=i,this.height=o}getWidth(){return this.width}getHeight(){return this.height}isCropSupported(){return!1}crop(i,o,l,u){throw new se("This luminance source does not support cropping.")}isRotateSupported(){return!1}rotateCounterClockwise(){throw new se("This luminance source does not support rotation by 90 degrees.")}rotateCounterClockwise45(){throw new se("This luminance source does not support rotation by 45 degrees.")}toString(){const i=new Uint8ClampedArray(this.width);let o=new xe;for(let l=0;l<this.height;l++){const u=this.getRow(l,i);for(let f=0;f<this.width;f++){const d=u[f]&255;let m;d<64?m="#":d<128?m="+":d<192?m=".":m=" ",o.append(m)}o.append(`
`)}return o.toString()}}class oe extends re{constructor(i){super(i.getWidth(),i.getHeight()),this.delegate=i}getRow(i,o){const l=this.delegate.getRow(i,o),u=this.getWidth();for(let f=0;f<u;f++)l[f]=255-(l[f]&255);return l}getMatrix(){const i=this.delegate.getMatrix(),o=this.getWidth()*this.getHeight(),l=new Uint8ClampedArray(o);for(let u=0;u<o;u++)l[u]=255-(i[u]&255);return l}isCropSupported(){return this.delegate.isCropSupported()}crop(i,o,l,u){return new oe(this.delegate.crop(i,o,l,u))}isRotateSupported(){return this.delegate.isRotateSupported()}invert(){return this.delegate}rotateCounterClockwise(){return new oe(this.delegate.rotateCounterClockwise())}rotateCounterClockwise45(){return new oe(this.delegate.rotateCounterClockwise45())}}class pe extends re{constructor(i){super(i.width,i.height),this.canvas=i,this.tempCanvasElement=null,this.buffer=pe.makeBufferFromCanvasImageData(i)}static makeBufferFromCanvasImageData(i){const o=i.getContext("2d").getImageData(0,0,i.width,i.height);return pe.toGrayscaleBuffer(o.data,i.width,i.height)}static toGrayscaleBuffer(i,o,l){const u=new Uint8ClampedArray(o*l);for(let f=0,d=0,m=i.length;f<m;f+=4,d++){let x;if(i[f+3]===0)x=255;else{const E=i[f],b=i[f+1],N=i[f+2];x=306*E+601*b+117*N+512>>10}u[d]=x}return u}getRow(i,o){if(i<0||i>=this.getHeight())throw new C("Requested row is outside the image: "+i);const l=this.getWidth(),u=i*l;return o===null?o=this.buffer.slice(u,u+l):(o.length<l&&(o=new Uint8ClampedArray(l)),o.set(this.buffer.slice(u,u+l))),o}getMatrix(){return this.buffer}isCropSupported(){return!0}crop(i,o,l,u){return super.crop(i,o,l,u),this}isRotateSupported(){return!0}rotateCounterClockwise(){return this.rotate(-90),this}rotateCounterClockwise45(){return this.rotate(-45),this}getTempCanvasElement(){if(this.tempCanvasElement===null){const i=this.canvas.ownerDocument.createElement("canvas");i.width=this.canvas.width,i.height=this.canvas.height,this.tempCanvasElement=i}return this.tempCanvasElement}rotate(i){const o=this.getTempCanvasElement(),l=o.getContext("2d"),u=i*pe.DEGREE_TO_RADIANS,f=this.canvas.width,d=this.canvas.height,m=Math.ceil(Math.abs(Math.cos(u))*f+Math.abs(Math.sin(u))*d),x=Math.ceil(Math.abs(Math.sin(u))*f+Math.abs(Math.cos(u))*d);return o.width=m,o.height=x,l.translate(m/2,x/2),l.rotate(u),l.drawImage(this.canvas,f/-2,d/-2),this.buffer=pe.makeBufferFromCanvasImageData(o),this}invert(){return new oe(this)}}pe.DEGREE_TO_RADIANS=Math.PI/180;class Ue{constructor(i,o,l){this.deviceId=i,this.label=o,this.kind="videoinput",this.groupId=l||void 0}toJSON(){return{kind:this.kind,groupId:this.groupId,deviceId:this.deviceId,label:this.label}}}var Se=(globalThis||Ro||self||window||void 0)&&(globalThis||Ro||self||window||void 0).__awaiter||function(S,i,o,l){function u(f){return f instanceof o?f:new o(function(d){d(f)})}return new(o||(o=Promise))(function(f,d){function m(E){try{w(l.next(E))}catch(b){d(b)}}function x(E){try{w(l.throw(E))}catch(b){d(b)}}function w(E){E.done?f(E.value):u(E.value).then(m,x)}w((l=l.apply(S,i||[])).next())})};class Nt{constructor(i,o=500,l){this.reader=i,this.timeBetweenScansMillis=o,this._hints=l,this._stopContinuousDecode=!1,this._stopAsyncDecode=!1,this._timeBetweenDecodingAttempts=0}get hasNavigator(){return typeof navigator<"u"}get isMediaDevicesSuported(){return this.hasNavigator&&!!navigator.mediaDevices}get canEnumerateDevices(){return!!(this.isMediaDevicesSuported&&navigator.mediaDevices.enumerateDevices)}get timeBetweenDecodingAttempts(){return this._timeBetweenDecodingAttempts}set timeBetweenDecodingAttempts(i){this._timeBetweenDecodingAttempts=i<0?0:i}set hints(i){this._hints=i||null}get hints(){return this._hints}listVideoInputDevices(){return Se(this,void 0,void 0,function*(){if(!this.hasNavigator)throw new Error("Can't enumerate devices, navigator is not present.");if(!this.canEnumerateDevices)throw new Error("Can't enumerate devices, method not supported.");const i=yield navigator.mediaDevices.enumerateDevices(),o=[];for(const l of i){const u=l.kind==="video"?"videoinput":l.kind;if(u!=="videoinput")continue;const f=l.deviceId||l.id,d=l.label||`Video device ${o.length+1}`,m=l.groupId,x={deviceId:f,label:d,kind:u,groupId:m};o.push(x)}return o})}getVideoInputDevices(){return Se(this,void 0,void 0,function*(){return(yield this.listVideoInputDevices()).map(o=>new Ue(o.deviceId,o.label))})}findDeviceById(i){return Se(this,void 0,void 0,function*(){const o=yield this.listVideoInputDevices();return o?o.find(l=>l.deviceId===i):null})}decodeFromInputVideoDevice(i,o){return Se(this,void 0,void 0,function*(){return yield this.decodeOnceFromVideoDevice(i,o)})}decodeOnceFromVideoDevice(i,o){return Se(this,void 0,void 0,function*(){this.reset();let l;i?l={deviceId:{exact:i}}:l={facingMode:"environment"};const u={video:l};return yield this.decodeOnceFromConstraints(u,o)})}decodeOnceFromConstraints(i,o){return Se(this,void 0,void 0,function*(){const l=yield navigator.mediaDevices.getUserMedia(i);return yield this.decodeOnceFromStream(l,o)})}decodeOnceFromStream(i,o){return Se(this,void 0,void 0,function*(){this.reset();const l=yield this.attachStreamToVideo(i,o);return yield this.decodeOnce(l)})}decodeFromInputVideoDeviceContinuously(i,o,l){return Se(this,void 0,void 0,function*(){return yield this.decodeFromVideoDevice(i,o,l)})}decodeFromVideoDevice(i,o,l){return Se(this,void 0,void 0,function*(){let u;i?u={deviceId:{exact:i}}:u={facingMode:"environment"};const f={video:u};return yield this.decodeFromConstraints(f,o,l)})}decodeFromConstraints(i,o,l){return Se(this,void 0,void 0,function*(){const u=yield navigator.mediaDevices.getUserMedia(i);return yield this.decodeFromStream(u,o,l)})}decodeFromStream(i,o,l){return Se(this,void 0,void 0,function*(){this.reset();const u=yield this.attachStreamToVideo(i,o);return yield this.decodeContinuously(u,l)})}stopAsyncDecode(){this._stopAsyncDecode=!0}stopContinuousDecode(){this._stopContinuousDecode=!0}attachStreamToVideo(i,o){return Se(this,void 0,void 0,function*(){const l=this.prepareVideoElement(o);return this.addVideoSource(l,i),this.videoElement=l,this.stream=i,yield this.playVideoOnLoadAsync(l),l})}playVideoOnLoadAsync(i){return new Promise((o,l)=>this.playVideoOnLoad(i,()=>o()))}playVideoOnLoad(i,o){this.videoEndedListener=()=>this.stopStreams(),this.videoCanPlayListener=()=>this.tryPlayVideo(i),i.addEventListener("ended",this.videoEndedListener),i.addEventListener("canplay",this.videoCanPlayListener),i.addEventListener("playing",o),this.tryPlayVideo(i)}isVideoPlaying(i){return i.currentTime>0&&!i.paused&&!i.ended&&i.readyState>2}tryPlayVideo(i){return Se(this,void 0,void 0,function*(){if(this.isVideoPlaying(i)){console.warn("Trying to play video that is already playing.");return}try{yield i.play()}catch{console.warn("It was not possible to play the video.")}})}getMediaElement(i,o){const l=document.getElementById(i);if(!l)throw new y(`element with id '${i}' not found`);if(l.nodeName.toLowerCase()!==o.toLowerCase())throw new y(`element with id '${i}' must be an ${o} element`);return l}decodeFromImage(i,o){if(!i&&!o)throw new y("either imageElement with a src set or an url must be provided");return o&&!i?this.decodeFromImageUrl(o):this.decodeFromImageElement(i)}decodeFromVideo(i,o){if(!i&&!o)throw new y("Either an element with a src set or an URL must be provided");return o&&!i?this.decodeFromVideoUrl(o):this.decodeFromVideoElement(i)}decodeFromVideoContinuously(i,o,l){if(i===void 0&&o===void 0)throw new y("Either an element with a src set or an URL must be provided");return o&&!i?this.decodeFromVideoUrlContinuously(o,l):this.decodeFromVideoElementContinuously(i,l)}decodeFromImageElement(i){if(!i)throw new y("An image element must be provided.");this.reset();const o=this.prepareImageElement(i);this.imageElement=o;let l;return this.isImageLoaded(o)?l=this.decodeOnce(o,!1,!0):l=this._decodeOnLoadImage(o),l}decodeFromVideoElement(i){const o=this._decodeFromVideoElementSetup(i);return this._decodeOnLoadVideo(o)}decodeFromVideoElementContinuously(i,o){const l=this._decodeFromVideoElementSetup(i);return this._decodeOnLoadVideoContinuously(l,o)}_decodeFromVideoElementSetup(i){if(!i)throw new y("A video element must be provided.");this.reset();const o=this.prepareVideoElement(i);return this.videoElement=o,o}decodeFromImageUrl(i){if(!i)throw new y("An URL must be provided.");this.reset();const o=this.prepareImageElement();this.imageElement=o;const l=this._decodeOnLoadImage(o);return o.src=i,l}decodeFromVideoUrl(i){if(!i)throw new y("An URL must be provided.");this.reset();const o=this.prepareVideoElement(),l=this.decodeFromVideoElement(o);return o.src=i,l}decodeFromVideoUrlContinuously(i,o){if(!i)throw new y("An URL must be provided.");this.reset();const l=this.prepareVideoElement(),u=this.decodeFromVideoElementContinuously(l,o);return l.src=i,u}_decodeOnLoadImage(i){return new Promise((o,l)=>{this.imageLoadedListener=()=>this.decodeOnce(i,!1,!0).then(o,l),i.addEventListener("load",this.imageLoadedListener)})}_decodeOnLoadVideo(i){return Se(this,void 0,void 0,function*(){return yield this.playVideoOnLoadAsync(i),yield this.decodeOnce(i)})}_decodeOnLoadVideoContinuously(i,o){return Se(this,void 0,void 0,function*(){yield this.playVideoOnLoadAsync(i),this.decodeContinuously(i,o)})}isImageLoaded(i){return!(!i.complete||i.naturalWidth===0)}prepareImageElement(i){let o;return typeof i>"u"&&(o=document.createElement("img"),o.width=200,o.height=200),typeof i=="string"&&(o=this.getMediaElement(i,"img")),i instanceof HTMLImageElement&&(o=i),o}prepareVideoElement(i){let o;return!i&&typeof document<"u"&&(o=document.createElement("video"),o.width=200,o.height=200),typeof i=="string"&&(o=this.getMediaElement(i,"video")),i instanceof HTMLVideoElement&&(o=i),o.setAttribute("autoplay","true"),o.setAttribute("muted","true"),o.setAttribute("playsinline","true"),o}decodeOnce(i,o=!0,l=!0){this._stopAsyncDecode=!1;const u=(f,d)=>{if(this._stopAsyncDecode){d(new W("Video stream has ended before any code could be detected.")),this._stopAsyncDecode=void 0;return}try{const m=this.decode(i);f(m)}catch(m){const x=o&&m instanceof W,E=(m instanceof v||m instanceof j)&&l;if(x||E)return setTimeout(u,this._timeBetweenDecodingAttempts,f,d);d(m)}};return new Promise((f,d)=>u(f,d))}decodeContinuously(i,o){this._stopContinuousDecode=!1;const l=()=>{if(this._stopContinuousDecode){this._stopContinuousDecode=void 0;return}try{const u=this.decode(i);o(u,null),setTimeout(l,this.timeBetweenScansMillis)}catch(u){o(null,u);const f=u instanceof v||u instanceof j,d=u instanceof W;(f||d)&&setTimeout(l,this._timeBetweenDecodingAttempts)}};l()}decode(i){const o=this.createBinaryBitmap(i);return this.decodeBitmap(o)}_isHTMLVideoElement(i){return i.videoWidth!==0}drawFrameOnCanvas(i,o,l){o||(o={sx:0,sy:0,sWidth:i.videoWidth,sHeight:i.videoHeight,dx:0,dy:0,dWidth:i.videoWidth,dHeight:i.videoHeight}),l||(l=this.captureCanvasContext),l.drawImage(i,o.sx,o.sy,o.sWidth,o.sHeight,o.dx,o.dy,o.dWidth,o.dHeight)}drawImageOnCanvas(i,o,l=this.captureCanvasContext){o||(o={sx:0,sy:0,sWidth:i.naturalWidth,sHeight:i.naturalHeight,dx:0,dy:0,dWidth:i.naturalWidth,dHeight:i.naturalHeight}),l||(l=this.captureCanvasContext),l.drawImage(i,o.sx,o.sy,o.sWidth,o.sHeight,o.dx,o.dy,o.dWidth,o.dHeight)}createBinaryBitmap(i){this.getCaptureCanvasContext(i),this._isHTMLVideoElement(i)?this.drawFrameOnCanvas(i):this.drawImageOnCanvas(i);const o=this.getCaptureCanvas(i),l=new pe(o),u=new ue(l);return new A(u)}getCaptureCanvasContext(i){if(!this.captureCanvasContext){const l=this.getCaptureCanvas(i).getContext("2d");this.captureCanvasContext=l}return this.captureCanvasContext}getCaptureCanvas(i){if(!this.captureCanvas){const o=this.createCaptureCanvas(i);this.captureCanvas=o}return this.captureCanvas}decodeBitmap(i){return this.reader.decode(i,this._hints)}createCaptureCanvas(i){if(typeof document>"u")return this._destroyCaptureCanvas(),null;const o=document.createElement("canvas");let l,u;return typeof i<"u"&&(i instanceof HTMLVideoElement?(l=i.videoWidth,u=i.videoHeight):i instanceof HTMLImageElement&&(l=i.naturalWidth||i.width,u=i.naturalHeight||i.height)),o.style.width=l+"px",o.style.height=u+"px",o.width=l,o.height=u,o}stopStreams(){this.stream&&(this.stream.getVideoTracks().forEach(i=>i.stop()),this.stream=void 0),this._stopAsyncDecode===!1&&this.stopAsyncDecode(),this._stopContinuousDecode===!1&&this.stopContinuousDecode()}reset(){this.stopStreams(),this._destroyVideoElement(),this._destroyImageElement(),this._destroyCaptureCanvas()}_destroyVideoElement(){this.videoElement&&(typeof this.videoEndedListener<"u"&&this.videoElement.removeEventListener("ended",this.videoEndedListener),typeof this.videoPlayingEventListener<"u"&&this.videoElement.removeEventListener("playing",this.videoPlayingEventListener),typeof this.videoCanPlayListener<"u"&&this.videoElement.removeEventListener("loadedmetadata",this.videoCanPlayListener),this.cleanVideoSource(this.videoElement),this.videoElement=void 0)}_destroyImageElement(){this.imageElement&&(this.imageLoadedListener!==void 0&&this.imageElement.removeEventListener("load",this.imageLoadedListener),this.imageElement.src=void 0,this.imageElement.removeAttribute("src"),this.imageElement=void 0)}_destroyCaptureCanvas(){this.captureCanvasContext=void 0,this.captureCanvas=void 0}addVideoSource(i,o){try{i.srcObject=o}catch{i.src=URL.createObjectURL(o)}}cleanVideoSource(i){try{i.srcObject=null}catch{i.src=""}this.videoElement.removeAttribute("src")}}class Le{constructor(i,o,l=o==null?0:8*o.length,u,f,d=R.currentTimeMillis()){this.text=i,this.rawBytes=o,this.numBits=l,this.resultPoints=u,this.format=f,this.timestamp=d,this.text=i,this.rawBytes=o,l==null?this.numBits=o==null?0:8*o.length:this.numBits=l,this.resultPoints=u,this.format=f,this.resultMetadata=null,d==null?this.timestamp=R.currentTimeMillis():this.timestamp=d}getText(){return this.text}getRawBytes(){return this.rawBytes}getNumBits(){return this.numBits}getResultPoints(){return this.resultPoints}getBarcodeFormat(){return this.format}getResultMetadata(){return this.resultMetadata}putMetadata(i,o){this.resultMetadata===null&&(this.resultMetadata=new Map),this.resultMetadata.set(i,o)}putAllMetadata(i){i!==null&&(this.resultMetadata===null?this.resultMetadata=i:this.resultMetadata=new Map(i))}addResultPoints(i){const o=this.resultPoints;if(o===null)this.resultPoints=i;else if(i!==null&&i.length>0){const l=new Array(o.length+i.length);R.arraycopy(o,0,l,0,o.length),R.arraycopy(i,0,l,o.length,i.length),this.resultPoints=l}}getTimestamp(){return this.timestamp}toString(){return this.text}}var An;(function(S){S[S.AZTEC=0]="AZTEC",S[S.CODABAR=1]="CODABAR",S[S.CODE_39=2]="CODE_39",S[S.CODE_93=3]="CODE_93",S[S.CODE_128=4]="CODE_128",S[S.DATA_MATRIX=5]="DATA_MATRIX",S[S.EAN_8=6]="EAN_8",S[S.EAN_13=7]="EAN_13",S[S.ITF=8]="ITF",S[S.MAXICODE=9]="MAXICODE",S[S.PDF_417=10]="PDF_417",S[S.QR_CODE=11]="QR_CODE",S[S.RSS_14=12]="RSS_14",S[S.RSS_EXPANDED=13]="RSS_EXPANDED",S[S.UPC_A=14]="UPC_A",S[S.UPC_E=15]="UPC_E",S[S.UPC_EAN_EXTENSION=16]="UPC_EAN_EXTENSION"})(An||(An={}));var ae=An,qr;(function(S){S[S.OTHER=0]="OTHER",S[S.ORIENTATION=1]="ORIENTATION",S[S.BYTE_SEGMENTS=2]="BYTE_SEGMENTS",S[S.ERROR_CORRECTION_LEVEL=3]="ERROR_CORRECTION_LEVEL",S[S.ISSUE_NUMBER=4]="ISSUE_NUMBER",S[S.SUGGESTED_PRICE=5]="SUGGESTED_PRICE",S[S.POSSIBLE_COUNTRY=6]="POSSIBLE_COUNTRY",S[S.UPC_EAN_EXTENSION=7]="UPC_EAN_EXTENSION",S[S.PDF417_EXTRA_METADATA=8]="PDF417_EXTRA_METADATA",S[S.STRUCTURED_APPEND_SEQUENCE=9]="STRUCTURED_APPEND_SEQUENCE",S[S.STRUCTURED_APPEND_PARITY=10]="STRUCTURED_APPEND_PARITY"})(qr||(qr={}));var Mt=qr;class Co{constructor(i,o,l,u,f=-1,d=-1){this.rawBytes=i,this.text=o,this.byteSegments=l,this.ecLevel=u,this.structuredAppendSequenceNumber=f,this.structuredAppendParity=d,this.numBits=i==null?0:8*i.length}getRawBytes(){return this.rawBytes}getNumBits(){return this.numBits}setNumBits(i){this.numBits=i}getText(){return this.text}getByteSegments(){return this.byteSegments}getECLevel(){return this.ecLevel}getErrorsCorrected(){return this.errorsCorrected}setErrorsCorrected(i){this.errorsCorrected=i}getErasures(){return this.erasures}setErasures(i){this.erasures=i}getOther(){return this.other}setOther(i){this.other=i}hasStructuredAppend(){return this.structuredAppendParity>=0&&this.structuredAppendSequenceNumber>=0}getStructuredAppendParity(){return this.structuredAppendParity}getStructuredAppendSequenceNumber(){return this.structuredAppendSequenceNumber}}class Eo{exp(i){return this.expTable[i]}log(i){if(i===0)throw new C;return this.logTable[i]}static addOrSubtract(i,o){return i^o}}class an{constructor(i,o){if(o.length===0)throw new C;this.field=i;const l=o.length;if(l>1&&o[0]===0){let u=1;for(;u<l&&o[u]===0;)u++;u===l?this.coefficients=Int32Array.from([0]):(this.coefficients=new Int32Array(l-u),R.arraycopy(o,u,this.coefficients,0,this.coefficients.length))}else this.coefficients=o}getCoefficients(){return this.coefficients}getDegree(){return this.coefficients.length-1}isZero(){return this.coefficients[0]===0}getCoefficient(i){return this.coefficients[this.coefficients.length-1-i]}evaluateAt(i){if(i===0)return this.getCoefficient(0);const o=this.coefficients;let l;if(i===1){l=0;for(let d=0,m=o.length;d!==m;d++){const x=o[d];l=Eo.addOrSubtract(l,x)}return l}l=o[0];const u=o.length,f=this.field;for(let d=1;d<u;d++)l=Eo.addOrSubtract(f.multiply(i,l),o[d]);return l}addOrSubtract(i){if(!this.field.equals(i.field))throw new C("GenericGFPolys do not have same GenericGF field");if(this.isZero())return i;if(i.isZero())return this;let o=this.coefficients,l=i.coefficients;if(o.length>l.length){const d=o;o=l,l=d}let u=new Int32Array(l.length);const f=l.length-o.length;R.arraycopy(l,0,u,0,f);for(let d=f;d<l.length;d++)u[d]=Eo.addOrSubtract(o[d-f],l[d]);return new an(this.field,u)}multiply(i){if(!this.field.equals(i.field))throw new C("GenericGFPolys do not have same GenericGF field");if(this.isZero()||i.isZero())return this.field.getZero();const o=this.coefficients,l=o.length,u=i.coefficients,f=u.length,d=new Int32Array(l+f-1),m=this.field;for(let x=0;x<l;x++){const w=o[x];for(let E=0;E<f;E++)d[x+E]=Eo.addOrSubtract(d[x+E],m.multiply(w,u[E]))}return new an(m,d)}multiplyScalar(i){if(i===0)return this.field.getZero();if(i===1)return this;const o=this.coefficients.length,l=this.field,u=new Int32Array(o),f=this.coefficients;for(let d=0;d<o;d++)u[d]=l.multiply(f[d],i);return new an(l,u)}multiplyByMonomial(i,o){if(i<0)throw new C;if(o===0)return this.field.getZero();const l=this.coefficients,u=l.length,f=new Int32Array(u+i),d=this.field;for(let m=0;m<u;m++)f[m]=d.multiply(l[m],o);return new an(d,f)}divide(i){if(!this.field.equals(i.field))throw new C("GenericGFPolys do not have same GenericGF field");if(i.isZero())throw new C("Divide by 0");const o=this.field;let l=o.getZero(),u=this;const f=i.getCoefficient(i.getDegree()),d=o.inverse(f);for(;u.getDegree()>=i.getDegree()&&!u.isZero();){const m=u.getDegree()-i.getDegree(),x=o.multiply(u.getCoefficient(u.getDegree()),d),w=i.multiplyByMonomial(m,x),E=o.buildMonomial(m,x);l=l.addOrSubtract(E),u=u.addOrSubtract(w)}return[l,u]}toString(){let i="";for(let o=this.getDegree();o>=0;o--){let l=this.getCoefficient(o);if(l!==0){if(l<0?(i+=" - ",l=-l):i.length>0&&(i+=" + "),o===0||l!==1){const u=this.field.log(l);u===0?i+="1":u===1?i+="a":(i+="a^",i+=u)}o!==0&&(o===1?i+="x":(i+="x^",i+=o))}}return i}}class sl extends g{}sl.kind="ArithmeticException";class Pe extends Eo{constructor(i,o,l){super(),this.primitive=i,this.size=o,this.generatorBase=l;const u=new Int32Array(o);let f=1;for(let m=0;m<o;m++)u[m]=f,f*=2,f>=o&&(f^=i,f&=o-1);this.expTable=u;const d=new Int32Array(o);for(let m=0;m<o-1;m++)d[u[m]]=m;this.logTable=d,this.zero=new an(this,Int32Array.from([0])),this.one=new an(this,Int32Array.from([1]))}getZero(){return this.zero}getOne(){return this.one}buildMonomial(i,o){if(i<0)throw new C;if(o===0)return this.zero;const l=new Int32Array(i+1);return l[0]=o,new an(this,l)}inverse(i){if(i===0)throw new sl;return this.expTable[this.size-this.logTable[i]-1]}multiply(i,o){return i===0||o===0?0:this.expTable[(this.logTable[i]+this.logTable[o])%(this.size-1)]}getSize(){return this.size}getGeneratorBase(){return this.generatorBase}toString(){return"GF(0x"+O.toHexString(this.primitive)+","+this.size+")"}equals(i){return i===this}}Pe.AZTEC_DATA_12=new Pe(4201,4096,1),Pe.AZTEC_DATA_10=new Pe(1033,1024,1),Pe.AZTEC_DATA_6=new Pe(67,64,1),Pe.AZTEC_PARAM=new Pe(19,16,1),Pe.QR_CODE_FIELD_256=new Pe(285,256,0),Pe.DATA_MATRIX_FIELD_256=new Pe(301,256,1),Pe.AZTEC_DATA_8=Pe.DATA_MATRIX_FIELD_256,Pe.MAXICODE_FIELD_64=Pe.AZTEC_DATA_6;class As extends g{}As.kind="ReedSolomonException";class fr extends g{}fr.kind="IllegalStateException";class Ao{constructor(i){this.field=i}decode(i,o){const l=this.field,u=new an(l,i),f=new Int32Array(o);let d=!0;for(let L=0;L<o;L++){const B=u.evaluateAt(l.exp(L+l.getGeneratorBase()));f[f.length-1-L]=B,B!==0&&(d=!1)}if(d)return;const m=new an(l,f),x=this.runEuclideanAlgorithm(l.buildMonomial(o,1),m,o),w=x[0],E=x[1],b=this.findErrorLocations(w),N=this.findErrorMagnitudes(E,b);for(let L=0;L<b.length;L++){const B=i.length-1-l.log(b[L]);if(B<0)throw new As("Bad error location");i[B]=Pe.addOrSubtract(i[B],N[L])}}runEuclideanAlgorithm(i,o,l){if(i.getDegree()<o.getDegree()){const L=i;i=o,o=L}const u=this.field;let f=i,d=o,m=u.getZero(),x=u.getOne();for(;d.getDegree()>=(l/2|0);){let L=f,B=m;if(f=d,m=x,f.isZero())throw new As("r_{i-1} was zero");d=L;let F=u.getZero();const z=f.getCoefficient(f.getDegree()),Q=u.inverse(z);for(;d.getDegree()>=f.getDegree()&&!d.isZero();){const ee=d.getDegree()-f.getDegree(),te=u.multiply(d.getCoefficient(d.getDegree()),Q);F=F.addOrSubtract(u.buildMonomial(ee,te)),d=d.addOrSubtract(f.multiplyByMonomial(ee,te))}if(x=F.multiply(m).addOrSubtract(B),d.getDegree()>=f.getDegree())throw new fr("Division algorithm failed to reduce polynomial?")}const w=x.getCoefficient(0);if(w===0)throw new As("sigmaTilde(0) was zero");const E=u.inverse(w),b=x.multiplyScalar(E),N=d.multiplyScalar(E);return[b,N]}findErrorLocations(i){const o=i.getDegree();if(o===1)return Int32Array.from([i.getCoefficient(1)]);const l=new Int32Array(o);let u=0;const f=this.field;for(let d=1;d<f.getSize()&&u<o;d++)i.evaluateAt(d)===0&&(l[u]=f.inverse(d),u++);if(u!==o)throw new As("Error locator degree does not match number of roots");return l}findErrorMagnitudes(i,o){const l=o.length,u=new Int32Array(l),f=this.field;for(let d=0;d<l;d++){const m=f.inverse(o[d]);let x=1;for(let w=0;w<l;w++)if(d!==w){const E=f.multiply(o[w],m),b=E&1?E&-2:E|1;x=f.multiply(x,b)}u[d]=f.multiply(i.evaluateAt(m),f.inverse(x)),f.getGeneratorBase()!==0&&(u[d]=f.multiply(u[d],m))}return u}}var Pt;(function(S){S[S.UPPER=0]="UPPER",S[S.LOWER=1]="LOWER",S[S.MIXED=2]="MIXED",S[S.DIGIT=3]="DIGIT",S[S.PUNCT=4]="PUNCT",S[S.BINARY=5]="BINARY"})(Pt||(Pt={}));class Ke{decode(i){this.ddata=i;let o=i.getBits(),l=this.extractBits(o),u=this.correctBits(l),f=Ke.convertBoolArrayToByteArray(u),d=Ke.getEncodedData(u),m=new Co(f,d,null,null);return m.setNumBits(u.length),m}static highLevelDecode(i){return this.getEncodedData(i)}static getEncodedData(i){let o=i.length,l=Pt.UPPER,u=Pt.UPPER,f="",d=0;for(;d<o;)if(u===Pt.BINARY){if(o-d<5)break;let m=Ke.readCode(i,d,5);if(d+=5,m===0){if(o-d<11)break;m=Ke.readCode(i,d,11)+31,d+=11}for(let x=0;x<m;x++){if(o-d<8){d=o;break}const w=Ke.readCode(i,d,8);f+=ne.castAsNonUtf8Char(w),d+=8}u=l}else{let m=u===Pt.DIGIT?4:5;if(o-d<m)break;let x=Ke.readCode(i,d,m);d+=m;let w=Ke.getCharacter(u,x);w.startsWith("CTRL_")?(l=u,u=Ke.getTable(w.charAt(5)),w.charAt(6)==="L"&&(l=u)):(f+=w,u=l)}return f}static getTable(i){switch(i){case"L":return Pt.LOWER;case"P":return Pt.PUNCT;case"M":return Pt.MIXED;case"D":return Pt.DIGIT;case"B":return Pt.BINARY;case"U":default:return Pt.UPPER}}static getCharacter(i,o){switch(i){case Pt.UPPER:return Ke.UPPER_TABLE[o];case Pt.LOWER:return Ke.LOWER_TABLE[o];case Pt.MIXED:return Ke.MIXED_TABLE[o];case Pt.PUNCT:return Ke.PUNCT_TABLE[o];case Pt.DIGIT:return Ke.DIGIT_TABLE[o];default:throw new fr("Bad table")}}correctBits(i){let o,l;this.ddata.getNbLayers()<=2?(l=6,o=Pe.AZTEC_DATA_6):this.ddata.getNbLayers()<=8?(l=8,o=Pe.AZTEC_DATA_8):this.ddata.getNbLayers()<=22?(l=10,o=Pe.AZTEC_DATA_10):(l=12,o=Pe.AZTEC_DATA_12);let u=this.ddata.getNbDatablocks(),f=i.length/l;if(f<u)throw new j;let d=i.length%l,m=new Int32Array(f);for(let N=0;N<f;N++,d+=l)m[N]=Ke.readCode(i,d,l);try{new Ao(o).decode(m,f-u)}catch(N){throw new j(N)}let x=(1<<l)-1,w=0;for(let N=0;N<u;N++){let L=m[N];if(L===0||L===x)throw new j;(L===1||L===x-1)&&w++}let E=new Array(u*l-w),b=0;for(let N=0;N<u;N++){let L=m[N];if(L===1||L===x-1)E.fill(L>1,b,b+l-1),b+=l-1;else for(let B=l-1;B>=0;--B)E[b++]=(L&1<<B)!==0}return E}extractBits(i){let o=this.ddata.isCompact(),l=this.ddata.getNbLayers(),u=(o?11:14)+l*4,f=new Int32Array(u),d=new Array(this.totalBitsInLayer(l,o));if(o)for(let m=0;m<f.length;m++)f[m]=m;else{let m=u+1+2*O.truncDivision(O.truncDivision(u,2)-1,15),x=u/2,w=O.truncDivision(m,2);for(let E=0;E<x;E++){let b=E+O.truncDivision(E,15);f[x-E-1]=w-b-1,f[x+E]=w+b+1}}for(let m=0,x=0;m<l;m++){let w=(l-m)*4+(o?9:12),E=m*2,b=u-1-E;for(let N=0;N<w;N++){let L=N*2;for(let B=0;B<2;B++)d[x+L+B]=i.get(f[E+B],f[E+N]),d[x+2*w+L+B]=i.get(f[E+N],f[b-B]),d[x+4*w+L+B]=i.get(f[b-B],f[b-N]),d[x+6*w+L+B]=i.get(f[b-N],f[E+B])}x+=w*8}return d}static readCode(i,o,l){let u=0;for(let f=o;f<o+l;f++)u<<=1,i[f]&&(u|=1);return u}static readByte(i,o){let l=i.length-o;return l>=8?Ke.readCode(i,o,8):Ke.readCode(i,o,l)<<8-l}static convertBoolArrayToByteArray(i){let o=new Uint8Array((i.length+7)/8);for(let l=0;l<o.length;l++)o[l]=Ke.readByte(i,8*l);return o}totalBitsInLayer(i,o){return((o?88:112)+16*i)*i}}Ke.UPPER_TABLE=["CTRL_PS"," ","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","CTRL_LL","CTRL_ML","CTRL_DL","CTRL_BS"],Ke.LOWER_TABLE=["CTRL_PS"," ","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","CTRL_US","CTRL_ML","CTRL_DL","CTRL_BS"],Ke.MIXED_TABLE=["CTRL_PS"," ","\\1","\\2","\\3","\\4","\\5","\\6","\\7","\b","	",`
`,"\\13","\f","\r","\\33","\\34","\\35","\\36","\\37","@","\\","^","_","`","|","~","\\177","CTRL_LL","CTRL_UL","CTRL_PL","CTRL_BS"],Ke.PUNCT_TABLE=["","\r",`\r
`,". ",", ",": ","!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}","CTRL_UL"],Ke.DIGIT_TABLE=["CTRL_PS"," ","0","1","2","3","4","5","6","7","8","9",",",".","CTRL_UL","CTRL_US"];class Oe{constructor(){}static round(i){return i===NaN?0:i<=Number.MIN_SAFE_INTEGER?Number.MIN_SAFE_INTEGER:i>=Number.MAX_SAFE_INTEGER?Number.MAX_SAFE_INTEGER:i+(i<0?-.5:.5)|0}static distance(i,o,l,u){const f=i-l,d=o-u;return Math.sqrt(f*f+d*d)}static sum(i){let o=0;for(let l=0,u=i.length;l!==u;l++){const f=i[l];o+=f}return o}}class ol{static floatToIntBits(i){return i}}ol.MAX_VALUE=Number.MAX_SAFE_INTEGER;class de{constructor(i,o){this.x=i,this.y=o}getX(){return this.x}getY(){return this.y}equals(i){if(i instanceof de){const o=i;return this.x===o.x&&this.y===o.y}return!1}hashCode(){return 31*ol.floatToIntBits(this.x)+ol.floatToIntBits(this.y)}toString(){return"("+this.x+","+this.y+")"}static orderBestPatterns(i){const o=this.distance(i[0],i[1]),l=this.distance(i[1],i[2]),u=this.distance(i[0],i[2]);let f,d,m;if(l>=o&&l>=u?(d=i[0],f=i[1],m=i[2]):u>=l&&u>=o?(d=i[1],f=i[0],m=i[2]):(d=i[2],f=i[0],m=i[1]),this.crossProductZ(f,d,m)<0){const x=f;f=m,m=x}i[0]=f,i[1]=d,i[2]=m}static distance(i,o){return Oe.distance(i.x,i.y,o.x,o.y)}static crossProductZ(i,o,l){const u=o.x,f=o.y;return(l.x-u)*(i.y-f)-(l.y-f)*(i.x-u)}}class al{constructor(i,o){this.bits=i,this.points=o}getBits(){return this.bits}getPoints(){return this.points}}class X0 extends al{constructor(i,o,l,u,f){super(i,o),this.compact=l,this.nbDatablocks=u,this.nbLayers=f}getNbLayers(){return this.nbLayers}getNbDatablocks(){return this.nbDatablocks}isCompact(){return this.compact}}class Tr{constructor(i,o,l,u){this.image=i,this.height=i.getHeight(),this.width=i.getWidth(),o==null&&(o=Tr.INIT_SIZE),l==null&&(l=i.getWidth()/2|0),u==null&&(u=i.getHeight()/2|0);const f=o/2|0;if(this.leftInit=l-f,this.rightInit=l+f,this.upInit=u-f,this.downInit=u+f,this.upInit<0||this.leftInit<0||this.downInit>=this.height||this.rightInit>=this.width)throw new W}detect(){let i=this.leftInit,o=this.rightInit,l=this.upInit,u=this.downInit,f=!1,d=!0,m=!1,x=!1,w=!1,E=!1,b=!1;const N=this.width,L=this.height;for(;d;){d=!1;let B=!0;for(;(B||!x)&&o<N;)B=this.containsBlackPoint(l,u,o,!1),B?(o++,d=!0,x=!0):x||o++;if(o>=N){f=!0;break}let F=!0;for(;(F||!w)&&u<L;)F=this.containsBlackPoint(i,o,u,!0),F?(u++,d=!0,w=!0):w||u++;if(u>=L){f=!0;break}let z=!0;for(;(z||!E)&&i>=0;)z=this.containsBlackPoint(l,u,i,!1),z?(i--,d=!0,E=!0):E||i--;if(i<0){f=!0;break}let Q=!0;for(;(Q||!b)&&l>=0;)Q=this.containsBlackPoint(i,o,l,!0),Q?(l--,d=!0,b=!0):b||l--;if(l<0){f=!0;break}d&&(m=!0)}if(!f&&m){const B=o-i;let F=null;for(let te=1;F===null&&te<B;te++)F=this.getBlackPointOnSegment(i,u-te,i+te,u);if(F==null)throw new W;let z=null;for(let te=1;z===null&&te<B;te++)z=this.getBlackPointOnSegment(i,l+te,i+te,l);if(z==null)throw new W;let Q=null;for(let te=1;Q===null&&te<B;te++)Q=this.getBlackPointOnSegment(o,l+te,o-te,l);if(Q==null)throw new W;let ee=null;for(let te=1;ee===null&&te<B;te++)ee=this.getBlackPointOnSegment(o,u-te,o-te,u);if(ee==null)throw new W;return this.centerEdges(ee,F,Q,z)}else throw new W}getBlackPointOnSegment(i,o,l,u){const f=Oe.round(Oe.distance(i,o,l,u)),d=(l-i)/f,m=(u-o)/f,x=this.image;for(let w=0;w<f;w++){const E=Oe.round(i+w*d),b=Oe.round(o+w*m);if(x.get(E,b))return new de(E,b)}return null}centerEdges(i,o,l,u){const f=i.getX(),d=i.getY(),m=o.getX(),x=o.getY(),w=l.getX(),E=l.getY(),b=u.getX(),N=u.getY(),L=Tr.CORR;return f<this.width/2?[new de(b-L,N+L),new de(m+L,x+L),new de(w-L,E-L),new de(f+L,d-L)]:[new de(b+L,N+L),new de(m+L,x-L),new de(w-L,E+L),new de(f-L,d-L)]}containsBlackPoint(i,o,l,u){const f=this.image;if(u){for(let d=i;d<=o;d++)if(f.get(d,l))return!0}else for(let d=i;d<=o;d++)if(f.get(l,d))return!0;return!1}}Tr.INIT_SIZE=10,Tr.CORR=1;class zu{static checkAndNudgePoints(i,o){const l=i.getWidth(),u=i.getHeight();let f=!0;for(let d=0;d<o.length&&f;d+=2){const m=Math.floor(o[d]),x=Math.floor(o[d+1]);if(m<-1||m>l||x<-1||x>u)throw new W;f=!1,m===-1?(o[d]=0,f=!0):m===l&&(o[d]=l-1,f=!0),x===-1?(o[d+1]=0,f=!0):x===u&&(o[d+1]=u-1,f=!0)}f=!0;for(let d=o.length-2;d>=0&&f;d-=2){const m=Math.floor(o[d]),x=Math.floor(o[d+1]);if(m<-1||m>l||x<-1||x>u)throw new W;f=!1,m===-1?(o[d]=0,f=!0):m===l&&(o[d]=l-1,f=!0),x===-1?(o[d+1]=0,f=!0):x===u&&(o[d+1]=u-1,f=!0)}}}class qn{constructor(i,o,l,u,f,d,m,x,w){this.a11=i,this.a21=o,this.a31=l,this.a12=u,this.a22=f,this.a32=d,this.a13=m,this.a23=x,this.a33=w}static quadrilateralToQuadrilateral(i,o,l,u,f,d,m,x,w,E,b,N,L,B,F,z){const Q=qn.quadrilateralToSquare(i,o,l,u,f,d,m,x);return qn.squareToQuadrilateral(w,E,b,N,L,B,F,z).times(Q)}transformPoints(i){const o=i.length,l=this.a11,u=this.a12,f=this.a13,d=this.a21,m=this.a22,x=this.a23,w=this.a31,E=this.a32,b=this.a33;for(let N=0;N<o;N+=2){const L=i[N],B=i[N+1],F=f*L+x*B+b;i[N]=(l*L+d*B+w)/F,i[N+1]=(u*L+m*B+E)/F}}transformPointsWithValues(i,o){const l=this.a11,u=this.a12,f=this.a13,d=this.a21,m=this.a22,x=this.a23,w=this.a31,E=this.a32,b=this.a33,N=i.length;for(let L=0;L<N;L++){const B=i[L],F=o[L],z=f*B+x*F+b;i[L]=(l*B+d*F+w)/z,o[L]=(u*B+m*F+E)/z}}static squareToQuadrilateral(i,o,l,u,f,d,m,x){const w=i-l+f-m,E=o-u+d-x;if(w===0&&E===0)return new qn(l-i,f-l,i,u-o,d-u,o,0,0,1);{const b=l-f,N=m-f,L=u-d,B=x-d,F=b*B-N*L,z=(w*B-N*E)/F,Q=(b*E-w*L)/F;return new qn(l-i+z*l,m-i+Q*m,i,u-o+z*u,x-o+Q*x,o,z,Q,1)}}static quadrilateralToSquare(i,o,l,u,f,d,m,x){return qn.squareToQuadrilateral(i,o,l,u,f,d,m,x).buildAdjoint()}buildAdjoint(){return new qn(this.a22*this.a33-this.a23*this.a32,this.a23*this.a31-this.a21*this.a33,this.a21*this.a32-this.a22*this.a31,this.a13*this.a32-this.a12*this.a33,this.a11*this.a33-this.a13*this.a31,this.a12*this.a31-this.a11*this.a32,this.a12*this.a23-this.a13*this.a22,this.a13*this.a21-this.a11*this.a23,this.a11*this.a22-this.a12*this.a21)}times(i){return new qn(this.a11*i.a11+this.a21*i.a12+this.a31*i.a13,this.a11*i.a21+this.a21*i.a22+this.a31*i.a23,this.a11*i.a31+this.a21*i.a32+this.a31*i.a33,this.a12*i.a11+this.a22*i.a12+this.a32*i.a13,this.a12*i.a21+this.a22*i.a22+this.a32*i.a23,this.a12*i.a31+this.a22*i.a32+this.a32*i.a33,this.a13*i.a11+this.a23*i.a12+this.a33*i.a13,this.a13*i.a21+this.a23*i.a22+this.a33*i.a23,this.a13*i.a31+this.a23*i.a32+this.a33*i.a33)}}class G0 extends zu{sampleGrid(i,o,l,u,f,d,m,x,w,E,b,N,L,B,F,z,Q,ee,te){const $=qn.quadrilateralToQuadrilateral(u,f,d,m,x,w,E,b,N,L,B,F,z,Q,ee,te);return this.sampleGridWithTransform(i,o,l,$)}sampleGridWithTransform(i,o,l,u){if(o<=0||l<=0)throw new W;const f=new Ne(o,l),d=new Float32Array(2*o);for(let m=0;m<l;m++){const x=d.length,w=m+.5;for(let E=0;E<x;E+=2)d[E]=E/2+.5,d[E+1]=w;u.transformPoints(d),zu.checkAndNudgePoints(i,d);try{for(let E=0;E<x;E+=2)i.get(Math.floor(d[E]),Math.floor(d[E+1]))&&f.set(E/2,m)}catch{throw new W}}return f}}class $r{static setGridSampler(i){$r.gridSampler=i}static getInstance(){return $r.gridSampler}}$r.gridSampler=new G0;class en{constructor(i,o){this.x=i,this.y=o}toResultPoint(){return new de(this.getX(),this.getY())}getX(){return this.x}getY(){return this.y}}class Q0{constructor(i){this.EXPECTED_CORNER_BITS=new Int32Array([3808,476,2107,1799]),this.image=i}detect(){return this.detectMirror(!1)}detectMirror(i){let o=this.getMatrixCenter(),l=this.getBullsEyeCorners(o);if(i){let d=l[0];l[0]=l[2],l[2]=d}this.extractParameters(l);let u=this.sampleGrid(this.image,l[this.shift%4],l[(this.shift+1)%4],l[(this.shift+2)%4],l[(this.shift+3)%4]),f=this.getMatrixCornerPoints(l);return new X0(u,f,this.compact,this.nbDataBlocks,this.nbLayers)}extractParameters(i){if(!this.isValidPoint(i[0])||!this.isValidPoint(i[1])||!this.isValidPoint(i[2])||!this.isValidPoint(i[3]))throw new W;let o=2*this.nbCenterLayers,l=new Int32Array([this.sampleLine(i[0],i[1],o),this.sampleLine(i[1],i[2],o),this.sampleLine(i[2],i[3],o),this.sampleLine(i[3],i[0],o)]);this.shift=this.getRotation(l,o);let u=0;for(let d=0;d<4;d++){let m=l[(this.shift+d)%4];this.compact?(u<<=7,u+=m>>1&127):(u<<=10,u+=(m>>2&992)+(m>>1&31))}let f=this.getCorrectedParameterData(u,this.compact);this.compact?(this.nbLayers=(f>>6)+1,this.nbDataBlocks=(f&63)+1):(this.nbLayers=(f>>11)+1,this.nbDataBlocks=(f&2047)+1)}getRotation(i,o){let l=0;i.forEach((u,f,d)=>{let m=(u>>o-2<<1)+(u&1);l=(l<<3)+m}),l=((l&1)<<11)+(l>>1);for(let u=0;u<4;u++)if(O.bitCount(l^this.EXPECTED_CORNER_BITS[u])<=2)return u;throw new W}getCorrectedParameterData(i,o){let l,u;o?(l=7,u=2):(l=10,u=4);let f=l-u,d=new Int32Array(l);for(let x=l-1;x>=0;--x)d[x]=i&15,i>>=4;try{new Ao(Pe.AZTEC_PARAM).decode(d,f)}catch{throw new W}let m=0;for(let x=0;x<u;x++)m=(m<<4)+d[x];return m}getBullsEyeCorners(i){let o=i,l=i,u=i,f=i,d=!0;for(this.nbCenterLayers=1;this.nbCenterLayers<9;this.nbCenterLayers++){let b=this.getFirstDifferent(o,d,1,-1),N=this.getFirstDifferent(l,d,1,1),L=this.getFirstDifferent(u,d,-1,1),B=this.getFirstDifferent(f,d,-1,-1);if(this.nbCenterLayers>2){let F=this.distancePoint(B,b)*this.nbCenterLayers/(this.distancePoint(f,o)*(this.nbCenterLayers+2));if(F<.75||F>1.25||!this.isWhiteOrBlackRectangle(b,N,L,B))break}o=b,l=N,u=L,f=B,d=!d}if(this.nbCenterLayers!==5&&this.nbCenterLayers!==7)throw new W;this.compact=this.nbCenterLayers===5;let m=new de(o.getX()+.5,o.getY()-.5),x=new de(l.getX()+.5,l.getY()+.5),w=new de(u.getX()-.5,u.getY()+.5),E=new de(f.getX()-.5,f.getY()-.5);return this.expandSquare([m,x,w,E],2*this.nbCenterLayers-3,2*this.nbCenterLayers)}getMatrixCenter(){let i,o,l,u;try{let m=new Tr(this.image).detect();i=m[0],o=m[1],l=m[2],u=m[3]}catch{let x=this.image.getWidth()/2,w=this.image.getHeight()/2;i=this.getFirstDifferent(new en(x+7,w-7),!1,1,-1).toResultPoint(),o=this.getFirstDifferent(new en(x+7,w+7),!1,1,1).toResultPoint(),l=this.getFirstDifferent(new en(x-7,w+7),!1,-1,1).toResultPoint(),u=this.getFirstDifferent(new en(x-7,w-7),!1,-1,-1).toResultPoint()}let f=Oe.round((i.getX()+u.getX()+o.getX()+l.getX())/4),d=Oe.round((i.getY()+u.getY()+o.getY()+l.getY())/4);try{let m=new Tr(this.image,15,f,d).detect();i=m[0],o=m[1],l=m[2],u=m[3]}catch{i=this.getFirstDifferent(new en(f+7,d-7),!1,1,-1).toResultPoint(),o=this.getFirstDifferent(new en(f+7,d+7),!1,1,1).toResultPoint(),l=this.getFirstDifferent(new en(f-7,d+7),!1,-1,1).toResultPoint(),u=this.getFirstDifferent(new en(f-7,d-7),!1,-1,-1).toResultPoint()}return f=Oe.round((i.getX()+u.getX()+o.getX()+l.getX())/4),d=Oe.round((i.getY()+u.getY()+o.getY()+l.getY())/4),new en(f,d)}getMatrixCornerPoints(i){return this.expandSquare(i,2*this.nbCenterLayers,this.getDimension())}sampleGrid(i,o,l,u,f){let d=$r.getInstance(),m=this.getDimension(),x=m/2-this.nbCenterLayers,w=m/2+this.nbCenterLayers;return d.sampleGrid(i,m,m,x,x,w,x,w,w,x,w,o.getX(),o.getY(),l.getX(),l.getY(),u.getX(),u.getY(),f.getX(),f.getY())}sampleLine(i,o,l){let u=0,f=this.distanceResultPoint(i,o),d=f/l,m=i.getX(),x=i.getY(),w=d*(o.getX()-i.getX())/f,E=d*(o.getY()-i.getY())/f;for(let b=0;b<l;b++)this.image.get(Oe.round(m+b*w),Oe.round(x+b*E))&&(u|=1<<l-b-1);return u}isWhiteOrBlackRectangle(i,o,l,u){let f=3;i=new en(i.getX()-f,i.getY()+f),o=new en(o.getX()-f,o.getY()-f),l=new en(l.getX()+f,l.getY()-f),u=new en(u.getX()+f,u.getY()+f);let d=this.getColor(u,i);if(d===0)return!1;let m=this.getColor(i,o);return m!==d||(m=this.getColor(o,l),m!==d)?!1:(m=this.getColor(l,u),m===d)}getColor(i,o){let l=this.distancePoint(i,o),u=(o.getX()-i.getX())/l,f=(o.getY()-i.getY())/l,d=0,m=i.getX(),x=i.getY(),w=this.image.get(i.getX(),i.getY()),E=Math.ceil(l);for(let N=0;N<E;N++)m+=u,x+=f,this.image.get(Oe.round(m),Oe.round(x))!==w&&d++;let b=d/l;return b>.1&&b<.9?0:b<=.1===w?1:-1}getFirstDifferent(i,o,l,u){let f=i.getX()+l,d=i.getY()+u;for(;this.isValid(f,d)&&this.image.get(f,d)===o;)f+=l,d+=u;for(f-=l,d-=u;this.isValid(f,d)&&this.image.get(f,d)===o;)f+=l;for(f-=l;this.isValid(f,d)&&this.image.get(f,d)===o;)d+=u;return d-=u,new en(f,d)}expandSquare(i,o,l){let u=l/(2*o),f=i[0].getX()-i[2].getX(),d=i[0].getY()-i[2].getY(),m=(i[0].getX()+i[2].getX())/2,x=(i[0].getY()+i[2].getY())/2,w=new de(m+u*f,x+u*d),E=new de(m-u*f,x-u*d);f=i[1].getX()-i[3].getX(),d=i[1].getY()-i[3].getY(),m=(i[1].getX()+i[3].getX())/2,x=(i[1].getY()+i[3].getY())/2;let b=new de(m+u*f,x+u*d),N=new de(m-u*f,x-u*d);return[w,b,E,N]}isValid(i,o){return i>=0&&i<this.image.getWidth()&&o>0&&o<this.image.getHeight()}isValidPoint(i){let o=Oe.round(i.getX()),l=Oe.round(i.getY());return this.isValid(o,l)}distancePoint(i,o){return Oe.distance(i.getX(),i.getY(),o.getX(),o.getY())}distanceResultPoint(i,o){return Oe.distance(i.getX(),i.getY(),o.getX(),o.getY())}getDimension(){return this.compact?4*this.nbLayers+11:this.nbLayers<=4?4*this.nbLayers+15:4*this.nbLayers+2*(O.truncDivision(this.nbLayers-4,8)+1)+15}}class ll{decode(i,o=null){let l=null,u=new Q0(i.getBlackMatrix()),f=null,d=null;try{let E=u.detectMirror(!1);f=E.getPoints(),this.reportFoundResultPoints(o,f),d=new Ke().decode(E)}catch(E){l=E}if(d==null)try{let E=u.detectMirror(!0);f=E.getPoints(),this.reportFoundResultPoints(o,f),d=new Ke().decode(E)}catch(E){throw l??E}let m=new Le(d.getText(),d.getRawBytes(),d.getNumBits(),f,ae.AZTEC,R.currentTimeMillis()),x=d.getByteSegments();x!=null&&m.putMetadata(Mt.BYTE_SEGMENTS,x);let w=d.getECLevel();return w!=null&&m.putMetadata(Mt.ERROR_CORRECTION_LEVEL,w),m}reportFoundResultPoints(i,o){if(i!=null){let l=i.get(Y.NEED_RESULT_POINT_CALLBACK);l!=null&&o.forEach((u,f,d)=>{l.foundPossibleResultPoint(u)})}}reset(){}}class _w extends Nt{constructor(i=500){super(new ll,i)}}class Ct{decode(i,o){try{return this.doDecode(i,o)}catch{if(o&&o.get(Y.TRY_HARDER)===!0&&i.isRotateSupported()){const f=i.rotateCounterClockwise(),d=this.doDecode(f,o),m=d.getResultMetadata();let x=270;m!==null&&m.get(Mt.ORIENTATION)===!0&&(x=x+m.get(Mt.ORIENTATION)%360),d.putMetadata(Mt.ORIENTATION,x);const w=d.getResultPoints();if(w!==null){const E=f.getHeight();for(let b=0;b<w.length;b++)w[b]=new de(E-w[b].getY()-1,w[b].getX())}return d}else throw new W}}reset(){}doDecode(i,o){const l=i.getWidth(),u=i.getHeight();let f=new P(l);const d=o&&o.get(Y.TRY_HARDER)===!0,m=Math.max(1,u>>(d?8:5));let x;d?x=u:x=15;const w=Math.trunc(u/2);for(let E=0;E<x;E++){const b=Math.trunc((E+1)/2),N=(E&1)===0,L=w+m*(N?b:-b);if(L<0||L>=u)break;try{f=i.getBlackRow(L,f)}catch{continue}for(let B=0;B<2;B++){if(B===1&&(f.reverse(),o&&o.get(Y.NEED_RESULT_POINT_CALLBACK)===!0)){const F=new Map;o.forEach((z,Q)=>F.set(Q,z)),F.delete(Y.NEED_RESULT_POINT_CALLBACK),o=F}try{const F=this.decodeRow(L,f,o);if(B===1){F.putMetadata(Mt.ORIENTATION,180);const z=F.getResultPoints();z!==null&&(z[0]=new de(l-z[0].getX()-1,z[0].getY()),z[1]=new de(l-z[1].getX()-1,z[1].getY()))}return F}catch{}}}throw new W}static recordPattern(i,o,l){const u=l.length;for(let w=0;w<u;w++)l[w]=0;const f=i.getSize();if(o>=f)throw new W;let d=!i.get(o),m=0,x=o;for(;x<f;){if(i.get(x)!==d)l[m]++;else{if(++m===u)break;l[m]=1,d=!d}x++}if(!(m===u||m===u-1&&x===f))throw new W}static recordPatternInReverse(i,o,l){let u=l.length,f=i.get(o);for(;o>0&&u>=0;)i.get(--o)!==f&&(u--,f=!f);if(u>=0)throw new W;Ct.recordPattern(i,o+1,l)}static patternMatchVariance(i,o,l){const u=i.length;let f=0,d=0;for(let w=0;w<u;w++)f+=i[w],d+=o[w];if(f<d)return Number.POSITIVE_INFINITY;const m=f/d;l*=m;let x=0;for(let w=0;w<u;w++){const E=i[w],b=o[w]*m,N=E>b?E-b:b-E;if(N>l)return Number.POSITIVE_INFINITY;x+=N}return x/f}}class ie extends Ct{static findStartPattern(i){const o=i.getSize(),l=i.getNextSet(0);let u=0,f=Int32Array.from([0,0,0,0,0,0]),d=l,m=!1;const x=6;for(let w=l;w<o;w++)if(i.get(w)!==m)f[u]++;else{if(u===x-1){let E=ie.MAX_AVG_VARIANCE,b=-1;for(let N=ie.CODE_START_A;N<=ie.CODE_START_C;N++){const L=Ct.patternMatchVariance(f,ie.CODE_PATTERNS[N],ie.MAX_INDIVIDUAL_VARIANCE);L<E&&(E=L,b=N)}if(b>=0&&i.isRange(Math.max(0,d-(w-d)/2),d,!1))return Int32Array.from([d,w,b]);d+=f[0]+f[1],f=f.slice(2,f.length-1),f[u-1]=0,f[u]=0,u--}else u++;f[u]=1,m=!m}throw new W}static decodeCode(i,o,l){Ct.recordPattern(i,l,o);let u=ie.MAX_AVG_VARIANCE,f=-1;for(let d=0;d<ie.CODE_PATTERNS.length;d++){const m=ie.CODE_PATTERNS[d],x=this.patternMatchVariance(o,m,ie.MAX_INDIVIDUAL_VARIANCE);x<u&&(u=x,f=d)}if(f>=0)return f;throw new W}decodeRow(i,o,l){const u=l&&l.get(Y.ASSUME_GS1)===!0,f=ie.findStartPattern(o),d=f[2];let m=0;const x=new Uint8Array(20);x[m++]=d;let w;switch(d){case ie.CODE_START_A:w=ie.CODE_CODE_A;break;case ie.CODE_START_B:w=ie.CODE_CODE_B;break;case ie.CODE_START_C:w=ie.CODE_CODE_C;break;default:throw new j}let E=!1,b=!1,N="",L=f[0],B=f[1];const F=Int32Array.from([0,0,0,0,0,0]);let z=0,Q=0,ee=d,te=0,$=!0,Te=!1,Ee=!1;for(;!E;){const Os=b;switch(b=!1,z=Q,Q=ie.decodeCode(o,F,B),x[m++]=Q,Q!==ie.CODE_STOP&&($=!0),Q!==ie.CODE_STOP&&(te++,ee+=te*Q),L=B,B+=F.reduce((tC,nC)=>tC+nC,0),Q){case ie.CODE_START_A:case ie.CODE_START_B:case ie.CODE_START_C:throw new j}switch(w){case ie.CODE_CODE_A:if(Q<64)Ee===Te?N+=String.fromCharCode(32+Q):N+=String.fromCharCode(32+Q+128),Ee=!1;else if(Q<96)Ee===Te?N+=String.fromCharCode(Q-64):N+=String.fromCharCode(Q+64),Ee=!1;else switch(Q!==ie.CODE_STOP&&($=!1),Q){case ie.CODE_FNC_1:u&&(N.length===0?N+="]C1":N+="");break;case ie.CODE_FNC_2:case ie.CODE_FNC_3:break;case ie.CODE_FNC_4_A:!Te&&Ee?(Te=!0,Ee=!1):Te&&Ee?(Te=!1,Ee=!1):Ee=!0;break;case ie.CODE_SHIFT:b=!0,w=ie.CODE_CODE_B;break;case ie.CODE_CODE_B:w=ie.CODE_CODE_B;break;case ie.CODE_CODE_C:w=ie.CODE_CODE_C;break;case ie.CODE_STOP:E=!0;break}break;case ie.CODE_CODE_B:if(Q<96)Ee===Te?N+=String.fromCharCode(32+Q):N+=String.fromCharCode(32+Q+128),Ee=!1;else switch(Q!==ie.CODE_STOP&&($=!1),Q){case ie.CODE_FNC_1:u&&(N.length===0?N+="]C1":N+="");break;case ie.CODE_FNC_2:case ie.CODE_FNC_3:break;case ie.CODE_FNC_4_B:!Te&&Ee?(Te=!0,Ee=!1):Te&&Ee?(Te=!1,Ee=!1):Ee=!0;break;case ie.CODE_SHIFT:b=!0,w=ie.CODE_CODE_A;break;case ie.CODE_CODE_A:w=ie.CODE_CODE_A;break;case ie.CODE_CODE_C:w=ie.CODE_CODE_C;break;case ie.CODE_STOP:E=!0;break}break;case ie.CODE_CODE_C:if(Q<100)Q<10&&(N+="0"),N+=Q;else switch(Q!==ie.CODE_STOP&&($=!1),Q){case ie.CODE_FNC_1:u&&(N.length===0?N+="]C1":N+="");break;case ie.CODE_CODE_A:w=ie.CODE_CODE_A;break;case ie.CODE_CODE_B:w=ie.CODE_CODE_B;break;case ie.CODE_STOP:E=!0;break}break}Os&&(w=w===ie.CODE_CODE_A?ie.CODE_CODE_B:ie.CODE_CODE_A)}const fn=B-L;if(B=o.getNextUnset(B),!o.isRange(B,Math.min(o.getSize(),B+(B-L)/2),!1))throw new W;if(ee-=te*z,ee%103!==z)throw new v;const Jn=N.length;if(Jn===0)throw new W;Jn>0&&$&&(w===ie.CODE_CODE_C?N=N.substring(0,Jn-2):N=N.substring(0,Jn-1));const dn=(f[1]+f[0])/2,Qe=L+fn/2,jt=x.length,Sn=new Uint8Array(jt);for(let Os=0;Os<jt;Os++)Sn[Os]=x[Os];const Ms=[new de(dn,i),new de(Qe,i)];return new Le(N,Sn,0,Ms,ae.CODE_128,new Date().getTime())}}ie.CODE_PATTERNS=[Int32Array.from([2,1,2,2,2,2]),Int32Array.from([2,2,2,1,2,2]),Int32Array.from([2,2,2,2,2,1]),Int32Array.from([1,2,1,2,2,3]),Int32Array.from([1,2,1,3,2,2]),Int32Array.from([1,3,1,2,2,2]),Int32Array.from([1,2,2,2,1,3]),Int32Array.from([1,2,2,3,1,2]),Int32Array.from([1,3,2,2,1,2]),Int32Array.from([2,2,1,2,1,3]),Int32Array.from([2,2,1,3,1,2]),Int32Array.from([2,3,1,2,1,2]),Int32Array.from([1,1,2,2,3,2]),Int32Array.from([1,2,2,1,3,2]),Int32Array.from([1,2,2,2,3,1]),Int32Array.from([1,1,3,2,2,2]),Int32Array.from([1,2,3,1,2,2]),Int32Array.from([1,2,3,2,2,1]),Int32Array.from([2,2,3,2,1,1]),Int32Array.from([2,2,1,1,3,2]),Int32Array.from([2,2,1,2,3,1]),Int32Array.from([2,1,3,2,1,2]),Int32Array.from([2,2,3,1,1,2]),Int32Array.from([3,1,2,1,3,1]),Int32Array.from([3,1,1,2,2,2]),Int32Array.from([3,2,1,1,2,2]),Int32Array.from([3,2,1,2,2,1]),Int32Array.from([3,1,2,2,1,2]),Int32Array.from([3,2,2,1,1,2]),Int32Array.from([3,2,2,2,1,1]),Int32Array.from([2,1,2,1,2,3]),Int32Array.from([2,1,2,3,2,1]),Int32Array.from([2,3,2,1,2,1]),Int32Array.from([1,1,1,3,2,3]),Int32Array.from([1,3,1,1,2,3]),Int32Array.from([1,3,1,3,2,1]),Int32Array.from([1,1,2,3,1,3]),Int32Array.from([1,3,2,1,1,3]),Int32Array.from([1,3,2,3,1,1]),Int32Array.from([2,1,1,3,1,3]),Int32Array.from([2,3,1,1,1,3]),Int32Array.from([2,3,1,3,1,1]),Int32Array.from([1,1,2,1,3,3]),Int32Array.from([1,1,2,3,3,1]),Int32Array.from([1,3,2,1,3,1]),Int32Array.from([1,1,3,1,2,3]),Int32Array.from([1,1,3,3,2,1]),Int32Array.from([1,3,3,1,2,1]),Int32Array.from([3,1,3,1,2,1]),Int32Array.from([2,1,1,3,3,1]),Int32Array.from([2,3,1,1,3,1]),Int32Array.from([2,1,3,1,1,3]),Int32Array.from([2,1,3,3,1,1]),Int32Array.from([2,1,3,1,3,1]),Int32Array.from([3,1,1,1,2,3]),Int32Array.from([3,1,1,3,2,1]),Int32Array.from([3,3,1,1,2,1]),Int32Array.from([3,1,2,1,1,3]),Int32Array.from([3,1,2,3,1,1]),Int32Array.from([3,3,2,1,1,1]),Int32Array.from([3,1,4,1,1,1]),Int32Array.from([2,2,1,4,1,1]),Int32Array.from([4,3,1,1,1,1]),Int32Array.from([1,1,1,2,2,4]),Int32Array.from([1,1,1,4,2,2]),Int32Array.from([1,2,1,1,2,4]),Int32Array.from([1,2,1,4,2,1]),Int32Array.from([1,4,1,1,2,2]),Int32Array.from([1,4,1,2,2,1]),Int32Array.from([1,1,2,2,1,4]),Int32Array.from([1,1,2,4,1,2]),Int32Array.from([1,2,2,1,1,4]),Int32Array.from([1,2,2,4,1,1]),Int32Array.from([1,4,2,1,1,2]),Int32Array.from([1,4,2,2,1,1]),Int32Array.from([2,4,1,2,1,1]),Int32Array.from([2,2,1,1,1,4]),Int32Array.from([4,1,3,1,1,1]),Int32Array.from([2,4,1,1,1,2]),Int32Array.from([1,3,4,1,1,1]),Int32Array.from([1,1,1,2,4,2]),Int32Array.from([1,2,1,1,4,2]),Int32Array.from([1,2,1,2,4,1]),Int32Array.from([1,1,4,2,1,2]),Int32Array.from([1,2,4,1,1,2]),Int32Array.from([1,2,4,2,1,1]),Int32Array.from([4,1,1,2,1,2]),Int32Array.from([4,2,1,1,1,2]),Int32Array.from([4,2,1,2,1,1]),Int32Array.from([2,1,2,1,4,1]),Int32Array.from([2,1,4,1,2,1]),Int32Array.from([4,1,2,1,2,1]),Int32Array.from([1,1,1,1,4,3]),Int32Array.from([1,1,1,3,4,1]),Int32Array.from([1,3,1,1,4,1]),Int32Array.from([1,1,4,1,1,3]),Int32Array.from([1,1,4,3,1,1]),Int32Array.from([4,1,1,1,1,3]),Int32Array.from([4,1,1,3,1,1]),Int32Array.from([1,1,3,1,4,1]),Int32Array.from([1,1,4,1,3,1]),Int32Array.from([3,1,1,1,4,1]),Int32Array.from([4,1,1,1,3,1]),Int32Array.from([2,1,1,4,1,2]),Int32Array.from([2,1,1,2,1,4]),Int32Array.from([2,1,1,2,3,2]),Int32Array.from([2,3,3,1,1,1,2])],ie.MAX_AVG_VARIANCE=.25,ie.MAX_INDIVIDUAL_VARIANCE=.7,ie.CODE_SHIFT=98,ie.CODE_CODE_C=99,ie.CODE_CODE_B=100,ie.CODE_CODE_A=101,ie.CODE_FNC_1=102,ie.CODE_FNC_2=97,ie.CODE_FNC_3=96,ie.CODE_FNC_4_A=101,ie.CODE_FNC_4_B=100,ie.CODE_START_A=103,ie.CODE_START_B=104,ie.CODE_START_C=105,ie.CODE_STOP=106;class St extends Ct{constructor(i=!1,o=!1){super(),this.usingCheckDigit=i,this.extendedMode=o,this.decodeRowResult="",this.counters=new Int32Array(9)}decodeRow(i,o,l){let u=this.counters;u.fill(0),this.decodeRowResult="";let f=St.findAsteriskPattern(o,u),d=o.getNextSet(f[1]),m=o.getSize(),x,w;do{St.recordPattern(o,d,u);let F=St.toNarrowWidePattern(u);if(F<0)throw new W;x=St.patternToChar(F),this.decodeRowResult+=x,w=d;for(let z of u)d+=z;d=o.getNextSet(d)}while(x!=="*");this.decodeRowResult=this.decodeRowResult.substring(0,this.decodeRowResult.length-1);let E=0;for(let F of u)E+=F;let b=d-w-E;if(d!==m&&b*2<E)throw new W;if(this.usingCheckDigit){let F=this.decodeRowResult.length-1,z=0;for(let Q=0;Q<F;Q++)z+=St.ALPHABET_STRING.indexOf(this.decodeRowResult.charAt(Q));if(this.decodeRowResult.charAt(F)!==St.ALPHABET_STRING.charAt(z%43))throw new v;this.decodeRowResult=this.decodeRowResult.substring(0,F)}if(this.decodeRowResult.length===0)throw new W;let N;this.extendedMode?N=St.decodeExtended(this.decodeRowResult):N=this.decodeRowResult;let L=(f[1]+f[0])/2,B=w+E/2;return new Le(N,null,0,[new de(L,i),new de(B,i)],ae.CODE_39,new Date().getTime())}static findAsteriskPattern(i,o){let l=i.getSize(),u=i.getNextSet(0),f=0,d=u,m=!1,x=o.length;for(let w=u;w<l;w++)if(i.get(w)!==m)o[f]++;else{if(f===x-1){if(this.toNarrowWidePattern(o)===St.ASTERISK_ENCODING&&i.isRange(Math.max(0,d-Math.floor((w-d)/2)),d,!1))return[d,w];d+=o[0]+o[1],o.copyWithin(0,2,2+f-1),o[f-1]=0,o[f]=0,f--}else f++;o[f]=1,m=!m}throw new W}static toNarrowWidePattern(i){let o=i.length,l=0,u;do{let f=2147483647;for(let x of i)x<f&&x>l&&(f=x);l=f,u=0;let d=0,m=0;for(let x=0;x<o;x++){let w=i[x];w>l&&(m|=1<<o-1-x,u++,d+=w)}if(u===3){for(let x=0;x<o&&u>0;x++){let w=i[x];if(w>l&&(u--,w*2>=d))return-1}return m}}while(u>3);return-1}static patternToChar(i){for(let o=0;o<St.CHARACTER_ENCODINGS.length;o++)if(St.CHARACTER_ENCODINGS[o]===i)return St.ALPHABET_STRING.charAt(o);if(i===St.ASTERISK_ENCODING)return"*";throw new W}static decodeExtended(i){let o=i.length,l="";for(let u=0;u<o;u++){let f=i.charAt(u);if(f==="+"||f==="$"||f==="%"||f==="/"){let d=i.charAt(u+1),m="\0";switch(f){case"+":if(d>="A"&&d<="Z")m=String.fromCharCode(d.charCodeAt(0)+32);else throw new j;break;case"$":if(d>="A"&&d<="Z")m=String.fromCharCode(d.charCodeAt(0)-64);else throw new j;break;case"%":if(d>="A"&&d<="E")m=String.fromCharCode(d.charCodeAt(0)-38);else if(d>="F"&&d<="J")m=String.fromCharCode(d.charCodeAt(0)-11);else if(d>="K"&&d<="O")m=String.fromCharCode(d.charCodeAt(0)+16);else if(d>="P"&&d<="T")m=String.fromCharCode(d.charCodeAt(0)+43);else if(d==="U")m="\0";else if(d==="V")m="@";else if(d==="W")m="`";else if(d==="X"||d==="Y"||d==="Z")m="";else throw new j;break;case"/":if(d>="A"&&d<="O")m=String.fromCharCode(d.charCodeAt(0)-32);else if(d==="Z")m=":";else throw new j;break}l+=m,u++}else l+=f}return l}}St.ALPHABET_STRING="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ-. $/+%",St.CHARACTER_ENCODINGS=[52,289,97,352,49,304,112,37,292,100,265,73,328,25,280,88,13,268,76,28,259,67,322,19,274,82,7,262,70,22,385,193,448,145,400,208,133,388,196,168,162,138,42],St.ASTERISK_ENCODING=148;class Xe extends Ct{constructor(){super(...arguments),this.narrowLineWidth=-1}decodeRow(i,o,l){let u=this.decodeStart(o),f=this.decodeEnd(o),d=new xe;Xe.decodeMiddle(o,u[1],f[0],d);let m=d.toString(),x=null;l!=null&&(x=l.get(Y.ALLOWED_LENGTHS)),x==null&&(x=Xe.DEFAULT_ALLOWED_LENGTHS);let w=m.length,E=!1,b=0;for(let B of x){if(w===B){E=!0;break}B>b&&(b=B)}if(!E&&w>b&&(E=!0),!E)throw new j;const N=[new de(u[1],i),new de(f[0],i)];return new Le(m,null,0,N,ae.ITF,new Date().getTime())}static decodeMiddle(i,o,l,u){let f=new Int32Array(10),d=new Int32Array(5),m=new Int32Array(5);for(f.fill(0),d.fill(0),m.fill(0);o<l;){Ct.recordPattern(i,o,f);for(let w=0;w<5;w++){let E=2*w;d[w]=f[E],m[w]=f[E+1]}let x=Xe.decodeDigit(d);u.append(x.toString()),x=this.decodeDigit(m),u.append(x.toString()),f.forEach(function(w){o+=w})}}decodeStart(i){let o=Xe.skipWhiteSpace(i),l=Xe.findGuardPattern(i,o,Xe.START_PATTERN);return this.narrowLineWidth=(l[1]-l[0])/4,this.validateQuietZone(i,l[0]),l}validateQuietZone(i,o){let l=this.narrowLineWidth*10;l=l<o?l:o;for(let u=o-1;l>0&&u>=0&&!i.get(u);u--)l--;if(l!==0)throw new W}static skipWhiteSpace(i){const o=i.getSize(),l=i.getNextSet(0);if(l===o)throw new W;return l}decodeEnd(i){i.reverse();try{let o=Xe.skipWhiteSpace(i),l;try{l=Xe.findGuardPattern(i,o,Xe.END_PATTERN_REVERSED[0])}catch(f){f instanceof W&&(l=Xe.findGuardPattern(i,o,Xe.END_PATTERN_REVERSED[1]))}this.validateQuietZone(i,l[0]);let u=l[0];return l[0]=i.getSize()-l[1],l[1]=i.getSize()-u,l}finally{i.reverse()}}static findGuardPattern(i,o,l){let u=l.length,f=new Int32Array(u),d=i.getSize(),m=!1,x=0,w=o;f.fill(0);for(let E=o;E<d;E++)if(i.get(E)!==m)f[x]++;else{if(x===u-1){if(Ct.patternMatchVariance(f,l,Xe.MAX_INDIVIDUAL_VARIANCE)<Xe.MAX_AVG_VARIANCE)return[w,E];w+=f[0]+f[1],R.arraycopy(f,2,f,0,x-1),f[x-1]=0,f[x]=0,x--}else x++;f[x]=1,m=!m}throw new W}static decodeDigit(i){let o=Xe.MAX_AVG_VARIANCE,l=-1,u=Xe.PATTERNS.length;for(let f=0;f<u;f++){let d=Xe.PATTERNS[f],m=Ct.patternMatchVariance(i,d,Xe.MAX_INDIVIDUAL_VARIANCE);m<o?(o=m,l=f):m===o&&(l=-1)}if(l>=0)return l%10;throw new W}}Xe.PATTERNS=[Int32Array.from([1,1,2,2,1]),Int32Array.from([2,1,1,1,2]),Int32Array.from([1,2,1,1,2]),Int32Array.from([2,2,1,1,1]),Int32Array.from([1,1,2,1,2]),Int32Array.from([2,1,2,1,1]),Int32Array.from([1,2,2,1,1]),Int32Array.from([1,1,1,2,2]),Int32Array.from([2,1,1,2,1]),Int32Array.from([1,2,1,2,1]),Int32Array.from([1,1,3,3,1]),Int32Array.from([3,1,1,1,3]),Int32Array.from([1,3,1,1,3]),Int32Array.from([3,3,1,1,1]),Int32Array.from([1,1,3,1,3]),Int32Array.from([3,1,3,1,1]),Int32Array.from([1,3,3,1,1]),Int32Array.from([1,1,1,3,3]),Int32Array.from([3,1,1,3,1]),Int32Array.from([1,3,1,3,1])],Xe.MAX_AVG_VARIANCE=.38,Xe.MAX_INDIVIDUAL_VARIANCE=.5,Xe.DEFAULT_ALLOWED_LENGTHS=[6,8,10,12,14],Xe.START_PATTERN=Int32Array.from([1,1,1,1]),Xe.END_PATTERN_REVERSED=[Int32Array.from([1,1,2]),Int32Array.from([1,1,3])];class ut extends Ct{constructor(){super(...arguments),this.decodeRowStringBuffer=""}static findStartGuardPattern(i){let o=!1,l,u=0,f=Int32Array.from([0,0,0]);for(;!o;){f=Int32Array.from([0,0,0]),l=ut.findGuardPattern(i,u,!1,this.START_END_PATTERN,f);let d=l[0];u=l[1];let m=d-(u-d);m>=0&&(o=i.isRange(m,d,!1))}return l}static checkChecksum(i){return ut.checkStandardUPCEANChecksum(i)}static checkStandardUPCEANChecksum(i){let o=i.length;if(o===0)return!1;let l=parseInt(i.charAt(o-1),10);return ut.getStandardUPCEANChecksum(i.substring(0,o-1))===l}static getStandardUPCEANChecksum(i){let o=i.length,l=0;for(let u=o-1;u>=0;u-=2){let f=i.charAt(u).charCodeAt(0)-48;if(f<0||f>9)throw new j;l+=f}l*=3;for(let u=o-2;u>=0;u-=2){let f=i.charAt(u).charCodeAt(0)-48;if(f<0||f>9)throw new j;l+=f}return(1e3-l)%10}static decodeEnd(i,o){return ut.findGuardPattern(i,o,!1,ut.START_END_PATTERN,new Int32Array(ut.START_END_PATTERN.length).fill(0))}static findGuardPatternWithoutCounters(i,o,l,u){return this.findGuardPattern(i,o,l,u,new Int32Array(u.length))}static findGuardPattern(i,o,l,u,f){let d=i.getSize();o=l?i.getNextUnset(o):i.getNextSet(o);let m=0,x=o,w=u.length,E=l;for(let b=o;b<d;b++)if(i.get(b)!==E)f[m]++;else{if(m===w-1){if(Ct.patternMatchVariance(f,u,ut.MAX_INDIVIDUAL_VARIANCE)<ut.MAX_AVG_VARIANCE)return Int32Array.from([x,b]);x+=f[0]+f[1];let N=f.slice(2,f.length-1);for(let L=0;L<m-1;L++)f[L]=N[L];f[m-1]=0,f[m]=0,m--}else m++;f[m]=1,E=!E}throw new W}static decodeDigit(i,o,l,u){this.recordPattern(i,l,o);let f=this.MAX_AVG_VARIANCE,d=-1,m=u.length;for(let x=0;x<m;x++){let w=u[x],E=Ct.patternMatchVariance(o,w,ut.MAX_INDIVIDUAL_VARIANCE);E<f&&(f=E,d=x)}if(d>=0)return d;throw new W}}ut.MAX_AVG_VARIANCE=.48,ut.MAX_INDIVIDUAL_VARIANCE=.7,ut.START_END_PATTERN=Int32Array.from([1,1,1]),ut.MIDDLE_PATTERN=Int32Array.from([1,1,1,1,1]),ut.END_PATTERN=Int32Array.from([1,1,1,1,1,1]),ut.L_PATTERNS=[Int32Array.from([3,2,1,1]),Int32Array.from([2,2,2,1]),Int32Array.from([2,1,2,2]),Int32Array.from([1,4,1,1]),Int32Array.from([1,1,3,2]),Int32Array.from([1,2,3,1]),Int32Array.from([1,1,1,4]),Int32Array.from([1,3,1,2]),Int32Array.from([1,2,1,3]),Int32Array.from([3,1,1,2])];class So{constructor(){this.CHECK_DIGIT_ENCODINGS=[24,20,18,17,12,6,3,10,9,5],this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}decodeRow(i,o,l){let u=this.decodeRowStringBuffer,f=this.decodeMiddle(o,l,u),d=u.toString(),m=So.parseExtensionString(d),x=[new de((l[0]+l[1])/2,i),new de(f,i)],w=new Le(d,null,0,x,ae.UPC_EAN_EXTENSION,new Date().getTime());return m!=null&&w.putAllMetadata(m),w}decodeMiddle(i,o,l){let u=this.decodeMiddleCounters;u[0]=0,u[1]=0,u[2]=0,u[3]=0;let f=i.getSize(),d=o[1],m=0;for(let w=0;w<5&&d<f;w++){let E=ut.decodeDigit(i,u,d,ut.L_AND_G_PATTERNS);l+=String.fromCharCode(48+E%10);for(let b of u)d+=b;E>=10&&(m|=1<<4-w),w!==4&&(d=i.getNextSet(d),d=i.getNextUnset(d))}if(l.length!==5)throw new W;let x=this.determineCheckDigit(m);if(So.extensionChecksum(l.toString())!==x)throw new W;return d}static extensionChecksum(i){let o=i.length,l=0;for(let u=o-2;u>=0;u-=2)l+=i.charAt(u).charCodeAt(0)-48;l*=3;for(let u=o-1;u>=0;u-=2)l+=i.charAt(u).charCodeAt(0)-48;return l*=3,l%10}determineCheckDigit(i){for(let o=0;o<10;o++)if(i===this.CHECK_DIGIT_ENCODINGS[o])return o;throw new W}static parseExtensionString(i){if(i.length!==5)return null;let o=So.parseExtension5String(i);return o==null?null:new Map([[Mt.SUGGESTED_PRICE,o]])}static parseExtension5String(i){let o;switch(i.charAt(0)){case"0":o="";break;case"5":o="$";break;case"9":switch(i){case"90000":return null;case"99991":return"0.00";case"99990":return"Used"}o="";break;default:o="";break}let l=parseInt(i.substring(1)),u=(l/100).toString(),f=l%100,d=f<10?"0"+f:f.toString();return o+u+"."+d}}class Hu{constructor(){this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}decodeRow(i,o,l){let u=this.decodeRowStringBuffer,f=this.decodeMiddle(o,l,u),d=u.toString(),m=Hu.parseExtensionString(d),x=[new de((l[0]+l[1])/2,i),new de(f,i)],w=new Le(d,null,0,x,ae.UPC_EAN_EXTENSION,new Date().getTime());return m!=null&&w.putAllMetadata(m),w}decodeMiddle(i,o,l){let u=this.decodeMiddleCounters;u[0]=0,u[1]=0,u[2]=0,u[3]=0;let f=i.getSize(),d=o[1],m=0;for(let x=0;x<2&&d<f;x++){let w=ut.decodeDigit(i,u,d,ut.L_AND_G_PATTERNS);l+=String.fromCharCode(48+w%10);for(let E of u)d+=E;w>=10&&(m|=1<<1-x),x!==1&&(d=i.getNextSet(d),d=i.getNextUnset(d))}if(l.length!==2)throw new W;if(parseInt(l.toString())%4!==m)throw new W;return d}static parseExtensionString(i){return i.length!==2?null:new Map([[Mt.ISSUE_NUMBER,parseInt(i)]])}}class Z0{static decodeRow(i,o,l){let u=ut.findGuardPattern(o,l,!1,this.EXTENSION_START_PATTERN,new Int32Array(this.EXTENSION_START_PATTERN.length).fill(0));try{return new So().decodeRow(i,o,u)}catch{return new Hu().decodeRow(i,o,u)}}}Z0.EXTENSION_START_PATTERN=Int32Array.from([1,1,2]);class Be extends ut{constructor(){super(),this.decodeRowStringBuffer="",Be.L_AND_G_PATTERNS=Be.L_PATTERNS.map(i=>Int32Array.from(i));for(let i=10;i<20;i++){let o=Be.L_PATTERNS[i-10],l=new Int32Array(o.length);for(let u=0;u<o.length;u++)l[u]=o[o.length-u-1];Be.L_AND_G_PATTERNS[i]=l}}decodeRow(i,o,l){let u=Be.findStartGuardPattern(o),f=l==null?null:l.get(Y.NEED_RESULT_POINT_CALLBACK);if(f!=null){const $=new de((u[0]+u[1])/2,i);f.foundPossibleResultPoint($)}let d=this.decodeMiddle(o,u,this.decodeRowStringBuffer),m=d.rowOffset,x=d.resultString;if(f!=null){const $=new de(m,i);f.foundPossibleResultPoint($)}let w=this.decodeEnd(o,m);if(f!=null){const $=new de((w[0]+w[1])/2,i);f.foundPossibleResultPoint($)}let E=w[1],b=E+(E-w[0]);if(b>=o.getSize()||!o.isRange(E,b,!1))throw new W;let N=x.toString();if(N.length<8)throw new j;if(!Be.checkChecksum(N))throw new v;let L=(u[1]+u[0])/2,B=(w[1]+w[0])/2,F=this.getBarcodeFormat(),z=[new de(L,i),new de(B,i)],Q=new Le(N,null,0,z,F,new Date().getTime()),ee=0;try{let $=Z0.decodeRow(i,o,w[1]);Q.putMetadata(Mt.UPC_EAN_EXTENSION,$.getText()),Q.putAllMetadata($.getResultMetadata()),Q.addResultPoints($.getResultPoints()),ee=$.getText().length}catch{}let te=l==null?null:l.get(Y.ALLOWED_EAN_EXTENSIONS);if(te!=null){let $=!1;for(let Te in te)if(ee.toString()===Te){$=!0;break}if(!$)throw new W}return Q}decodeEnd(i,o){return Be.findGuardPattern(i,o,!1,Be.START_END_PATTERN,new Int32Array(Be.START_END_PATTERN.length).fill(0))}static checkChecksum(i){return Be.checkStandardUPCEANChecksum(i)}static checkStandardUPCEANChecksum(i){let o=i.length;if(o===0)return!1;let l=parseInt(i.charAt(o-1),10);return Be.getStandardUPCEANChecksum(i.substring(0,o-1))===l}static getStandardUPCEANChecksum(i){let o=i.length,l=0;for(let u=o-1;u>=0;u-=2){let f=i.charAt(u).charCodeAt(0)-48;if(f<0||f>9)throw new j;l+=f}l*=3;for(let u=o-2;u>=0;u-=2){let f=i.charAt(u).charCodeAt(0)-48;if(f<0||f>9)throw new j;l+=f}return(1e3-l)%10}}class Fi extends Be{constructor(){super(),this.decodeMiddleCounters=Int32Array.from([0,0,0,0])}decodeMiddle(i,o,l){let u=this.decodeMiddleCounters;u[0]=0,u[1]=0,u[2]=0,u[3]=0;let f=i.getSize(),d=o[1],m=0;for(let w=0;w<6&&d<f;w++){let E=Be.decodeDigit(i,u,d,Be.L_AND_G_PATTERNS);l+=String.fromCharCode(48+E%10);for(let b of u)d+=b;E>=10&&(m|=1<<5-w)}l=Fi.determineFirstDigit(l,m),d=Be.findGuardPattern(i,d,!0,Be.MIDDLE_PATTERN,new Int32Array(Be.MIDDLE_PATTERN.length).fill(0))[1];for(let w=0;w<6&&d<f;w++){let E=Be.decodeDigit(i,u,d,Be.L_PATTERNS);l+=String.fromCharCode(48+E);for(let b of u)d+=b}return{rowOffset:d,resultString:l}}getBarcodeFormat(){return ae.EAN_13}static determineFirstDigit(i,o){for(let l=0;l<10;l++)if(o===this.FIRST_DIGIT_ENCODINGS[l])return i=String.fromCharCode(48+l)+i,i;throw new W}}Fi.FIRST_DIGIT_ENCODINGS=[0,11,13,14,19,25,28,21,22,26];class K0 extends Be{constructor(){super(),this.decodeMiddleCounters=Int32Array.from([0,0,0,0])}decodeMiddle(i,o,l){const u=this.decodeMiddleCounters;u[0]=0,u[1]=0,u[2]=0,u[3]=0;let f=i.getSize(),d=o[1];for(let x=0;x<4&&d<f;x++){let w=Be.decodeDigit(i,u,d,Be.L_PATTERNS);l+=String.fromCharCode(48+w);for(let E of u)d+=E}d=Be.findGuardPattern(i,d,!0,Be.MIDDLE_PATTERN,new Int32Array(Be.MIDDLE_PATTERN.length).fill(0))[1];for(let x=0;x<4&&d<f;x++){let w=Be.decodeDigit(i,u,d,Be.L_PATTERNS);l+=String.fromCharCode(48+w);for(let E of u)d+=E}return{rowOffset:d,resultString:l}}getBarcodeFormat(){return ae.EAN_8}}class q0 extends Be{constructor(){super(...arguments),this.ean13Reader=new Fi}getBarcodeFormat(){return ae.UPC_A}decode(i,o){return this.maybeReturnResult(this.ean13Reader.decode(i))}decodeRow(i,o,l){return this.maybeReturnResult(this.ean13Reader.decodeRow(i,o,l))}decodeMiddle(i,o,l){return this.ean13Reader.decodeMiddle(i,o,l)}maybeReturnResult(i){let o=i.getText();if(o.charAt(0)==="0"){let l=new Le(o.substring(1),null,null,i.getResultPoints(),ae.UPC_A);return i.getResultMetadata()!=null&&l.putAllMetadata(i.getResultMetadata()),l}else throw new W}reset(){this.ean13Reader.reset()}}class $n extends Be{constructor(){super(),this.decodeMiddleCounters=new Int32Array(4)}decodeMiddle(i,o,l){const u=this.decodeMiddleCounters.map(w=>w);u[0]=0,u[1]=0,u[2]=0,u[3]=0;const f=i.getSize();let d=o[1],m=0;for(let w=0;w<6&&d<f;w++){const E=$n.decodeDigit(i,u,d,$n.L_AND_G_PATTERNS);l+=String.fromCharCode(48+E%10);for(let b of u)d+=b;E>=10&&(m|=1<<5-w)}let x=$n.determineNumSysAndCheckDigit(l,m);return{rowOffset:d,resultString:x}}decodeEnd(i,o){return $n.findGuardPatternWithoutCounters(i,o,!0,$n.MIDDLE_END_PATTERN)}checkChecksum(i){return Be.checkChecksum($n.convertUPCEtoUPCA(i))}static determineNumSysAndCheckDigit(i,o){for(let l=0;l<=1;l++)for(let u=0;u<10;u++)if(o===this.NUMSYS_AND_CHECK_DIGIT_PATTERNS[l][u]){let f=String.fromCharCode(48+l),d=String.fromCharCode(48+u);return f+i+d}throw W.getNotFoundInstance()}getBarcodeFormat(){return ae.UPC_E}static convertUPCEtoUPCA(i){const o=i.slice(1,7).split("").map(f=>f.charCodeAt(0)),l=new xe;l.append(i.charAt(0));let u=o[5];switch(u){case 0:case 1:case 2:l.appendChars(o,0,2),l.append(u),l.append("0000"),l.appendChars(o,2,3);break;case 3:l.appendChars(o,0,3),l.append("00000"),l.appendChars(o,3,2);break;case 4:l.appendChars(o,0,4),l.append("00000"),l.append(o[4]);break;default:l.appendChars(o,0,5),l.append("0000"),l.append(u);break}return i.length>=8&&l.append(i.charAt(7)),l.toString()}}$n.MIDDLE_END_PATTERN=Int32Array.from([1,1,1,1,1,1]),$n.NUMSYS_AND_CHECK_DIGIT_PATTERNS=[Int32Array.from([56,52,50,49,44,38,35,42,41,37]),Int32Array.from([7,11,13,14,19,25,28,21,22,26])];class Wu extends Ct{constructor(i){super();let o=i==null?null:i.get(Y.POSSIBLE_FORMATS),l=[];r(o)?(l.push(new Fi),l.push(new q0),l.push(new K0),l.push(new $n)):(o.indexOf(ae.EAN_13)>-1&&l.push(new Fi),o.indexOf(ae.UPC_A)>-1&&l.push(new q0),o.indexOf(ae.EAN_8)>-1&&l.push(new K0),o.indexOf(ae.UPC_E)>-1&&l.push(new $n)),this.readers=l}decodeRow(i,o,l){for(let u of this.readers)try{const f=u.decodeRow(i,o,l),d=f.getBarcodeFormat()===ae.EAN_13&&f.getText().charAt(0)==="0",m=l==null?null:l.get(Y.POSSIBLE_FORMATS),x=m==null||m.includes(ae.UPC_A);if(d&&x){const w=f.getRawBytes(),E=new Le(f.getText().substring(1),w,w?w.length:null,f.getResultPoints(),ae.UPC_A);return E.putAllMetadata(f.getResultMetadata()),E}return f}catch{}throw new W}reset(){for(let i of this.readers)i.reset()}}class Xt extends Ct{constructor(){super(),this.decodeFinderCounters=new Int32Array(4),this.dataCharacterCounters=new Int32Array(8),this.oddRoundingErrors=new Array(4),this.evenRoundingErrors=new Array(4),this.oddCounts=new Array(this.dataCharacterCounters.length/2),this.evenCounts=new Array(this.dataCharacterCounters.length/2)}getDecodeFinderCounters(){return this.decodeFinderCounters}getDataCharacterCounters(){return this.dataCharacterCounters}getOddRoundingErrors(){return this.oddRoundingErrors}getEvenRoundingErrors(){return this.evenRoundingErrors}getOddCounts(){return this.oddCounts}getEvenCounts(){return this.evenCounts}parseFinderValue(i,o){for(let l=0;l<o.length;l++)if(Ct.patternMatchVariance(i,o[l],Xt.MAX_INDIVIDUAL_VARIANCE)<Xt.MAX_AVG_VARIANCE)return l;throw new W}static count(i){return Oe.sum(new Int32Array(i))}static increment(i,o){let l=0,u=o[0];for(let f=1;f<i.length;f++)o[f]>u&&(u=o[f],l=f);i[l]++}static decrement(i,o){let l=0,u=o[0];for(let f=1;f<i.length;f++)o[f]<u&&(u=o[f],l=f);i[l]--}static isFinderPattern(i){let o=i[0]+i[1],l=o+i[2]+i[3],u=o/l;if(u>=Xt.MIN_FINDER_PATTERN_RATIO&&u<=Xt.MAX_FINDER_PATTERN_RATIO){let f=Number.MAX_SAFE_INTEGER,d=Number.MIN_SAFE_INTEGER;for(let m of i)m>d&&(d=m),m<f&&(f=m);return d<10*f}return!1}}Xt.MAX_AVG_VARIANCE=.2,Xt.MAX_INDIVIDUAL_VARIANCE=.45,Xt.MIN_FINDER_PATTERN_RATIO=9.5/12,Xt.MAX_FINDER_PATTERN_RATIO=12.5/14;class Ss{constructor(i,o){this.value=i,this.checksumPortion=o}getValue(){return this.value}getChecksumPortion(){return this.checksumPortion}toString(){return this.value+"("+this.checksumPortion+")"}equals(i){if(!(i instanceof Ss))return!1;const o=i;return this.value===o.value&&this.checksumPortion===o.checksumPortion}hashCode(){return this.value^this.checksumPortion}}class cl{constructor(i,o,l,u,f){this.value=i,this.startEnd=o,this.value=i,this.startEnd=o,this.resultPoints=new Array,this.resultPoints.push(new de(l,f)),this.resultPoints.push(new de(u,f))}getValue(){return this.value}getStartEnd(){return this.startEnd}getResultPoints(){return this.resultPoints}equals(i){if(!(i instanceof cl))return!1;const o=i;return this.value===o.value}hashCode(){return this.value}}class dr{constructor(){}static getRSSvalue(i,o,l){let u=0;for(let x of i)u+=x;let f=0,d=0,m=i.length;for(let x=0;x<m-1;x++){let w;for(w=1,d|=1<<x;w<i[x];w++,d&=~(1<<x)){let E=dr.combins(u-w-1,m-x-2);if(l&&d===0&&u-w-(m-x-1)>=m-x-1&&(E-=dr.combins(u-w-(m-x),m-x-2)),m-x-1>1){let b=0;for(let N=u-w-(m-x-2);N>o;N--)b+=dr.combins(u-w-N-1,m-x-3);E-=b*(m-1-x)}else u-w>o&&E--;f+=E}u-=w}return f}static combins(i,o){let l,u;i-o>o?(u=o,l=i-o):(u=i-o,l=o);let f=1,d=1;for(let m=i;m>l;m--)f*=m,d<=u&&(f/=d,d++);for(;d<=u;)f/=d,d++;return f}}class Iw{static buildBitArray(i){let o=i.length*2-1;i[i.length-1].getRightChar()==null&&(o-=1);let l=12*o,u=new P(l),f=0,m=i[0].getRightChar().getValue();for(let x=11;x>=0;--x)m&1<<x&&u.set(f),f++;for(let x=1;x<i.length;++x){let w=i[x],E=w.getLeftChar().getValue();for(let b=11;b>=0;--b)E&1<<b&&u.set(f),f++;if(w.getRightChar()!=null){let b=w.getRightChar().getValue();for(let N=11;N>=0;--N)b&1<<N&&u.set(f),f++}}return u}}class ji{constructor(i,o){o?this.decodedInformation=null:(this.finished=i,this.decodedInformation=o)}getDecodedInformation(){return this.decodedInformation}isFinished(){return this.finished}}class Vu{constructor(i){this.newPosition=i}getNewPosition(){return this.newPosition}}class ln extends Vu{constructor(i,o){super(i),this.value=o}getValue(){return this.value}isFNC1(){return this.value===ln.FNC1}}ln.FNC1="$";class Ui extends Vu{constructor(i,o,l){super(i),l?(this.remaining=!0,this.remainingValue=this.remainingValue):(this.remaining=!1,this.remainingValue=0),this.newString=o}getNewString(){return this.newString}isRemaining(){return this.remaining}getRemainingValue(){return this.remainingValue}}class Fn extends Vu{constructor(i,o,l){if(super(i),o<0||o>10||l<0||l>10)throw new j;this.firstDigit=o,this.secondDigit=l}getFirstDigit(){return this.firstDigit}getSecondDigit(){return this.secondDigit}getValue(){return this.firstDigit*10+this.secondDigit}isFirstDigitFNC1(){return this.firstDigit===Fn.FNC1}isSecondDigitFNC1(){return this.secondDigit===Fn.FNC1}isAnyFNC1(){return this.firstDigit===Fn.FNC1||this.secondDigit===Fn.FNC1}}Fn.FNC1=10;class le{constructor(){}static parseFieldsInGeneralPurpose(i){if(!i)return null;if(i.length<2)throw new W;let o=i.substring(0,2);for(let f of le.TWO_DIGIT_DATA_LENGTH)if(f[0]===o)return f[1]===le.VARIABLE_LENGTH?le.processVariableAI(2,f[2],i):le.processFixedAI(2,f[1],i);if(i.length<3)throw new W;let l=i.substring(0,3);for(let f of le.THREE_DIGIT_DATA_LENGTH)if(f[0]===l)return f[1]===le.VARIABLE_LENGTH?le.processVariableAI(3,f[2],i):le.processFixedAI(3,f[1],i);for(let f of le.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH)if(f[0]===l)return f[1]===le.VARIABLE_LENGTH?le.processVariableAI(4,f[2],i):le.processFixedAI(4,f[1],i);if(i.length<4)throw new W;let u=i.substring(0,4);for(let f of le.FOUR_DIGIT_DATA_LENGTH)if(f[0]===u)return f[1]===le.VARIABLE_LENGTH?le.processVariableAI(4,f[2],i):le.processFixedAI(4,f[1],i);throw new W}static processFixedAI(i,o,l){if(l.length<i)throw new W;let u=l.substring(0,i);if(l.length<i+o)throw new W;let f=l.substring(i,i+o),d=l.substring(i+o),m="("+u+")"+f,x=le.parseFieldsInGeneralPurpose(d);return x==null?m:m+x}static processVariableAI(i,o,l){let u=l.substring(0,i),f;l.length<i+o?f=l.length:f=i+o;let d=l.substring(i,f),m=l.substring(f),x="("+u+")"+d,w=le.parseFieldsInGeneralPurpose(m);return w==null?x:x+w}}le.VARIABLE_LENGTH=[],le.TWO_DIGIT_DATA_LENGTH=[["00",18],["01",14],["02",14],["10",le.VARIABLE_LENGTH,20],["11",6],["12",6],["13",6],["15",6],["17",6],["20",2],["21",le.VARIABLE_LENGTH,20],["22",le.VARIABLE_LENGTH,29],["30",le.VARIABLE_LENGTH,8],["37",le.VARIABLE_LENGTH,8],["90",le.VARIABLE_LENGTH,30],["91",le.VARIABLE_LENGTH,30],["92",le.VARIABLE_LENGTH,30],["93",le.VARIABLE_LENGTH,30],["94",le.VARIABLE_LENGTH,30],["95",le.VARIABLE_LENGTH,30],["96",le.VARIABLE_LENGTH,30],["97",le.VARIABLE_LENGTH,3],["98",le.VARIABLE_LENGTH,30],["99",le.VARIABLE_LENGTH,30]],le.THREE_DIGIT_DATA_LENGTH=[["240",le.VARIABLE_LENGTH,30],["241",le.VARIABLE_LENGTH,30],["242",le.VARIABLE_LENGTH,6],["250",le.VARIABLE_LENGTH,30],["251",le.VARIABLE_LENGTH,30],["253",le.VARIABLE_LENGTH,17],["254",le.VARIABLE_LENGTH,20],["400",le.VARIABLE_LENGTH,30],["401",le.VARIABLE_LENGTH,30],["402",17],["403",le.VARIABLE_LENGTH,30],["410",13],["411",13],["412",13],["413",13],["414",13],["420",le.VARIABLE_LENGTH,20],["421",le.VARIABLE_LENGTH,15],["422",3],["423",le.VARIABLE_LENGTH,15],["424",3],["425",3],["426",3]],le.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH=[["310",6],["311",6],["312",6],["313",6],["314",6],["315",6],["316",6],["320",6],["321",6],["322",6],["323",6],["324",6],["325",6],["326",6],["327",6],["328",6],["329",6],["330",6],["331",6],["332",6],["333",6],["334",6],["335",6],["336",6],["340",6],["341",6],["342",6],["343",6],["344",6],["345",6],["346",6],["347",6],["348",6],["349",6],["350",6],["351",6],["352",6],["353",6],["354",6],["355",6],["356",6],["357",6],["360",6],["361",6],["362",6],["363",6],["364",6],["365",6],["366",6],["367",6],["368",6],["369",6],["390",le.VARIABLE_LENGTH,15],["391",le.VARIABLE_LENGTH,18],["392",le.VARIABLE_LENGTH,15],["393",le.VARIABLE_LENGTH,18],["703",le.VARIABLE_LENGTH,30]],le.FOUR_DIGIT_DATA_LENGTH=[["7001",13],["7002",le.VARIABLE_LENGTH,30],["7003",10],["8001",14],["8002",le.VARIABLE_LENGTH,20],["8003",le.VARIABLE_LENGTH,30],["8004",le.VARIABLE_LENGTH,30],["8005",6],["8006",18],["8007",le.VARIABLE_LENGTH,30],["8008",le.VARIABLE_LENGTH,12],["8018",18],["8020",le.VARIABLE_LENGTH,25],["8100",6],["8101",10],["8102",2],["8110",le.VARIABLE_LENGTH,70],["8200",le.VARIABLE_LENGTH,70]];class bs{constructor(i){this.buffer=new xe,this.information=i}decodeAllCodes(i,o){let l=o,u=null;do{let f=this.decodeGeneralPurposeField(l,u),d=le.parseFieldsInGeneralPurpose(f.getNewString());if(d!=null&&i.append(d),f.isRemaining()?u=""+f.getRemainingValue():u=null,l===f.getNewPosition())break;l=f.getNewPosition()}while(!0);return i.toString()}isStillNumeric(i){if(i+7>this.information.getSize())return i+4<=this.information.getSize();for(let o=i;o<i+3;++o)if(this.information.get(o))return!0;return this.information.get(i+3)}decodeNumeric(i){if(i+7>this.information.getSize()){let f=this.extractNumericValueFromBitArray(i,4);return f===0?new Fn(this.information.getSize(),Fn.FNC1,Fn.FNC1):new Fn(this.information.getSize(),f-1,Fn.FNC1)}let o=this.extractNumericValueFromBitArray(i,7),l=(o-8)/11,u=(o-8)%11;return new Fn(i+7,l,u)}extractNumericValueFromBitArray(i,o){return bs.extractNumericValueFromBitArray(this.information,i,o)}static extractNumericValueFromBitArray(i,o,l){let u=0;for(let f=0;f<l;++f)i.get(o+f)&&(u|=1<<l-f-1);return u}decodeGeneralPurposeField(i,o){this.buffer.setLengthToZero(),o!=null&&this.buffer.append(o),this.current.setPosition(i);let l=this.parseBlocks();return l!=null&&l.isRemaining()?new Ui(this.current.getPosition(),this.buffer.toString(),l.getRemainingValue()):new Ui(this.current.getPosition(),this.buffer.toString())}parseBlocks(){let i,o;do{let l=this.current.getPosition();if(this.current.isAlpha()?(o=this.parseAlphaBlock(),i=o.isFinished()):this.current.isIsoIec646()?(o=this.parseIsoIec646Block(),i=o.isFinished()):(o=this.parseNumericBlock(),i=o.isFinished()),!(l!==this.current.getPosition())&&!i)break}while(!i);return o.getDecodedInformation()}parseNumericBlock(){for(;this.isStillNumeric(this.current.getPosition());){let i=this.decodeNumeric(this.current.getPosition());if(this.current.setPosition(i.getNewPosition()),i.isFirstDigitFNC1()){let o;return i.isSecondDigitFNC1()?o=new Ui(this.current.getPosition(),this.buffer.toString()):o=new Ui(this.current.getPosition(),this.buffer.toString(),i.getSecondDigit()),new ji(!0,o)}if(this.buffer.append(i.getFirstDigit()),i.isSecondDigitFNC1()){let o=new Ui(this.current.getPosition(),this.buffer.toString());return new ji(!0,o)}this.buffer.append(i.getSecondDigit())}return this.isNumericToAlphaNumericLatch(this.current.getPosition())&&(this.current.setAlpha(),this.current.incrementPosition(4)),new ji(!1)}parseIsoIec646Block(){for(;this.isStillIsoIec646(this.current.getPosition());){let i=this.decodeIsoIec646(this.current.getPosition());if(this.current.setPosition(i.getNewPosition()),i.isFNC1()){let o=new Ui(this.current.getPosition(),this.buffer.toString());return new ji(!0,o)}this.buffer.append(i.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setAlpha()),new ji(!1)}parseAlphaBlock(){for(;this.isStillAlpha(this.current.getPosition());){let i=this.decodeAlphanumeric(this.current.getPosition());if(this.current.setPosition(i.getNewPosition()),i.isFNC1()){let o=new Ui(this.current.getPosition(),this.buffer.toString());return new ji(!0,o)}this.buffer.append(i.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setIsoIec646()),new ji(!1)}isStillIsoIec646(i){if(i+5>this.information.getSize())return!1;let o=this.extractNumericValueFromBitArray(i,5);if(o>=5&&o<16)return!0;if(i+7>this.information.getSize())return!1;let l=this.extractNumericValueFromBitArray(i,7);if(l>=64&&l<116)return!0;if(i+8>this.information.getSize())return!1;let u=this.extractNumericValueFromBitArray(i,8);return u>=232&&u<253}decodeIsoIec646(i){let o=this.extractNumericValueFromBitArray(i,5);if(o===15)return new ln(i+5,ln.FNC1);if(o>=5&&o<15)return new ln(i+5,"0"+(o-5));let l=this.extractNumericValueFromBitArray(i,7);if(l>=64&&l<90)return new ln(i+7,""+(l+1));if(l>=90&&l<116)return new ln(i+7,""+(l+7));let u=this.extractNumericValueFromBitArray(i,8),f;switch(u){case 232:f="!";break;case 233:f='"';break;case 234:f="%";break;case 235:f="&";break;case 236:f="'";break;case 237:f="(";break;case 238:f=")";break;case 239:f="*";break;case 240:f="+";break;case 241:f=",";break;case 242:f="-";break;case 243:f=".";break;case 244:f="/";break;case 245:f=":";break;case 246:f=";";break;case 247:f="<";break;case 248:f="=";break;case 249:f=">";break;case 250:f="?";break;case 251:f="_";break;case 252:f=" ";break;default:throw new j}return new ln(i+8,f)}isStillAlpha(i){if(i+5>this.information.getSize())return!1;let o=this.extractNumericValueFromBitArray(i,5);if(o>=5&&o<16)return!0;if(i+6>this.information.getSize())return!1;let l=this.extractNumericValueFromBitArray(i,6);return l>=16&&l<63}decodeAlphanumeric(i){let o=this.extractNumericValueFromBitArray(i,5);if(o===15)return new ln(i+5,ln.FNC1);if(o>=5&&o<15)return new ln(i+5,"0"+(o-5));let l=this.extractNumericValueFromBitArray(i,6);if(l>=32&&l<58)return new ln(i+6,""+(l+33));let u;switch(l){case 58:u="*";break;case 59:u=",";break;case 60:u="-";break;case 61:u=".";break;case 62:u="/";break;default:throw new fr("Decoding invalid alphanumeric value: "+l)}return new ln(i+6,u)}isAlphaTo646ToAlphaLatch(i){if(i+1>this.information.getSize())return!1;for(let o=0;o<5&&o+i<this.information.getSize();++o)if(o===2){if(!this.information.get(i+2))return!1}else if(this.information.get(i+o))return!1;return!0}isAlphaOr646ToNumericLatch(i){if(i+3>this.information.getSize())return!1;for(let o=i;o<i+3;++o)if(this.information.get(o))return!1;return!0}isNumericToAlphaNumericLatch(i){if(i+1>this.information.getSize())return!1;for(let o=0;o<4&&o+i<this.information.getSize();++o)if(this.information.get(i+o))return!1;return!0}}class Yu{constructor(i){this.information=i,this.generalDecoder=new bs(i)}getInformation(){return this.information}getGeneralDecoder(){return this.generalDecoder}}class cn extends Yu{constructor(i){super(i)}encodeCompressedGtin(i,o){i.append("(01)");let l=i.length();i.append("9"),this.encodeCompressedGtinWithoutAI(i,o,l)}encodeCompressedGtinWithoutAI(i,o,l){for(let u=0;u<4;++u){let f=this.getGeneralDecoder().extractNumericValueFromBitArray(o+10*u,10);f/100===0&&i.append("0"),f/10===0&&i.append("0"),i.append(f)}cn.appendCheckDigit(i,l)}static appendCheckDigit(i,o){let l=0;for(let u=0;u<13;u++){let f=i.charAt(u+o).charCodeAt(0)-48;l+=u&1?f:3*f}l=10-l%10,l===10&&(l=0),i.append(l)}}cn.GTIN_SIZE=40;class vs extends cn{constructor(i){super(i)}parseInformation(){let i=new xe;i.append("(01)");let o=i.length(),l=this.getGeneralDecoder().extractNumericValueFromBitArray(vs.HEADER_SIZE,4);return i.append(l),this.encodeCompressedGtinWithoutAI(i,vs.HEADER_SIZE+4,o),this.getGeneralDecoder().decodeAllCodes(i,vs.HEADER_SIZE+44)}}vs.HEADER_SIZE=4;class ul extends Yu{constructor(i){super(i)}parseInformation(){let i=new xe;return this.getGeneralDecoder().decodeAllCodes(i,ul.HEADER_SIZE)}}ul.HEADER_SIZE=5;class fl extends cn{constructor(i){super(i)}encodeCompressedWeight(i,o,l){let u=this.getGeneralDecoder().extractNumericValueFromBitArray(o,l);this.addWeightCode(i,u);let f=this.checkWeight(u),d=1e5;for(let m=0;m<5;++m)f/d===0&&i.append("0"),d/=10;i.append(f)}}class hr extends fl{constructor(i){super(i)}parseInformation(){if(this.getInformation().getSize()!=hr.HEADER_SIZE+fl.GTIN_SIZE+hr.WEIGHT_SIZE)throw new W;let i=new xe;return this.encodeCompressedGtin(i,hr.HEADER_SIZE),this.encodeCompressedWeight(i,hr.HEADER_SIZE+fl.GTIN_SIZE,hr.WEIGHT_SIZE),i.toString()}}hr.HEADER_SIZE=5,hr.WEIGHT_SIZE=15;class Tw extends hr{constructor(i){super(i)}addWeightCode(i,o){i.append("(3103)")}checkWeight(i){return i}}class Nw extends hr{constructor(i){super(i)}addWeightCode(i,o){o<1e4?i.append("(3202)"):i.append("(3203)")}checkWeight(i){return i<1e4?i:i-1e4}}class gr extends cn{constructor(i){super(i)}parseInformation(){if(this.getInformation().getSize()<gr.HEADER_SIZE+cn.GTIN_SIZE)throw new W;let i=new xe;this.encodeCompressedGtin(i,gr.HEADER_SIZE);let o=this.getGeneralDecoder().extractNumericValueFromBitArray(gr.HEADER_SIZE+cn.GTIN_SIZE,gr.LAST_DIGIT_SIZE);i.append("(392"),i.append(o),i.append(")");let l=this.getGeneralDecoder().decodeGeneralPurposeField(gr.HEADER_SIZE+cn.GTIN_SIZE+gr.LAST_DIGIT_SIZE,null);return i.append(l.getNewString()),i.toString()}}gr.HEADER_SIZE=8,gr.LAST_DIGIT_SIZE=2;class tn extends cn{constructor(i){super(i)}parseInformation(){if(this.getInformation().getSize()<tn.HEADER_SIZE+cn.GTIN_SIZE)throw new W;let i=new xe;this.encodeCompressedGtin(i,tn.HEADER_SIZE);let o=this.getGeneralDecoder().extractNumericValueFromBitArray(tn.HEADER_SIZE+cn.GTIN_SIZE,tn.LAST_DIGIT_SIZE);i.append("(393"),i.append(o),i.append(")");let l=this.getGeneralDecoder().extractNumericValueFromBitArray(tn.HEADER_SIZE+cn.GTIN_SIZE+tn.LAST_DIGIT_SIZE,tn.FIRST_THREE_DIGITS_SIZE);l/100==0&&i.append("0"),l/10==0&&i.append("0"),i.append(l);let u=this.getGeneralDecoder().decodeGeneralPurposeField(tn.HEADER_SIZE+cn.GTIN_SIZE+tn.LAST_DIGIT_SIZE+tn.FIRST_THREE_DIGITS_SIZE,null);return i.append(u.getNewString()),i.toString()}}tn.HEADER_SIZE=8,tn.LAST_DIGIT_SIZE=2,tn.FIRST_THREE_DIGITS_SIZE=10;class it extends fl{constructor(i,o,l){super(i),this.dateCode=l,this.firstAIdigits=o}parseInformation(){if(this.getInformation().getSize()!=it.HEADER_SIZE+it.GTIN_SIZE+it.WEIGHT_SIZE+it.DATE_SIZE)throw new W;let i=new xe;return this.encodeCompressedGtin(i,it.HEADER_SIZE),this.encodeCompressedWeight(i,it.HEADER_SIZE+it.GTIN_SIZE,it.WEIGHT_SIZE),this.encodeCompressedDate(i,it.HEADER_SIZE+it.GTIN_SIZE+it.WEIGHT_SIZE),i.toString()}encodeCompressedDate(i,o){let l=this.getGeneralDecoder().extractNumericValueFromBitArray(o,it.DATE_SIZE);if(l==38400)return;i.append("("),i.append(this.dateCode),i.append(")");let u=l%32;l/=32;let f=l%12+1;l/=12;let d=l;d/10==0&&i.append("0"),i.append(d),f/10==0&&i.append("0"),i.append(f),u/10==0&&i.append("0"),i.append(u)}addWeightCode(i,o){i.append("("),i.append(this.firstAIdigits),i.append(o/1e5),i.append(")")}checkWeight(i){return i%1e5}}it.HEADER_SIZE=8,it.WEIGHT_SIZE=20,it.DATE_SIZE=16;function $0(S){try{if(S.get(1))return new vs(S);if(!S.get(2))return new ul(S);switch(bs.extractNumericValueFromBitArray(S,1,4)){case 4:return new Tw(S);case 5:return new Nw(S)}switch(bs.extractNumericValueFromBitArray(S,1,5)){case 12:return new gr(S);case 13:return new tn(S)}switch(bs.extractNumericValueFromBitArray(S,1,7)){case 56:return new it(S,"310","11");case 57:return new it(S,"320","11");case 58:return new it(S,"310","13");case 59:return new it(S,"320","13");case 60:return new it(S,"310","15");case 61:return new it(S,"320","15");case 62:return new it(S,"310","17");case 63:return new it(S,"320","17")}}catch(i){throw console.log(i),new fr("unknown decoder: "+S)}}class Jr{constructor(i,o,l,u){this.leftchar=i,this.rightchar=o,this.finderpattern=l,this.maybeLast=u}mayBeLast(){return this.maybeLast}getLeftChar(){return this.leftchar}getRightChar(){return this.rightchar}getFinderPattern(){return this.finderpattern}mustBeLast(){return this.rightchar==null}toString(){return"[ "+this.leftchar+", "+this.rightchar+" : "+(this.finderpattern==null?"null":this.finderpattern.getValue())+" ]"}static equals(i,o){return i instanceof Jr?Jr.equalsOrNull(i.leftchar,o.leftchar)&&Jr.equalsOrNull(i.rightchar,o.rightchar)&&Jr.equalsOrNull(i.finderpattern,o.finderpattern):!1}static equalsOrNull(i,o){return i===null?o===null:Jr.equals(i,o)}hashCode(){return this.leftchar.getValue()^this.rightchar.getValue()^this.finderpattern.getValue()}}class Xu{constructor(i,o,l){this.pairs=i,this.rowNumber=o,this.wasReversed=l}getPairs(){return this.pairs}getRowNumber(){return this.rowNumber}isReversed(){return this.wasReversed}isEquivalent(i){return this.checkEqualitity(this,i)}toString(){return"{ "+this.pairs+" }"}equals(i,o){return i instanceof Xu?this.checkEqualitity(i,o)&&i.wasReversed===o.wasReversed:!1}checkEqualitity(i,o){if(!i||!o)return;let l;return i.forEach((u,f)=>{o.forEach(d=>{u.getLeftChar().getValue()===d.getLeftChar().getValue()&&u.getRightChar().getValue()===d.getRightChar().getValue()&&u.getFinderPatter().getValue()===d.getFinderPatter().getValue()&&(l=!0)})}),l}}class q extends Xt{constructor(i){super(...arguments),this.pairs=new Array(q.MAX_PAIRS),this.rows=new Array,this.startEnd=[2],this.verbose=i===!0}decodeRow(i,o,l){this.pairs.length=0,this.startFromEven=!1;try{return q.constructResult(this.decodeRow2pairs(i,o))}catch(u){this.verbose&&console.log(u)}return this.pairs.length=0,this.startFromEven=!0,q.constructResult(this.decodeRow2pairs(i,o))}reset(){this.pairs.length=0,this.rows.length=0}decodeRow2pairs(i,o){let l=!1;for(;!l;)try{this.pairs.push(this.retrieveNextPair(o,this.pairs,i))}catch(f){if(f instanceof W){if(!this.pairs.length)throw new W;l=!0}}if(this.checkChecksum())return this.pairs;let u;if(this.rows.length?u=!0:u=!1,this.storeRow(i,!1),u){let f=this.checkRowsBoolean(!1);if(f!=null||(f=this.checkRowsBoolean(!0),f!=null))return f}throw new W}checkRowsBoolean(i){if(this.rows.length>25)return this.rows.length=0,null;this.pairs.length=0,i&&(this.rows=this.rows.reverse());let o=null;try{o=this.checkRows(new Array,0)}catch(l){this.verbose&&console.log(l)}return i&&(this.rows=this.rows.reverse()),o}checkRows(i,o){for(let l=o;l<this.rows.length;l++){let u=this.rows[l];this.pairs.length=0;for(let d of i)this.pairs.push(d.getPairs());if(this.pairs.push(u.getPairs()),!q.isValidSequence(this.pairs))continue;if(this.checkChecksum())return this.pairs;let f=new Array(i);f.push(u);try{return this.checkRows(f,l+1)}catch(d){this.verbose&&console.log(d)}}throw new W}static isValidSequence(i){for(let o of q.FINDER_PATTERN_SEQUENCES){if(i.length>o.length)continue;let l=!0;for(let u=0;u<i.length;u++)if(i[u].getFinderPattern().getValue()!=o[u]){l=!1;break}if(l)return!0}return!1}storeRow(i,o){let l=0,u=!1,f=!1;for(;l<this.rows.length;){let d=this.rows[l];if(d.getRowNumber()>i){f=d.isEquivalent(this.pairs);break}u=d.isEquivalent(this.pairs),l++}f||u||q.isPartialRow(this.pairs,this.rows)||(this.rows.push(l,new Xu(this.pairs,i,o)),this.removePartialRows(this.pairs,this.rows))}removePartialRows(i,o){for(let l of o)if(l.getPairs().length!==i.length){for(let u of l.getPairs())for(let f of i)if(Jr.equals(u,f))break}}static isPartialRow(i,o){for(let l of o){let u=!0;for(let f of i){let d=!1;for(let m of l.getPairs())if(f.equals(m)){d=!0;break}if(!d){u=!1;break}}if(u)return!0}return!1}getRows(){return this.rows}static constructResult(i){let o=Iw.buildBitArray(i),u=$0(o).parseInformation(),f=i[0].getFinderPattern().getResultPoints(),d=i[i.length-1].getFinderPattern().getResultPoints(),m=[f[0],f[1],d[0],d[1]];return new Le(u,null,null,m,ae.RSS_EXPANDED,null)}checkChecksum(){let i=this.pairs.get(0),o=i.getLeftChar(),l=i.getRightChar();if(l==null)return!1;let u=l.getChecksumPortion(),f=2;for(let m=1;m<this.pairs.size();++m){let x=this.pairs.get(m);u+=x.getLeftChar().getChecksumPortion(),f++;let w=x.getRightChar();w!=null&&(u+=w.getChecksumPortion(),f++)}return u%=211,211*(f-4)+u==o.getValue()}static getNextSecondBar(i,o){let l;return i.get(o)?(l=i.getNextUnset(o),l=i.getNextSet(l)):(l=i.getNextSet(o),l=i.getNextUnset(l)),l}retrieveNextPair(i,o,l){let u=o.length%2==0;this.startFromEven&&(u=!u);let f,d=!0,m=-1;do this.findNextPair(i,o,m),f=this.parseFoundFinderPattern(i,l,u),f==null?m=q.getNextSecondBar(i,this.startEnd[0]):d=!1;while(d);let x=this.decodeDataCharacter(i,f,u,!0);if(!this.isEmptyPair(o)&&o[o.length-1].mustBeLast())throw new W;let w;try{w=this.decodeDataCharacter(i,f,u,!1)}catch(E){w=null,this.verbose&&console.log(E)}return new Jr(x,w,f,!0)}isEmptyPair(i){return i.length===0}findNextPair(i,o,l){let u=this.getDecodeFinderCounters();u[0]=0,u[1]=0,u[2]=0,u[3]=0;let f=i.getSize(),d;l>=0?d=l:this.isEmptyPair(o)?d=0:d=o[o.length-1].getFinderPattern().getStartEnd()[1];let m=o.length%2!=0;this.startFromEven&&(m=!m);let x=!1;for(;d<f&&(x=!i.get(d),!!x);)d++;let w=0,E=d;for(let b=d;b<f;b++)if(i.get(b)!=x)u[w]++;else{if(w==3){if(m&&q.reverseCounters(u),q.isFinderPattern(u)){this.startEnd[0]=E,this.startEnd[1]=b;return}m&&q.reverseCounters(u),E+=u[0]+u[1],u[0]=u[2],u[1]=u[3],u[2]=0,u[3]=0,w--}else w++;u[w]=1,x=!x}throw new W}static reverseCounters(i){let o=i.length;for(let l=0;l<o/2;++l){let u=i[l];i[l]=i[o-l-1],i[o-l-1]=u}}parseFoundFinderPattern(i,o,l){let u,f,d;if(l){let w=this.startEnd[0]-1;for(;w>=0&&!i.get(w);)w--;w++,u=this.startEnd[0]-w,f=w,d=this.startEnd[1]}else f=this.startEnd[0],d=i.getNextUnset(this.startEnd[1]+1),u=d-this.startEnd[1];let m=this.getDecodeFinderCounters();R.arraycopy(m,0,m,1,m.length-1),m[0]=u;let x;try{x=this.parseFinderValue(m,q.FINDER_PATTERNS)}catch{return null}return new cl(x,[f,d],f,d,o)}decodeDataCharacter(i,o,l,u){let f=this.getDataCharacterCounters();for(let Qe=0;Qe<f.length;Qe++)f[Qe]=0;if(u)q.recordPatternInReverse(i,o.getStartEnd()[0],f);else{q.recordPattern(i,o.getStartEnd()[1],f);for(let Qe=0,jt=f.length-1;Qe<jt;Qe++,jt--){let Sn=f[Qe];f[Qe]=f[jt],f[jt]=Sn}}let d=17,m=Oe.sum(new Int32Array(f))/d,x=(o.getStartEnd()[1]-o.getStartEnd()[0])/15;if(Math.abs(m-x)/x>.3)throw new W;let w=this.getOddCounts(),E=this.getEvenCounts(),b=this.getOddRoundingErrors(),N=this.getEvenRoundingErrors();for(let Qe=0;Qe<f.length;Qe++){let jt=1*f[Qe]/m,Sn=jt+.5;if(Sn<1){if(jt<.3)throw new W;Sn=1}else if(Sn>8){if(jt>8.7)throw new W;Sn=8}let Ms=Qe/2;Qe&1?(E[Ms]=Sn,N[Ms]=jt-Sn):(w[Ms]=Sn,b[Ms]=jt-Sn)}this.adjustOddEvenCounts(d);let L=4*o.getValue()+(l?0:2)+(u?0:1)-1,B=0,F=0;for(let Qe=w.length-1;Qe>=0;Qe--){if(q.isNotA1left(o,l,u)){let jt=q.WEIGHTS[L][2*Qe];F+=w[Qe]*jt}B+=w[Qe]}let z=0;for(let Qe=E.length-1;Qe>=0;Qe--)if(q.isNotA1left(o,l,u)){let jt=q.WEIGHTS[L][2*Qe+1];z+=E[Qe]*jt}let Q=F+z;if(B&1||B>13||B<4)throw new W;let ee=(13-B)/2,te=q.SYMBOL_WIDEST[ee],$=9-te,Te=dr.getRSSvalue(w,te,!0),Ee=dr.getRSSvalue(E,$,!1),fn=q.EVEN_TOTAL_SUBSET[ee],Jn=q.GSUM[ee],dn=Te*fn+Ee+Jn;return new Ss(dn,Q)}static isNotA1left(i,o,l){return!(i.getValue()==0&&o&&l)}adjustOddEvenCounts(i){let o=Oe.sum(new Int32Array(this.getOddCounts())),l=Oe.sum(new Int32Array(this.getEvenCounts())),u=!1,f=!1;o>13?f=!0:o<4&&(u=!0);let d=!1,m=!1;l>13?m=!0:l<4&&(d=!0);let x=o+l-i,w=(o&1)==1,E=(l&1)==0;if(x==1)if(w){if(E)throw new W;f=!0}else{if(!E)throw new W;m=!0}else if(x==-1)if(w){if(E)throw new W;u=!0}else{if(!E)throw new W;d=!0}else if(x==0){if(w){if(!E)throw new W;o<l?(u=!0,m=!0):(f=!0,d=!0)}else if(E)throw new W}else throw new W;if(u){if(f)throw new W;q.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(f&&q.decrement(this.getOddCounts(),this.getOddRoundingErrors()),d){if(m)throw new W;q.increment(this.getEvenCounts(),this.getOddRoundingErrors())}m&&q.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())}}q.SYMBOL_WIDEST=[7,5,4,3,1],q.EVEN_TOTAL_SUBSET=[4,20,52,104,204],q.GSUM=[0,348,1388,2948,3988],q.FINDER_PATTERNS=[Int32Array.from([1,8,4,1]),Int32Array.from([3,6,4,1]),Int32Array.from([3,4,6,1]),Int32Array.from([3,2,8,1]),Int32Array.from([2,6,5,1]),Int32Array.from([2,2,9,1])],q.WEIGHTS=[[1,3,9,27,81,32,96,77],[20,60,180,118,143,7,21,63],[189,145,13,39,117,140,209,205],[193,157,49,147,19,57,171,91],[62,186,136,197,169,85,44,132],[185,133,188,142,4,12,36,108],[113,128,173,97,80,29,87,50],[150,28,84,41,123,158,52,156],[46,138,203,187,139,206,196,166],[76,17,51,153,37,111,122,155],[43,129,176,106,107,110,119,146],[16,48,144,10,30,90,59,177],[109,116,137,200,178,112,125,164],[70,210,208,202,184,130,179,115],[134,191,151,31,93,68,204,190],[148,22,66,198,172,94,71,2],[6,18,54,162,64,192,154,40],[120,149,25,75,14,42,126,167],[79,26,78,23,69,207,199,175],[103,98,83,38,114,131,182,124],[161,61,183,127,170,88,53,159],[55,165,73,8,24,72,5,15],[45,135,194,160,58,174,100,89]],q.FINDER_PAT_A=0,q.FINDER_PAT_B=1,q.FINDER_PAT_C=2,q.FINDER_PAT_D=3,q.FINDER_PAT_E=4,q.FINDER_PAT_F=5,q.FINDER_PATTERN_SEQUENCES=[[q.FINDER_PAT_A,q.FINDER_PAT_A],[q.FINDER_PAT_A,q.FINDER_PAT_B,q.FINDER_PAT_B],[q.FINDER_PAT_A,q.FINDER_PAT_C,q.FINDER_PAT_B,q.FINDER_PAT_D],[q.FINDER_PAT_A,q.FINDER_PAT_E,q.FINDER_PAT_B,q.FINDER_PAT_D,q.FINDER_PAT_C],[q.FINDER_PAT_A,q.FINDER_PAT_E,q.FINDER_PAT_B,q.FINDER_PAT_D,q.FINDER_PAT_D,q.FINDER_PAT_F],[q.FINDER_PAT_A,q.FINDER_PAT_E,q.FINDER_PAT_B,q.FINDER_PAT_D,q.FINDER_PAT_E,q.FINDER_PAT_F,q.FINDER_PAT_F],[q.FINDER_PAT_A,q.FINDER_PAT_A,q.FINDER_PAT_B,q.FINDER_PAT_B,q.FINDER_PAT_C,q.FINDER_PAT_C,q.FINDER_PAT_D,q.FINDER_PAT_D],[q.FINDER_PAT_A,q.FINDER_PAT_A,q.FINDER_PAT_B,q.FINDER_PAT_B,q.FINDER_PAT_C,q.FINDER_PAT_C,q.FINDER_PAT_D,q.FINDER_PAT_E,q.FINDER_PAT_E],[q.FINDER_PAT_A,q.FINDER_PAT_A,q.FINDER_PAT_B,q.FINDER_PAT_B,q.FINDER_PAT_C,q.FINDER_PAT_C,q.FINDER_PAT_D,q.FINDER_PAT_E,q.FINDER_PAT_F,q.FINDER_PAT_F],[q.FINDER_PAT_A,q.FINDER_PAT_A,q.FINDER_PAT_B,q.FINDER_PAT_B,q.FINDER_PAT_C,q.FINDER_PAT_D,q.FINDER_PAT_D,q.FINDER_PAT_E,q.FINDER_PAT_E,q.FINDER_PAT_F,q.FINDER_PAT_F]],q.MAX_PAIRS=11;class Mw extends Ss{constructor(i,o,l){super(i,o),this.count=0,this.finderPattern=l}getFinderPattern(){return this.finderPattern}getCount(){return this.count}incrementCount(){this.count++}}class ft extends Xt{constructor(){super(...arguments),this.possibleLeftPairs=[],this.possibleRightPairs=[]}decodeRow(i,o,l){const u=this.decodePair(o,!1,i,l);ft.addOrTally(this.possibleLeftPairs,u),o.reverse();let f=this.decodePair(o,!0,i,l);ft.addOrTally(this.possibleRightPairs,f),o.reverse();for(let d of this.possibleLeftPairs)if(d.getCount()>1){for(let m of this.possibleRightPairs)if(m.getCount()>1&&ft.checkChecksum(d,m))return ft.constructResult(d,m)}throw new W}static addOrTally(i,o){if(o==null)return;let l=!1;for(let u of i)if(u.getValue()===o.getValue()){u.incrementCount(),l=!0;break}l||i.push(o)}reset(){this.possibleLeftPairs.length=0,this.possibleRightPairs.length=0}static constructResult(i,o){let l=4537077*i.getValue()+o.getValue(),u=new String(l).toString(),f=new xe;for(let w=13-u.length;w>0;w--)f.append("0");f.append(u);let d=0;for(let w=0;w<13;w++){let E=f.charAt(w).charCodeAt(0)-48;d+=w&1?E:3*E}d=10-d%10,d===10&&(d=0),f.append(d.toString());let m=i.getFinderPattern().getResultPoints(),x=o.getFinderPattern().getResultPoints();return new Le(f.toString(),null,0,[m[0],m[1],x[0],x[1]],ae.RSS_14,new Date().getTime())}static checkChecksum(i,o){let l=(i.getChecksumPortion()+16*o.getChecksumPortion())%79,u=9*i.getFinderPattern().getValue()+o.getFinderPattern().getValue();return u>72&&u--,u>8&&u--,l===u}decodePair(i,o,l,u){try{let f=this.findFinderPattern(i,o),d=this.parseFoundFinderPattern(i,l,o,f),m=u==null?null:u.get(Y.NEED_RESULT_POINT_CALLBACK);if(m!=null){let E=(f[0]+f[1])/2;o&&(E=i.getSize()-1-E),m.foundPossibleResultPoint(new de(E,l))}let x=this.decodeDataCharacter(i,d,!0),w=this.decodeDataCharacter(i,d,!1);return new Mw(1597*x.getValue()+w.getValue(),x.getChecksumPortion()+4*w.getChecksumPortion(),d)}catch{return null}}decodeDataCharacter(i,o,l){let u=this.getDataCharacterCounters();for(let z=0;z<u.length;z++)u[z]=0;if(l)Ct.recordPatternInReverse(i,o.getStartEnd()[0],u);else{Ct.recordPattern(i,o.getStartEnd()[1]+1,u);for(let z=0,Q=u.length-1;z<Q;z++,Q--){let ee=u[z];u[z]=u[Q],u[Q]=ee}}let f=l?16:15,d=Oe.sum(new Int32Array(u))/f,m=this.getOddCounts(),x=this.getEvenCounts(),w=this.getOddRoundingErrors(),E=this.getEvenRoundingErrors();for(let z=0;z<u.length;z++){let Q=u[z]/d,ee=Math.floor(Q+.5);ee<1?ee=1:ee>8&&(ee=8);let te=Math.floor(z/2);z&1?(x[te]=ee,E[te]=Q-ee):(m[te]=ee,w[te]=Q-ee)}this.adjustOddEvenCounts(l,f);let b=0,N=0;for(let z=m.length-1;z>=0;z--)N*=9,N+=m[z],b+=m[z];let L=0,B=0;for(let z=x.length-1;z>=0;z--)L*=9,L+=x[z],B+=x[z];let F=N+3*L;if(l){if(b&1||b>12||b<4)throw new W;let z=(12-b)/2,Q=ft.OUTSIDE_ODD_WIDEST[z],ee=9-Q,te=dr.getRSSvalue(m,Q,!1),$=dr.getRSSvalue(x,ee,!0),Te=ft.OUTSIDE_EVEN_TOTAL_SUBSET[z],Ee=ft.OUTSIDE_GSUM[z];return new Ss(te*Te+$+Ee,F)}else{if(B&1||B>10||B<4)throw new W;let z=(10-B)/2,Q=ft.INSIDE_ODD_WIDEST[z],ee=9-Q,te=dr.getRSSvalue(m,Q,!0),$=dr.getRSSvalue(x,ee,!1),Te=ft.INSIDE_ODD_TOTAL_SUBSET[z],Ee=ft.INSIDE_GSUM[z];return new Ss($*Te+te+Ee,F)}}findFinderPattern(i,o){let l=this.getDecodeFinderCounters();l[0]=0,l[1]=0,l[2]=0,l[3]=0;let u=i.getSize(),f=!1,d=0;for(;d<u&&(f=!i.get(d),o!==f);)d++;let m=0,x=d;for(let w=d;w<u;w++)if(i.get(w)!==f)l[m]++;else{if(m===3){if(Xt.isFinderPattern(l))return[x,w];x+=l[0]+l[1],l[0]=l[2],l[1]=l[3],l[2]=0,l[3]=0,m--}else m++;l[m]=1,f=!f}throw new W}parseFoundFinderPattern(i,o,l,u){let f=i.get(u[0]),d=u[0]-1;for(;d>=0&&f!==i.get(d);)d--;d++;const m=u[0]-d,x=this.getDecodeFinderCounters(),w=new Int32Array(x.length);R.arraycopy(x,0,w,1,x.length-1),w[0]=m;const E=this.parseFinderValue(w,ft.FINDER_PATTERNS);let b=d,N=u[1];return l&&(b=i.getSize()-1-b,N=i.getSize()-1-N),new cl(E,[d,u[1]],b,N,o)}adjustOddEvenCounts(i,o){let l=Oe.sum(new Int32Array(this.getOddCounts())),u=Oe.sum(new Int32Array(this.getEvenCounts())),f=!1,d=!1,m=!1,x=!1;i?(l>12?d=!0:l<4&&(f=!0),u>12?x=!0:u<4&&(m=!0)):(l>11?d=!0:l<5&&(f=!0),u>10?x=!0:u<4&&(m=!0));let w=l+u-o,E=(l&1)===(i?1:0),b=(u&1)===1;if(w===1)if(E){if(b)throw new W;d=!0}else{if(!b)throw new W;x=!0}else if(w===-1)if(E){if(b)throw new W;f=!0}else{if(!b)throw new W;m=!0}else if(w===0){if(E){if(!b)throw new W;l<u?(f=!0,x=!0):(d=!0,m=!0)}else if(b)throw new W}else throw new W;if(f){if(d)throw new W;Xt.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(d&&Xt.decrement(this.getOddCounts(),this.getOddRoundingErrors()),m){if(x)throw new W;Xt.increment(this.getEvenCounts(),this.getOddRoundingErrors())}x&&Xt.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())}}ft.OUTSIDE_EVEN_TOTAL_SUBSET=[1,10,34,70,126],ft.INSIDE_ODD_TOTAL_SUBSET=[4,20,48,81],ft.OUTSIDE_GSUM=[0,161,961,2015,2715],ft.INSIDE_GSUM=[0,336,1036,1516],ft.OUTSIDE_ODD_WIDEST=[8,6,4,3,1],ft.INSIDE_ODD_WIDEST=[2,4,6,8],ft.FINDER_PATTERNS=[Int32Array.from([3,8,2,1]),Int32Array.from([3,5,5,1]),Int32Array.from([3,3,7,1]),Int32Array.from([3,1,9,1]),Int32Array.from([2,7,4,1]),Int32Array.from([2,5,6,1]),Int32Array.from([2,3,8,1]),Int32Array.from([1,5,7,1]),Int32Array.from([1,3,9,1])];class _s extends Ct{constructor(i,o){super(),this.readers=[],this.verbose=o===!0;const l=i?i.get(Y.POSSIBLE_FORMATS):null,u=i&&i.get(Y.ASSUME_CODE_39_CHECK_DIGIT)!==void 0;l?((l.includes(ae.EAN_13)||l.includes(ae.UPC_A)||l.includes(ae.EAN_8)||l.includes(ae.UPC_E))&&this.readers.push(new Wu(i)),l.includes(ae.CODE_39)&&this.readers.push(new St(u)),l.includes(ae.CODE_128)&&this.readers.push(new ie),l.includes(ae.ITF)&&this.readers.push(new Xe),l.includes(ae.RSS_14)&&this.readers.push(new ft),l.includes(ae.RSS_EXPANDED)&&this.readers.push(new q(this.verbose))):(this.readers.push(new Wu(i)),this.readers.push(new St),this.readers.push(new Wu(i)),this.readers.push(new ie),this.readers.push(new Xe),this.readers.push(new ft),this.readers.push(new q(this.verbose)))}decodeRow(i,o,l){for(let u=0;u<this.readers.length;u++)try{return this.readers[u].decodeRow(i,o,l)}catch{}throw new W}reset(){this.readers.forEach(i=>i.reset())}}class Ow extends Nt{constructor(i=500,o){super(new _s(o),i,o)}}class je{constructor(i,o,l){this.ecCodewords=i,this.ecBlocks=[o],l&&this.ecBlocks.push(l)}getECCodewords(){return this.ecCodewords}getECBlocks(){return this.ecBlocks}}class Fe{constructor(i,o){this.count=i,this.dataCodewords=o}getCount(){return this.count}getDataCodewords(){return this.dataCodewords}}class Me{constructor(i,o,l,u,f,d){this.versionNumber=i,this.symbolSizeRows=o,this.symbolSizeColumns=l,this.dataRegionSizeRows=u,this.dataRegionSizeColumns=f,this.ecBlocks=d;let m=0;const x=d.getECCodewords(),w=d.getECBlocks();for(let E of w)m+=E.getCount()*(E.getDataCodewords()+x);this.totalCodewords=m}getVersionNumber(){return this.versionNumber}getSymbolSizeRows(){return this.symbolSizeRows}getSymbolSizeColumns(){return this.symbolSizeColumns}getDataRegionSizeRows(){return this.dataRegionSizeRows}getDataRegionSizeColumns(){return this.dataRegionSizeColumns}getTotalCodewords(){return this.totalCodewords}getECBlocks(){return this.ecBlocks}static getVersionForDimensions(i,o){if(i&1||o&1)throw new j;for(let l of Me.VERSIONS)if(l.symbolSizeRows===i&&l.symbolSizeColumns===o)return l;throw new j}toString(){return""+this.versionNumber}static buildVersions(){return[new Me(1,10,10,8,8,new je(5,new Fe(1,3))),new Me(2,12,12,10,10,new je(7,new Fe(1,5))),new Me(3,14,14,12,12,new je(10,new Fe(1,8))),new Me(4,16,16,14,14,new je(12,new Fe(1,12))),new Me(5,18,18,16,16,new je(14,new Fe(1,18))),new Me(6,20,20,18,18,new je(18,new Fe(1,22))),new Me(7,22,22,20,20,new je(20,new Fe(1,30))),new Me(8,24,24,22,22,new je(24,new Fe(1,36))),new Me(9,26,26,24,24,new je(28,new Fe(1,44))),new Me(10,32,32,14,14,new je(36,new Fe(1,62))),new Me(11,36,36,16,16,new je(42,new Fe(1,86))),new Me(12,40,40,18,18,new je(48,new Fe(1,114))),new Me(13,44,44,20,20,new je(56,new Fe(1,144))),new Me(14,48,48,22,22,new je(68,new Fe(1,174))),new Me(15,52,52,24,24,new je(42,new Fe(2,102))),new Me(16,64,64,14,14,new je(56,new Fe(2,140))),new Me(17,72,72,16,16,new je(36,new Fe(4,92))),new Me(18,80,80,18,18,new je(48,new Fe(4,114))),new Me(19,88,88,20,20,new je(56,new Fe(4,144))),new Me(20,96,96,22,22,new je(68,new Fe(4,174))),new Me(21,104,104,24,24,new je(56,new Fe(6,136))),new Me(22,120,120,18,18,new je(68,new Fe(6,175))),new Me(23,132,132,20,20,new je(62,new Fe(8,163))),new Me(24,144,144,22,22,new je(62,new Fe(8,156),new Fe(2,155))),new Me(25,8,18,6,16,new je(7,new Fe(1,5))),new Me(26,8,32,6,14,new je(11,new Fe(1,10))),new Me(27,12,26,10,24,new je(14,new Fe(1,16))),new Me(28,12,36,10,16,new je(18,new Fe(1,22))),new Me(29,16,36,14,16,new je(24,new Fe(1,32))),new Me(30,16,48,14,22,new je(28,new Fe(1,49)))]}}Me.VERSIONS=Me.buildVersions();class Gu{constructor(i){const o=i.getHeight();if(o<8||o>144||o&1)throw new j;this.version=Gu.readVersion(i),this.mappingBitMatrix=this.extractDataRegion(i),this.readMappingMatrix=new Ne(this.mappingBitMatrix.getWidth(),this.mappingBitMatrix.getHeight())}getVersion(){return this.version}static readVersion(i){const o=i.getHeight(),l=i.getWidth();return Me.getVersionForDimensions(o,l)}readCodewords(){const i=new Int8Array(this.version.getTotalCodewords());let o=0,l=4,u=0;const f=this.mappingBitMatrix.getHeight(),d=this.mappingBitMatrix.getWidth();let m=!1,x=!1,w=!1,E=!1;do if(l===f&&u===0&&!m)i[o++]=this.readCorner1(f,d)&255,l-=2,u+=2,m=!0;else if(l===f-2&&u===0&&d&3&&!x)i[o++]=this.readCorner2(f,d)&255,l-=2,u+=2,x=!0;else if(l===f+4&&u===2&&!(d&7)&&!w)i[o++]=this.readCorner3(f,d)&255,l-=2,u+=2,w=!0;else if(l===f-2&&u===0&&(d&7)===4&&!E)i[o++]=this.readCorner4(f,d)&255,l-=2,u+=2,E=!0;else{do l<f&&u>=0&&!this.readMappingMatrix.get(u,l)&&(i[o++]=this.readUtah(l,u,f,d)&255),l-=2,u+=2;while(l>=0&&u<d);l+=1,u+=3;do l>=0&&u<d&&!this.readMappingMatrix.get(u,l)&&(i[o++]=this.readUtah(l,u,f,d)&255),l+=2,u-=2;while(l<f&&u>=0);l+=3,u+=1}while(l<f||u<d);if(o!==this.version.getTotalCodewords())throw new j;return i}readModule(i,o,l,u){return i<0&&(i+=l,o+=4-(l+4&7)),o<0&&(o+=u,i+=4-(u+4&7)),this.readMappingMatrix.set(o,i),this.mappingBitMatrix.get(o,i)}readUtah(i,o,l,u){let f=0;return this.readModule(i-2,o-2,l,u)&&(f|=1),f<<=1,this.readModule(i-2,o-1,l,u)&&(f|=1),f<<=1,this.readModule(i-1,o-2,l,u)&&(f|=1),f<<=1,this.readModule(i-1,o-1,l,u)&&(f|=1),f<<=1,this.readModule(i-1,o,l,u)&&(f|=1),f<<=1,this.readModule(i,o-2,l,u)&&(f|=1),f<<=1,this.readModule(i,o-1,l,u)&&(f|=1),f<<=1,this.readModule(i,o,l,u)&&(f|=1),f}readCorner1(i,o){let l=0;return this.readModule(i-1,0,i,o)&&(l|=1),l<<=1,this.readModule(i-1,1,i,o)&&(l|=1),l<<=1,this.readModule(i-1,2,i,o)&&(l|=1),l<<=1,this.readModule(0,o-2,i,o)&&(l|=1),l<<=1,this.readModule(0,o-1,i,o)&&(l|=1),l<<=1,this.readModule(1,o-1,i,o)&&(l|=1),l<<=1,this.readModule(2,o-1,i,o)&&(l|=1),l<<=1,this.readModule(3,o-1,i,o)&&(l|=1),l}readCorner2(i,o){let l=0;return this.readModule(i-3,0,i,o)&&(l|=1),l<<=1,this.readModule(i-2,0,i,o)&&(l|=1),l<<=1,this.readModule(i-1,0,i,o)&&(l|=1),l<<=1,this.readModule(0,o-4,i,o)&&(l|=1),l<<=1,this.readModule(0,o-3,i,o)&&(l|=1),l<<=1,this.readModule(0,o-2,i,o)&&(l|=1),l<<=1,this.readModule(0,o-1,i,o)&&(l|=1),l<<=1,this.readModule(1,o-1,i,o)&&(l|=1),l}readCorner3(i,o){let l=0;return this.readModule(i-1,0,i,o)&&(l|=1),l<<=1,this.readModule(i-1,o-1,i,o)&&(l|=1),l<<=1,this.readModule(0,o-3,i,o)&&(l|=1),l<<=1,this.readModule(0,o-2,i,o)&&(l|=1),l<<=1,this.readModule(0,o-1,i,o)&&(l|=1),l<<=1,this.readModule(1,o-3,i,o)&&(l|=1),l<<=1,this.readModule(1,o-2,i,o)&&(l|=1),l<<=1,this.readModule(1,o-1,i,o)&&(l|=1),l}readCorner4(i,o){let l=0;return this.readModule(i-3,0,i,o)&&(l|=1),l<<=1,this.readModule(i-2,0,i,o)&&(l|=1),l<<=1,this.readModule(i-1,0,i,o)&&(l|=1),l<<=1,this.readModule(0,o-2,i,o)&&(l|=1),l<<=1,this.readModule(0,o-1,i,o)&&(l|=1),l<<=1,this.readModule(1,o-1,i,o)&&(l|=1),l<<=1,this.readModule(2,o-1,i,o)&&(l|=1),l<<=1,this.readModule(3,o-1,i,o)&&(l|=1),l}extractDataRegion(i){const o=this.version.getSymbolSizeRows(),l=this.version.getSymbolSizeColumns();if(i.getHeight()!==o)throw new C("Dimension of bitMatrix must match the version size");const u=this.version.getDataRegionSizeRows(),f=this.version.getDataRegionSizeColumns(),d=o/u|0,m=l/f|0,x=d*u,w=m*f,E=new Ne(w,x);for(let b=0;b<d;++b){const N=b*u;for(let L=0;L<m;++L){const B=L*f;for(let F=0;F<u;++F){const z=b*(u+2)+1+F,Q=N+F;for(let ee=0;ee<f;++ee){const te=L*(f+2)+1+ee;if(i.get(te,z)){const $=B+ee;E.set($,Q)}}}}}return E}}class Qu{constructor(i,o){this.numDataCodewords=i,this.codewords=o}static getDataBlocks(i,o){const l=o.getECBlocks();let u=0;const f=l.getECBlocks();for(let F of f)u+=F.getCount();const d=new Array(u);let m=0;for(let F of f)for(let z=0;z<F.getCount();z++){const Q=F.getDataCodewords(),ee=l.getECCodewords()+Q;d[m++]=new Qu(Q,new Uint8Array(ee))}const w=d[0].codewords.length-l.getECCodewords(),E=w-1;let b=0;for(let F=0;F<E;F++)for(let z=0;z<m;z++)d[z].codewords[F]=i[b++];const N=o.getVersionNumber()===24,L=N?8:m;for(let F=0;F<L;F++)d[F].codewords[w-1]=i[b++];const B=d[0].codewords.length;for(let F=w;F<B;F++)for(let z=0;z<m;z++){const Q=N?(z+8)%m:z,ee=N&&Q>7?F-1:F;d[Q].codewords[ee]=i[b++]}if(b!==i.length)throw new C;return d}getNumDataCodewords(){return this.numDataCodewords}getCodewords(){return this.codewords}}class Zu{constructor(i){this.bytes=i,this.byteOffset=0,this.bitOffset=0}getBitOffset(){return this.bitOffset}getByteOffset(){return this.byteOffset}readBits(i){if(i<1||i>32||i>this.available())throw new C(""+i);let o=0,l=this.bitOffset,u=this.byteOffset;const f=this.bytes;if(l>0){const d=8-l,m=i<d?i:d,x=d-m,w=255>>8-m<<x;o=(f[u]&w)>>x,i-=m,l+=m,l===8&&(l=0,u++)}if(i>0){for(;i>=8;)o=o<<8|f[u]&255,u++,i-=8;if(i>0){const d=8-i,m=255>>d<<d;o=o<<i|(f[u]&m)>>d,l+=i}}return this.bitOffset=l,this.byteOffset=u,o}available(){return 8*(this.bytes.length-this.byteOffset)-this.bitOffset}}var bt;(function(S){S[S.PAD_ENCODE=0]="PAD_ENCODE",S[S.ASCII_ENCODE=1]="ASCII_ENCODE",S[S.C40_ENCODE=2]="C40_ENCODE",S[S.TEXT_ENCODE=3]="TEXT_ENCODE",S[S.ANSIX12_ENCODE=4]="ANSIX12_ENCODE",S[S.EDIFACT_ENCODE=5]="EDIFACT_ENCODE",S[S.BASE256_ENCODE=6]="BASE256_ENCODE"})(bt||(bt={}));class ei{static decode(i){const o=new Zu(i),l=new xe,u=new xe,f=new Array;let d=bt.ASCII_ENCODE;do if(d===bt.ASCII_ENCODE)d=this.decodeAsciiSegment(o,l,u);else{switch(d){case bt.C40_ENCODE:this.decodeC40Segment(o,l);break;case bt.TEXT_ENCODE:this.decodeTextSegment(o,l);break;case bt.ANSIX12_ENCODE:this.decodeAnsiX12Segment(o,l);break;case bt.EDIFACT_ENCODE:this.decodeEdifactSegment(o,l);break;case bt.BASE256_ENCODE:this.decodeBase256Segment(o,l,f);break;default:throw new j}d=bt.ASCII_ENCODE}while(d!==bt.PAD_ENCODE&&o.available()>0);return u.length()>0&&l.append(u.toString()),new Co(i,l.toString(),f.length===0?null:f,null)}static decodeAsciiSegment(i,o,l){let u=!1;do{let f=i.readBits(8);if(f===0)throw new j;if(f<=128)return u&&(f+=128),o.append(String.fromCharCode(f-1)),bt.ASCII_ENCODE;if(f===129)return bt.PAD_ENCODE;if(f<=229){const d=f-130;d<10&&o.append("0"),o.append(""+d)}else switch(f){case 230:return bt.C40_ENCODE;case 231:return bt.BASE256_ENCODE;case 232:o.append("");break;case 233:case 234:break;case 235:u=!0;break;case 236:o.append("[)>05"),l.insert(0,"");break;case 237:o.append("[)>06"),l.insert(0,"");break;case 238:return bt.ANSIX12_ENCODE;case 239:return bt.TEXT_ENCODE;case 240:return bt.EDIFACT_ENCODE;case 241:break;default:if(f!==254||i.available()!==0)throw new j;break}}while(i.available()>0);return bt.ASCII_ENCODE}static decodeC40Segment(i,o){let l=!1;const u=[];let f=0;do{if(i.available()===8)return;const d=i.readBits(8);if(d===254)return;this.parseTwoBytes(d,i.readBits(8),u);for(let m=0;m<3;m++){const x=u[m];switch(f){case 0:if(x<3)f=x+1;else if(x<this.C40_BASIC_SET_CHARS.length){const w=this.C40_BASIC_SET_CHARS[x];l?(o.append(String.fromCharCode(w.charCodeAt(0)+128)),l=!1):o.append(w)}else throw new j;break;case 1:l?(o.append(String.fromCharCode(x+128)),l=!1):o.append(String.fromCharCode(x)),f=0;break;case 2:if(x<this.C40_SHIFT2_SET_CHARS.length){const w=this.C40_SHIFT2_SET_CHARS[x];l?(o.append(String.fromCharCode(w.charCodeAt(0)+128)),l=!1):o.append(w)}else switch(x){case 27:o.append("");break;case 30:l=!0;break;default:throw new j}f=0;break;case 3:l?(o.append(String.fromCharCode(x+224)),l=!1):o.append(String.fromCharCode(x+96)),f=0;break;default:throw new j}}}while(i.available()>0)}static decodeTextSegment(i,o){let l=!1,u=[],f=0;do{if(i.available()===8)return;const d=i.readBits(8);if(d===254)return;this.parseTwoBytes(d,i.readBits(8),u);for(let m=0;m<3;m++){const x=u[m];switch(f){case 0:if(x<3)f=x+1;else if(x<this.TEXT_BASIC_SET_CHARS.length){const w=this.TEXT_BASIC_SET_CHARS[x];l?(o.append(String.fromCharCode(w.charCodeAt(0)+128)),l=!1):o.append(w)}else throw new j;break;case 1:l?(o.append(String.fromCharCode(x+128)),l=!1):o.append(String.fromCharCode(x)),f=0;break;case 2:if(x<this.TEXT_SHIFT2_SET_CHARS.length){const w=this.TEXT_SHIFT2_SET_CHARS[x];l?(o.append(String.fromCharCode(w.charCodeAt(0)+128)),l=!1):o.append(w)}else switch(x){case 27:o.append("");break;case 30:l=!0;break;default:throw new j}f=0;break;case 3:if(x<this.TEXT_SHIFT3_SET_CHARS.length){const w=this.TEXT_SHIFT3_SET_CHARS[x];l?(o.append(String.fromCharCode(w.charCodeAt(0)+128)),l=!1):o.append(w),f=0}else throw new j;break;default:throw new j}}}while(i.available()>0)}static decodeAnsiX12Segment(i,o){const l=[];do{if(i.available()===8)return;const u=i.readBits(8);if(u===254)return;this.parseTwoBytes(u,i.readBits(8),l);for(let f=0;f<3;f++){const d=l[f];switch(d){case 0:o.append("\r");break;case 1:o.append("*");break;case 2:o.append(">");break;case 3:o.append(" ");break;default:if(d<14)o.append(String.fromCharCode(d+44));else if(d<40)o.append(String.fromCharCode(d+51));else throw new j;break}}}while(i.available()>0)}static parseTwoBytes(i,o,l){let u=(i<<8)+o-1,f=Math.floor(u/1600);l[0]=f,u-=f*1600,f=Math.floor(u/40),l[1]=f,l[2]=u-f*40}static decodeEdifactSegment(i,o){do{if(i.available()<=16)return;for(let l=0;l<4;l++){let u=i.readBits(6);if(u===31){const f=8-i.getBitOffset();f!==8&&i.readBits(f);return}u&32||(u|=64),o.append(String.fromCharCode(u))}}while(i.available()>0)}static decodeBase256Segment(i,o,l){let u=1+i.getByteOffset();const f=this.unrandomize255State(i.readBits(8),u++);let d;if(f===0?d=i.available()/8|0:f<250?d=f:d=250*(f-249)+this.unrandomize255State(i.readBits(8),u++),d<0)throw new j;const m=new Uint8Array(d);for(let x=0;x<d;x++){if(i.available()<8)throw new j;m[x]=this.unrandomize255State(i.readBits(8),u++)}l.push(m);try{o.append(he.decode(m,ne.ISO88591))}catch(x){throw new fr("Platform does not support required encoding: "+x.message)}}static unrandomize255State(i,o){const l=149*o%255+1,u=i-l;return u>=0?u:u+256}}ei.C40_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"],ei.C40_SHIFT2_SET_CHARS=["!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","@","[","\\","]","^","_"],ei.TEXT_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z"],ei.TEXT_SHIFT2_SET_CHARS=ei.C40_SHIFT2_SET_CHARS,ei.TEXT_SHIFT3_SET_CHARS=["`","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","{","|","}","~",""];class Rw{constructor(){this.rsDecoder=new Ao(Pe.DATA_MATRIX_FIELD_256)}decode(i){const o=new Gu(i),l=o.getVersion(),u=o.readCodewords(),f=Qu.getDataBlocks(u,l);let d=0;for(let w of f)d+=w.getNumDataCodewords();const m=new Uint8Array(d),x=f.length;for(let w=0;w<x;w++){const E=f[w],b=E.getCodewords(),N=E.getNumDataCodewords();this.correctErrors(b,N);for(let L=0;L<N;L++)m[L*x+w]=b[L]}return ei.decode(m)}correctErrors(i,o){const l=new Int32Array(i);try{this.rsDecoder.decode(l,i.length-o)}catch{throw new v}for(let u=0;u<o;u++)i[u]=l[u]}}class mt{constructor(i){this.image=i,this.rectangleDetector=new Tr(this.image)}detect(){const i=this.rectangleDetector.detect();let o=this.detectSolid1(i);if(o=this.detectSolid2(o),o[3]=this.correctTopRight(o),!o[3])throw new W;o=this.shiftToModuleCenter(o);const l=o[0],u=o[1],f=o[2],d=o[3];let m=this.transitionsBetween(l,d)+1,x=this.transitionsBetween(f,d)+1;(m&1)===1&&(m+=1),(x&1)===1&&(x+=1),4*m<7*x&&4*x<7*m&&(m=x=Math.max(m,x));let w=mt.sampleGrid(this.image,l,u,f,d,m,x);return new al(w,[l,u,f,d])}static shiftPoint(i,o,l){let u=(o.getX()-i.getX())/(l+1),f=(o.getY()-i.getY())/(l+1);return new de(i.getX()+u,i.getY()+f)}static moveAway(i,o,l){let u=i.getX(),f=i.getY();return u<o?u-=1:u+=1,f<l?f-=1:f+=1,new de(u,f)}detectSolid1(i){let o=i[0],l=i[1],u=i[3],f=i[2],d=this.transitionsBetween(o,l),m=this.transitionsBetween(l,u),x=this.transitionsBetween(u,f),w=this.transitionsBetween(f,o),E=d,b=[f,o,l,u];return E>m&&(E=m,b[0]=o,b[1]=l,b[2]=u,b[3]=f),E>x&&(E=x,b[0]=l,b[1]=u,b[2]=f,b[3]=o),E>w&&(b[0]=u,b[1]=f,b[2]=o,b[3]=l),b}detectSolid2(i){let o=i[0],l=i[1],u=i[2],f=i[3],d=this.transitionsBetween(o,f),m=mt.shiftPoint(l,u,(d+1)*4),x=mt.shiftPoint(u,l,(d+1)*4),w=this.transitionsBetween(m,o),E=this.transitionsBetween(x,f);return w<E?(i[0]=o,i[1]=l,i[2]=u,i[3]=f):(i[0]=l,i[1]=u,i[2]=f,i[3]=o),i}correctTopRight(i){let o=i[0],l=i[1],u=i[2],f=i[3],d=this.transitionsBetween(o,f),m=this.transitionsBetween(l,f),x=mt.shiftPoint(o,l,(m+1)*4),w=mt.shiftPoint(u,l,(d+1)*4);d=this.transitionsBetween(x,f),m=this.transitionsBetween(w,f);let E=new de(f.getX()+(u.getX()-l.getX())/(d+1),f.getY()+(u.getY()-l.getY())/(d+1)),b=new de(f.getX()+(o.getX()-l.getX())/(m+1),f.getY()+(o.getY()-l.getY())/(m+1));if(!this.isValid(E))return this.isValid(b)?b:null;if(!this.isValid(b))return E;let N=this.transitionsBetween(x,E)+this.transitionsBetween(w,E),L=this.transitionsBetween(x,b)+this.transitionsBetween(w,b);return N>L?E:b}shiftToModuleCenter(i){let o=i[0],l=i[1],u=i[2],f=i[3],d=this.transitionsBetween(o,f)+1,m=this.transitionsBetween(u,f)+1,x=mt.shiftPoint(o,l,m*4),w=mt.shiftPoint(u,l,d*4);d=this.transitionsBetween(x,f)+1,m=this.transitionsBetween(w,f)+1,(d&1)===1&&(d+=1),(m&1)===1&&(m+=1);let E=(o.getX()+l.getX()+u.getX()+f.getX())/4,b=(o.getY()+l.getY()+u.getY()+f.getY())/4;o=mt.moveAway(o,E,b),l=mt.moveAway(l,E,b),u=mt.moveAway(u,E,b),f=mt.moveAway(f,E,b);let N,L;return x=mt.shiftPoint(o,l,m*4),x=mt.shiftPoint(x,f,d*4),N=mt.shiftPoint(l,o,m*4),N=mt.shiftPoint(N,u,d*4),w=mt.shiftPoint(u,f,m*4),w=mt.shiftPoint(w,l,d*4),L=mt.shiftPoint(f,u,m*4),L=mt.shiftPoint(L,o,d*4),[x,N,w,L]}isValid(i){return i.getX()>=0&&i.getX()<this.image.getWidth()&&i.getY()>0&&i.getY()<this.image.getHeight()}static sampleGrid(i,o,l,u,f,d,m){return $r.getInstance().sampleGrid(i,d,m,.5,.5,d-.5,.5,d-.5,m-.5,.5,m-.5,o.getX(),o.getY(),f.getX(),f.getY(),u.getX(),u.getY(),l.getX(),l.getY())}transitionsBetween(i,o){let l=Math.trunc(i.getX()),u=Math.trunc(i.getY()),f=Math.trunc(o.getX()),d=Math.trunc(o.getY()),m=Math.abs(d-u)>Math.abs(f-l);if(m){let F=l;l=u,u=F,F=f,f=d,d=F}let x=Math.abs(f-l),w=Math.abs(d-u),E=-x/2,b=u<d?1:-1,N=l<f?1:-1,L=0,B=this.image.get(m?u:l,m?l:u);for(let F=l,z=u;F!==f;F+=N){let Q=this.image.get(m?z:F,m?F:z);if(Q!==B&&(L++,B=Q),E+=w,E>0){if(z===d)break;z+=b,E-=x}}return L}}class ti{constructor(){this.decoder=new Rw}decode(i,o=null){let l,u;if(o!=null&&o.has(Y.PURE_BARCODE)){const w=ti.extractPureBits(i.getBlackMatrix());l=this.decoder.decode(w),u=ti.NO_POINTS}else{const w=new mt(i.getBlackMatrix()).detect();l=this.decoder.decode(w.getBits()),u=w.getPoints()}const f=l.getRawBytes(),d=new Le(l.getText(),f,8*f.length,u,ae.DATA_MATRIX,R.currentTimeMillis()),m=l.getByteSegments();m!=null&&d.putMetadata(Mt.BYTE_SEGMENTS,m);const x=l.getECLevel();return x!=null&&d.putMetadata(Mt.ERROR_CORRECTION_LEVEL,x),d}reset(){}static extractPureBits(i){const o=i.getTopLeftOnBit(),l=i.getBottomRightOnBit();if(o==null||l==null)throw new W;const u=this.moduleSize(o,i);let f=o[1];const d=l[1];let m=o[0];const w=(l[0]-m+1)/u,E=(d-f+1)/u;if(w<=0||E<=0)throw new W;const b=u/2;f+=b,m+=b;const N=new Ne(w,E);for(let L=0;L<E;L++){const B=f+L*u;for(let F=0;F<w;F++)i.get(m+F*u,B)&&N.set(F,L)}return N}static moduleSize(i,o){const l=o.getWidth();let u=i[0];const f=i[1];for(;u<l&&o.get(u,f);)u++;if(u===l)throw new W;const d=u-i[0];if(d===0)throw new W;return d}}ti.NO_POINTS=[];class Dw extends Nt{constructor(i=500){super(new ti,i)}}var Is;(function(S){S[S.L=0]="L",S[S.M=1]="M",S[S.Q=2]="Q",S[S.H=3]="H"})(Is||(Is={}));class qe{constructor(i,o,l){this.value=i,this.stringValue=o,this.bits=l,qe.FOR_BITS.set(l,this),qe.FOR_VALUE.set(i,this)}getValue(){return this.value}getBits(){return this.bits}static fromString(i){switch(i){case"L":return qe.L;case"M":return qe.M;case"Q":return qe.Q;case"H":return qe.H;default:throw new y(i+"not available")}}toString(){return this.stringValue}equals(i){if(!(i instanceof qe))return!1;const o=i;return this.value===o.value}static forBits(i){if(i<0||i>=qe.FOR_BITS.size)throw new C;return qe.FOR_BITS.get(i)}}qe.FOR_BITS=new Map,qe.FOR_VALUE=new Map,qe.L=new qe(Is.L,"L",1),qe.M=new qe(Is.M,"M",0),qe.Q=new qe(Is.Q,"Q",3),qe.H=new qe(Is.H,"H",2);class Gt{constructor(i){this.errorCorrectionLevel=qe.forBits(i>>3&3),this.dataMask=i&7}static numBitsDiffering(i,o){return O.bitCount(i^o)}static decodeFormatInformation(i,o){const l=Gt.doDecodeFormatInformation(i,o);return l!==null?l:Gt.doDecodeFormatInformation(i^Gt.FORMAT_INFO_MASK_QR,o^Gt.FORMAT_INFO_MASK_QR)}static doDecodeFormatInformation(i,o){let l=Number.MAX_SAFE_INTEGER,u=0;for(const f of Gt.FORMAT_INFO_DECODE_LOOKUP){const d=f[0];if(d===i||d===o)return new Gt(f[1]);let m=Gt.numBitsDiffering(i,d);m<l&&(u=f[1],l=m),i!==o&&(m=Gt.numBitsDiffering(o,d),m<l&&(u=f[1],l=m))}return l<=3?new Gt(u):null}getErrorCorrectionLevel(){return this.errorCorrectionLevel}getDataMask(){return this.dataMask}hashCode(){return this.errorCorrectionLevel.getBits()<<3|this.dataMask}equals(i){if(!(i instanceof Gt))return!1;const o=i;return this.errorCorrectionLevel===o.errorCorrectionLevel&&this.dataMask===o.dataMask}}Gt.FORMAT_INFO_MASK_QR=21522,Gt.FORMAT_INFO_DECODE_LOOKUP=[Int32Array.from([21522,0]),Int32Array.from([20773,1]),Int32Array.from([24188,2]),Int32Array.from([23371,3]),Int32Array.from([17913,4]),Int32Array.from([16590,5]),Int32Array.from([20375,6]),Int32Array.from([19104,7]),Int32Array.from([30660,8]),Int32Array.from([29427,9]),Int32Array.from([32170,10]),Int32Array.from([30877,11]),Int32Array.from([26159,12]),Int32Array.from([25368,13]),Int32Array.from([27713,14]),Int32Array.from([26998,15]),Int32Array.from([5769,16]),Int32Array.from([5054,17]),Int32Array.from([7399,18]),Int32Array.from([6608,19]),Int32Array.from([1890,20]),Int32Array.from([597,21]),Int32Array.from([3340,22]),Int32Array.from([2107,23]),Int32Array.from([13663,24]),Int32Array.from([12392,25]),Int32Array.from([16177,26]),Int32Array.from([14854,27]),Int32Array.from([9396,28]),Int32Array.from([8579,29]),Int32Array.from([11994,30]),Int32Array.from([11245,31])];class H{constructor(i,...o){this.ecCodewordsPerBlock=i,this.ecBlocks=o}getECCodewordsPerBlock(){return this.ecCodewordsPerBlock}getNumBlocks(){let i=0;const o=this.ecBlocks;for(const l of o)i+=l.getCount();return i}getTotalECCodewords(){return this.ecCodewordsPerBlock*this.getNumBlocks()}getECBlocks(){return this.ecBlocks}}class k{constructor(i,o){this.count=i,this.dataCodewords=o}getCount(){return this.count}getDataCodewords(){return this.dataCodewords}}class ge{constructor(i,o,...l){this.versionNumber=i,this.alignmentPatternCenters=o,this.ecBlocks=l;let u=0;const f=l[0].getECCodewordsPerBlock(),d=l[0].getECBlocks();for(const m of d)u+=m.getCount()*(m.getDataCodewords()+f);this.totalCodewords=u}getVersionNumber(){return this.versionNumber}getAlignmentPatternCenters(){return this.alignmentPatternCenters}getTotalCodewords(){return this.totalCodewords}getDimensionForVersion(){return 17+4*this.versionNumber}getECBlocksForLevel(i){return this.ecBlocks[i.getValue()]}static getProvisionalVersionForDimension(i){if(i%4!==1)throw new j;try{return this.getVersionForNumber((i-17)/4)}catch{throw new j}}static getVersionForNumber(i){if(i<1||i>40)throw new C;return ge.VERSIONS[i-1]}static decodeVersionInformation(i){let o=Number.MAX_SAFE_INTEGER,l=0;for(let u=0;u<ge.VERSION_DECODE_INFO.length;u++){const f=ge.VERSION_DECODE_INFO[u];if(f===i)return ge.getVersionForNumber(u+7);const d=Gt.numBitsDiffering(i,f);d<o&&(l=u+7,o=d)}return o<=3?ge.getVersionForNumber(l):null}buildFunctionPattern(){const i=this.getDimensionForVersion(),o=new Ne(i);o.setRegion(0,0,9,9),o.setRegion(i-8,0,8,9),o.setRegion(0,i-8,9,8);const l=this.alignmentPatternCenters.length;for(let u=0;u<l;u++){const f=this.alignmentPatternCenters[u]-2;for(let d=0;d<l;d++)u===0&&(d===0||d===l-1)||u===l-1&&d===0||o.setRegion(this.alignmentPatternCenters[d]-2,f,5,5)}return o.setRegion(6,9,1,i-17),o.setRegion(9,6,i-17,1),this.versionNumber>6&&(o.setRegion(i-11,0,3,6),o.setRegion(0,i-11,6,3)),o}toString(){return""+this.versionNumber}}ge.VERSION_DECODE_INFO=Int32Array.from([31892,34236,39577,42195,48118,51042,55367,58893,63784,68472,70749,76311,79154,84390,87683,92361,96236,102084,102881,110507,110734,117786,119615,126325,127568,133589,136944,141498,145311,150283,152622,158308,161089,167017]),ge.VERSIONS=[new ge(1,new Int32Array(0),new H(7,new k(1,19)),new H(10,new k(1,16)),new H(13,new k(1,13)),new H(17,new k(1,9))),new ge(2,Int32Array.from([6,18]),new H(10,new k(1,34)),new H(16,new k(1,28)),new H(22,new k(1,22)),new H(28,new k(1,16))),new ge(3,Int32Array.from([6,22]),new H(15,new k(1,55)),new H(26,new k(1,44)),new H(18,new k(2,17)),new H(22,new k(2,13))),new ge(4,Int32Array.from([6,26]),new H(20,new k(1,80)),new H(18,new k(2,32)),new H(26,new k(2,24)),new H(16,new k(4,9))),new ge(5,Int32Array.from([6,30]),new H(26,new k(1,108)),new H(24,new k(2,43)),new H(18,new k(2,15),new k(2,16)),new H(22,new k(2,11),new k(2,12))),new ge(6,Int32Array.from([6,34]),new H(18,new k(2,68)),new H(16,new k(4,27)),new H(24,new k(4,19)),new H(28,new k(4,15))),new ge(7,Int32Array.from([6,22,38]),new H(20,new k(2,78)),new H(18,new k(4,31)),new H(18,new k(2,14),new k(4,15)),new H(26,new k(4,13),new k(1,14))),new ge(8,Int32Array.from([6,24,42]),new H(24,new k(2,97)),new H(22,new k(2,38),new k(2,39)),new H(22,new k(4,18),new k(2,19)),new H(26,new k(4,14),new k(2,15))),new ge(9,Int32Array.from([6,26,46]),new H(30,new k(2,116)),new H(22,new k(3,36),new k(2,37)),new H(20,new k(4,16),new k(4,17)),new H(24,new k(4,12),new k(4,13))),new ge(10,Int32Array.from([6,28,50]),new H(18,new k(2,68),new k(2,69)),new H(26,new k(4,43),new k(1,44)),new H(24,new k(6,19),new k(2,20)),new H(28,new k(6,15),new k(2,16))),new ge(11,Int32Array.from([6,30,54]),new H(20,new k(4,81)),new H(30,new k(1,50),new k(4,51)),new H(28,new k(4,22),new k(4,23)),new H(24,new k(3,12),new k(8,13))),new ge(12,Int32Array.from([6,32,58]),new H(24,new k(2,92),new k(2,93)),new H(22,new k(6,36),new k(2,37)),new H(26,new k(4,20),new k(6,21)),new H(28,new k(7,14),new k(4,15))),new ge(13,Int32Array.from([6,34,62]),new H(26,new k(4,107)),new H(22,new k(8,37),new k(1,38)),new H(24,new k(8,20),new k(4,21)),new H(22,new k(12,11),new k(4,12))),new ge(14,Int32Array.from([6,26,46,66]),new H(30,new k(3,115),new k(1,116)),new H(24,new k(4,40),new k(5,41)),new H(20,new k(11,16),new k(5,17)),new H(24,new k(11,12),new k(5,13))),new ge(15,Int32Array.from([6,26,48,70]),new H(22,new k(5,87),new k(1,88)),new H(24,new k(5,41),new k(5,42)),new H(30,new k(5,24),new k(7,25)),new H(24,new k(11,12),new k(7,13))),new ge(16,Int32Array.from([6,26,50,74]),new H(24,new k(5,98),new k(1,99)),new H(28,new k(7,45),new k(3,46)),new H(24,new k(15,19),new k(2,20)),new H(30,new k(3,15),new k(13,16))),new ge(17,Int32Array.from([6,30,54,78]),new H(28,new k(1,107),new k(5,108)),new H(28,new k(10,46),new k(1,47)),new H(28,new k(1,22),new k(15,23)),new H(28,new k(2,14),new k(17,15))),new ge(18,Int32Array.from([6,30,56,82]),new H(30,new k(5,120),new k(1,121)),new H(26,new k(9,43),new k(4,44)),new H(28,new k(17,22),new k(1,23)),new H(28,new k(2,14),new k(19,15))),new ge(19,Int32Array.from([6,30,58,86]),new H(28,new k(3,113),new k(4,114)),new H(26,new k(3,44),new k(11,45)),new H(26,new k(17,21),new k(4,22)),new H(26,new k(9,13),new k(16,14))),new ge(20,Int32Array.from([6,34,62,90]),new H(28,new k(3,107),new k(5,108)),new H(26,new k(3,41),new k(13,42)),new H(30,new k(15,24),new k(5,25)),new H(28,new k(15,15),new k(10,16))),new ge(21,Int32Array.from([6,28,50,72,94]),new H(28,new k(4,116),new k(4,117)),new H(26,new k(17,42)),new H(28,new k(17,22),new k(6,23)),new H(30,new k(19,16),new k(6,17))),new ge(22,Int32Array.from([6,26,50,74,98]),new H(28,new k(2,111),new k(7,112)),new H(28,new k(17,46)),new H(30,new k(7,24),new k(16,25)),new H(24,new k(34,13))),new ge(23,Int32Array.from([6,30,54,78,102]),new H(30,new k(4,121),new k(5,122)),new H(28,new k(4,47),new k(14,48)),new H(30,new k(11,24),new k(14,25)),new H(30,new k(16,15),new k(14,16))),new ge(24,Int32Array.from([6,28,54,80,106]),new H(30,new k(6,117),new k(4,118)),new H(28,new k(6,45),new k(14,46)),new H(30,new k(11,24),new k(16,25)),new H(30,new k(30,16),new k(2,17))),new ge(25,Int32Array.from([6,32,58,84,110]),new H(26,new k(8,106),new k(4,107)),new H(28,new k(8,47),new k(13,48)),new H(30,new k(7,24),new k(22,25)),new H(30,new k(22,15),new k(13,16))),new ge(26,Int32Array.from([6,30,58,86,114]),new H(28,new k(10,114),new k(2,115)),new H(28,new k(19,46),new k(4,47)),new H(28,new k(28,22),new k(6,23)),new H(30,new k(33,16),new k(4,17))),new ge(27,Int32Array.from([6,34,62,90,118]),new H(30,new k(8,122),new k(4,123)),new H(28,new k(22,45),new k(3,46)),new H(30,new k(8,23),new k(26,24)),new H(30,new k(12,15),new k(28,16))),new ge(28,Int32Array.from([6,26,50,74,98,122]),new H(30,new k(3,117),new k(10,118)),new H(28,new k(3,45),new k(23,46)),new H(30,new k(4,24),new k(31,25)),new H(30,new k(11,15),new k(31,16))),new ge(29,Int32Array.from([6,30,54,78,102,126]),new H(30,new k(7,116),new k(7,117)),new H(28,new k(21,45),new k(7,46)),new H(30,new k(1,23),new k(37,24)),new H(30,new k(19,15),new k(26,16))),new ge(30,Int32Array.from([6,26,52,78,104,130]),new H(30,new k(5,115),new k(10,116)),new H(28,new k(19,47),new k(10,48)),new H(30,new k(15,24),new k(25,25)),new H(30,new k(23,15),new k(25,16))),new ge(31,Int32Array.from([6,30,56,82,108,134]),new H(30,new k(13,115),new k(3,116)),new H(28,new k(2,46),new k(29,47)),new H(30,new k(42,24),new k(1,25)),new H(30,new k(23,15),new k(28,16))),new ge(32,Int32Array.from([6,34,60,86,112,138]),new H(30,new k(17,115)),new H(28,new k(10,46),new k(23,47)),new H(30,new k(10,24),new k(35,25)),new H(30,new k(19,15),new k(35,16))),new ge(33,Int32Array.from([6,30,58,86,114,142]),new H(30,new k(17,115),new k(1,116)),new H(28,new k(14,46),new k(21,47)),new H(30,new k(29,24),new k(19,25)),new H(30,new k(11,15),new k(46,16))),new ge(34,Int32Array.from([6,34,62,90,118,146]),new H(30,new k(13,115),new k(6,116)),new H(28,new k(14,46),new k(23,47)),new H(30,new k(44,24),new k(7,25)),new H(30,new k(59,16),new k(1,17))),new ge(35,Int32Array.from([6,30,54,78,102,126,150]),new H(30,new k(12,121),new k(7,122)),new H(28,new k(12,47),new k(26,48)),new H(30,new k(39,24),new k(14,25)),new H(30,new k(22,15),new k(41,16))),new ge(36,Int32Array.from([6,24,50,76,102,128,154]),new H(30,new k(6,121),new k(14,122)),new H(28,new k(6,47),new k(34,48)),new H(30,new k(46,24),new k(10,25)),new H(30,new k(2,15),new k(64,16))),new ge(37,Int32Array.from([6,28,54,80,106,132,158]),new H(30,new k(17,122),new k(4,123)),new H(28,new k(29,46),new k(14,47)),new H(30,new k(49,24),new k(10,25)),new H(30,new k(24,15),new k(46,16))),new ge(38,Int32Array.from([6,32,58,84,110,136,162]),new H(30,new k(4,122),new k(18,123)),new H(28,new k(13,46),new k(32,47)),new H(30,new k(48,24),new k(14,25)),new H(30,new k(42,15),new k(32,16))),new ge(39,Int32Array.from([6,26,54,82,110,138,166]),new H(30,new k(20,117),new k(4,118)),new H(28,new k(40,47),new k(7,48)),new H(30,new k(43,24),new k(22,25)),new H(30,new k(10,15),new k(67,16))),new ge(40,Int32Array.from([6,30,58,86,114,142,170]),new H(30,new k(19,118),new k(6,119)),new H(28,new k(18,47),new k(31,48)),new H(30,new k(34,24),new k(34,25)),new H(30,new k(20,15),new k(61,16)))];var Ot;(function(S){S[S.DATA_MASK_000=0]="DATA_MASK_000",S[S.DATA_MASK_001=1]="DATA_MASK_001",S[S.DATA_MASK_010=2]="DATA_MASK_010",S[S.DATA_MASK_011=3]="DATA_MASK_011",S[S.DATA_MASK_100=4]="DATA_MASK_100",S[S.DATA_MASK_101=5]="DATA_MASK_101",S[S.DATA_MASK_110=6]="DATA_MASK_110",S[S.DATA_MASK_111=7]="DATA_MASK_111"})(Ot||(Ot={}));class jn{constructor(i,o){this.value=i,this.isMasked=o}unmaskBitMatrix(i,o){for(let l=0;l<o;l++)for(let u=0;u<o;u++)this.isMasked(l,u)&&i.flip(u,l)}}jn.values=new Map([[Ot.DATA_MASK_000,new jn(Ot.DATA_MASK_000,(S,i)=>(S+i&1)===0)],[Ot.DATA_MASK_001,new jn(Ot.DATA_MASK_001,(S,i)=>(S&1)===0)],[Ot.DATA_MASK_010,new jn(Ot.DATA_MASK_010,(S,i)=>i%3===0)],[Ot.DATA_MASK_011,new jn(Ot.DATA_MASK_011,(S,i)=>(S+i)%3===0)],[Ot.DATA_MASK_100,new jn(Ot.DATA_MASK_100,(S,i)=>(Math.floor(S/2)+Math.floor(i/3)&1)===0)],[Ot.DATA_MASK_101,new jn(Ot.DATA_MASK_101,(S,i)=>S*i%6===0)],[Ot.DATA_MASK_110,new jn(Ot.DATA_MASK_110,(S,i)=>S*i%6<3)],[Ot.DATA_MASK_111,new jn(Ot.DATA_MASK_111,(S,i)=>(S+i+S*i%3&1)===0)]]);class kw{constructor(i){const o=i.getHeight();if(o<21||(o&3)!==1)throw new j;this.bitMatrix=i}readFormatInformation(){if(this.parsedFormatInfo!==null&&this.parsedFormatInfo!==void 0)return this.parsedFormatInfo;let i=0;for(let f=0;f<6;f++)i=this.copyBit(f,8,i);i=this.copyBit(7,8,i),i=this.copyBit(8,8,i),i=this.copyBit(8,7,i);for(let f=5;f>=0;f--)i=this.copyBit(8,f,i);const o=this.bitMatrix.getHeight();let l=0;const u=o-7;for(let f=o-1;f>=u;f--)l=this.copyBit(8,f,l);for(let f=o-8;f<o;f++)l=this.copyBit(f,8,l);if(this.parsedFormatInfo=Gt.decodeFormatInformation(i,l),this.parsedFormatInfo!==null)return this.parsedFormatInfo;throw new j}readVersion(){if(this.parsedVersion!==null&&this.parsedVersion!==void 0)return this.parsedVersion;const i=this.bitMatrix.getHeight(),o=Math.floor((i-17)/4);if(o<=6)return ge.getVersionForNumber(o);let l=0;const u=i-11;for(let d=5;d>=0;d--)for(let m=i-9;m>=u;m--)l=this.copyBit(m,d,l);let f=ge.decodeVersionInformation(l);if(f!==null&&f.getDimensionForVersion()===i)return this.parsedVersion=f,f;l=0;for(let d=5;d>=0;d--)for(let m=i-9;m>=u;m--)l=this.copyBit(d,m,l);if(f=ge.decodeVersionInformation(l),f!==null&&f.getDimensionForVersion()===i)return this.parsedVersion=f,f;throw new j}copyBit(i,o,l){return(this.isMirror?this.bitMatrix.get(o,i):this.bitMatrix.get(i,o))?l<<1|1:l<<1}readCodewords(){const i=this.readFormatInformation(),o=this.readVersion(),l=jn.values.get(i.getDataMask()),u=this.bitMatrix.getHeight();l.unmaskBitMatrix(this.bitMatrix,u);const f=o.buildFunctionPattern();let d=!0;const m=new Uint8Array(o.getTotalCodewords());let x=0,w=0,E=0;for(let b=u-1;b>0;b-=2){b===6&&b--;for(let N=0;N<u;N++){const L=d?u-1-N:N;for(let B=0;B<2;B++)f.get(b-B,L)||(E++,w<<=1,this.bitMatrix.get(b-B,L)&&(w|=1),E===8&&(m[x++]=w,E=0,w=0))}d=!d}if(x!==o.getTotalCodewords())throw new j;return m}remask(){if(this.parsedFormatInfo===null)return;const i=jn.values[this.parsedFormatInfo.getDataMask()],o=this.bitMatrix.getHeight();i.unmaskBitMatrix(this.bitMatrix,o)}setMirror(i){this.parsedVersion=null,this.parsedFormatInfo=null,this.isMirror=i}mirror(){const i=this.bitMatrix;for(let o=0,l=i.getWidth();o<l;o++)for(let u=o+1,f=i.getHeight();u<f;u++)i.get(o,u)!==i.get(u,o)&&(i.flip(u,o),i.flip(o,u))}}class Ku{constructor(i,o){this.numDataCodewords=i,this.codewords=o}static getDataBlocks(i,o,l){if(i.length!==o.getTotalCodewords())throw new C;const u=o.getECBlocksForLevel(l);let f=0;const d=u.getECBlocks();for(const B of d)f+=B.getCount();const m=new Array(f);let x=0;for(const B of d)for(let F=0;F<B.getCount();F++){const z=B.getDataCodewords(),Q=u.getECCodewordsPerBlock()+z;m[x++]=new Ku(z,new Uint8Array(Q))}const w=m[0].codewords.length;let E=m.length-1;for(;E>=0&&m[E].codewords.length!==w;)E--;E++;const b=w-u.getECCodewordsPerBlock();let N=0;for(let B=0;B<b;B++)for(let F=0;F<x;F++)m[F].codewords[B]=i[N++];for(let B=E;B<x;B++)m[B].codewords[b]=i[N++];const L=m[0].codewords.length;for(let B=b;B<L;B++)for(let F=0;F<x;F++){const z=F<E?B:B+1;m[F].codewords[z]=i[N++]}return m}getNumDataCodewords(){return this.numDataCodewords}getCodewords(){return this.codewords}}var Un;(function(S){S[S.TERMINATOR=0]="TERMINATOR",S[S.NUMERIC=1]="NUMERIC",S[S.ALPHANUMERIC=2]="ALPHANUMERIC",S[S.STRUCTURED_APPEND=3]="STRUCTURED_APPEND",S[S.BYTE=4]="BYTE",S[S.ECI=5]="ECI",S[S.KANJI=6]="KANJI",S[S.FNC1_FIRST_POSITION=7]="FNC1_FIRST_POSITION",S[S.FNC1_SECOND_POSITION=8]="FNC1_SECOND_POSITION",S[S.HANZI=9]="HANZI"})(Un||(Un={}));class me{constructor(i,o,l,u){this.value=i,this.stringValue=o,this.characterCountBitsForVersions=l,this.bits=u,me.FOR_BITS.set(u,this),me.FOR_VALUE.set(i,this)}static forBits(i){const o=me.FOR_BITS.get(i);if(o===void 0)throw new C;return o}getCharacterCountBits(i){const o=i.getVersionNumber();let l;return o<=9?l=0:o<=26?l=1:l=2,this.characterCountBitsForVersions[l]}getValue(){return this.value}getBits(){return this.bits}equals(i){if(!(i instanceof me))return!1;const o=i;return this.value===o.value}toString(){return this.stringValue}}me.FOR_BITS=new Map,me.FOR_VALUE=new Map,me.TERMINATOR=new me(Un.TERMINATOR,"TERMINATOR",Int32Array.from([0,0,0]),0),me.NUMERIC=new me(Un.NUMERIC,"NUMERIC",Int32Array.from([10,12,14]),1),me.ALPHANUMERIC=new me(Un.ALPHANUMERIC,"ALPHANUMERIC",Int32Array.from([9,11,13]),2),me.STRUCTURED_APPEND=new me(Un.STRUCTURED_APPEND,"STRUCTURED_APPEND",Int32Array.from([0,0,0]),3),me.BYTE=new me(Un.BYTE,"BYTE",Int32Array.from([8,16,16]),4),me.ECI=new me(Un.ECI,"ECI",Int32Array.from([0,0,0]),7),me.KANJI=new me(Un.KANJI,"KANJI",Int32Array.from([8,10,12]),8),me.FNC1_FIRST_POSITION=new me(Un.FNC1_FIRST_POSITION,"FNC1_FIRST_POSITION",Int32Array.from([0,0,0]),5),me.FNC1_SECOND_POSITION=new me(Un.FNC1_SECOND_POSITION,"FNC1_SECOND_POSITION",Int32Array.from([0,0,0]),9),me.HANZI=new me(Un.HANZI,"HANZI",Int32Array.from([8,10,12]),13);class ot{static decode(i,o,l,u){const f=new Zu(i);let d=new xe;const m=new Array;let x=-1,w=-1;try{let E=null,b=!1,N;do{if(f.available()<4)N=me.TERMINATOR;else{const L=f.readBits(4);N=me.forBits(L)}switch(N){case me.TERMINATOR:break;case me.FNC1_FIRST_POSITION:case me.FNC1_SECOND_POSITION:b=!0;break;case me.STRUCTURED_APPEND:if(f.available()<16)throw new j;x=f.readBits(8),w=f.readBits(8);break;case me.ECI:const L=ot.parseECIValue(f);if(E=Z.getCharacterSetECIByValue(L),E===null)throw new j;break;case me.HANZI:const B=f.readBits(4),F=f.readBits(N.getCharacterCountBits(o));B===ot.GB2312_SUBSET&&ot.decodeHanziSegment(f,d,F);break;default:const z=f.readBits(N.getCharacterCountBits(o));switch(N){case me.NUMERIC:ot.decodeNumericSegment(f,d,z);break;case me.ALPHANUMERIC:ot.decodeAlphanumericSegment(f,d,z,b);break;case me.BYTE:ot.decodeByteSegment(f,d,z,E,m,u);break;case me.KANJI:ot.decodeKanjiSegment(f,d,z);break;default:throw new j}break}}while(N!==me.TERMINATOR)}catch{throw new j}return new Co(i,d.toString(),m.length===0?null:m,l===null?null:l.toString(),x,w)}static decodeHanziSegment(i,o,l){if(l*13>i.available())throw new j;const u=new Uint8Array(2*l);let f=0;for(;l>0;){const d=i.readBits(13);let m=d/96<<8&4294967295|d%96;m<959?m+=41377:m+=42657,u[f]=m>>8&255,u[f+1]=m&255,f+=2,l--}try{o.append(he.decode(u,ne.GB2312))}catch(d){throw new j(d)}}static decodeKanjiSegment(i,o,l){if(l*13>i.available())throw new j;const u=new Uint8Array(2*l);let f=0;for(;l>0;){const d=i.readBits(13);let m=d/192<<8&4294967295|d%192;m<7936?m+=33088:m+=49472,u[f]=m>>8,u[f+1]=m,f+=2,l--}try{o.append(he.decode(u,ne.SHIFT_JIS))}catch(d){throw new j(d)}}static decodeByteSegment(i,o,l,u,f,d){if(8*l>i.available())throw new j;const m=new Uint8Array(l);for(let w=0;w<l;w++)m[w]=i.readBits(8);let x;u===null?x=ne.guessEncoding(m,d):x=u.getName();try{o.append(he.decode(m,x))}catch(w){throw new j(w)}f.push(m)}static toAlphaNumericChar(i){if(i>=ot.ALPHANUMERIC_CHARS.length)throw new j;return ot.ALPHANUMERIC_CHARS[i]}static decodeAlphanumericSegment(i,o,l,u){const f=o.length();for(;l>1;){if(i.available()<11)throw new j;const d=i.readBits(11);o.append(ot.toAlphaNumericChar(Math.floor(d/45))),o.append(ot.toAlphaNumericChar(d%45)),l-=2}if(l===1){if(i.available()<6)throw new j;o.append(ot.toAlphaNumericChar(i.readBits(6)))}if(u)for(let d=f;d<o.length();d++)o.charAt(d)==="%"&&(d<o.length()-1&&o.charAt(d+1)==="%"?o.deleteCharAt(d+1):o.setCharAt(d,""))}static decodeNumericSegment(i,o,l){for(;l>=3;){if(i.available()<10)throw new j;const u=i.readBits(10);if(u>=1e3)throw new j;o.append(ot.toAlphaNumericChar(Math.floor(u/100))),o.append(ot.toAlphaNumericChar(Math.floor(u/10)%10)),o.append(ot.toAlphaNumericChar(u%10)),l-=3}if(l===2){if(i.available()<7)throw new j;const u=i.readBits(7);if(u>=100)throw new j;o.append(ot.toAlphaNumericChar(Math.floor(u/10))),o.append(ot.toAlphaNumericChar(u%10))}else if(l===1){if(i.available()<4)throw new j;const u=i.readBits(4);if(u>=10)throw new j;o.append(ot.toAlphaNumericChar(u))}}static parseECIValue(i){const o=i.readBits(8);if(!(o&128))return o&127;if((o&192)===128){const l=i.readBits(8);return(o&63)<<8&4294967295|l}if((o&224)===192){const l=i.readBits(16);return(o&31)<<16&4294967295|l}throw new j}}ot.ALPHANUMERIC_CHARS="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:",ot.GB2312_SUBSET=1;class J0{constructor(i){this.mirrored=i}isMirrored(){return this.mirrored}applyMirroredCorrection(i){if(!this.mirrored||i===null||i.length<3)return;const o=i[0];i[0]=i[2],i[2]=o}}class Lw{constructor(){this.rsDecoder=new Ao(Pe.QR_CODE_FIELD_256)}decodeBooleanArray(i,o){return this.decodeBitMatrix(Ne.parseFromBooleanArray(i),o)}decodeBitMatrix(i,o){const l=new kw(i);let u=null;try{return this.decodeBitMatrixParser(l,o)}catch(f){u=f}try{l.remask(),l.setMirror(!0),l.readVersion(),l.readFormatInformation(),l.mirror();const f=this.decodeBitMatrixParser(l,o);return f.setOther(new J0(!0)),f}catch(f){throw u!==null?u:f}}decodeBitMatrixParser(i,o){const l=i.readVersion(),u=i.readFormatInformation().getErrorCorrectionLevel(),f=i.readCodewords(),d=Ku.getDataBlocks(f,l,u);let m=0;for(const E of d)m+=E.getNumDataCodewords();const x=new Uint8Array(m);let w=0;for(const E of d){const b=E.getCodewords(),N=E.getNumDataCodewords();this.correctErrors(b,N);for(let L=0;L<N;L++)x[w++]=b[L]}return ot.decode(x,l,u,o)}correctErrors(i,o){const l=new Int32Array(i);try{this.rsDecoder.decode(l,i.length-o)}catch{throw new v}for(let u=0;u<o;u++)i[u]=l[u]}}class qu extends de{constructor(i,o,l){super(i,o),this.estimatedModuleSize=l}aboutEquals(i,o,l){if(Math.abs(o-this.getY())<=i&&Math.abs(l-this.getX())<=i){const u=Math.abs(i-this.estimatedModuleSize);return u<=1||u<=this.estimatedModuleSize}return!1}combineEstimate(i,o,l){const u=(this.getX()+o)/2,f=(this.getY()+i)/2,d=(this.estimatedModuleSize+l)/2;return new qu(u,f,d)}}class dl{constructor(i,o,l,u,f,d,m){this.image=i,this.startX=o,this.startY=l,this.width=u,this.height=f,this.moduleSize=d,this.resultPointCallback=m,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(3)}find(){const i=this.startX,o=this.height,l=this.width,u=i+l,f=this.startY+o/2,d=new Int32Array(3),m=this.image;for(let x=0;x<o;x++){const w=f+(x&1?-Math.floor((x+1)/2):Math.floor((x+1)/2));d[0]=0,d[1]=0,d[2]=0;let E=i;for(;E<u&&!m.get(E,w);)E++;let b=0;for(;E<u;){if(m.get(E,w))if(b===1)d[1]++;else if(b===2){if(this.foundPatternCross(d)){const N=this.handlePossibleCenter(d,w,E);if(N!==null)return N}d[0]=d[2],d[1]=1,d[2]=0,b=1}else d[++b]++;else b===1&&b++,d[b]++;E++}if(this.foundPatternCross(d)){const N=this.handlePossibleCenter(d,w,u);if(N!==null)return N}}if(this.possibleCenters.length!==0)return this.possibleCenters[0];throw new W}static centerFromEnd(i,o){return o-i[2]-i[1]/2}foundPatternCross(i){const o=this.moduleSize,l=o/2;for(let u=0;u<3;u++)if(Math.abs(o-i[u])>=l)return!1;return!0}crossCheckVertical(i,o,l,u){const f=this.image,d=f.getHeight(),m=this.crossCheckStateCount;m[0]=0,m[1]=0,m[2]=0;let x=i;for(;x>=0&&f.get(o,x)&&m[1]<=l;)m[1]++,x--;if(x<0||m[1]>l)return NaN;for(;x>=0&&!f.get(o,x)&&m[0]<=l;)m[0]++,x--;if(m[0]>l)return NaN;for(x=i+1;x<d&&f.get(o,x)&&m[1]<=l;)m[1]++,x++;if(x===d||m[1]>l)return NaN;for(;x<d&&!f.get(o,x)&&m[2]<=l;)m[2]++,x++;if(m[2]>l)return NaN;const w=m[0]+m[1]+m[2];return 5*Math.abs(w-u)>=2*u?NaN:this.foundPatternCross(m)?dl.centerFromEnd(m,x):NaN}handlePossibleCenter(i,o,l){const u=i[0]+i[1]+i[2],f=dl.centerFromEnd(i,l),d=this.crossCheckVertical(o,f,2*i[1],u);if(!isNaN(d)){const m=(i[0]+i[1]+i[2])/3;for(const w of this.possibleCenters)if(w.aboutEquals(m,d,f))return w.combineEstimate(d,f,m);const x=new qu(f,d,m);this.possibleCenters.push(x),this.resultPointCallback!==null&&this.resultPointCallback!==void 0&&this.resultPointCallback.foundPossibleResultPoint(x)}return null}}class $u extends de{constructor(i,o,l,u){super(i,o),this.estimatedModuleSize=l,this.count=u,u===void 0&&(this.count=1)}getEstimatedModuleSize(){return this.estimatedModuleSize}getCount(){return this.count}aboutEquals(i,o,l){if(Math.abs(o-this.getY())<=i&&Math.abs(l-this.getX())<=i){const u=Math.abs(i-this.estimatedModuleSize);return u<=1||u<=this.estimatedModuleSize}return!1}combineEstimate(i,o,l){const u=this.count+1,f=(this.count*this.getX()+o)/u,d=(this.count*this.getY()+i)/u,m=(this.count*this.estimatedModuleSize+l)/u;return new $u(f,d,m,u)}}class Pw{constructor(i){this.bottomLeft=i[0],this.topLeft=i[1],this.topRight=i[2]}getBottomLeft(){return this.bottomLeft}getTopLeft(){return this.topLeft}getTopRight(){return this.topRight}}class Rt{constructor(i,o){this.image=i,this.resultPointCallback=o,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(5),this.resultPointCallback=o}getImage(){return this.image}getPossibleCenters(){return this.possibleCenters}find(i){const o=i!=null&&i.get(Y.TRY_HARDER)!==void 0,l=i!=null&&i.get(Y.PURE_BARCODE)!==void 0,u=this.image,f=u.getHeight(),d=u.getWidth();let m=Math.floor(3*f/(4*Rt.MAX_MODULES));(m<Rt.MIN_SKIP||o)&&(m=Rt.MIN_SKIP);let x=!1;const w=new Int32Array(5);for(let b=m-1;b<f&&!x;b+=m){w[0]=0,w[1]=0,w[2]=0,w[3]=0,w[4]=0;let N=0;for(let L=0;L<d;L++)if(u.get(L,b))(N&1)===1&&N++,w[N]++;else if(N&1)w[N]++;else if(N===4)if(Rt.foundPatternCross(w)){if(this.handlePossibleCenter(w,b,L,l)===!0)if(m=2,this.hasSkipped===!0)x=this.haveMultiplyConfirmedCenters();else{const F=this.findRowSkip();F>w[2]&&(b+=F-w[2]-m,L=d-1)}else{w[0]=w[2],w[1]=w[3],w[2]=w[4],w[3]=1,w[4]=0,N=3;continue}N=0,w[0]=0,w[1]=0,w[2]=0,w[3]=0,w[4]=0}else w[0]=w[2],w[1]=w[3],w[2]=w[4],w[3]=1,w[4]=0,N=3;else w[++N]++;Rt.foundPatternCross(w)&&this.handlePossibleCenter(w,b,d,l)===!0&&(m=w[0],this.hasSkipped&&(x=this.haveMultiplyConfirmedCenters()))}const E=this.selectBestPatterns();return de.orderBestPatterns(E),new Pw(E)}static centerFromEnd(i,o){return o-i[4]-i[3]-i[2]/2}static foundPatternCross(i){let o=0;for(let f=0;f<5;f++){const d=i[f];if(d===0)return!1;o+=d}if(o<7)return!1;const l=o/7,u=l/2;return Math.abs(l-i[0])<u&&Math.abs(l-i[1])<u&&Math.abs(3*l-i[2])<3*u&&Math.abs(l-i[3])<u&&Math.abs(l-i[4])<u}getCrossCheckStateCount(){const i=this.crossCheckStateCount;return i[0]=0,i[1]=0,i[2]=0,i[3]=0,i[4]=0,i}crossCheckDiagonal(i,o,l,u){const f=this.getCrossCheckStateCount();let d=0;const m=this.image;for(;i>=d&&o>=d&&m.get(o-d,i-d);)f[2]++,d++;if(i<d||o<d)return!1;for(;i>=d&&o>=d&&!m.get(o-d,i-d)&&f[1]<=l;)f[1]++,d++;if(i<d||o<d||f[1]>l)return!1;for(;i>=d&&o>=d&&m.get(o-d,i-d)&&f[0]<=l;)f[0]++,d++;if(f[0]>l)return!1;const x=m.getHeight(),w=m.getWidth();for(d=1;i+d<x&&o+d<w&&m.get(o+d,i+d);)f[2]++,d++;if(i+d>=x||o+d>=w)return!1;for(;i+d<x&&o+d<w&&!m.get(o+d,i+d)&&f[3]<l;)f[3]++,d++;if(i+d>=x||o+d>=w||f[3]>=l)return!1;for(;i+d<x&&o+d<w&&m.get(o+d,i+d)&&f[4]<l;)f[4]++,d++;if(f[4]>=l)return!1;const E=f[0]+f[1]+f[2]+f[3]+f[4];return Math.abs(E-u)<2*u&&Rt.foundPatternCross(f)}crossCheckVertical(i,o,l,u){const f=this.image,d=f.getHeight(),m=this.getCrossCheckStateCount();let x=i;for(;x>=0&&f.get(o,x);)m[2]++,x--;if(x<0)return NaN;for(;x>=0&&!f.get(o,x)&&m[1]<=l;)m[1]++,x--;if(x<0||m[1]>l)return NaN;for(;x>=0&&f.get(o,x)&&m[0]<=l;)m[0]++,x--;if(m[0]>l)return NaN;for(x=i+1;x<d&&f.get(o,x);)m[2]++,x++;if(x===d)return NaN;for(;x<d&&!f.get(o,x)&&m[3]<l;)m[3]++,x++;if(x===d||m[3]>=l)return NaN;for(;x<d&&f.get(o,x)&&m[4]<l;)m[4]++,x++;if(m[4]>=l)return NaN;const w=m[0]+m[1]+m[2]+m[3]+m[4];return 5*Math.abs(w-u)>=2*u?NaN:Rt.foundPatternCross(m)?Rt.centerFromEnd(m,x):NaN}crossCheckHorizontal(i,o,l,u){const f=this.image,d=f.getWidth(),m=this.getCrossCheckStateCount();let x=i;for(;x>=0&&f.get(x,o);)m[2]++,x--;if(x<0)return NaN;for(;x>=0&&!f.get(x,o)&&m[1]<=l;)m[1]++,x--;if(x<0||m[1]>l)return NaN;for(;x>=0&&f.get(x,o)&&m[0]<=l;)m[0]++,x--;if(m[0]>l)return NaN;for(x=i+1;x<d&&f.get(x,o);)m[2]++,x++;if(x===d)return NaN;for(;x<d&&!f.get(x,o)&&m[3]<l;)m[3]++,x++;if(x===d||m[3]>=l)return NaN;for(;x<d&&f.get(x,o)&&m[4]<l;)m[4]++,x++;if(m[4]>=l)return NaN;const w=m[0]+m[1]+m[2]+m[3]+m[4];return 5*Math.abs(w-u)>=u?NaN:Rt.foundPatternCross(m)?Rt.centerFromEnd(m,x):NaN}handlePossibleCenter(i,o,l,u){const f=i[0]+i[1]+i[2]+i[3]+i[4];let d=Rt.centerFromEnd(i,l),m=this.crossCheckVertical(o,Math.floor(d),i[2],f);if(!isNaN(m)&&(d=this.crossCheckHorizontal(Math.floor(d),Math.floor(m),i[2],f),!isNaN(d)&&(!u||this.crossCheckDiagonal(Math.floor(m),Math.floor(d),i[2],f)))){const x=f/7;let w=!1;const E=this.possibleCenters;for(let b=0,N=E.length;b<N;b++){const L=E[b];if(L.aboutEquals(x,m,d)){E[b]=L.combineEstimate(m,d,x),w=!0;break}}if(!w){const b=new $u(d,m,x);E.push(b),this.resultPointCallback!==null&&this.resultPointCallback!==void 0&&this.resultPointCallback.foundPossibleResultPoint(b)}return!0}return!1}findRowSkip(){if(this.possibleCenters.length<=1)return 0;let o=null;for(const l of this.possibleCenters)if(l.getCount()>=Rt.CENTER_QUORUM)if(o==null)o=l;else return this.hasSkipped=!0,Math.floor((Math.abs(o.getX()-l.getX())-Math.abs(o.getY()-l.getY()))/2);return 0}haveMultiplyConfirmedCenters(){let i=0,o=0;const l=this.possibleCenters.length;for(const d of this.possibleCenters)d.getCount()>=Rt.CENTER_QUORUM&&(i++,o+=d.getEstimatedModuleSize());if(i<3)return!1;const u=o/l;let f=0;for(const d of this.possibleCenters)f+=Math.abs(d.getEstimatedModuleSize()-u);return f<=.05*o}selectBestPatterns(){const i=this.possibleCenters.length;if(i<3)throw new W;const o=this.possibleCenters;let l;if(i>3){let u=0,f=0;for(const x of this.possibleCenters){const w=x.getEstimatedModuleSize();u+=w,f+=w*w}l=u/i;let d=Math.sqrt(f/i-l*l);o.sort((x,w)=>{const E=Math.abs(w.getEstimatedModuleSize()-l),b=Math.abs(x.getEstimatedModuleSize()-l);return E<b?-1:E>b?1:0});const m=Math.max(.2*l,d);for(let x=0;x<o.length&&o.length>3;x++){const w=o[x];Math.abs(w.getEstimatedModuleSize()-l)>m&&(o.splice(x,1),x--)}}if(o.length>3){let u=0;for(const f of o)u+=f.getEstimatedModuleSize();l=u/o.length,o.sort((f,d)=>{if(d.getCount()===f.getCount()){const m=Math.abs(d.getEstimatedModuleSize()-l),x=Math.abs(f.getEstimatedModuleSize()-l);return m<x?1:m>x?-1:0}else return d.getCount()-f.getCount()}),o.splice(3)}return[o[0],o[1],o[2]]}}Rt.CENTER_QUORUM=2,Rt.MIN_SKIP=3,Rt.MAX_MODULES=57;class bo{constructor(i){this.image=i}getImage(){return this.image}getResultPointCallback(){return this.resultPointCallback}detect(i){this.resultPointCallback=i==null?null:i.get(Y.NEED_RESULT_POINT_CALLBACK);const l=new Rt(this.image,this.resultPointCallback).find(i);return this.processFinderPatternInfo(l)}processFinderPatternInfo(i){const o=i.getTopLeft(),l=i.getTopRight(),u=i.getBottomLeft(),f=this.calculateModuleSize(o,l,u);if(f<1)throw new W("No pattern found in proccess finder.");const d=bo.computeDimension(o,l,u,f),m=ge.getProvisionalVersionForDimension(d),x=m.getDimensionForVersion()-7;let w=null;if(m.getAlignmentPatternCenters().length>0){const L=l.getX()-o.getX()+u.getX(),B=l.getY()-o.getY()+u.getY(),F=1-3/x,z=Math.floor(o.getX()+F*(L-o.getX())),Q=Math.floor(o.getY()+F*(B-o.getY()));for(let ee=4;ee<=16;ee<<=1)try{w=this.findAlignmentInRegion(f,z,Q,ee);break}catch(te){if(!(te instanceof W))throw te}}const E=bo.createTransform(o,l,u,w,d),b=bo.sampleGrid(this.image,E,d);let N;return w===null?N=[u,o,l]:N=[u,o,l,w],new al(b,N)}static createTransform(i,o,l,u,f){const d=f-3.5;let m,x,w,E;return u!==null?(m=u.getX(),x=u.getY(),w=d-3,E=w):(m=o.getX()-i.getX()+l.getX(),x=o.getY()-i.getY()+l.getY(),w=d,E=d),qn.quadrilateralToQuadrilateral(3.5,3.5,d,3.5,w,E,3.5,d,i.getX(),i.getY(),o.getX(),o.getY(),m,x,l.getX(),l.getY())}static sampleGrid(i,o,l){return $r.getInstance().sampleGridWithTransform(i,l,l,o)}static computeDimension(i,o,l,u){const f=Oe.round(de.distance(i,o)/u),d=Oe.round(de.distance(i,l)/u);let m=Math.floor((f+d)/2)+7;switch(m&3){case 0:m++;break;case 2:m--;break;case 3:throw new W("Dimensions could be not found.")}return m}calculateModuleSize(i,o,l){return(this.calculateModuleSizeOneWay(i,o)+this.calculateModuleSizeOneWay(i,l))/2}calculateModuleSizeOneWay(i,o){const l=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(i.getX()),Math.floor(i.getY()),Math.floor(o.getX()),Math.floor(o.getY())),u=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(o.getX()),Math.floor(o.getY()),Math.floor(i.getX()),Math.floor(i.getY()));return isNaN(l)?u/7:isNaN(u)?l/7:(l+u)/14}sizeOfBlackWhiteBlackRunBothWays(i,o,l,u){let f=this.sizeOfBlackWhiteBlackRun(i,o,l,u),d=1,m=i-(l-i);m<0?(d=i/(i-m),m=0):m>=this.image.getWidth()&&(d=(this.image.getWidth()-1-i)/(m-i),m=this.image.getWidth()-1);let x=Math.floor(o-(u-o)*d);return d=1,x<0?(d=o/(o-x),x=0):x>=this.image.getHeight()&&(d=(this.image.getHeight()-1-o)/(x-o),x=this.image.getHeight()-1),m=Math.floor(i+(m-i)*d),f+=this.sizeOfBlackWhiteBlackRun(i,o,m,x),f-1}sizeOfBlackWhiteBlackRun(i,o,l,u){const f=Math.abs(u-o)>Math.abs(l-i);if(f){let L=i;i=o,o=L,L=l,l=u,u=L}const d=Math.abs(l-i),m=Math.abs(u-o);let x=-d/2;const w=i<l?1:-1,E=o<u?1:-1;let b=0;const N=l+w;for(let L=i,B=o;L!==N;L+=w){const F=f?B:L,z=f?L:B;if(b===1===this.image.get(F,z)){if(b===2)return Oe.distance(L,B,i,o);b++}if(x+=m,x>0){if(B===u)break;B+=E,x-=d}}return b===2?Oe.distance(l+w,u,i,o):NaN}findAlignmentInRegion(i,o,l,u){const f=Math.floor(u*i),d=Math.max(0,o-f),m=Math.min(this.image.getWidth()-1,o+f);if(m-d<i*3)throw new W("Alignment top exceeds estimated module size.");const x=Math.max(0,l-f),w=Math.min(this.image.getHeight()-1,l+f);if(w-x<i*3)throw new W("Alignment bottom exceeds estimated module size.");return new dl(this.image,d,x,m-d,w-x,i,this.resultPointCallback).find()}}class ni{constructor(){this.decoder=new Lw}getDecoder(){return this.decoder}decode(i,o){let l,u;if(o!=null&&o.get(Y.PURE_BARCODE)!==void 0){const x=ni.extractPureBits(i.getBlackMatrix());l=this.decoder.decodeBitMatrix(x,o),u=ni.NO_POINTS}else{const x=new bo(i.getBlackMatrix()).detect(o);l=this.decoder.decodeBitMatrix(x.getBits(),o),u=x.getPoints()}l.getOther()instanceof J0&&l.getOther().applyMirroredCorrection(u);const f=new Le(l.getText(),l.getRawBytes(),void 0,u,ae.QR_CODE,void 0),d=l.getByteSegments();d!==null&&f.putMetadata(Mt.BYTE_SEGMENTS,d);const m=l.getECLevel();return m!==null&&f.putMetadata(Mt.ERROR_CORRECTION_LEVEL,m),l.hasStructuredAppend()&&(f.putMetadata(Mt.STRUCTURED_APPEND_SEQUENCE,l.getStructuredAppendSequenceNumber()),f.putMetadata(Mt.STRUCTURED_APPEND_PARITY,l.getStructuredAppendParity())),f}reset(){}static extractPureBits(i){const o=i.getTopLeftOnBit(),l=i.getBottomRightOnBit();if(o===null||l===null)throw new W;const u=this.moduleSize(o,i);let f=o[1],d=l[1],m=o[0],x=l[0];if(m>=x||f>=d)throw new W;if(d-f!==x-m&&(x=m+(d-f),x>=i.getWidth()))throw new W;const w=Math.round((x-m+1)/u),E=Math.round((d-f+1)/u);if(w<=0||E<=0)throw new W;if(E!==w)throw new W;const b=Math.floor(u/2);f+=b,m+=b;const N=m+Math.floor((w-1)*u)-x;if(N>0){if(N>b)throw new W;m-=N}const L=f+Math.floor((E-1)*u)-d;if(L>0){if(L>b)throw new W;f-=L}const B=new Ne(w,E);for(let F=0;F<E;F++){const z=f+Math.floor(F*u);for(let Q=0;Q<w;Q++)i.get(m+Math.floor(Q*u),z)&&B.set(Q,F)}return B}static moduleSize(i,o){const l=o.getHeight(),u=o.getWidth();let f=i[0],d=i[1],m=!0,x=0;for(;f<u&&d<l;){if(m!==o.get(f,d)){if(++x===5)break;m=!m}f++,d++}if(f===u||d===l)throw new W;return(f-i[0])/7}}ni.NO_POINTS=new Array;class we{PDF417Common(){}static getBitCountSum(i){return Oe.sum(i)}static toIntArray(i){if(i==null||!i.length)return we.EMPTY_INT_ARRAY;const o=new Int32Array(i.length);let l=0;for(const u of i)o[l++]=u;return o}static getCodeword(i){const o=_.binarySearch(we.SYMBOL_TABLE,i&262143);return o<0?-1:(we.CODEWORD_TABLE[o]-1)%we.NUMBER_OF_CODEWORDS}}we.NUMBER_OF_CODEWORDS=929,we.MAX_CODEWORDS_IN_BARCODE=we.NUMBER_OF_CODEWORDS-1,we.MIN_ROWS_IN_BARCODE=3,we.MAX_ROWS_IN_BARCODE=90,we.MODULES_IN_CODEWORD=17,we.MODULES_IN_STOP_PATTERN=18,we.BARS_IN_MODULE=8,we.EMPTY_INT_ARRAY=new Int32Array([]),we.SYMBOL_TABLE=Int32Array.from([66142,66170,66206,66236,66290,66292,66350,66382,66396,66454,66470,66476,66594,66600,66614,66626,66628,66632,66640,66654,66662,66668,66682,66690,66718,66720,66748,66758,66776,66798,66802,66804,66820,66824,66832,66846,66848,66876,66880,66936,66950,66956,66968,66992,67006,67022,67036,67042,67044,67048,67062,67118,67150,67164,67214,67228,67256,67294,67322,67350,67366,67372,67398,67404,67416,67438,67474,67476,67490,67492,67496,67510,67618,67624,67650,67656,67664,67678,67686,67692,67706,67714,67716,67728,67742,67744,67772,67782,67788,67800,67822,67826,67828,67842,67848,67870,67872,67900,67904,67960,67974,67992,68016,68030,68046,68060,68066,68068,68072,68086,68104,68112,68126,68128,68156,68160,68216,68336,68358,68364,68376,68400,68414,68448,68476,68494,68508,68536,68546,68548,68552,68560,68574,68582,68588,68654,68686,68700,68706,68708,68712,68726,68750,68764,68792,68802,68804,68808,68816,68830,68838,68844,68858,68878,68892,68920,68976,68990,68994,68996,69e3,69008,69022,69024,69052,69062,69068,69080,69102,69106,69108,69142,69158,69164,69190,69208,69230,69254,69260,69272,69296,69310,69326,69340,69386,69394,69396,69410,69416,69430,69442,69444,69448,69456,69470,69478,69484,69554,69556,69666,69672,69698,69704,69712,69726,69754,69762,69764,69776,69790,69792,69820,69830,69836,69848,69870,69874,69876,69890,69918,69920,69948,69952,70008,70022,70040,70064,70078,70094,70108,70114,70116,70120,70134,70152,70174,70176,70264,70384,70412,70448,70462,70496,70524,70542,70556,70584,70594,70600,70608,70622,70630,70636,70664,70672,70686,70688,70716,70720,70776,70896,71136,71180,71192,71216,71230,71264,71292,71360,71416,71452,71480,71536,71550,71554,71556,71560,71568,71582,71584,71612,71622,71628,71640,71662,71726,71732,71758,71772,71778,71780,71784,71798,71822,71836,71864,71874,71880,71888,71902,71910,71916,71930,71950,71964,71992,72048,72062,72066,72068,72080,72094,72096,72124,72134,72140,72152,72174,72178,72180,72206,72220,72248,72304,72318,72416,72444,72456,72464,72478,72480,72508,72512,72568,72588,72600,72624,72638,72654,72668,72674,72676,72680,72694,72726,72742,72748,72774,72780,72792,72814,72838,72856,72880,72894,72910,72924,72930,72932,72936,72950,72966,72972,72984,73008,73022,73056,73084,73102,73116,73144,73156,73160,73168,73182,73190,73196,73210,73226,73234,73236,73250,73252,73256,73270,73282,73284,73296,73310,73318,73324,73346,73348,73352,73360,73374,73376,73404,73414,73420,73432,73454,73498,73518,73522,73524,73550,73564,73570,73572,73576,73590,73800,73822,73858,73860,73872,73886,73888,73916,73944,73970,73972,73992,74014,74016,74044,74048,74104,74118,74136,74160,74174,74210,74212,74216,74230,74244,74256,74270,74272,74360,74480,74502,74508,74544,74558,74592,74620,74638,74652,74680,74690,74696,74704,74726,74732,74782,74784,74812,74992,75232,75288,75326,75360,75388,75456,75512,75576,75632,75646,75650,75652,75664,75678,75680,75708,75718,75724,75736,75758,75808,75836,75840,75896,76016,76256,76736,76824,76848,76862,76896,76924,76992,77048,77296,77340,77368,77424,77438,77536,77564,77572,77576,77584,77600,77628,77632,77688,77702,77708,77720,77744,77758,77774,77788,77870,77902,77916,77922,77928,77966,77980,78008,78018,78024,78032,78046,78060,78074,78094,78136,78192,78206,78210,78212,78224,78238,78240,78268,78278,78284,78296,78322,78324,78350,78364,78448,78462,78560,78588,78600,78622,78624,78652,78656,78712,78726,78744,78768,78782,78798,78812,78818,78820,78824,78838,78862,78876,78904,78960,78974,79072,79100,79296,79352,79368,79376,79390,79392,79420,79424,79480,79600,79628,79640,79664,79678,79712,79740,79772,79800,79810,79812,79816,79824,79838,79846,79852,79894,79910,79916,79942,79948,79960,79982,79988,80006,80024,80048,80062,80078,80092,80098,80100,80104,80134,80140,80176,80190,80224,80252,80270,80284,80312,80328,80336,80350,80358,80364,80378,80390,80396,80408,80432,80446,80480,80508,80576,80632,80654,80668,80696,80752,80766,80776,80784,80798,80800,80828,80844,80856,80878,80882,80884,80914,80916,80930,80932,80936,80950,80962,80968,80976,80990,80998,81004,81026,81028,81040,81054,81056,81084,81094,81100,81112,81134,81154,81156,81160,81168,81182,81184,81212,81216,81272,81286,81292,81304,81328,81342,81358,81372,81380,81384,81398,81434,81454,81458,81460,81486,81500,81506,81508,81512,81526,81550,81564,81592,81602,81604,81608,81616,81630,81638,81644,81702,81708,81722,81734,81740,81752,81774,81778,81780,82050,82078,82080,82108,82180,82184,82192,82206,82208,82236,82240,82296,82316,82328,82352,82366,82402,82404,82408,82440,82448,82462,82464,82492,82496,82552,82672,82694,82700,82712,82736,82750,82784,82812,82830,82882,82884,82888,82896,82918,82924,82952,82960,82974,82976,83004,83008,83064,83184,83424,83468,83480,83504,83518,83552,83580,83648,83704,83740,83768,83824,83838,83842,83844,83848,83856,83872,83900,83910,83916,83928,83950,83984,84e3,84028,84032,84088,84208,84448,84928,85040,85054,85088,85116,85184,85240,85488,85560,85616,85630,85728,85756,85764,85768,85776,85790,85792,85820,85824,85880,85894,85900,85912,85936,85966,85980,86048,86080,86136,86256,86496,86976,88160,88188,88256,88312,88560,89056,89200,89214,89312,89340,89536,89592,89608,89616,89632,89664,89720,89840,89868,89880,89904,89952,89980,89998,90012,90040,90190,90204,90254,90268,90296,90306,90308,90312,90334,90382,90396,90424,90480,90494,90500,90504,90512,90526,90528,90556,90566,90572,90584,90610,90612,90638,90652,90680,90736,90750,90848,90876,90884,90888,90896,90910,90912,90940,90944,91e3,91014,91020,91032,91056,91070,91086,91100,91106,91108,91112,91126,91150,91164,91192,91248,91262,91360,91388,91584,91640,91664,91678,91680,91708,91712,91768,91888,91928,91952,91966,92e3,92028,92046,92060,92088,92098,92100,92104,92112,92126,92134,92140,92188,92216,92272,92384,92412,92608,92664,93168,93200,93214,93216,93244,93248,93304,93424,93664,93720,93744,93758,93792,93820,93888,93944,93980,94008,94064,94078,94084,94088,94096,94110,94112,94140,94150,94156,94168,94246,94252,94278,94284,94296,94318,94342,94348,94360,94384,94398,94414,94428,94440,94470,94476,94488,94512,94526,94560,94588,94606,94620,94648,94658,94660,94664,94672,94686,94694,94700,94714,94726,94732,94744,94768,94782,94816,94844,94912,94968,94990,95004,95032,95088,95102,95112,95120,95134,95136,95164,95180,95192,95214,95218,95220,95244,95256,95280,95294,95328,95356,95424,95480,95728,95758,95772,95800,95856,95870,95968,95996,96008,96016,96030,96032,96060,96064,96120,96152,96176,96190,96220,96226,96228,96232,96290,96292,96296,96310,96322,96324,96328,96336,96350,96358,96364,96386,96388,96392,96400,96414,96416,96444,96454,96460,96472,96494,96498,96500,96514,96516,96520,96528,96542,96544,96572,96576,96632,96646,96652,96664,96688,96702,96718,96732,96738,96740,96744,96758,96772,96776,96784,96798,96800,96828,96832,96888,97008,97030,97036,97048,97072,97086,97120,97148,97166,97180,97208,97220,97224,97232,97246,97254,97260,97326,97330,97332,97358,97372,97378,97380,97384,97398,97422,97436,97464,97474,97476,97480,97488,97502,97510,97516,97550,97564,97592,97648,97666,97668,97672,97680,97694,97696,97724,97734,97740,97752,97774,97830,97836,97850,97862,97868,97880,97902,97906,97908,97926,97932,97944,97968,97998,98012,98018,98020,98024,98038,98618,98674,98676,98838,98854,98874,98892,98904,98926,98930,98932,98968,99006,99042,99044,99048,99062,99166,99194,99246,99286,99350,99366,99372,99386,99398,99416,99438,99442,99444,99462,99504,99518,99534,99548,99554,99556,99560,99574,99590,99596,99608,99632,99646,99680,99708,99726,99740,99768,99778,99780,99784,99792,99806,99814,99820,99834,99858,99860,99874,99880,99894,99906,99920,99934,99962,99970,99972,99976,99984,99998,1e5,100028,100038,100044,100056,100078,100082,100084,100142,100174,100188,100246,100262,100268,100306,100308,100390,100396,100410,100422,100428,100440,100462,100466,100468,100486,100504,100528,100542,100558,100572,100578,100580,100584,100598,100620,100656,100670,100704,100732,100750,100792,100802,100808,100816,100830,100838,100844,100858,100888,100912,100926,100960,100988,101056,101112,101148,101176,101232,101246,101250,101252,101256,101264,101278,101280,101308,101318,101324,101336,101358,101362,101364,101410,101412,101416,101430,101442,101448,101456,101470,101478,101498,101506,101508,101520,101534,101536,101564,101580,101618,101620,101636,101640,101648,101662,101664,101692,101696,101752,101766,101784,101838,101858,101860,101864,101934,101938,101940,101966,101980,101986,101988,101992,102030,102044,102072,102082,102084,102088,102096,102138,102166,102182,102188,102214,102220,102232,102254,102282,102290,102292,102306,102308,102312,102326,102444,102458,102470,102476,102488,102514,102516,102534,102552,102576,102590,102606,102620,102626,102632,102646,102662,102668,102704,102718,102752,102780,102798,102812,102840,102850,102856,102864,102878,102886,102892,102906,102936,102974,103008,103036,103104,103160,103224,103280,103294,103298,103300,103312,103326,103328,103356,103366,103372,103384,103406,103410,103412,103472,103486,103520,103548,103616,103672,103920,103992,104048,104062,104160,104188,104194,104196,104200,104208,104224,104252,104256,104312,104326,104332,104344,104368,104382,104398,104412,104418,104420,104424,104482,104484,104514,104520,104528,104542,104550,104570,104578,104580,104592,104606,104608,104636,104652,104690,104692,104706,104712,104734,104736,104764,104768,104824,104838,104856,104910,104930,104932,104936,104968,104976,104990,104992,105020,105024,105080,105200,105240,105278,105312,105372,105410,105412,105416,105424,105446,105518,105524,105550,105564,105570,105572,105576,105614,105628,105656,105666,105672,105680,105702,105722,105742,105756,105784,105840,105854,105858,105860,105864,105872,105888,105932,105970,105972,106006,106022,106028,106054,106060,106072,106100,106118,106124,106136,106160,106174,106190,106210,106212,106216,106250,106258,106260,106274,106276,106280,106306,106308,106312,106320,106334,106348,106394,106414,106418,106420,106566,106572,106610,106612,106630,106636,106648,106672,106686,106722,106724,106728,106742,106758,106764,106776,106800,106814,106848,106876,106894,106908,106936,106946,106948,106952,106960,106974,106982,106988,107032,107056,107070,107104,107132,107200,107256,107292,107320,107376,107390,107394,107396,107400,107408,107422,107424,107452,107462,107468,107480,107502,107506,107508,107544,107568,107582,107616,107644,107712,107768,108016,108060,108088,108144,108158,108256,108284,108290,108292,108296,108304,108318,108320,108348,108352,108408,108422,108428,108440,108464,108478,108494,108508,108514,108516,108520,108592,108640,108668,108736,108792,109040,109536,109680,109694,109792,109820,110016,110072,110084,110088,110096,110112,110140,110144,110200,110320,110342,110348,110360,110384,110398,110432,110460,110478,110492,110520,110532,110536,110544,110558,110658,110686,110714,110722,110724,110728,110736,110750,110752,110780,110796,110834,110836,110850,110852,110856,110864,110878,110880,110908,110912,110968,110982,111e3,111054,111074,111076,111080,111108,111112,111120,111134,111136,111164,111168,111224,111344,111372,111422,111456,111516,111554,111556,111560,111568,111590,111632,111646,111648,111676,111680,111736,111856,112096,112152,112224,112252,112320,112440,112514,112516,112520,112528,112542,112544,112588,112686,112718,112732,112782,112796,112824,112834,112836,112840,112848,112870,112890,112910,112924,112952,113008,113022,113026,113028,113032,113040,113054,113056,113100,113138,113140,113166,113180,113208,113264,113278,113376,113404,113416,113424,113440,113468,113472,113560,113614,113634,113636,113640,113686,113702,113708,113734,113740,113752,113778,113780,113798,113804,113816,113840,113854,113870,113890,113892,113896,113926,113932,113944,113968,113982,114016,114044,114076,114114,114116,114120,114128,114150,114170,114194,114196,114210,114212,114216,114242,114244,114248,114256,114270,114278,114306,114308,114312,114320,114334,114336,114364,114380,114420,114458,114478,114482,114484,114510,114524,114530,114532,114536,114842,114866,114868,114970,114994,114996,115042,115044,115048,115062,115130,115226,115250,115252,115278,115292,115298,115300,115304,115318,115342,115394,115396,115400,115408,115422,115430,115436,115450,115478,115494,115514,115526,115532,115570,115572,115738,115758,115762,115764,115790,115804,115810,115812,115816,115830,115854,115868,115896,115906,115912,115920,115934,115942,115948,115962,115996,116024,116080,116094,116098,116100,116104,116112,116126,116128,116156,116166,116172,116184,116206,116210,116212,116246,116262,116268,116282,116294,116300,116312,116334,116338,116340,116358,116364,116376,116400,116414,116430,116444,116450,116452,116456,116498,116500,116514,116520,116534,116546,116548,116552,116560,116574,116582,116588,116602,116654,116694,116714,116762,116782,116786,116788,116814,116828,116834,116836,116840,116854,116878,116892,116920,116930,116936,116944,116958,116966,116972,116986,117006,117048,117104,117118,117122,117124,117136,117150,117152,117180,117190,117196,117208,117230,117234,117236,117304,117360,117374,117472,117500,117506,117508,117512,117520,117536,117564,117568,117624,117638,117644,117656,117680,117694,117710,117724,117730,117732,117736,117750,117782,117798,117804,117818,117830,117848,117874,117876,117894,117936,117950,117966,117986,117988,117992,118022,118028,118040,118064,118078,118112,118140,118172,118210,118212,118216,118224,118238,118246,118266,118306,118312,118338,118352,118366,118374,118394,118402,118404,118408,118416,118430,118432,118460,118476,118514,118516,118574,118578,118580,118606,118620,118626,118628,118632,118678,118694,118700,118730,118738,118740,118830,118834,118836,118862,118876,118882,118884,118888,118902,118926,118940,118968,118978,118980,118984,118992,119006,119014,119020,119034,119068,119096,119152,119166,119170,119172,119176,119184,119198,119200,119228,119238,119244,119256,119278,119282,119284,119324,119352,119408,119422,119520,119548,119554,119556,119560,119568,119582,119584,119612,119616,119672,119686,119692,119704,119728,119742,119758,119772,119778,119780,119784,119798,119920,119934,120032,120060,120256,120312,120324,120328,120336,120352,120384,120440,120560,120582,120588,120600,120624,120638,120672,120700,120718,120732,120760,120770,120772,120776,120784,120798,120806,120812,120870,120876,120890,120902,120908,120920,120946,120948,120966,120972,120984,121008,121022,121038,121058,121060,121064,121078,121100,121112,121136,121150,121184,121212,121244,121282,121284,121288,121296,121318,121338,121356,121368,121392,121406,121440,121468,121536,121592,121656,121730,121732,121736,121744,121758,121760,121804,121842,121844,121890,121922,121924,121928,121936,121950,121958,121978,121986,121988,121992,122e3,122014,122016,122044,122060,122098,122100,122116,122120,122128,122142,122144,122172,122176,122232,122246,122264,122318,122338,122340,122344,122414,122418,122420,122446,122460,122466,122468,122472,122510,122524,122552,122562,122564,122568,122576,122598,122618,122646,122662,122668,122694,122700,122712,122738,122740,122762,122770,122772,122786,122788,122792,123018,123026,123028,123042,123044,123048,123062,123098,123146,123154,123156,123170,123172,123176,123190,123202,123204,123208,123216,123238,123244,123258,123290,123314,123316,123402,123410,123412,123426,123428,123432,123446,123458,123464,123472,123486,123494,123500,123514,123522,123524,123528,123536,123552,123580,123590,123596,123608,123630,123634,123636,123674,123698,123700,123740,123746,123748,123752,123834,123914,123922,123924,123938,123944,123958,123970,123976,123984,123998,124006,124012,124026,124034,124036,124048,124062,124064,124092,124102,124108,124120,124142,124146,124148,124162,124164,124168,124176,124190,124192,124220,124224,124280,124294,124300,124312,124336,124350,124366,124380,124386,124388,124392,124406,124442,124462,124466,124468,124494,124508,124514,124520,124558,124572,124600,124610,124612,124616,124624,124646,124666,124694,124710,124716,124730,124742,124748,124760,124786,124788,124818,124820,124834,124836,124840,124854,124946,124948,124962,124964,124968,124982,124994,124996,125e3,125008,125022,125030,125036,125050,125058,125060,125064,125072,125086,125088,125116,125126,125132,125144,125166,125170,125172,125186,125188,125192,125200,125216,125244,125248,125304,125318,125324,125336,125360,125374,125390,125404,125410,125412,125416,125430,125444,125448,125456,125472,125504,125560,125680,125702,125708,125720,125744,125758,125792,125820,125838,125852,125880,125890,125892,125896,125904,125918,125926,125932,125978,125998,126002,126004,126030,126044,126050,126052,126056,126094,126108,126136,126146,126148,126152,126160,126182,126202,126222,126236,126264,126320,126334,126338,126340,126344,126352,126366,126368,126412,126450,126452,126486,126502,126508,126522,126534,126540,126552,126574,126578,126580,126598,126604,126616,126640,126654,126670,126684,126690,126692,126696,126738,126754,126756,126760,126774,126786,126788,126792,126800,126814,126822,126828,126842,126894,126898,126900,126934,127126,127142,127148,127162,127178,127186,127188,127254,127270,127276,127290,127302,127308,127320,127342,127346,127348,127370,127378,127380,127394,127396,127400,127450,127510,127526,127532,127546,127558,127576,127598,127602,127604,127622,127628,127640,127664,127678,127694,127708,127714,127716,127720,127734,127754,127762,127764,127778,127784,127810,127812,127816,127824,127838,127846,127866,127898,127918,127922,127924,128022,128038,128044,128058,128070,128076,128088,128110,128114,128116,128134,128140,128152,128176,128190,128206,128220,128226,128228,128232,128246,128262,128268,128280,128304,128318,128352,128380,128398,128412,128440,128450,128452,128456,128464,128478,128486,128492,128506,128522,128530,128532,128546,128548,128552,128566,128578,128580,128584,128592,128606,128614,128634,128642,128644,128648,128656,128670,128672,128700,128716,128754,128756,128794,128814,128818,128820,128846,128860,128866,128868,128872,128886,128918,128934,128940,128954,128978,128980,129178,129198,129202,129204,129238,129258,129306,129326,129330,129332,129358,129372,129378,129380,129384,129398,129430,129446,129452,129466,129482,129490,129492,129562,129582,129586,129588,129614,129628,129634,129636,129640,129654,129678,129692,129720,129730,129732,129736,129744,129758,129766,129772,129814,129830,129836,129850,129862,129868,129880,129902,129906,129908,129930,129938,129940,129954,129956,129960,129974,130010]),we.CODEWORD_TABLE=Int32Array.from([2627,1819,2622,2621,1813,1812,2729,2724,2723,2779,2774,2773,902,896,908,868,865,861,859,2511,873,871,1780,835,2493,825,2491,842,837,844,1764,1762,811,810,809,2483,807,2482,806,2480,815,814,813,812,2484,817,816,1745,1744,1742,1746,2655,2637,2635,2626,2625,2623,2628,1820,2752,2739,2737,2728,2727,2725,2730,2785,2783,2778,2777,2775,2780,787,781,747,739,736,2413,754,752,1719,692,689,681,2371,678,2369,700,697,694,703,1688,1686,642,638,2343,631,2341,627,2338,651,646,643,2345,654,652,1652,1650,1647,1654,601,599,2322,596,2321,594,2319,2317,611,610,608,606,2324,603,2323,615,614,612,1617,1616,1614,1612,616,1619,1618,2575,2538,2536,905,901,898,909,2509,2507,2504,870,867,864,860,2512,875,872,1781,2490,2489,2487,2485,1748,836,834,832,830,2494,827,2492,843,841,839,845,1765,1763,2701,2676,2674,2653,2648,2656,2634,2633,2631,2629,1821,2638,2636,2770,2763,2761,2750,2745,2753,2736,2735,2733,2731,1848,2740,2738,2786,2784,591,588,576,569,566,2296,1590,537,534,526,2276,522,2274,545,542,539,548,1572,1570,481,2245,466,2242,462,2239,492,485,482,2249,496,494,1534,1531,1528,1538,413,2196,406,2191,2188,425,419,2202,415,2199,432,430,427,1472,1467,1464,433,1476,1474,368,367,2160,365,2159,362,2157,2155,2152,378,377,375,2166,372,2165,369,2162,383,381,379,2168,1419,1418,1416,1414,385,1411,384,1423,1422,1420,1424,2461,802,2441,2439,790,786,783,794,2409,2406,2403,750,742,738,2414,756,753,1720,2367,2365,2362,2359,1663,693,691,684,2373,680,2370,702,699,696,704,1690,1687,2337,2336,2334,2332,1624,2329,1622,640,637,2344,634,2342,630,2340,650,648,645,2346,655,653,1653,1651,1649,1655,2612,2597,2595,2571,2568,2565,2576,2534,2529,2526,1787,2540,2537,907,904,900,910,2503,2502,2500,2498,1768,2495,1767,2510,2508,2506,869,866,863,2513,876,874,1782,2720,2713,2711,2697,2694,2691,2702,2672,2670,2664,1828,2678,2675,2647,2646,2644,2642,1823,2639,1822,2654,2652,2650,2657,2771,1855,2765,2762,1850,1849,2751,2749,2747,2754,353,2148,344,342,336,2142,332,2140,345,1375,1373,306,2130,299,2128,295,2125,319,314,311,2132,1354,1352,1349,1356,262,257,2101,253,2096,2093,274,273,267,2107,263,2104,280,278,275,1316,1311,1308,1320,1318,2052,202,2050,2044,2040,219,2063,212,2060,208,2055,224,221,2066,1260,1258,1252,231,1248,229,1266,1264,1261,1268,155,1998,153,1996,1994,1991,1988,165,164,2007,162,2006,159,2003,2e3,172,171,169,2012,166,2010,1186,1184,1182,1179,175,1176,173,1192,1191,1189,1187,176,1194,1193,2313,2307,2305,592,589,2294,2292,2289,578,572,568,2297,580,1591,2272,2267,2264,1547,538,536,529,2278,525,2275,547,544,541,1574,1571,2237,2235,2229,1493,2225,1489,478,2247,470,2244,465,2241,493,488,484,2250,498,495,1536,1533,1530,1539,2187,2186,2184,2182,1432,2179,1430,2176,1427,414,412,2197,409,2195,405,2193,2190,426,424,421,2203,418,2201,431,429,1473,1471,1469,1466,434,1477,1475,2478,2472,2470,2459,2457,2454,2462,803,2437,2432,2429,1726,2443,2440,792,789,785,2401,2399,2393,1702,2389,1699,2411,2408,2405,745,741,2415,758,755,1721,2358,2357,2355,2353,1661,2350,1660,2347,1657,2368,2366,2364,2361,1666,690,687,2374,683,2372,701,698,705,1691,1689,2619,2617,2610,2608,2605,2613,2593,2588,2585,1803,2599,2596,2563,2561,2555,1797,2551,1795,2573,2570,2567,2577,2525,2524,2522,2520,1786,2517,1785,2514,1783,2535,2533,2531,2528,1788,2541,2539,906,903,911,2721,1844,2715,2712,1838,1836,2699,2696,2693,2703,1827,1826,1824,2673,2671,2669,2666,1829,2679,2677,1858,1857,2772,1854,1853,1851,1856,2766,2764,143,1987,139,1986,135,133,131,1984,128,1983,125,1981,138,137,136,1985,1133,1132,1130,112,110,1974,107,1973,104,1971,1969,122,121,119,117,1977,114,1976,124,1115,1114,1112,1110,1117,1116,84,83,1953,81,1952,78,1950,1948,1945,94,93,91,1959,88,1958,85,1955,99,97,95,1961,1086,1085,1083,1081,1078,100,1090,1089,1087,1091,49,47,1917,44,1915,1913,1910,1907,59,1926,56,1925,53,1922,1919,66,64,1931,61,1929,1042,1040,1038,71,1035,70,1032,68,1048,1047,1045,1043,1050,1049,12,10,1869,1867,1864,1861,21,1880,19,1877,1874,1871,28,1888,25,1886,22,1883,982,980,977,974,32,30,991,989,987,984,34,995,994,992,2151,2150,2147,2146,2144,356,355,354,2149,2139,2138,2136,2134,1359,343,341,338,2143,335,2141,348,347,346,1376,1374,2124,2123,2121,2119,1326,2116,1324,310,308,305,2131,302,2129,298,2127,320,318,316,313,2133,322,321,1355,1353,1351,1357,2092,2091,2089,2087,1276,2084,1274,2081,1271,259,2102,256,2100,252,2098,2095,272,269,2108,266,2106,281,279,277,1317,1315,1313,1310,282,1321,1319,2039,2037,2035,2032,1203,2029,1200,1197,207,2053,205,2051,201,2049,2046,2043,220,218,2064,215,2062,211,2059,228,226,223,2069,1259,1257,1254,232,1251,230,1267,1265,1263,2316,2315,2312,2311,2309,2314,2304,2303,2301,2299,1593,2308,2306,590,2288,2287,2285,2283,1578,2280,1577,2295,2293,2291,579,577,574,571,2298,582,581,1592,2263,2262,2260,2258,1545,2255,1544,2252,1541,2273,2271,2269,2266,1550,535,532,2279,528,2277,546,543,549,1575,1573,2224,2222,2220,1486,2217,1485,2214,1482,1479,2238,2236,2234,2231,1496,2228,1492,480,477,2248,473,2246,469,2243,490,487,2251,497,1537,1535,1532,2477,2476,2474,2479,2469,2468,2466,2464,1730,2473,2471,2453,2452,2450,2448,1729,2445,1728,2460,2458,2456,2463,805,804,2428,2427,2425,2423,1725,2420,1724,2417,1722,2438,2436,2434,2431,1727,2444,2442,793,791,788,795,2388,2386,2384,1697,2381,1696,2378,1694,1692,2402,2400,2398,2395,1703,2392,1701,2412,2410,2407,751,748,744,2416,759,757,1807,2620,2618,1806,1805,2611,2609,2607,2614,1802,1801,1799,2594,2592,2590,2587,1804,2600,2598,1794,1793,1791,1789,2564,2562,2560,2557,1798,2554,1796,2574,2572,2569,2578,1847,1846,2722,1843,1842,1840,1845,2716,2714,1835,1834,1832,1830,1839,1837,2700,2698,2695,2704,1817,1811,1810,897,862,1777,829,826,838,1760,1758,808,2481,1741,1740,1738,1743,2624,1818,2726,2776,782,740,737,1715,686,679,695,1682,1680,639,628,2339,647,644,1645,1643,1640,1648,602,600,597,595,2320,593,2318,609,607,604,1611,1610,1608,1606,613,1615,1613,2328,926,924,892,886,899,857,850,2505,1778,824,823,821,819,2488,818,2486,833,831,828,840,1761,1759,2649,2632,2630,2746,2734,2732,2782,2781,570,567,1587,531,527,523,540,1566,1564,476,467,463,2240,486,483,1524,1521,1518,1529,411,403,2192,399,2189,423,416,1462,1457,1454,428,1468,1465,2210,366,363,2158,360,2156,357,2153,376,373,370,2163,1410,1409,1407,1405,382,1402,380,1417,1415,1412,1421,2175,2174,777,774,771,784,732,725,722,2404,743,1716,676,674,668,2363,665,2360,685,1684,1681,626,624,622,2335,620,2333,617,2330,641,635,649,1646,1644,1642,2566,928,925,2530,2527,894,891,888,2501,2499,2496,858,856,854,851,1779,2692,2668,2665,2645,2643,2640,2651,2768,2759,2757,2744,2743,2741,2748,352,1382,340,337,333,1371,1369,307,300,296,2126,315,312,1347,1342,1350,261,258,250,2097,246,2094,271,268,264,1306,1301,1298,276,1312,1309,2115,203,2048,195,2045,191,2041,213,209,2056,1246,1244,1238,225,1234,222,1256,1253,1249,1262,2080,2079,154,1997,150,1995,147,1992,1989,163,160,2004,156,2001,1175,1174,1172,1170,1167,170,1164,167,1185,1183,1180,1177,174,1190,1188,2025,2024,2022,587,586,564,559,556,2290,573,1588,520,518,512,2268,508,2265,530,1568,1565,461,457,2233,450,2230,446,2226,479,471,489,1526,1523,1520,397,395,2185,392,2183,389,2180,2177,410,2194,402,422,1463,1461,1459,1456,1470,2455,799,2433,2430,779,776,773,2397,2394,2390,734,728,724,746,1717,2356,2354,2351,2348,1658,677,675,673,670,667,688,1685,1683,2606,2589,2586,2559,2556,2552,927,2523,2521,2518,2515,1784,2532,895,893,890,2718,2709,2707,2689,2687,2684,2663,2662,2660,2658,1825,2667,2769,1852,2760,2758,142,141,1139,1138,134,132,129,126,1982,1129,1128,1126,1131,113,111,108,105,1972,101,1970,120,118,115,1109,1108,1106,1104,123,1113,1111,82,79,1951,75,1949,72,1946,92,89,86,1956,1077,1076,1074,1072,98,1069,96,1084,1082,1079,1088,1968,1967,48,45,1916,42,1914,39,1911,1908,60,57,54,1923,50,1920,1031,1030,1028,1026,67,1023,65,1020,62,1041,1039,1036,1033,69,1046,1044,1944,1943,1941,11,9,1868,7,1865,1862,1859,20,1878,16,1875,13,1872,970,968,966,963,29,960,26,23,983,981,978,975,33,971,31,990,988,985,1906,1904,1902,993,351,2145,1383,331,330,328,326,2137,323,2135,339,1372,1370,294,293,291,289,2122,286,2120,283,2117,309,303,317,1348,1346,1344,245,244,242,2090,239,2088,236,2085,2082,260,2099,249,270,1307,1305,1303,1300,1314,189,2038,186,2036,183,2033,2030,2026,206,198,2047,194,216,1247,1245,1243,1240,227,1237,1255,2310,2302,2300,2286,2284,2281,565,563,561,558,575,1589,2261,2259,2256,2253,1542,521,519,517,514,2270,511,533,1569,1567,2223,2221,2218,2215,1483,2211,1480,459,456,453,2232,449,474,491,1527,1525,1522,2475,2467,2465,2451,2449,2446,801,800,2426,2424,2421,2418,1723,2435,780,778,775,2387,2385,2382,2379,1695,2375,1693,2396,735,733,730,727,749,1718,2616,2615,2604,2603,2601,2584,2583,2581,2579,1800,2591,2550,2549,2547,2545,1792,2542,1790,2558,929,2719,1841,2710,2708,1833,1831,2690,2688,2686,1815,1809,1808,1774,1756,1754,1737,1736,1734,1739,1816,1711,1676,1674,633,629,1638,1636,1633,1641,598,1605,1604,1602,1600,605,1609,1607,2327,887,853,1775,822,820,1757,1755,1584,524,1560,1558,468,464,1514,1511,1508,1519,408,404,400,1452,1447,1444,417,1458,1455,2208,364,361,358,2154,1401,1400,1398,1396,374,1393,371,1408,1406,1403,1413,2173,2172,772,726,723,1712,672,669,666,682,1678,1675,625,623,621,618,2331,636,632,1639,1637,1635,920,918,884,880,889,849,848,847,846,2497,855,852,1776,2641,2742,2787,1380,334,1367,1365,301,297,1340,1338,1335,1343,255,251,247,1296,1291,1288,265,1302,1299,2113,204,196,192,2042,1232,1230,1224,214,1220,210,1242,1239,1235,1250,2077,2075,151,148,1993,144,1990,1163,1162,1160,1158,1155,161,1152,157,1173,1171,1168,1165,168,1181,1178,2021,2020,2018,2023,585,560,557,1585,516,509,1562,1559,458,447,2227,472,1516,1513,1510,398,396,393,390,2181,386,2178,407,1453,1451,1449,1446,420,1460,2209,769,764,720,712,2391,729,1713,664,663,661,659,2352,656,2349,671,1679,1677,2553,922,919,2519,2516,885,883,881,2685,2661,2659,2767,2756,2755,140,1137,1136,130,127,1125,1124,1122,1127,109,106,102,1103,1102,1100,1098,116,1107,1105,1980,80,76,73,1947,1068,1067,1065,1063,90,1060,87,1075,1073,1070,1080,1966,1965,46,43,40,1912,36,1909,1019,1018,1016,1014,58,1011,55,1008,51,1029,1027,1024,1021,63,1037,1034,1940,1939,1937,1942,8,1866,4,1863,1,1860,956,954,952,949,946,17,14,969,967,964,961,27,957,24,979,976,972,1901,1900,1898,1896,986,1905,1903,350,349,1381,329,327,324,1368,1366,292,290,287,284,2118,304,1341,1339,1337,1345,243,240,237,2086,233,2083,254,1297,1295,1293,1290,1304,2114,190,187,184,2034,180,2031,177,2027,199,1233,1231,1229,1226,217,1223,1241,2078,2076,584,555,554,552,550,2282,562,1586,507,506,504,502,2257,499,2254,515,1563,1561,445,443,441,2219,438,2216,435,2212,460,454,475,1517,1515,1512,2447,798,797,2422,2419,770,768,766,2383,2380,2376,721,719,717,714,731,1714,2602,2582,2580,2548,2546,2543,923,921,2717,2706,2705,2683,2682,2680,1771,1752,1750,1733,1732,1731,1735,1814,1707,1670,1668,1631,1629,1626,1634,1599,1598,1596,1594,1603,1601,2326,1772,1753,1751,1581,1554,1552,1504,1501,1498,1509,1442,1437,1434,401,1448,1445,2206,1392,1391,1389,1387,1384,359,1399,1397,1394,1404,2171,2170,1708,1672,1669,619,1632,1630,1628,1773,1378,1363,1361,1333,1328,1336,1286,1281,1278,248,1292,1289,2111,1218,1216,1210,197,1206,193,1228,1225,1221,1236,2073,2071,1151,1150,1148,1146,152,1143,149,1140,145,1161,1159,1156,1153,158,1169,1166,2017,2016,2014,2019,1582,510,1556,1553,452,448,1506,1500,394,391,387,1443,1441,1439,1436,1450,2207,765,716,713,1709,662,660,657,1673,1671,916,914,879,878,877,882,1135,1134,1121,1120,1118,1123,1097,1096,1094,1092,103,1101,1099,1979,1059,1058,1056,1054,77,1051,74,1066,1064,1061,1071,1964,1963,1007,1006,1004,1002,999,41,996,37,1017,1015,1012,1009,52,1025,1022,1936,1935,1933,1938,942,940,938,935,932,5,2,955,953,950,947,18,943,15,965,962,958,1895,1894,1892,1890,973,1899,1897,1379,325,1364,1362,288,285,1334,1332,1330,241,238,234,1287,1285,1283,1280,1294,2112,188,185,181,178,2028,1219,1217,1215,1212,200,1209,1227,2074,2072,583,553,551,1583,505,503,500,513,1557,1555,444,442,439,436,2213,455,451,1507,1505,1502,796,763,762,760,767,711,710,708,706,2377,718,715,1710,2544,917,915,2681,1627,1597,1595,2325,1769,1749,1747,1499,1438,1435,2204,1390,1388,1385,1395,2169,2167,1704,1665,1662,1625,1623,1620,1770,1329,1282,1279,2109,1214,1207,1222,2068,2065,1149,1147,1144,1141,146,1157,1154,2013,2011,2008,2015,1579,1549,1546,1495,1487,1433,1431,1428,1425,388,1440,2205,1705,658,1667,1664,1119,1095,1093,1978,1057,1055,1052,1062,1962,1960,1005,1003,1e3,997,38,1013,1010,1932,1930,1927,1934,941,939,936,933,6,930,3,951,948,944,1889,1887,1884,1881,959,1893,1891,35,1377,1360,1358,1327,1325,1322,1331,1277,1275,1272,1269,235,1284,2110,1205,1204,1201,1198,182,1195,179,1213,2070,2067,1580,501,1551,1548,440,437,1497,1494,1490,1503,761,709,707,1706,913,912,2198,1386,2164,2161,1621,1766,2103,1208,2058,2054,1145,1142,2005,2002,1999,2009,1488,1429,1426,2200,1698,1659,1656,1975,1053,1957,1954,1001,998,1924,1921,1918,1928,937,934,931,1879,1876,1873,1870,945,1885,1882,1323,1273,1270,2105,1202,1199,1196,1211,2061,2057,1576,1543,1540,1484,1481,1478,1491,1700]);class Bw{constructor(i,o){this.bits=i,this.points=o}getBits(){return this.bits}getPoints(){return this.points}}class be{static detectMultiple(i,o,l){let u=i.getBlackMatrix(),f=be.detect(l,u);return f.length||(u=u.clone(),u.rotate180(),f=be.detect(l,u)),new Bw(u,f)}static detect(i,o){const l=new Array;let u=0,f=0,d=!1;for(;u<o.getHeight();){const m=be.findVertices(o,u,f);if(m[0]==null&&m[3]==null){if(!d)break;d=!1,f=0;for(const x of l)x[1]!=null&&(u=Math.trunc(Math.max(u,x[1].getY()))),x[3]!=null&&(u=Math.max(u,Math.trunc(x[3].getY())));u+=be.ROW_STEP;continue}if(d=!0,l.push(m),!i)break;m[2]!=null?(f=Math.trunc(m[2].getX()),u=Math.trunc(m[2].getY())):(f=Math.trunc(m[4].getX()),u=Math.trunc(m[4].getY()))}return l}static findVertices(i,o,l){const u=i.getHeight(),f=i.getWidth(),d=new Array(8);return be.copyToResult(d,be.findRowsWithPattern(i,u,f,o,l,be.START_PATTERN),be.INDEXES_START_PATTERN),d[4]!=null&&(l=Math.trunc(d[4].getX()),o=Math.trunc(d[4].getY())),be.copyToResult(d,be.findRowsWithPattern(i,u,f,o,l,be.STOP_PATTERN),be.INDEXES_STOP_PATTERN),d}static copyToResult(i,o,l){for(let u=0;u<l.length;u++)i[l[u]]=o[u]}static findRowsWithPattern(i,o,l,u,f,d){const m=new Array(4);let x=!1;const w=new Int32Array(d.length);for(;u<o;u+=be.ROW_STEP){let b=be.findGuardPattern(i,f,u,l,!1,d,w);if(b!=null){for(;u>0;){const N=be.findGuardPattern(i,f,--u,l,!1,d,w);if(N!=null)b=N;else{u++;break}}m[0]=new de(b[0],u),m[1]=new de(b[1],u),x=!0;break}}let E=u+1;if(x){let b=0,N=Int32Array.from([Math.trunc(m[0].getX()),Math.trunc(m[1].getX())]);for(;E<o;E++){const L=be.findGuardPattern(i,N[0],E,l,!1,d,w);if(L!=null&&Math.abs(N[0]-L[0])<be.MAX_PATTERN_DRIFT&&Math.abs(N[1]-L[1])<be.MAX_PATTERN_DRIFT)N=L,b=0;else{if(b>be.SKIPPED_ROW_COUNT_MAX)break;b++}}E-=b+1,m[2]=new de(N[0],E),m[3]=new de(N[1],E)}return E-u<be.BARCODE_MIN_HEIGHT&&_.fill(m,null),m}static findGuardPattern(i,o,l,u,f,d,m){_.fillWithin(m,0,m.length,0);let x=o,w=0;for(;i.get(x,l)&&x>0&&w++<be.MAX_PIXEL_DRIFT;)x--;let E=x,b=0,N=d.length;for(let L=f;E<u;E++)if(i.get(E,l)!==L)m[b]++;else{if(b===N-1){if(be.patternMatchVariance(m,d,be.MAX_INDIVIDUAL_VARIANCE)<be.MAX_AVG_VARIANCE)return new Int32Array([x,E]);x+=m[0]+m[1],R.arraycopy(m,2,m,0,b-1),m[b-1]=0,m[b]=0,b--}else b++;m[b]=1,L=!L}return b===N-1&&be.patternMatchVariance(m,d,be.MAX_INDIVIDUAL_VARIANCE)<be.MAX_AVG_VARIANCE?new Int32Array([x,E-1]):null}static patternMatchVariance(i,o,l){let u=i.length,f=0,d=0;for(let w=0;w<u;w++)f+=i[w],d+=o[w];if(f<d)return 1/0;let m=f/d;l*=m;let x=0;for(let w=0;w<u;w++){let E=i[w],b=o[w]*m,N=E>b?E-b:b-E;if(N>l)return 1/0;x+=N}return x/f}}be.INDEXES_START_PATTERN=Int32Array.from([0,4,1,5]),be.INDEXES_STOP_PATTERN=Int32Array.from([6,2,7,3]),be.MAX_AVG_VARIANCE=.42,be.MAX_INDIVIDUAL_VARIANCE=.8,be.START_PATTERN=Int32Array.from([8,1,1,1,1,1,1,3]),be.STOP_PATTERN=Int32Array.from([7,1,1,3,1,1,1,2,1]),be.MAX_PIXEL_DRIFT=3,be.MAX_PATTERN_DRIFT=5,be.SKIPPED_ROW_COUNT_MAX=25,be.ROW_STEP=5,be.BARCODE_MIN_HEIGHT=10;class Bt{constructor(i,o){if(o.length===0)throw new C;this.field=i;let l=o.length;if(l>1&&o[0]===0){let u=1;for(;u<l&&o[u]===0;)u++;u===l?this.coefficients=new Int32Array([0]):(this.coefficients=new Int32Array(l-u),R.arraycopy(o,u,this.coefficients,0,this.coefficients.length))}else this.coefficients=o}getCoefficients(){return this.coefficients}getDegree(){return this.coefficients.length-1}isZero(){return this.coefficients[0]===0}getCoefficient(i){return this.coefficients[this.coefficients.length-1-i]}evaluateAt(i){if(i===0)return this.getCoefficient(0);if(i===1){let u=0;for(let f of this.coefficients)u=this.field.add(u,f);return u}let o=this.coefficients[0],l=this.coefficients.length;for(let u=1;u<l;u++)o=this.field.add(this.field.multiply(i,o),this.coefficients[u]);return o}add(i){if(!this.field.equals(i.field))throw new C("ModulusPolys do not have same ModulusGF field");if(this.isZero())return i;if(i.isZero())return this;let o=this.coefficients,l=i.coefficients;if(o.length>l.length){let d=o;o=l,l=d}let u=new Int32Array(l.length),f=l.length-o.length;R.arraycopy(l,0,u,0,f);for(let d=f;d<l.length;d++)u[d]=this.field.add(o[d-f],l[d]);return new Bt(this.field,u)}subtract(i){if(!this.field.equals(i.field))throw new C("ModulusPolys do not have same ModulusGF field");return i.isZero()?this:this.add(i.negative())}multiply(i){return i instanceof Bt?this.multiplyOther(i):this.multiplyScalar(i)}multiplyOther(i){if(!this.field.equals(i.field))throw new C("ModulusPolys do not have same ModulusGF field");if(this.isZero()||i.isZero())return new Bt(this.field,new Int32Array([0]));let o=this.coefficients,l=o.length,u=i.coefficients,f=u.length,d=new Int32Array(l+f-1);for(let m=0;m<l;m++){let x=o[m];for(let w=0;w<f;w++)d[m+w]=this.field.add(d[m+w],this.field.multiply(x,u[w]))}return new Bt(this.field,d)}negative(){let i=this.coefficients.length,o=new Int32Array(i);for(let l=0;l<i;l++)o[l]=this.field.subtract(0,this.coefficients[l]);return new Bt(this.field,o)}multiplyScalar(i){if(i===0)return new Bt(this.field,new Int32Array([0]));if(i===1)return this;let o=this.coefficients.length,l=new Int32Array(o);for(let u=0;u<o;u++)l[u]=this.field.multiply(this.coefficients[u],i);return new Bt(this.field,l)}multiplyByMonomial(i,o){if(i<0)throw new C;if(o===0)return new Bt(this.field,new Int32Array([0]));let l=this.coefficients.length,u=new Int32Array(l+i);for(let f=0;f<l;f++)u[f]=this.field.multiply(this.coefficients[f],o);return new Bt(this.field,u)}toString(){let i=new xe;for(let o=this.getDegree();o>=0;o--){let l=this.getCoefficient(o);l!==0&&(l<0?(i.append(" - "),l=-l):i.length()>0&&i.append(" + "),(o===0||l!==1)&&i.append(l),o!==0&&(o===1?i.append("x"):(i.append("x^"),i.append(o))))}return i.toString()}}class Fw{add(i,o){return(i+o)%this.modulus}subtract(i,o){return(this.modulus+i-o)%this.modulus}exp(i){return this.expTable[i]}log(i){if(i===0)throw new C;return this.logTable[i]}inverse(i){if(i===0)throw new sl;return this.expTable[this.modulus-this.logTable[i]-1]}multiply(i,o){return i===0||o===0?0:this.expTable[(this.logTable[i]+this.logTable[o])%(this.modulus-1)]}getSize(){return this.modulus}equals(i){return i===this}}class Ju extends Fw{constructor(i,o){super(),this.modulus=i,this.expTable=new Int32Array(i),this.logTable=new Int32Array(i);let l=1;for(let u=0;u<i;u++)this.expTable[u]=l,l=l*o%i;for(let u=0;u<i-1;u++)this.logTable[this.expTable[u]]=u;this.zero=new Bt(this,new Int32Array([0])),this.one=new Bt(this,new Int32Array([1]))}getZero(){return this.zero}getOne(){return this.one}buildMonomial(i,o){if(i<0)throw new C;if(o===0)return this.zero;let l=new Int32Array(i+1);return l[0]=o,new Bt(this,l)}}Ju.PDF417_GF=new Ju(we.NUMBER_OF_CODEWORDS,3);class e1{constructor(){this.field=Ju.PDF417_GF}decode(i,o,l){let u=new Bt(this.field,i),f=new Int32Array(o),d=!1;for(let B=o;B>0;B--){let F=u.evaluateAt(this.field.exp(B));f[o-B]=F,F!==0&&(d=!0)}if(!d)return 0;let m=this.field.getOne();if(l!=null)for(const B of l){let F=this.field.exp(i.length-1-B),z=new Bt(this.field,new Int32Array([this.field.subtract(0,F),1]));m=m.multiply(z)}let x=new Bt(this.field,f),w=this.runEuclideanAlgorithm(this.field.buildMonomial(o,1),x,o),E=w[0],b=w[1],N=this.findErrorLocations(E),L=this.findErrorMagnitudes(b,E,N);for(let B=0;B<N.length;B++){let F=i.length-1-this.field.log(N[B]);if(F<0)throw v.getChecksumInstance();i[F]=this.field.subtract(i[F],L[B])}return N.length}runEuclideanAlgorithm(i,o,l){if(i.getDegree()<o.getDegree()){let N=i;i=o,o=N}let u=i,f=o,d=this.field.getZero(),m=this.field.getOne();for(;f.getDegree()>=Math.round(l/2);){let N=u,L=d;if(u=f,d=m,u.isZero())throw v.getChecksumInstance();f=N;let B=this.field.getZero(),F=u.getCoefficient(u.getDegree()),z=this.field.inverse(F);for(;f.getDegree()>=u.getDegree()&&!f.isZero();){let Q=f.getDegree()-u.getDegree(),ee=this.field.multiply(f.getCoefficient(f.getDegree()),z);B=B.add(this.field.buildMonomial(Q,ee)),f=f.subtract(u.multiplyByMonomial(Q,ee))}m=B.multiply(d).subtract(L).negative()}let x=m.getCoefficient(0);if(x===0)throw v.getChecksumInstance();let w=this.field.inverse(x),E=m.multiply(w),b=f.multiply(w);return[E,b]}findErrorLocations(i){let o=i.getDegree(),l=new Int32Array(o),u=0;for(let f=1;f<this.field.getSize()&&u<o;f++)i.evaluateAt(f)===0&&(l[u]=this.field.inverse(f),u++);if(u!==o)throw v.getChecksumInstance();return l}findErrorMagnitudes(i,o,l){let u=o.getDegree(),f=new Int32Array(u);for(let w=1;w<=u;w++)f[u-w]=this.field.multiply(w,o.getCoefficient(w));let d=new Bt(this.field,f),m=l.length,x=new Int32Array(m);for(let w=0;w<m;w++){let E=this.field.inverse(l[w]),b=this.field.subtract(0,i.evaluateAt(E)),N=this.field.inverse(d.evaluateAt(E));x[w]=this.field.multiply(b,N)}return x}}class zi{constructor(i,o,l,u,f){i instanceof zi?this.constructor_2(i):this.constructor_1(i,o,l,u,f)}constructor_1(i,o,l,u,f){const d=o==null||l==null,m=u==null||f==null;if(d&&m)throw new W;d?(o=new de(0,u.getY()),l=new de(0,f.getY())):m&&(u=new de(i.getWidth()-1,o.getY()),f=new de(i.getWidth()-1,l.getY())),this.image=i,this.topLeft=o,this.bottomLeft=l,this.topRight=u,this.bottomRight=f,this.minX=Math.trunc(Math.min(o.getX(),l.getX())),this.maxX=Math.trunc(Math.max(u.getX(),f.getX())),this.minY=Math.trunc(Math.min(o.getY(),u.getY())),this.maxY=Math.trunc(Math.max(l.getY(),f.getY()))}constructor_2(i){this.image=i.image,this.topLeft=i.getTopLeft(),this.bottomLeft=i.getBottomLeft(),this.topRight=i.getTopRight(),this.bottomRight=i.getBottomRight(),this.minX=i.getMinX(),this.maxX=i.getMaxX(),this.minY=i.getMinY(),this.maxY=i.getMaxY()}static merge(i,o){return i==null?o:o==null?i:new zi(i.image,i.topLeft,i.bottomLeft,o.topRight,o.bottomRight)}addMissingRows(i,o,l){let u=this.topLeft,f=this.bottomLeft,d=this.topRight,m=this.bottomRight;if(i>0){let x=l?this.topLeft:this.topRight,w=Math.trunc(x.getY()-i);w<0&&(w=0);let E=new de(x.getX(),w);l?u=E:d=E}if(o>0){let x=l?this.bottomLeft:this.bottomRight,w=Math.trunc(x.getY()+o);w>=this.image.getHeight()&&(w=this.image.getHeight()-1);let E=new de(x.getX(),w);l?f=E:m=E}return new zi(this.image,u,f,d,m)}getMinX(){return this.minX}getMaxX(){return this.maxX}getMinY(){return this.minY}getMaxY(){return this.maxY}getTopLeft(){return this.topLeft}getTopRight(){return this.topRight}getBottomLeft(){return this.bottomLeft}getBottomRight(){return this.bottomRight}}class jw{constructor(i,o,l,u){this.columnCount=i,this.errorCorrectionLevel=u,this.rowCountUpperPart=o,this.rowCountLowerPart=l,this.rowCount=o+l}getColumnCount(){return this.columnCount}getErrorCorrectionLevel(){return this.errorCorrectionLevel}getRowCount(){return this.rowCount}getRowCountUpperPart(){return this.rowCountUpperPart}getRowCountLowerPart(){return this.rowCountLowerPart}}class vo{constructor(){this.buffer=""}static form(i,o){let l=-1;function u(d,m,x,w,E,b){if(d==="%%")return"%";if(o[++l]===void 0)return;d=w?parseInt(w.substr(1)):void 0;let N=E?parseInt(E.substr(1)):void 0,L;switch(b){case"s":L=o[l];break;case"c":L=o[l][0];break;case"f":L=parseFloat(o[l]).toFixed(d);break;case"p":L=parseFloat(o[l]).toPrecision(d);break;case"e":L=parseFloat(o[l]).toExponential(d);break;case"x":L=parseInt(o[l]).toString(N||16);break;case"d":L=parseFloat(parseInt(o[l],N||10).toPrecision(d)).toFixed(0);break}L=typeof L=="object"?JSON.stringify(L):(+L).toString(N);let B=parseInt(x),F=x&&x[0]+""=="0"?"0":" ";for(;L.length<B;)L=m!==void 0?L+F:F+L;return L}let f=/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g;return i.replace(f,u)}format(i,...o){this.buffer+=vo.form(i,o)}toString(){return this.buffer}}class _o{constructor(i){this.boundingBox=new zi(i),this.codewords=new Array(i.getMaxY()-i.getMinY()+1)}getCodewordNearby(i){let o=this.getCodeword(i);if(o!=null)return o;for(let l=1;l<_o.MAX_NEARBY_DISTANCE;l++){let u=this.imageRowToCodewordIndex(i)-l;if(u>=0&&(o=this.codewords[u],o!=null)||(u=this.imageRowToCodewordIndex(i)+l,u<this.codewords.length&&(o=this.codewords[u],o!=null)))return o}return null}imageRowToCodewordIndex(i){return i-this.boundingBox.getMinY()}setCodeword(i,o){this.codewords[this.imageRowToCodewordIndex(i)]=o}getCodeword(i){return this.codewords[this.imageRowToCodewordIndex(i)]}getBoundingBox(){return this.boundingBox}getCodewords(){return this.codewords}toString(){const i=new vo;let o=0;for(const l of this.codewords){if(l==null){i.format("%3d:    |   %n",o++);continue}i.format("%3d: %3d|%3d%n",o++,l.getRowNumber(),l.getValue())}return i.toString()}}_o.MAX_NEARBY_DISTANCE=5;class Io{constructor(){this.values=new Map}setValue(i){i=Math.trunc(i);let o=this.values.get(i);o==null&&(o=0),o++,this.values.set(i,o)}getValue(){let i=-1,o=new Array;for(const[l,u]of this.values.entries()){const f={getKey:()=>l,getValue:()=>u};f.getValue()>i?(i=f.getValue(),o=[],o.push(f.getKey())):f.getValue()===i&&o.push(f.getKey())}return we.toIntArray(o)}getConfidence(i){return this.values.get(i)}}class t1 extends _o{constructor(i,o){super(i),this._isLeft=o}setRowNumbers(){for(let i of this.getCodewords())i!=null&&i.setRowNumberAsRowIndicatorColumn()}adjustCompleteIndicatorColumnRowNumbers(i){let o=this.getCodewords();this.setRowNumbers(),this.removeIncorrectCodewords(o,i);let l=this.getBoundingBox(),u=this._isLeft?l.getTopLeft():l.getTopRight(),f=this._isLeft?l.getBottomLeft():l.getBottomRight(),d=this.imageRowToCodewordIndex(Math.trunc(u.getY())),m=this.imageRowToCodewordIndex(Math.trunc(f.getY())),x=-1,w=1,E=0;for(let b=d;b<m;b++){if(o[b]==null)continue;let N=o[b],L=N.getRowNumber()-x;if(L===0)E++;else if(L===1)w=Math.max(w,E),E=1,x=N.getRowNumber();else if(L<0||N.getRowNumber()>=i.getRowCount()||L>b)o[b]=null;else{let B;w>2?B=(w-2)*L:B=L;let F=B>=b;for(let z=1;z<=B&&!F;z++)F=o[b-z]!=null;F?o[b]=null:(x=N.getRowNumber(),E=1)}}}getRowHeights(){let i=this.getBarcodeMetadata();if(i==null)return null;this.adjustIncompleteIndicatorColumnRowNumbers(i);let o=new Int32Array(i.getRowCount());for(let l of this.getCodewords())if(l!=null){let u=l.getRowNumber();if(u>=o.length)continue;o[u]++}return o}adjustIncompleteIndicatorColumnRowNumbers(i){let o=this.getBoundingBox(),l=this._isLeft?o.getTopLeft():o.getTopRight(),u=this._isLeft?o.getBottomLeft():o.getBottomRight(),f=this.imageRowToCodewordIndex(Math.trunc(l.getY())),d=this.imageRowToCodewordIndex(Math.trunc(u.getY())),m=this.getCodewords(),x=-1;for(let w=f;w<d;w++){if(m[w]==null)continue;let E=m[w];E.setRowNumberAsRowIndicatorColumn();let b=E.getRowNumber()-x;b===0||(b===1?x=E.getRowNumber():E.getRowNumber()>=i.getRowCount()?m[w]=null:x=E.getRowNumber())}}getBarcodeMetadata(){let i=this.getCodewords(),o=new Io,l=new Io,u=new Io,f=new Io;for(let m of i){if(m==null)continue;m.setRowNumberAsRowIndicatorColumn();let x=m.getValue()%30,w=m.getRowNumber();switch(this._isLeft||(w+=2),w%3){case 0:l.setValue(x*3+1);break;case 1:f.setValue(x/3),u.setValue(x%3);break;case 2:o.setValue(x+1);break}}if(o.getValue().length===0||l.getValue().length===0||u.getValue().length===0||f.getValue().length===0||o.getValue()[0]<1||l.getValue()[0]+u.getValue()[0]<we.MIN_ROWS_IN_BARCODE||l.getValue()[0]+u.getValue()[0]>we.MAX_ROWS_IN_BARCODE)return null;let d=new jw(o.getValue()[0],l.getValue()[0],u.getValue()[0],f.getValue()[0]);return this.removeIncorrectCodewords(i,d),d}removeIncorrectCodewords(i,o){for(let l=0;l<i.length;l++){let u=i[l];if(i[l]==null)continue;let f=u.getValue()%30,d=u.getRowNumber();if(d>o.getRowCount()){i[l]=null;continue}switch(this._isLeft||(d+=2),d%3){case 0:f*3+1!==o.getRowCountUpperPart()&&(i[l]=null);break;case 1:(Math.trunc(f/3)!==o.getErrorCorrectionLevel()||f%3!==o.getRowCountLowerPart())&&(i[l]=null);break;case 2:f+1!==o.getColumnCount()&&(i[l]=null);break}}}isLeft(){return this._isLeft}toString(){return"IsLeft: "+this._isLeft+`
`+super.toString()}}class To{constructor(i,o){this.ADJUST_ROW_NUMBER_SKIP=2,this.barcodeMetadata=i,this.barcodeColumnCount=i.getColumnCount(),this.boundingBox=o,this.detectionResultColumns=new Array(this.barcodeColumnCount+2)}getDetectionResultColumns(){this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[0]),this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[this.barcodeColumnCount+1]);let i=we.MAX_CODEWORDS_IN_BARCODE,o;do o=i,i=this.adjustRowNumbersAndGetCount();while(i>0&&i<o);return this.detectionResultColumns}adjustIndicatorColumnRowNumbers(i){i!=null&&i.adjustCompleteIndicatorColumnRowNumbers(this.barcodeMetadata)}adjustRowNumbersAndGetCount(){let i=this.adjustRowNumbersByRow();if(i===0)return 0;for(let o=1;o<this.barcodeColumnCount+1;o++){let l=this.detectionResultColumns[o].getCodewords();for(let u=0;u<l.length;u++)l[u]!=null&&(l[u].hasValidRowNumber()||this.adjustRowNumbers(o,u,l))}return i}adjustRowNumbersByRow(){return this.adjustRowNumbersFromBothRI(),this.adjustRowNumbersFromLRI()+this.adjustRowNumbersFromRRI()}adjustRowNumbersFromBothRI(){if(this.detectionResultColumns[0]==null||this.detectionResultColumns[this.barcodeColumnCount+1]==null)return;let i=this.detectionResultColumns[0].getCodewords(),o=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords();for(let l=0;l<i.length;l++)if(i[l]!=null&&o[l]!=null&&i[l].getRowNumber()===o[l].getRowNumber())for(let u=1;u<=this.barcodeColumnCount;u++){let f=this.detectionResultColumns[u].getCodewords()[l];f!=null&&(f.setRowNumber(i[l].getRowNumber()),f.hasValidRowNumber()||(this.detectionResultColumns[u].getCodewords()[l]=null))}}adjustRowNumbersFromRRI(){if(this.detectionResultColumns[this.barcodeColumnCount+1]==null)return 0;let i=0,o=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords();for(let l=0;l<o.length;l++){if(o[l]==null)continue;let u=o[l].getRowNumber(),f=0;for(let d=this.barcodeColumnCount+1;d>0&&f<this.ADJUST_ROW_NUMBER_SKIP;d--){let m=this.detectionResultColumns[d].getCodewords()[l];m!=null&&(f=To.adjustRowNumberIfValid(u,f,m),m.hasValidRowNumber()||i++)}}return i}adjustRowNumbersFromLRI(){if(this.detectionResultColumns[0]==null)return 0;let i=0,o=this.detectionResultColumns[0].getCodewords();for(let l=0;l<o.length;l++){if(o[l]==null)continue;let u=o[l].getRowNumber(),f=0;for(let d=1;d<this.barcodeColumnCount+1&&f<this.ADJUST_ROW_NUMBER_SKIP;d++){let m=this.detectionResultColumns[d].getCodewords()[l];m!=null&&(f=To.adjustRowNumberIfValid(u,f,m),m.hasValidRowNumber()||i++)}}return i}static adjustRowNumberIfValid(i,o,l){return l==null||l.hasValidRowNumber()||(l.isValidRowNumber(i)?(l.setRowNumber(i),o=0):++o),o}adjustRowNumbers(i,o,l){if(!this.detectionResultColumns[i-1])return;let u=l[o],f=this.detectionResultColumns[i-1].getCodewords(),d=f;this.detectionResultColumns[i+1]!=null&&(d=this.detectionResultColumns[i+1].getCodewords());let m=new Array(14);m[2]=f[o],m[3]=d[o],o>0&&(m[0]=l[o-1],m[4]=f[o-1],m[5]=d[o-1]),o>1&&(m[8]=l[o-2],m[10]=f[o-2],m[11]=d[o-2]),o<l.length-1&&(m[1]=l[o+1],m[6]=f[o+1],m[7]=d[o+1]),o<l.length-2&&(m[9]=l[o+2],m[12]=f[o+2],m[13]=d[o+2]);for(let x of m)if(To.adjustRowNumber(u,x))return}static adjustRowNumber(i,o){return o==null?!1:o.hasValidRowNumber()&&o.getBucket()===i.getBucket()?(i.setRowNumber(o.getRowNumber()),!0):!1}getBarcodeColumnCount(){return this.barcodeColumnCount}getBarcodeRowCount(){return this.barcodeMetadata.getRowCount()}getBarcodeECLevel(){return this.barcodeMetadata.getErrorCorrectionLevel()}setBoundingBox(i){this.boundingBox=i}getBoundingBox(){return this.boundingBox}setDetectionResultColumn(i,o){this.detectionResultColumns[i]=o}getDetectionResultColumn(i){return this.detectionResultColumns[i]}toString(){let i=this.detectionResultColumns[0];i==null&&(i=this.detectionResultColumns[this.barcodeColumnCount+1]);let o=new vo;for(let l=0;l<i.getCodewords().length;l++){o.format("CW %3d:",l);for(let u=0;u<this.barcodeColumnCount+2;u++){if(this.detectionResultColumns[u]==null){o.format("    |   ");continue}let f=this.detectionResultColumns[u].getCodewords()[l];if(f==null){o.format("    |   ");continue}o.format(" %3d|%3d",f.getRowNumber(),f.getValue())}o.format("%n")}return o.toString()}}class No{constructor(i,o,l,u){this.rowNumber=No.BARCODE_ROW_UNKNOWN,this.startX=Math.trunc(i),this.endX=Math.trunc(o),this.bucket=Math.trunc(l),this.value=Math.trunc(u)}hasValidRowNumber(){return this.isValidRowNumber(this.rowNumber)}isValidRowNumber(i){return i!==No.BARCODE_ROW_UNKNOWN&&this.bucket===i%3*3}setRowNumberAsRowIndicatorColumn(){this.rowNumber=Math.trunc(Math.trunc(this.value/30)*3+Math.trunc(this.bucket/3))}getWidth(){return this.endX-this.startX}getStartX(){return this.startX}getEndX(){return this.endX}getBucket(){return this.bucket}getValue(){return this.value}getRowNumber(){return this.rowNumber}setRowNumber(i){this.rowNumber=i}toString(){return this.rowNumber+"|"+this.value}}No.BARCODE_ROW_UNKNOWN=-1;class un{static initialize(){for(let i=0;i<we.SYMBOL_TABLE.length;i++){let o=we.SYMBOL_TABLE[i],l=o&1;for(let u=0;u<we.BARS_IN_MODULE;u++){let f=0;for(;(o&1)===l;)f+=1,o>>=1;l=o&1,un.RATIOS_TABLE[i]||(un.RATIOS_TABLE[i]=new Array(we.BARS_IN_MODULE)),un.RATIOS_TABLE[i][we.BARS_IN_MODULE-u-1]=Math.fround(f/we.MODULES_IN_CODEWORD)}}this.bSymbolTableReady=!0}static getDecodedValue(i){let o=un.getDecodedCodewordValue(un.sampleBitCounts(i));return o!==-1?o:un.getClosestDecodedValue(i)}static sampleBitCounts(i){let o=Oe.sum(i),l=new Int32Array(we.BARS_IN_MODULE),u=0,f=0;for(let d=0;d<we.MODULES_IN_CODEWORD;d++){let m=o/(2*we.MODULES_IN_CODEWORD)+d*o/we.MODULES_IN_CODEWORD;f+i[u]<=m&&(f+=i[u],u++),l[u]++}return l}static getDecodedCodewordValue(i){let o=un.getBitValue(i);return we.getCodeword(o)===-1?-1:o}static getBitValue(i){let o=0;for(let l=0;l<i.length;l++)for(let u=0;u<i[l];u++)o=o<<1|(l%2===0?1:0);return Math.trunc(o)}static getClosestDecodedValue(i){let o=Oe.sum(i),l=new Array(we.BARS_IN_MODULE);if(o>1)for(let d=0;d<l.length;d++)l[d]=Math.fround(i[d]/o);let u=ol.MAX_VALUE,f=-1;this.bSymbolTableReady||un.initialize();for(let d=0;d<un.RATIOS_TABLE.length;d++){let m=0,x=un.RATIOS_TABLE[d];for(let w=0;w<we.BARS_IN_MODULE;w++){let E=Math.fround(x[w]-l[w]);if(m+=Math.fround(E*E),m>=u)break}m<u&&(u=m,f=we.SYMBOL_TABLE[d])}return f}}un.bSymbolTableReady=!1,un.RATIOS_TABLE=new Array(we.SYMBOL_TABLE.length).map(S=>new Array(we.BARS_IN_MODULE));class n1{constructor(){this.segmentCount=-1,this.fileSize=-1,this.timestamp=-1,this.checksum=-1}getSegmentIndex(){return this.segmentIndex}setSegmentIndex(i){this.segmentIndex=i}getFileId(){return this.fileId}setFileId(i){this.fileId=i}getOptionalData(){return this.optionalData}setOptionalData(i){this.optionalData=i}isLastSegment(){return this.lastSegment}setLastSegment(i){this.lastSegment=i}getSegmentCount(){return this.segmentCount}setSegmentCount(i){this.segmentCount=i}getSender(){return this.sender||null}setSender(i){this.sender=i}getAddressee(){return this.addressee||null}setAddressee(i){this.addressee=i}getFileName(){return this.fileName}setFileName(i){this.fileName=i}getFileSize(){return this.fileSize}setFileSize(i){this.fileSize=i}getChecksum(){return this.checksum}setChecksum(i){this.checksum=i}getTimestamp(){return this.timestamp}setTimestamp(i){this.timestamp=i}}class r1{static parseLong(i,o=void 0){return parseInt(i,o)}}class i1 extends g{}i1.kind="NullPointerException";class Uw{writeBytes(i){this.writeBytesOffset(i,0,i.length)}writeBytesOffset(i,o,l){if(i==null)throw new i1;if(o<0||o>i.length||l<0||o+l>i.length||o+l<0)throw new D;if(l===0)return;for(let u=0;u<l;u++)this.write(i[o+u])}flush(){}close(){}}class zw extends g{}class Hw extends Uw{constructor(i=32){if(super(),this.count=0,i<0)throw new C("Negative initial size: "+i);this.buf=new Uint8Array(i)}ensureCapacity(i){i-this.buf.length>0&&this.grow(i)}grow(i){let l=this.buf.length<<1;if(l-i<0&&(l=i),l<0){if(i<0)throw new zw;l=O.MAX_VALUE}this.buf=_.copyOfUint8Array(this.buf,l)}write(i){this.ensureCapacity(this.count+1),this.buf[this.count]=i,this.count+=1}writeBytesOffset(i,o,l){if(o<0||o>i.length||l<0||o+l-i.length>0)throw new D;this.ensureCapacity(this.count+l),R.arraycopy(i,o,this.buf,this.count,l),this.count+=l}writeTo(i){i.writeBytesOffset(this.buf,0,this.count)}reset(){this.count=0}toByteArray(){return _.copyOfUint8Array(this.buf,this.count)}size(){return this.count}toString(i){return i?typeof i=="string"?this.toString_string(i):this.toString_number(i):this.toString_void()}toString_void(){return new String(this.buf).toString()}toString_string(i){return new String(this.buf).toString()}toString_number(i){return new String(this.buf).toString()}close(){}}var Ye;(function(S){S[S.ALPHA=0]="ALPHA",S[S.LOWER=1]="LOWER",S[S.MIXED=2]="MIXED",S[S.PUNCT=3]="PUNCT",S[S.ALPHA_SHIFT=4]="ALPHA_SHIFT",S[S.PUNCT_SHIFT=5]="PUNCT_SHIFT"})(Ye||(Ye={}));function s1(){if(typeof window<"u")return window.BigInt||null;if(typeof Ro<"u")return Ro.BigInt||null;if(typeof self<"u")return self.BigInt||null;throw new Error("Can't search globals for BigInt!")}let hl;function ri(S){if(typeof hl>"u"&&(hl=s1()),hl===null)throw new Error("BigInt is not supported!");return hl(S)}function Ww(){let S=[];S[0]=ri(1);let i=ri(900);S[1]=i;for(let o=2;o<16;o++)S[o]=S[o-1]*i;return S}class X{static decode(i,o){let l=new xe(""),u=Z.ISO8859_1;l.enableDecoding(u);let f=1,d=i[f++],m=new n1;for(;f<i[0];){switch(d){case X.TEXT_COMPACTION_MODE_LATCH:f=X.textCompaction(i,f,l);break;case X.BYTE_COMPACTION_MODE_LATCH:case X.BYTE_COMPACTION_MODE_LATCH_6:f=X.byteCompaction(d,i,u,f,l);break;case X.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:l.append(i[f++]);break;case X.NUMERIC_COMPACTION_MODE_LATCH:f=X.numericCompaction(i,f,l);break;case X.ECI_CHARSET:Z.getCharacterSetECIByValue(i[f++]);break;case X.ECI_GENERAL_PURPOSE:f+=2;break;case X.ECI_USER_DEFINED:f++;break;case X.BEGIN_MACRO_PDF417_CONTROL_BLOCK:f=X.decodeMacroBlock(i,f,m);break;case X.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case X.MACRO_PDF417_TERMINATOR:throw new j;default:f--,f=X.textCompaction(i,f,l);break}if(f<i.length)d=i[f++];else throw j.getFormatInstance()}if(l.length()===0)throw j.getFormatInstance();let x=new Co(null,l.toString(),null,o);return x.setOther(m),x}static decodeMacroBlock(i,o,l){if(o+X.NUMBER_OF_SEQUENCE_CODEWORDS>i[0])throw j.getFormatInstance();let u=new Int32Array(X.NUMBER_OF_SEQUENCE_CODEWORDS);for(let m=0;m<X.NUMBER_OF_SEQUENCE_CODEWORDS;m++,o++)u[m]=i[o];l.setSegmentIndex(O.parseInt(X.decodeBase900toBase10(u,X.NUMBER_OF_SEQUENCE_CODEWORDS)));let f=new xe;o=X.textCompaction(i,o,f),l.setFileId(f.toString());let d=-1;for(i[o]===X.BEGIN_MACRO_PDF417_OPTIONAL_FIELD&&(d=o+1);o<i[0];)switch(i[o]){case X.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:switch(o++,i[o]){case X.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME:let m=new xe;o=X.textCompaction(i,o+1,m),l.setFileName(m.toString());break;case X.MACRO_PDF417_OPTIONAL_FIELD_SENDER:let x=new xe;o=X.textCompaction(i,o+1,x),l.setSender(x.toString());break;case X.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE:let w=new xe;o=X.textCompaction(i,o+1,w),l.setAddressee(w.toString());break;case X.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT:let E=new xe;o=X.numericCompaction(i,o+1,E),l.setSegmentCount(O.parseInt(E.toString()));break;case X.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP:let b=new xe;o=X.numericCompaction(i,o+1,b),l.setTimestamp(r1.parseLong(b.toString()));break;case X.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM:let N=new xe;o=X.numericCompaction(i,o+1,N),l.setChecksum(O.parseInt(N.toString()));break;case X.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE:let L=new xe;o=X.numericCompaction(i,o+1,L),l.setFileSize(r1.parseLong(L.toString()));break;default:throw j.getFormatInstance()}break;case X.MACRO_PDF417_TERMINATOR:o++,l.setLastSegment(!0);break;default:throw j.getFormatInstance()}if(d!==-1){let m=o-d;l.isLastSegment()&&m--,l.setOptionalData(_.copyOfRange(i,d,d+m))}return o}static textCompaction(i,o,l){let u=new Int32Array((i[0]-o)*2),f=new Int32Array((i[0]-o)*2),d=0,m=!1;for(;o<i[0]&&!m;){let x=i[o++];if(x<X.TEXT_COMPACTION_MODE_LATCH)u[d]=x/30,u[d+1]=x%30,d+=2;else switch(x){case X.TEXT_COMPACTION_MODE_LATCH:u[d++]=X.TEXT_COMPACTION_MODE_LATCH;break;case X.BYTE_COMPACTION_MODE_LATCH:case X.BYTE_COMPACTION_MODE_LATCH_6:case X.NUMERIC_COMPACTION_MODE_LATCH:case X.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case X.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case X.MACRO_PDF417_TERMINATOR:o--,m=!0;break;case X.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:u[d]=X.MODE_SHIFT_TO_BYTE_COMPACTION_MODE,x=i[o++],f[d]=x,d++;break}}return X.decodeTextCompaction(u,f,d,l),o}static decodeTextCompaction(i,o,l,u){let f=Ye.ALPHA,d=Ye.ALPHA,m=0;for(;m<l;){let x=i[m],w="";switch(f){case Ye.ALPHA:if(x<26)w=String.fromCharCode(65+x);else switch(x){case 26:w=" ";break;case X.LL:f=Ye.LOWER;break;case X.ML:f=Ye.MIXED;break;case X.PS:d=f,f=Ye.PUNCT_SHIFT;break;case X.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:u.append(o[m]);break;case X.TEXT_COMPACTION_MODE_LATCH:f=Ye.ALPHA;break}break;case Ye.LOWER:if(x<26)w=String.fromCharCode(97+x);else switch(x){case 26:w=" ";break;case X.AS:d=f,f=Ye.ALPHA_SHIFT;break;case X.ML:f=Ye.MIXED;break;case X.PS:d=f,f=Ye.PUNCT_SHIFT;break;case X.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:u.append(o[m]);break;case X.TEXT_COMPACTION_MODE_LATCH:f=Ye.ALPHA;break}break;case Ye.MIXED:if(x<X.PL)w=X.MIXED_CHARS[x];else switch(x){case X.PL:f=Ye.PUNCT;break;case 26:w=" ";break;case X.LL:f=Ye.LOWER;break;case X.AL:f=Ye.ALPHA;break;case X.PS:d=f,f=Ye.PUNCT_SHIFT;break;case X.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:u.append(o[m]);break;case X.TEXT_COMPACTION_MODE_LATCH:f=Ye.ALPHA;break}break;case Ye.PUNCT:if(x<X.PAL)w=X.PUNCT_CHARS[x];else switch(x){case X.PAL:f=Ye.ALPHA;break;case X.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:u.append(o[m]);break;case X.TEXT_COMPACTION_MODE_LATCH:f=Ye.ALPHA;break}break;case Ye.ALPHA_SHIFT:if(f=d,x<26)w=String.fromCharCode(65+x);else switch(x){case 26:w=" ";break;case X.TEXT_COMPACTION_MODE_LATCH:f=Ye.ALPHA;break}break;case Ye.PUNCT_SHIFT:if(f=d,x<X.PAL)w=X.PUNCT_CHARS[x];else switch(x){case X.PAL:f=Ye.ALPHA;break;case X.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:u.append(o[m]);break;case X.TEXT_COMPACTION_MODE_LATCH:f=Ye.ALPHA;break}break}w!==""&&u.append(w),m++}}static byteCompaction(i,o,l,u,f){let d=new Hw,m=0,x=0,w=!1;switch(i){case X.BYTE_COMPACTION_MODE_LATCH:let E=new Int32Array(6),b=o[u++];for(;u<o[0]&&!w;)switch(E[m++]=b,x=900*x+b,b=o[u++],b){case X.TEXT_COMPACTION_MODE_LATCH:case X.BYTE_COMPACTION_MODE_LATCH:case X.NUMERIC_COMPACTION_MODE_LATCH:case X.BYTE_COMPACTION_MODE_LATCH_6:case X.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case X.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case X.MACRO_PDF417_TERMINATOR:u--,w=!0;break;default:if(m%5===0&&m>0){for(let N=0;N<6;++N)d.write(Number(ri(x)>>ri(8*(5-N))));x=0,m=0}break}u===o[0]&&b<X.TEXT_COMPACTION_MODE_LATCH&&(E[m++]=b);for(let N=0;N<m;N++)d.write(E[N]);break;case X.BYTE_COMPACTION_MODE_LATCH_6:for(;u<o[0]&&!w;){let N=o[u++];if(N<X.TEXT_COMPACTION_MODE_LATCH)m++,x=900*x+N;else switch(N){case X.TEXT_COMPACTION_MODE_LATCH:case X.BYTE_COMPACTION_MODE_LATCH:case X.NUMERIC_COMPACTION_MODE_LATCH:case X.BYTE_COMPACTION_MODE_LATCH_6:case X.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case X.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case X.MACRO_PDF417_TERMINATOR:u--,w=!0;break}if(m%5===0&&m>0){for(let L=0;L<6;++L)d.write(Number(ri(x)>>ri(8*(5-L))));x=0,m=0}}break}return f.append(he.decode(d.toByteArray(),l)),u}static numericCompaction(i,o,l){let u=0,f=!1,d=new Int32Array(X.MAX_NUMERIC_CODEWORDS);for(;o<i[0]&&!f;){let m=i[o++];if(o===i[0]&&(f=!0),m<X.TEXT_COMPACTION_MODE_LATCH)d[u]=m,u++;else switch(m){case X.TEXT_COMPACTION_MODE_LATCH:case X.BYTE_COMPACTION_MODE_LATCH:case X.BYTE_COMPACTION_MODE_LATCH_6:case X.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case X.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case X.MACRO_PDF417_TERMINATOR:o--,f=!0;break}(u%X.MAX_NUMERIC_CODEWORDS===0||m===X.NUMERIC_COMPACTION_MODE_LATCH||f)&&u>0&&(l.append(X.decodeBase900toBase10(d,u)),u=0)}return o}static decodeBase900toBase10(i,o){let l=ri(0);for(let f=0;f<o;f++)l+=X.EXP900[o-f-1]*ri(i[f]);let u=l.toString();if(u.charAt(0)!=="1")throw new j;return u.substring(1)}}X.TEXT_COMPACTION_MODE_LATCH=900,X.BYTE_COMPACTION_MODE_LATCH=901,X.NUMERIC_COMPACTION_MODE_LATCH=902,X.BYTE_COMPACTION_MODE_LATCH_6=924,X.ECI_USER_DEFINED=925,X.ECI_GENERAL_PURPOSE=926,X.ECI_CHARSET=927,X.BEGIN_MACRO_PDF417_CONTROL_BLOCK=928,X.BEGIN_MACRO_PDF417_OPTIONAL_FIELD=923,X.MACRO_PDF417_TERMINATOR=922,X.MODE_SHIFT_TO_BYTE_COMPACTION_MODE=913,X.MAX_NUMERIC_CODEWORDS=15,X.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME=0,X.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT=1,X.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP=2,X.MACRO_PDF417_OPTIONAL_FIELD_SENDER=3,X.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE=4,X.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE=5,X.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM=6,X.PL=25,X.LL=27,X.AS=27,X.ML=28,X.AL=28,X.PS=29,X.PAL=29,X.PUNCT_CHARS=`;<>@[\\]_\`~!\r	,:
-.$/"|*()?{}'`,X.MIXED_CHARS="0123456789&\r	,:#-.$/+%*=^",X.EXP900=s1()?Ww():[],X.NUMBER_OF_SEQUENCE_CODEWORDS=2;class _e{constructor(){}static decode(i,o,l,u,f,d,m){let x=new zi(i,o,l,u,f),w=null,E=null,b;for(let B=!0;;B=!1){if(o!=null&&(w=_e.getRowIndicatorColumn(i,x,o,!0,d,m)),u!=null&&(E=_e.getRowIndicatorColumn(i,x,u,!1,d,m)),b=_e.merge(w,E),b==null)throw W.getNotFoundInstance();let F=b.getBoundingBox();if(B&&F!=null&&(F.getMinY()<x.getMinY()||F.getMaxY()>x.getMaxY()))x=F;else break}b.setBoundingBox(x);let N=b.getBarcodeColumnCount()+1;b.setDetectionResultColumn(0,w),b.setDetectionResultColumn(N,E);let L=w!=null;for(let B=1;B<=N;B++){let F=L?B:N-B;if(b.getDetectionResultColumn(F)!==void 0)continue;let z;F===0||F===N?z=new t1(x,F===0):z=new _o(x),b.setDetectionResultColumn(F,z);let Q=-1,ee=Q;for(let te=x.getMinY();te<=x.getMaxY();te++){if(Q=_e.getStartColumn(b,F,te,L),Q<0||Q>x.getMaxX()){if(ee===-1)continue;Q=ee}let $=_e.detectCodeword(i,x.getMinX(),x.getMaxX(),L,Q,te,d,m);$!=null&&(z.setCodeword(te,$),ee=Q,d=Math.min(d,$.getWidth()),m=Math.max(m,$.getWidth()))}}return _e.createDecoderResult(b)}static merge(i,o){if(i==null&&o==null)return null;let l=_e.getBarcodeMetadata(i,o);if(l==null)return null;let u=zi.merge(_e.adjustBoundingBox(i),_e.adjustBoundingBox(o));return new To(l,u)}static adjustBoundingBox(i){if(i==null)return null;let o=i.getRowHeights();if(o==null)return null;let l=_e.getMax(o),u=0;for(let m of o)if(u+=l-m,m>0)break;let f=i.getCodewords();for(let m=0;u>0&&f[m]==null;m++)u--;let d=0;for(let m=o.length-1;m>=0&&(d+=l-o[m],!(o[m]>0));m--);for(let m=f.length-1;d>0&&f[m]==null;m--)d--;return i.getBoundingBox().addMissingRows(u,d,i.isLeft())}static getMax(i){let o=-1;for(let l of i)o=Math.max(o,l);return o}static getBarcodeMetadata(i,o){let l;if(i==null||(l=i.getBarcodeMetadata())==null)return o==null?null:o.getBarcodeMetadata();let u;return o==null||(u=o.getBarcodeMetadata())==null?l:l.getColumnCount()!==u.getColumnCount()&&l.getErrorCorrectionLevel()!==u.getErrorCorrectionLevel()&&l.getRowCount()!==u.getRowCount()?null:l}static getRowIndicatorColumn(i,o,l,u,f,d){let m=new t1(o,u);for(let x=0;x<2;x++){let w=x===0?1:-1,E=Math.trunc(Math.trunc(l.getX()));for(let b=Math.trunc(Math.trunc(l.getY()));b<=o.getMaxY()&&b>=o.getMinY();b+=w){let N=_e.detectCodeword(i,0,i.getWidth(),u,E,b,f,d);N!=null&&(m.setCodeword(b,N),u?E=N.getStartX():E=N.getEndX())}}return m}static adjustCodewordCount(i,o){let l=o[0][1],u=l.getValue(),f=i.getBarcodeColumnCount()*i.getBarcodeRowCount()-_e.getNumberOfECCodeWords(i.getBarcodeECLevel());if(u.length===0){if(f<1||f>we.MAX_CODEWORDS_IN_BARCODE)throw W.getNotFoundInstance();l.setValue(f)}else u[0]!==f&&l.setValue(f)}static createDecoderResult(i){let o=_e.createBarcodeMatrix(i);_e.adjustCodewordCount(i,o);let l=new Array,u=new Int32Array(i.getBarcodeRowCount()*i.getBarcodeColumnCount()),f=[],d=new Array;for(let x=0;x<i.getBarcodeRowCount();x++)for(let w=0;w<i.getBarcodeColumnCount();w++){let E=o[x][w+1].getValue(),b=x*i.getBarcodeColumnCount()+w;E.length===0?l.push(b):E.length===1?u[b]=E[0]:(d.push(b),f.push(E))}let m=new Array(f.length);for(let x=0;x<m.length;x++)m[x]=f[x];return _e.createDecoderResultFromAmbiguousValues(i.getBarcodeECLevel(),u,we.toIntArray(l),we.toIntArray(d),m)}static createDecoderResultFromAmbiguousValues(i,o,l,u,f){let d=new Int32Array(u.length),m=100;for(;m-- >0;){for(let x=0;x<d.length;x++)o[u[x]]=f[x][d[x]];try{return _e.decodeCodewords(o,i,l)}catch(x){if(!(x instanceof v))throw x}if(d.length===0)throw v.getChecksumInstance();for(let x=0;x<d.length;x++)if(d[x]<f[x].length-1){d[x]++;break}else if(d[x]=0,x===d.length-1)throw v.getChecksumInstance()}throw v.getChecksumInstance()}static createBarcodeMatrix(i){let o=Array.from({length:i.getBarcodeRowCount()},()=>new Array(i.getBarcodeColumnCount()+2));for(let u=0;u<o.length;u++)for(let f=0;f<o[u].length;f++)o[u][f]=new Io;let l=0;for(let u of i.getDetectionResultColumns()){if(u!=null){for(let f of u.getCodewords())if(f!=null){let d=f.getRowNumber();if(d>=0){if(d>=o.length)continue;o[d][l].setValue(f.getValue())}}}l++}return o}static isValidBarcodeColumn(i,o){return o>=0&&o<=i.getBarcodeColumnCount()+1}static getStartColumn(i,o,l,u){let f=u?1:-1,d=null;if(_e.isValidBarcodeColumn(i,o-f)&&(d=i.getDetectionResultColumn(o-f).getCodeword(l)),d!=null)return u?d.getEndX():d.getStartX();if(d=i.getDetectionResultColumn(o).getCodewordNearby(l),d!=null)return u?d.getStartX():d.getEndX();if(_e.isValidBarcodeColumn(i,o-f)&&(d=i.getDetectionResultColumn(o-f).getCodewordNearby(l)),d!=null)return u?d.getEndX():d.getStartX();let m=0;for(;_e.isValidBarcodeColumn(i,o-f);){o-=f;for(let x of i.getDetectionResultColumn(o).getCodewords())if(x!=null)return(u?x.getEndX():x.getStartX())+f*m*(x.getEndX()-x.getStartX());m++}return u?i.getBoundingBox().getMinX():i.getBoundingBox().getMaxX()}static detectCodeword(i,o,l,u,f,d,m,x){f=_e.adjustCodewordStartColumn(i,o,l,u,f,d);let w=_e.getModuleBitCount(i,o,l,u,f,d);if(w==null)return null;let E,b=Oe.sum(w);if(u)E=f+b;else{for(let B=0;B<w.length/2;B++){let F=w[B];w[B]=w[w.length-1-B],w[w.length-1-B]=F}E=f,f=E-b}if(!_e.checkCodewordSkew(b,m,x))return null;let N=un.getDecodedValue(w),L=we.getCodeword(N);return L===-1?null:new No(f,E,_e.getCodewordBucketNumber(N),L)}static getModuleBitCount(i,o,l,u,f,d){let m=f,x=new Int32Array(8),w=0,E=u?1:-1,b=u;for(;(u?m<l:m>=o)&&w<x.length;)i.get(m,d)===b?(x[w]++,m+=E):(w++,b=!b);return w===x.length||m===(u?l:o)&&w===x.length-1?x:null}static getNumberOfECCodeWords(i){return 2<<i}static adjustCodewordStartColumn(i,o,l,u,f,d){let m=f,x=u?-1:1;for(let w=0;w<2;w++){for(;(u?m>=o:m<l)&&u===i.get(m,d);){if(Math.abs(f-m)>_e.CODEWORD_SKEW_SIZE)return f;m+=x}x=-x,u=!u}return m}static checkCodewordSkew(i,o,l){return o-_e.CODEWORD_SKEW_SIZE<=i&&i<=l+_e.CODEWORD_SKEW_SIZE}static decodeCodewords(i,o,l){if(i.length===0)throw j.getFormatInstance();let u=1<<o+1,f=_e.correctErrors(i,l,u);_e.verifyCodewordCount(i,u);let d=X.decode(i,""+o);return d.setErrorsCorrected(f),d.setErasures(l.length),d}static correctErrors(i,o,l){if(o!=null&&o.length>l/2+_e.MAX_ERRORS||l<0||l>_e.MAX_EC_CODEWORDS)throw v.getChecksumInstance();return _e.errorCorrection.decode(i,l,o)}static verifyCodewordCount(i,o){if(i.length<4)throw j.getFormatInstance();let l=i[0];if(l>i.length)throw j.getFormatInstance();if(l===0)if(o<i.length)i[0]=i.length-o;else throw j.getFormatInstance()}static getBitCountForCodeword(i){let o=new Int32Array(8),l=0,u=o.length-1;for(;!((i&1)!==l&&(l=i&1,u--,u<0));)o[u]++,i>>=1;return o}static getCodewordBucketNumber(i){return i instanceof Int32Array?this.getCodewordBucketNumber_Int32Array(i):this.getCodewordBucketNumber_number(i)}static getCodewordBucketNumber_number(i){return _e.getCodewordBucketNumber(_e.getBitCountForCodeword(i))}static getCodewordBucketNumber_Int32Array(i){return(i[0]-i[2]+i[4]-i[6]+9)%9}static toString(i){let o=new vo;for(let l=0;l<i.length;l++){o.format("Row %2d: ",l);for(let u=0;u<i[l].length;u++){let f=i[l][u];f.getValue().length===0?o.format("        ",null):o.format("%4d(%2d)",f.getValue()[0],f.getConfidence(f.getValue()[0]))}o.format("%n")}return o.toString()}}_e.CODEWORD_SKEW_SIZE=2,_e.MAX_ERRORS=3,_e.MAX_EC_CODEWORDS=512,_e.errorCorrection=new e1;class Ft{decode(i,o=null){let l=Ft.decode(i,o,!1);if(l==null||l.length===0||l[0]==null)throw W.getNotFoundInstance();return l[0]}decodeMultiple(i,o=null){try{return Ft.decode(i,o,!0)}catch(l){throw l instanceof j||l instanceof v?W.getNotFoundInstance():l}}static decode(i,o,l){const u=new Array,f=be.detectMultiple(i,o,l);for(const d of f.getPoints()){const m=_e.decode(f.getBits(),d[4],d[5],d[6],d[7],Ft.getMinCodewordWidth(d),Ft.getMaxCodewordWidth(d)),x=new Le(m.getText(),m.getRawBytes(),void 0,d,ae.PDF_417);x.putMetadata(Mt.ERROR_CORRECTION_LEVEL,m.getECLevel());const w=m.getOther();w!=null&&x.putMetadata(Mt.PDF417_EXTRA_METADATA,w),u.push(x)}return u.map(d=>d)}static getMaxWidth(i,o){return i==null||o==null?0:Math.trunc(Math.abs(i.getX()-o.getX()))}static getMinWidth(i,o){return i==null||o==null?O.MAX_VALUE:Math.trunc(Math.abs(i.getX()-o.getX()))}static getMaxCodewordWidth(i){return Math.floor(Math.max(Math.max(Ft.getMaxWidth(i[0],i[4]),Ft.getMaxWidth(i[6],i[2])*we.MODULES_IN_CODEWORD/we.MODULES_IN_STOP_PATTERN),Math.max(Ft.getMaxWidth(i[1],i[5]),Ft.getMaxWidth(i[7],i[3])*we.MODULES_IN_CODEWORD/we.MODULES_IN_STOP_PATTERN)))}static getMinCodewordWidth(i){return Math.floor(Math.min(Math.min(Ft.getMinWidth(i[0],i[4]),Ft.getMinWidth(i[6],i[2])*we.MODULES_IN_CODEWORD/we.MODULES_IN_STOP_PATTERN),Math.min(Ft.getMinWidth(i[1],i[5]),Ft.getMinWidth(i[7],i[3])*we.MODULES_IN_CODEWORD/we.MODULES_IN_STOP_PATTERN)))}reset(){}}class gl extends g{}gl.kind="ReaderException";class o1{constructor(i,o){this.verbose=i===!0,o&&this.setHints(o)}decode(i,o){return o&&this.setHints(o),this.decodeInternal(i)}decodeWithState(i){return(this.readers===null||this.readers===void 0)&&this.setHints(null),this.decodeInternal(i)}setHints(i){this.hints=i;const o=!r(i)&&i.get(Y.TRY_HARDER)===!0,l=r(i)?null:i.get(Y.POSSIBLE_FORMATS),u=new Array;if(!r(l)){const f=l.some(d=>d===ae.UPC_A||d===ae.UPC_E||d===ae.EAN_13||d===ae.EAN_8||d===ae.CODABAR||d===ae.CODE_39||d===ae.CODE_93||d===ae.CODE_128||d===ae.ITF||d===ae.RSS_14||d===ae.RSS_EXPANDED);f&&!o&&u.push(new _s(i,this.verbose)),l.includes(ae.QR_CODE)&&u.push(new ni),l.includes(ae.DATA_MATRIX)&&u.push(new ti),l.includes(ae.AZTEC)&&u.push(new ll),l.includes(ae.PDF_417)&&u.push(new Ft),f&&o&&u.push(new _s(i,this.verbose))}u.length===0&&(o||u.push(new _s(i,this.verbose)),u.push(new ni),u.push(new ti),u.push(new ll),u.push(new Ft),o&&u.push(new _s(i,this.verbose))),this.readers=u}reset(){if(this.readers!==null)for(const i of this.readers)i.reset()}decodeInternal(i){if(this.readers===null)throw new gl("No readers where selected, nothing can be read.");for(const o of this.readers)try{return o.decode(i,this.hints)}catch(l){if(l instanceof gl)continue}throw new W("No MultiFormat Readers were able to detect the code.")}}class Vw extends Nt{constructor(i=null,o=500){const l=new o1;l.setHints(i),super(l,o)}decodeBitmap(i){return this.reader.decodeWithState(i)}}class Yw extends Nt{constructor(i=500){super(new Ft,i)}}class Xw extends Nt{constructor(i=500){super(new ni,i)}}var ef;(function(S){S[S.ERROR_CORRECTION=0]="ERROR_CORRECTION",S[S.CHARACTER_SET=1]="CHARACTER_SET",S[S.DATA_MATRIX_SHAPE=2]="DATA_MATRIX_SHAPE",S[S.MIN_SIZE=3]="MIN_SIZE",S[S.MAX_SIZE=4]="MAX_SIZE",S[S.MARGIN=5]="MARGIN",S[S.PDF417_COMPACT=6]="PDF417_COMPACT",S[S.PDF417_COMPACTION=7]="PDF417_COMPACTION",S[S.PDF417_DIMENSIONS=8]="PDF417_DIMENSIONS",S[S.AZTEC_LAYERS=9]="AZTEC_LAYERS",S[S.QR_VERSION=10]="QR_VERSION"})(ef||(ef={}));var vt=ef;class tf{constructor(i){this.field=i,this.cachedGenerators=[],this.cachedGenerators.push(new an(i,Int32Array.from([1])))}buildGenerator(i){const o=this.cachedGenerators;if(i>=o.length){let l=o[o.length-1];const u=this.field;for(let f=o.length;f<=i;f++){const d=l.multiply(new an(u,Int32Array.from([1,u.exp(f-1+u.getGeneratorBase())])));o.push(d),l=d}}return o[i]}encode(i,o){if(o===0)throw new C("No error correction bytes");const l=i.length-o;if(l<=0)throw new C("No data bytes provided");const u=this.buildGenerator(o),f=new Int32Array(l);R.arraycopy(i,0,f,0,l);let d=new an(this.field,f);d=d.multiplyByMonomial(o,1);const x=d.divide(u)[1].getCoefficients(),w=o-x.length;for(let E=0;E<w;E++)i[l+E]=0;R.arraycopy(x,0,i,l+w,x.length)}}class dt{constructor(){}static applyMaskPenaltyRule1(i){return dt.applyMaskPenaltyRule1Internal(i,!0)+dt.applyMaskPenaltyRule1Internal(i,!1)}static applyMaskPenaltyRule2(i){let o=0;const l=i.getArray(),u=i.getWidth(),f=i.getHeight();for(let d=0;d<f-1;d++){const m=l[d];for(let x=0;x<u-1;x++){const w=m[x];w===m[x+1]&&w===l[d+1][x]&&w===l[d+1][x+1]&&o++}}return dt.N2*o}static applyMaskPenaltyRule3(i){let o=0;const l=i.getArray(),u=i.getWidth(),f=i.getHeight();for(let d=0;d<f;d++)for(let m=0;m<u;m++){const x=l[d];m+6<u&&x[m]===1&&x[m+1]===0&&x[m+2]===1&&x[m+3]===1&&x[m+4]===1&&x[m+5]===0&&x[m+6]===1&&(dt.isWhiteHorizontal(x,m-4,m)||dt.isWhiteHorizontal(x,m+7,m+11))&&o++,d+6<f&&l[d][m]===1&&l[d+1][m]===0&&l[d+2][m]===1&&l[d+3][m]===1&&l[d+4][m]===1&&l[d+5][m]===0&&l[d+6][m]===1&&(dt.isWhiteVertical(l,m,d-4,d)||dt.isWhiteVertical(l,m,d+7,d+11))&&o++}return o*dt.N3}static isWhiteHorizontal(i,o,l){o=Math.max(o,0),l=Math.min(l,i.length);for(let u=o;u<l;u++)if(i[u]===1)return!1;return!0}static isWhiteVertical(i,o,l,u){l=Math.max(l,0),u=Math.min(u,i.length);for(let f=l;f<u;f++)if(i[f][o]===1)return!1;return!0}static applyMaskPenaltyRule4(i){let o=0;const l=i.getArray(),u=i.getWidth(),f=i.getHeight();for(let x=0;x<f;x++){const w=l[x];for(let E=0;E<u;E++)w[E]===1&&o++}const d=i.getHeight()*i.getWidth();return Math.floor(Math.abs(o*2-d)*10/d)*dt.N4}static getDataMaskBit(i,o,l){let u,f;switch(i){case 0:u=l+o&1;break;case 1:u=l&1;break;case 2:u=o%3;break;case 3:u=(l+o)%3;break;case 4:u=Math.floor(l/2)+Math.floor(o/3)&1;break;case 5:f=l*o,u=(f&1)+f%3;break;case 6:f=l*o,u=(f&1)+f%3&1;break;case 7:f=l*o,u=f%3+(l+o&1)&1;break;default:throw new C("Invalid mask pattern: "+i)}return u===0}static applyMaskPenaltyRule1Internal(i,o){let l=0;const u=o?i.getHeight():i.getWidth(),f=o?i.getWidth():i.getHeight(),d=i.getArray();for(let m=0;m<u;m++){let x=0,w=-1;for(let E=0;E<f;E++){const b=o?d[m][E]:d[E][m];b===w?x++:(x>=5&&(l+=dt.N1+(x-5)),x=1,w=b)}x>=5&&(l+=dt.N1+(x-5))}return l}}dt.N1=3,dt.N2=3,dt.N3=40,dt.N4=10;class pl{constructor(i,o){this.width=i,this.height=o;const l=new Array(o);for(let u=0;u!==o;u++)l[u]=new Uint8Array(i);this.bytes=l}getHeight(){return this.height}getWidth(){return this.width}get(i,o){return this.bytes[o][i]}getArray(){return this.bytes}setNumber(i,o,l){this.bytes[o][i]=l}setBoolean(i,o,l){this.bytes[o][i]=l?1:0}clear(i){for(const o of this.bytes)_.fill(o,i)}equals(i){if(!(i instanceof pl))return!1;const o=i;if(this.width!==o.width||this.height!==o.height)return!1;for(let l=0,u=this.height;l<u;++l){const f=this.bytes[l],d=o.bytes[l];for(let m=0,x=this.width;m<x;++m)if(f[m]!==d[m])return!1}return!0}toString(){const i=new xe;for(let o=0,l=this.height;o<l;++o){const u=this.bytes[o];for(let f=0,d=this.width;f<d;++f)switch(u[f]){case 0:i.append(" 0");break;case 1:i.append(" 1");break;default:i.append("  ");break}i.append(`
`)}return i.toString()}}class Hi{constructor(){this.maskPattern=-1}getMode(){return this.mode}getECLevel(){return this.ecLevel}getVersion(){return this.version}getMaskPattern(){return this.maskPattern}getMatrix(){return this.matrix}toString(){const i=new xe;return i.append(`<<
`),i.append(" mode: "),i.append(this.mode?this.mode.toString():"null"),i.append(`
 ecLevel: `),i.append(this.ecLevel?this.ecLevel.toString():"null"),i.append(`
 version: `),i.append(this.version?this.version.toString():"null"),i.append(`
 maskPattern: `),i.append(this.maskPattern.toString()),this.matrix?(i.append(`
 matrix:
`),i.append(this.matrix.toString())):i.append(`
 matrix: null
`),i.append(`>>
`),i.toString()}setMode(i){this.mode=i}setECLevel(i){this.ecLevel=i}setVersion(i){this.version=i}setMaskPattern(i){this.maskPattern=i}setMatrix(i){this.matrix=i}static isValidMaskPattern(i){return i>=0&&i<Hi.NUM_MASK_PATTERNS}}Hi.NUM_MASK_PATTERNS=8;class Ge extends g{}Ge.kind="WriterException";class ye{constructor(){}static clearMatrix(i){i.clear(255)}static buildMatrix(i,o,l,u,f){ye.clearMatrix(f),ye.embedBasicPatterns(l,f),ye.embedTypeInfo(o,u,f),ye.maybeEmbedVersionInfo(l,f),ye.embedDataBits(i,u,f)}static embedBasicPatterns(i,o){ye.embedPositionDetectionPatternsAndSeparators(o),ye.embedDarkDotAtLeftBottomCorner(o),ye.maybeEmbedPositionAdjustmentPatterns(i,o),ye.embedTimingPatterns(o)}static embedTypeInfo(i,o,l){const u=new P;ye.makeTypeInfoBits(i,o,u);for(let f=0,d=u.getSize();f<d;++f){const m=u.get(u.getSize()-1-f),x=ye.TYPE_INFO_COORDINATES[f],w=x[0],E=x[1];if(l.setBoolean(w,E,m),f<8){const b=l.getWidth()-f-1;l.setBoolean(b,8,m)}else{const N=l.getHeight()-7+(f-8);l.setBoolean(8,N,m)}}}static maybeEmbedVersionInfo(i,o){if(i.getVersionNumber()<7)return;const l=new P;ye.makeVersionInfoBits(i,l);let u=6*3-1;for(let f=0;f<6;++f)for(let d=0;d<3;++d){const m=l.get(u);u--,o.setBoolean(f,o.getHeight()-11+d,m),o.setBoolean(o.getHeight()-11+d,f,m)}}static embedDataBits(i,o,l){let u=0,f=-1,d=l.getWidth()-1,m=l.getHeight()-1;for(;d>0;){for(d===6&&(d-=1);m>=0&&m<l.getHeight();){for(let x=0;x<2;++x){const w=d-x;if(!ye.isEmpty(l.get(w,m)))continue;let E;u<i.getSize()?(E=i.get(u),++u):E=!1,o!==255&&dt.getDataMaskBit(o,w,m)&&(E=!E),l.setBoolean(w,m,E)}m+=f}f=-f,m+=f,d-=2}if(u!==i.getSize())throw new Ge("Not all bits consumed: "+u+"/"+i.getSize())}static findMSBSet(i){return 32-O.numberOfLeadingZeros(i)}static calculateBCHCode(i,o){if(o===0)throw new C("0 polynomial");const l=ye.findMSBSet(o);for(i<<=l-1;ye.findMSBSet(i)>=l;)i^=o<<ye.findMSBSet(i)-l;return i}static makeTypeInfoBits(i,o,l){if(!Hi.isValidMaskPattern(o))throw new Ge("Invalid mask pattern");const u=i.getBits()<<3|o;l.appendBits(u,5);const f=ye.calculateBCHCode(u,ye.TYPE_INFO_POLY);l.appendBits(f,10);const d=new P;if(d.appendBits(ye.TYPE_INFO_MASK_PATTERN,15),l.xor(d),l.getSize()!==15)throw new Ge("should not happen but we got: "+l.getSize())}static makeVersionInfoBits(i,o){o.appendBits(i.getVersionNumber(),6);const l=ye.calculateBCHCode(i.getVersionNumber(),ye.VERSION_INFO_POLY);if(o.appendBits(l,12),o.getSize()!==18)throw new Ge("should not happen but we got: "+o.getSize())}static isEmpty(i){return i===255}static embedTimingPatterns(i){for(let o=8;o<i.getWidth()-8;++o){const l=(o+1)%2;ye.isEmpty(i.get(o,6))&&i.setNumber(o,6,l),ye.isEmpty(i.get(6,o))&&i.setNumber(6,o,l)}}static embedDarkDotAtLeftBottomCorner(i){if(i.get(8,i.getHeight()-8)===0)throw new Ge;i.setNumber(8,i.getHeight()-8,1)}static embedHorizontalSeparationPattern(i,o,l){for(let u=0;u<8;++u){if(!ye.isEmpty(l.get(i+u,o)))throw new Ge;l.setNumber(i+u,o,0)}}static embedVerticalSeparationPattern(i,o,l){for(let u=0;u<7;++u){if(!ye.isEmpty(l.get(i,o+u)))throw new Ge;l.setNumber(i,o+u,0)}}static embedPositionAdjustmentPattern(i,o,l){for(let u=0;u<5;++u){const f=ye.POSITION_ADJUSTMENT_PATTERN[u];for(let d=0;d<5;++d)l.setNumber(i+d,o+u,f[d])}}static embedPositionDetectionPattern(i,o,l){for(let u=0;u<7;++u){const f=ye.POSITION_DETECTION_PATTERN[u];for(let d=0;d<7;++d)l.setNumber(i+d,o+u,f[d])}}static embedPositionDetectionPatternsAndSeparators(i){const o=ye.POSITION_DETECTION_PATTERN[0].length;ye.embedPositionDetectionPattern(0,0,i),ye.embedPositionDetectionPattern(i.getWidth()-o,0,i),ye.embedPositionDetectionPattern(0,i.getWidth()-o,i);const l=8;ye.embedHorizontalSeparationPattern(0,l-1,i),ye.embedHorizontalSeparationPattern(i.getWidth()-l,l-1,i),ye.embedHorizontalSeparationPattern(0,i.getWidth()-l,i);const u=7;ye.embedVerticalSeparationPattern(u,0,i),ye.embedVerticalSeparationPattern(i.getHeight()-u-1,0,i),ye.embedVerticalSeparationPattern(u,i.getHeight()-u,i)}static maybeEmbedPositionAdjustmentPatterns(i,o){if(i.getVersionNumber()<2)return;const l=i.getVersionNumber()-1,u=ye.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE[l];for(let f=0,d=u.length;f!==d;f++){const m=u[f];if(m>=0)for(let x=0;x!==d;x++){const w=u[x];w>=0&&ye.isEmpty(o.get(w,m))&&ye.embedPositionAdjustmentPattern(w-2,m-2,o)}}}}ye.POSITION_DETECTION_PATTERN=Array.from([Int32Array.from([1,1,1,1,1,1,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,1,1,1,1,1,1])]),ye.POSITION_ADJUSTMENT_PATTERN=Array.from([Int32Array.from([1,1,1,1,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,0,1,0,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,1,1,1,1])]),ye.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE=Array.from([Int32Array.from([-1,-1,-1,-1,-1,-1,-1]),Int32Array.from([6,18,-1,-1,-1,-1,-1]),Int32Array.from([6,22,-1,-1,-1,-1,-1]),Int32Array.from([6,26,-1,-1,-1,-1,-1]),Int32Array.from([6,30,-1,-1,-1,-1,-1]),Int32Array.from([6,34,-1,-1,-1,-1,-1]),Int32Array.from([6,22,38,-1,-1,-1,-1]),Int32Array.from([6,24,42,-1,-1,-1,-1]),Int32Array.from([6,26,46,-1,-1,-1,-1]),Int32Array.from([6,28,50,-1,-1,-1,-1]),Int32Array.from([6,30,54,-1,-1,-1,-1]),Int32Array.from([6,32,58,-1,-1,-1,-1]),Int32Array.from([6,34,62,-1,-1,-1,-1]),Int32Array.from([6,26,46,66,-1,-1,-1]),Int32Array.from([6,26,48,70,-1,-1,-1]),Int32Array.from([6,26,50,74,-1,-1,-1]),Int32Array.from([6,30,54,78,-1,-1,-1]),Int32Array.from([6,30,56,82,-1,-1,-1]),Int32Array.from([6,30,58,86,-1,-1,-1]),Int32Array.from([6,34,62,90,-1,-1,-1]),Int32Array.from([6,28,50,72,94,-1,-1]),Int32Array.from([6,26,50,74,98,-1,-1]),Int32Array.from([6,30,54,78,102,-1,-1]),Int32Array.from([6,28,54,80,106,-1,-1]),Int32Array.from([6,32,58,84,110,-1,-1]),Int32Array.from([6,30,58,86,114,-1,-1]),Int32Array.from([6,34,62,90,118,-1,-1]),Int32Array.from([6,26,50,74,98,122,-1]),Int32Array.from([6,30,54,78,102,126,-1]),Int32Array.from([6,26,52,78,104,130,-1]),Int32Array.from([6,30,56,82,108,134,-1]),Int32Array.from([6,34,60,86,112,138,-1]),Int32Array.from([6,30,58,86,114,142,-1]),Int32Array.from([6,34,62,90,118,146,-1]),Int32Array.from([6,30,54,78,102,126,150]),Int32Array.from([6,24,50,76,102,128,154]),Int32Array.from([6,28,54,80,106,132,158]),Int32Array.from([6,32,58,84,110,136,162]),Int32Array.from([6,26,54,82,110,138,166]),Int32Array.from([6,30,58,86,114,142,170])]),ye.TYPE_INFO_COORDINATES=Array.from([Int32Array.from([8,0]),Int32Array.from([8,1]),Int32Array.from([8,2]),Int32Array.from([8,3]),Int32Array.from([8,4]),Int32Array.from([8,5]),Int32Array.from([8,7]),Int32Array.from([8,8]),Int32Array.from([7,8]),Int32Array.from([5,8]),Int32Array.from([4,8]),Int32Array.from([3,8]),Int32Array.from([2,8]),Int32Array.from([1,8]),Int32Array.from([0,8])]),ye.VERSION_INFO_POLY=7973,ye.TYPE_INFO_POLY=1335,ye.TYPE_INFO_MASK_PATTERN=21522;class Gw{constructor(i,o){this.dataBytes=i,this.errorCorrectionBytes=o}getDataBytes(){return this.dataBytes}getErrorCorrectionBytes(){return this.errorCorrectionBytes}}class Je{constructor(){}static calculateMaskPenalty(i){return dt.applyMaskPenaltyRule1(i)+dt.applyMaskPenaltyRule2(i)+dt.applyMaskPenaltyRule3(i)+dt.applyMaskPenaltyRule4(i)}static encode(i,o,l=null){let u=Je.DEFAULT_BYTE_MODE_ENCODING;const f=l!==null&&l.get(vt.CHARACTER_SET)!==void 0;f&&(u=l.get(vt.CHARACTER_SET).toString());const d=this.chooseMode(i,u),m=new P;if(d===me.BYTE&&(f||Je.DEFAULT_BYTE_MODE_ENCODING!==u)){const te=Z.getCharacterSetECIByName(u);te!==void 0&&this.appendECI(te,m)}this.appendModeInfo(d,m);const x=new P;this.appendBytes(i,d,x,u);let w;if(l!==null&&l.get(vt.QR_VERSION)!==void 0){const te=Number.parseInt(l.get(vt.QR_VERSION).toString(),10);w=ge.getVersionForNumber(te);const $=this.calculateBitsNeeded(d,m,x,w);if(!this.willFit($,w,o))throw new Ge("Data too big for requested version")}else w=this.recommendVersion(o,d,m,x);const E=new P;E.appendBitArray(m);const b=d===me.BYTE?x.getSizeInBytes():i.length;this.appendLengthInfo(b,w,d,E),E.appendBitArray(x);const N=w.getECBlocksForLevel(o),L=w.getTotalCodewords()-N.getTotalECCodewords();this.terminateBits(L,E);const B=this.interleaveWithECBytes(E,w.getTotalCodewords(),L,N.getNumBlocks()),F=new Hi;F.setECLevel(o),F.setMode(d),F.setVersion(w);const z=w.getDimensionForVersion(),Q=new pl(z,z),ee=this.chooseMaskPattern(B,o,w,Q);return F.setMaskPattern(ee),ye.buildMatrix(B,o,w,ee,Q),F.setMatrix(Q),F}static recommendVersion(i,o,l,u){const f=this.calculateBitsNeeded(o,l,u,ge.getVersionForNumber(1)),d=this.chooseVersion(f,i),m=this.calculateBitsNeeded(o,l,u,d);return this.chooseVersion(m,i)}static calculateBitsNeeded(i,o,l,u){return o.getSize()+i.getCharacterCountBits(u)+l.getSize()}static getAlphanumericCode(i){return i<Je.ALPHANUMERIC_TABLE.length?Je.ALPHANUMERIC_TABLE[i]:-1}static chooseMode(i,o=null){if(Z.SJIS.getName()===o&&this.isOnlyDoubleByteKanji(i))return me.KANJI;let l=!1,u=!1;for(let f=0,d=i.length;f<d;++f){const m=i.charAt(f);if(Je.isDigit(m))l=!0;else if(this.getAlphanumericCode(m.charCodeAt(0))!==-1)u=!0;else return me.BYTE}return u?me.ALPHANUMERIC:l?me.NUMERIC:me.BYTE}static isOnlyDoubleByteKanji(i){let o;try{o=he.encode(i,Z.SJIS)}catch{return!1}const l=o.length;if(l%2!==0)return!1;for(let u=0;u<l;u+=2){const f=o[u]&255;if((f<129||f>159)&&(f<224||f>235))return!1}return!0}static chooseMaskPattern(i,o,l,u){let f=Number.MAX_SAFE_INTEGER,d=-1;for(let m=0;m<Hi.NUM_MASK_PATTERNS;m++){ye.buildMatrix(i,o,l,m,u);let x=this.calculateMaskPenalty(u);x<f&&(f=x,d=m)}return d}static chooseVersion(i,o){for(let l=1;l<=40;l++){const u=ge.getVersionForNumber(l);if(Je.willFit(i,u,o))return u}throw new Ge("Data too big")}static willFit(i,o,l){const u=o.getTotalCodewords(),d=o.getECBlocksForLevel(l).getTotalECCodewords(),m=u-d,x=(i+7)/8;return m>=x}static terminateBits(i,o){const l=i*8;if(o.getSize()>l)throw new Ge("data bits cannot fit in the QR Code"+o.getSize()+" > "+l);for(let d=0;d<4&&o.getSize()<l;++d)o.appendBit(!1);const u=o.getSize()&7;if(u>0)for(let d=u;d<8;d++)o.appendBit(!1);const f=i-o.getSizeInBytes();for(let d=0;d<f;++d)o.appendBits(d&1?17:236,8);if(o.getSize()!==l)throw new Ge("Bits size does not equal capacity")}static getNumDataBytesAndNumECBytesForBlockID(i,o,l,u,f,d){if(u>=l)throw new Ge("Block ID too large");const m=i%l,x=l-m,w=Math.floor(i/l),E=w+1,b=Math.floor(o/l),N=b+1,L=w-b,B=E-N;if(L!==B)throw new Ge("EC bytes mismatch");if(l!==x+m)throw new Ge("RS blocks mismatch");if(i!==(b+L)*x+(N+B)*m)throw new Ge("Total bytes mismatch");u<x?(f[0]=b,d[0]=L):(f[0]=N,d[0]=B)}static interleaveWithECBytes(i,o,l,u){if(i.getSizeInBytes()!==l)throw new Ge("Number of bits and data bytes does not match");let f=0,d=0,m=0;const x=new Array;for(let E=0;E<u;++E){const b=new Int32Array(1),N=new Int32Array(1);Je.getNumDataBytesAndNumECBytesForBlockID(o,l,u,E,b,N);const L=b[0],B=new Uint8Array(L);i.toBytes(8*f,B,0,L);const F=Je.generateECBytes(B,N[0]);x.push(new Gw(B,F)),d=Math.max(d,L),m=Math.max(m,F.length),f+=b[0]}if(l!==f)throw new Ge("Data bytes does not match offset");const w=new P;for(let E=0;E<d;++E)for(const b of x){const N=b.getDataBytes();E<N.length&&w.appendBits(N[E],8)}for(let E=0;E<m;++E)for(const b of x){const N=b.getErrorCorrectionBytes();E<N.length&&w.appendBits(N[E],8)}if(o!==w.getSizeInBytes())throw new Ge("Interleaving error: "+o+" and "+w.getSizeInBytes()+" differ.");return w}static generateECBytes(i,o){const l=i.length,u=new Int32Array(l+o);for(let d=0;d<l;d++)u[d]=i[d]&255;new tf(Pe.QR_CODE_FIELD_256).encode(u,o);const f=new Uint8Array(o);for(let d=0;d<o;d++)f[d]=u[l+d];return f}static appendModeInfo(i,o){o.appendBits(i.getBits(),4)}static appendLengthInfo(i,o,l,u){const f=l.getCharacterCountBits(o);if(i>=1<<f)throw new Ge(i+" is bigger than "+((1<<f)-1));u.appendBits(i,f)}static appendBytes(i,o,l,u){switch(o){case me.NUMERIC:Je.appendNumericBytes(i,l);break;case me.ALPHANUMERIC:Je.appendAlphanumericBytes(i,l);break;case me.BYTE:Je.append8BitBytes(i,l,u);break;case me.KANJI:Je.appendKanjiBytes(i,l);break;default:throw new Ge("Invalid mode: "+o)}}static getDigit(i){return i.charCodeAt(0)-48}static isDigit(i){const o=Je.getDigit(i);return o>=0&&o<=9}static appendNumericBytes(i,o){const l=i.length;let u=0;for(;u<l;){const f=Je.getDigit(i.charAt(u));if(u+2<l){const d=Je.getDigit(i.charAt(u+1)),m=Je.getDigit(i.charAt(u+2));o.appendBits(f*100+d*10+m,10),u+=3}else if(u+1<l){const d=Je.getDigit(i.charAt(u+1));o.appendBits(f*10+d,7),u+=2}else o.appendBits(f,4),u++}}static appendAlphanumericBytes(i,o){const l=i.length;let u=0;for(;u<l;){const f=Je.getAlphanumericCode(i.charCodeAt(u));if(f===-1)throw new Ge;if(u+1<l){const d=Je.getAlphanumericCode(i.charCodeAt(u+1));if(d===-1)throw new Ge;o.appendBits(f*45+d,11),u+=2}else o.appendBits(f,6),u++}}static append8BitBytes(i,o,l){let u;try{u=he.encode(i,l)}catch(f){throw new Ge(f)}for(let f=0,d=u.length;f!==d;f++){const m=u[f];o.appendBits(m,8)}}static appendKanjiBytes(i,o){let l;try{l=he.encode(i,Z.SJIS)}catch(f){throw new Ge(f)}const u=l.length;for(let f=0;f<u;f+=2){const d=l[f]&255,m=l[f+1]&255,x=d<<8&4294967295|m;let w=-1;if(x>=33088&&x<=40956?w=x-33088:x>=57408&&x<=60351&&(w=x-49472),w===-1)throw new Ge("Invalid byte sequence");const E=(w>>8)*192+(w&255);o.appendBits(E,13)}}static appendECI(i,o){o.appendBits(me.ECI.getBits(),4),o.appendBits(i.getValue(),8)}}Je.ALPHANUMERIC_TABLE=Int32Array.from([-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,36,-1,-1,-1,37,38,-1,-1,-1,-1,39,40,-1,41,42,43,0,1,2,3,4,5,6,7,8,9,44,-1,-1,-1,-1,-1,-1,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,-1,-1,-1,-1,-1]),Je.DEFAULT_BYTE_MODE_ENCODING=Z.UTF8.getName();class Wi{write(i,o,l,u=null){if(i.length===0)throw new C("Found empty contents");if(o<0||l<0)throw new C("Requested dimensions are too small: "+o+"x"+l);let f=qe.L,d=Wi.QUIET_ZONE_SIZE;u!==null&&(u.get(vt.ERROR_CORRECTION)!==void 0&&(f=qe.fromString(u.get(vt.ERROR_CORRECTION).toString())),u.get(vt.MARGIN)!==void 0&&(d=Number.parseInt(u.get(vt.MARGIN).toString(),10)));const m=Je.encode(i,f,u);return this.renderResult(m,o,l,d)}writeToDom(i,o,l,u,f=null){typeof i=="string"&&(i=document.querySelector(i));const d=this.write(o,l,u,f);i&&i.appendChild(d)}renderResult(i,o,l,u){const f=i.getMatrix();if(f===null)throw new fr;const d=f.getWidth(),m=f.getHeight(),x=d+u*2,w=m+u*2,E=Math.max(o,x),b=Math.max(l,w),N=Math.min(Math.floor(E/x),Math.floor(b/w)),L=Math.floor((E-d*N)/2),B=Math.floor((b-m*N)/2),F=this.createSVGElement(E,b);for(let z=0,Q=B;z<m;z++,Q+=N)for(let ee=0,te=L;ee<d;ee++,te+=N)if(f.get(ee,z)===1){const $=this.createSvgRectElement(te,Q,N,N);F.appendChild($)}return F}createSVGElement(i,o){const l=document.createElementNS(Wi.SVG_NS,"svg");return l.setAttributeNS(null,"height",i.toString()),l.setAttributeNS(null,"width",o.toString()),l}createSvgRectElement(i,o,l,u){const f=document.createElementNS(Wi.SVG_NS,"rect");return f.setAttributeNS(null,"x",i.toString()),f.setAttributeNS(null,"y",o.toString()),f.setAttributeNS(null,"height",l.toString()),f.setAttributeNS(null,"width",u.toString()),f.setAttributeNS(null,"fill","#000000"),f}}Wi.QUIET_ZONE_SIZE=4,Wi.SVG_NS="http://www.w3.org/2000/svg";class Ts{encode(i,o,l,u,f){if(i.length===0)throw new C("Found empty contents");if(o!==ae.QR_CODE)throw new C("Can only encode QR_CODE, but got "+o);if(l<0||u<0)throw new C(`Requested dimensions are too small: ${l}x${u}`);let d=qe.L,m=Ts.QUIET_ZONE_SIZE;f!==null&&(f.get(vt.ERROR_CORRECTION)!==void 0&&(d=qe.fromString(f.get(vt.ERROR_CORRECTION).toString())),f.get(vt.MARGIN)!==void 0&&(m=Number.parseInt(f.get(vt.MARGIN).toString(),10)));const x=Je.encode(i,d,f);return Ts.renderResult(x,l,u,m)}static renderResult(i,o,l,u){const f=i.getMatrix();if(f===null)throw new fr;const d=f.getWidth(),m=f.getHeight(),x=d+u*2,w=m+u*2,E=Math.max(o,x),b=Math.max(l,w),N=Math.min(Math.floor(E/x),Math.floor(b/w)),L=Math.floor((E-d*N)/2),B=Math.floor((b-m*N)/2),F=new Ne(E,b);for(let z=0,Q=B;z<m;z++,Q+=N)for(let ee=0,te=L;ee<d;ee++,te+=N)f.get(ee,z)===1&&F.setRegion(te,Q,N,N);return F}}Ts.QUIET_ZONE_SIZE=4;class Qw{encode(i,o,l,u,f){let d;switch(o){case ae.QR_CODE:d=new Ts;break;default:throw new C("No encoder available for format "+o)}return d.encode(i,o,l,u,f)}}class pr extends re{constructor(i,o,l,u,f,d,m,x){if(super(d,m),this.yuvData=i,this.dataWidth=o,this.dataHeight=l,this.left=u,this.top=f,u+d>o||f+m>l)throw new C("Crop rectangle does not fit within image data.");x&&this.reverseHorizontal(d,m)}getRow(i,o){if(i<0||i>=this.getHeight())throw new C("Requested row is outside the image: "+i);const l=this.getWidth();(o==null||o.length<l)&&(o=new Uint8ClampedArray(l));const u=(i+this.top)*this.dataWidth+this.left;return R.arraycopy(this.yuvData,u,o,0,l),o}getMatrix(){const i=this.getWidth(),o=this.getHeight();if(i===this.dataWidth&&o===this.dataHeight)return this.yuvData;const l=i*o,u=new Uint8ClampedArray(l);let f=this.top*this.dataWidth+this.left;if(i===this.dataWidth)return R.arraycopy(this.yuvData,f,u,0,l),u;for(let d=0;d<o;d++){const m=d*i;R.arraycopy(this.yuvData,f,u,m,i),f+=this.dataWidth}return u}isCropSupported(){return!0}crop(i,o,l,u){return new pr(this.yuvData,this.dataWidth,this.dataHeight,this.left+i,this.top+o,l,u,!1)}renderThumbnail(){const i=this.getWidth()/pr.THUMBNAIL_SCALE_FACTOR,o=this.getHeight()/pr.THUMBNAIL_SCALE_FACTOR,l=new Int32Array(i*o),u=this.yuvData;let f=this.top*this.dataWidth+this.left;for(let d=0;d<o;d++){const m=d*i;for(let x=0;x<i;x++){const w=u[f+x*pr.THUMBNAIL_SCALE_FACTOR]&255;l[m+x]=4278190080|w*65793}f+=this.dataWidth*pr.THUMBNAIL_SCALE_FACTOR}return l}getThumbnailWidth(){return this.getWidth()/pr.THUMBNAIL_SCALE_FACTOR}getThumbnailHeight(){return this.getHeight()/pr.THUMBNAIL_SCALE_FACTOR}reverseHorizontal(i,o){const l=this.yuvData;for(let u=0,f=this.top*this.dataWidth+this.left;u<o;u++,f+=this.dataWidth){const d=f+i/2;for(let m=f,x=f+i-1;m<d;m++,x--){const w=l[m];l[m]=l[x],l[x]=w}}}invert(){return new oe(this)}}pr.THUMBNAIL_SCALE_FACTOR=2;class nf extends re{constructor(i,o,l,u,f,d,m){if(super(o,l),this.dataWidth=u,this.dataHeight=f,this.left=d,this.top=m,i.BYTES_PER_ELEMENT===4){const x=o*l,w=new Uint8ClampedArray(x);for(let E=0;E<x;E++){const b=i[E],N=b>>16&255,L=b>>7&510,B=b&255;w[E]=(N+L+B)/4&255}this.luminances=w}else this.luminances=i;if(u===void 0&&(this.dataWidth=o),f===void 0&&(this.dataHeight=l),d===void 0&&(this.left=0),m===void 0&&(this.top=0),this.left+o>this.dataWidth||this.top+l>this.dataHeight)throw new C("Crop rectangle does not fit within image data.")}getRow(i,o){if(i<0||i>=this.getHeight())throw new C("Requested row is outside the image: "+i);const l=this.getWidth();(o==null||o.length<l)&&(o=new Uint8ClampedArray(l));const u=(i+this.top)*this.dataWidth+this.left;return R.arraycopy(this.luminances,u,o,0,l),o}getMatrix(){const i=this.getWidth(),o=this.getHeight();if(i===this.dataWidth&&o===this.dataHeight)return this.luminances;const l=i*o,u=new Uint8ClampedArray(l);let f=this.top*this.dataWidth+this.left;if(i===this.dataWidth)return R.arraycopy(this.luminances,f,u,0,l),u;for(let d=0;d<o;d++){const m=d*i;R.arraycopy(this.luminances,f,u,m,i),f+=this.dataWidth}return u}isCropSupported(){return!0}crop(i,o,l,u){return new nf(this.luminances,l,u,this.dataWidth,this.dataHeight,this.left+i,this.top+o)}invert(){return new oe(this)}}class a1 extends Z{static forName(i){return this.getCharacterSetECIByName(i)}}class rf{}rf.ISO_8859_1=Z.ISO8859_1;class l1{isCompact(){return this.compact}setCompact(i){this.compact=i}getSize(){return this.size}setSize(i){this.size=i}getLayers(){return this.layers}setLayers(i){this.layers=i}getCodeWords(){return this.codeWords}setCodeWords(i){this.codeWords=i}getMatrix(){return this.matrix}setMatrix(i){this.matrix=i}}class c1{static singletonList(i){return[i]}static min(i,o){return i.sort(o)[0]}}class Zw{constructor(i){this.previous=i}getPrevious(){return this.previous}}class Ns extends Zw{constructor(i,o,l){super(i),this.value=o,this.bitCount=l}appendTo(i,o){i.appendBits(this.value,this.bitCount)}add(i,o){return new Ns(this,i,o)}addBinaryShift(i,o){return console.warn("addBinaryShift on SimpleToken, this simply returns a copy of this token"),new Ns(this,i,o)}toString(){let i=this.value&(1<<this.bitCount)-1;return i|=1<<this.bitCount,"<"+O.toBinaryString(i|1<<this.bitCount).substring(1)+">"}}class sf extends Ns{constructor(i,o,l){super(i,0,0),this.binaryShiftStart=o,this.binaryShiftByteCount=l}appendTo(i,o){for(let l=0;l<this.binaryShiftByteCount;l++)(l===0||l===31&&this.binaryShiftByteCount<=62)&&(i.appendBits(31,5),this.binaryShiftByteCount>62?i.appendBits(this.binaryShiftByteCount-31,16):l===0?i.appendBits(Math.min(this.binaryShiftByteCount,31),5):i.appendBits(this.binaryShiftByteCount-31,5)),i.appendBits(o[this.binaryShiftStart+l],8)}addBinaryShift(i,o){return new sf(this,i,o)}toString(){return"<"+this.binaryShiftStart+"::"+(this.binaryShiftStart+this.binaryShiftByteCount-1)+">"}}function Kw(S,i,o){return new sf(S,i,o)}function Mo(S,i,o){return new Ns(S,i,o)}const qw=["UPPER","LOWER","DIGIT","MIXED","PUNCT"],ii=0,ml=1,zn=2,u1=3,mr=4,$w=new Ns(null,0,0),of=[Int32Array.from([0,(5<<16)+28,(5<<16)+30,(5<<16)+29,656318]),Int32Array.from([(9<<16)+480+14,0,(5<<16)+30,(5<<16)+29,656318]),Int32Array.from([(4<<16)+14,(9<<16)+448+28,0,(9<<16)+448+29,932798]),Int32Array.from([(5<<16)+29,(5<<16)+28,656318,0,(5<<16)+30]),Int32Array.from([(5<<16)+31,656380,656382,656381,0])];function Jw(S){for(let i of S)_.fill(i,-1);return S[ii][mr]=0,S[ml][mr]=0,S[ml][ii]=28,S[u1][mr]=0,S[zn][mr]=0,S[zn][ii]=15,S}const f1=Jw(_.createInt32Array(6,6));class xr{constructor(i,o,l,u){this.token=i,this.mode=o,this.binaryShiftByteCount=l,this.bitCount=u}getMode(){return this.mode}getToken(){return this.token}getBinaryShiftByteCount(){return this.binaryShiftByteCount}getBitCount(){return this.bitCount}latchAndAppend(i,o){let l=this.bitCount,u=this.token;if(i!==this.mode){let d=of[this.mode][i];u=Mo(u,d&65535,d>>16),l+=d>>16}let f=i===zn?4:5;return u=Mo(u,o,f),new xr(u,i,0,l+f)}shiftAndAppend(i,o){let l=this.token,u=this.mode===zn?4:5;return l=Mo(l,f1[this.mode][i],u),l=Mo(l,o,5),new xr(l,this.mode,0,this.bitCount+u+5)}addBinaryShiftChar(i){let o=this.token,l=this.mode,u=this.bitCount;if(this.mode===mr||this.mode===zn){let m=of[l][ii];o=Mo(o,m&65535,m>>16),u+=m>>16,l=ii}let f=this.binaryShiftByteCount===0||this.binaryShiftByteCount===31?18:this.binaryShiftByteCount===62?9:8,d=new xr(o,l,this.binaryShiftByteCount+1,u+f);return d.binaryShiftByteCount===2078&&(d=d.endBinaryShift(i+1)),d}endBinaryShift(i){if(this.binaryShiftByteCount===0)return this;let o=this.token;return o=Kw(o,i-this.binaryShiftByteCount,this.binaryShiftByteCount),new xr(o,this.mode,0,this.bitCount)}isBetterThanOrEqualTo(i){let o=this.bitCount+(of[this.mode][i.mode]>>16);return this.binaryShiftByteCount<i.binaryShiftByteCount?o+=xr.calculateBinaryShiftCost(i)-xr.calculateBinaryShiftCost(this):this.binaryShiftByteCount>i.binaryShiftByteCount&&i.binaryShiftByteCount>0&&(o+=10),o<=i.bitCount}toBitArray(i){let o=[];for(let u=this.endBinaryShift(i.length).token;u!==null;u=u.getPrevious())o.unshift(u);let l=new P;for(const u of o)u.appendTo(l,i);return l}toString(){return ne.format("%s bits=%d bytes=%d",qw[this.mode],this.bitCount,this.binaryShiftByteCount)}static calculateBinaryShiftCost(i){return i.binaryShiftByteCount>62?21:i.binaryShiftByteCount>31?20:i.binaryShiftByteCount>0?10:0}}xr.INITIAL_STATE=new xr($w,ii,0,0);function eC(S){const i=ne.getCharCode(" "),o=ne.getCharCode("."),l=ne.getCharCode(",");S[ii][i]=1;const u=ne.getCharCode("Z"),f=ne.getCharCode("A");for(let N=f;N<=u;N++)S[ii][N]=N-f+2;S[ml][i]=1;const d=ne.getCharCode("z"),m=ne.getCharCode("a");for(let N=m;N<=d;N++)S[ml][N]=N-m+2;S[zn][i]=1;const x=ne.getCharCode("9"),w=ne.getCharCode("0");for(let N=w;N<=x;N++)S[zn][N]=N-w+2;S[zn][l]=12,S[zn][o]=13;const E=["\0"," ","","","","","","","\x07","\b","	",`
`,"\v","\f","\r","\x1B","","","","","@","\\","^","_","`","|","~",""];for(let N=0;N<E.length;N++)S[u1][ne.getCharCode(E[N])]=N;const b=["\0","\r","\0","\0","\0","\0","!","'","#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}"];for(let N=0;N<b.length;N++)ne.getCharCode(b[N])>0&&(S[mr][ne.getCharCode(b[N])]=N);return S}const af=eC(_.createInt32Array(5,256));class Oo{constructor(i){this.text=i}encode(){const i=ne.getCharCode(" "),o=ne.getCharCode(`
`);let l=c1.singletonList(xr.INITIAL_STATE);for(let f=0;f<this.text.length;f++){let d,m=f+1<this.text.length?this.text[f+1]:0;switch(this.text[f]){case ne.getCharCode("\r"):d=m===o?2:0;break;case ne.getCharCode("."):d=m===i?3:0;break;case ne.getCharCode(","):d=m===i?4:0;break;case ne.getCharCode(":"):d=m===i?5:0;break;default:d=0}d>0?(l=Oo.updateStateListForPair(l,f,d),f++):l=this.updateStateListForChar(l,f)}return c1.min(l,(f,d)=>f.getBitCount()-d.getBitCount()).toBitArray(this.text)}updateStateListForChar(i,o){const l=[];for(let u of i)this.updateStateForChar(u,o,l);return Oo.simplifyStates(l)}updateStateForChar(i,o,l){let u=this.text[o]&255,f=af[i.getMode()][u]>0,d=null;for(let m=0;m<=mr;m++){let x=af[m][u];if(x>0){if(d==null&&(d=i.endBinaryShift(o)),!f||m===i.getMode()||m===zn){const w=d.latchAndAppend(m,x);l.push(w)}if(!f&&f1[i.getMode()][m]>=0){const w=d.shiftAndAppend(m,x);l.push(w)}}}if(i.getBinaryShiftByteCount()>0||af[i.getMode()][u]===0){let m=i.addBinaryShiftChar(o);l.push(m)}}static updateStateListForPair(i,o,l){const u=[];for(let f of i)this.updateStateForPair(f,o,l,u);return this.simplifyStates(u)}static updateStateForPair(i,o,l,u){let f=i.endBinaryShift(o);if(u.push(f.latchAndAppend(mr,l)),i.getMode()!==mr&&u.push(f.shiftAndAppend(mr,l)),l===3||l===4){let d=f.latchAndAppend(zn,16-l).latchAndAppend(zn,1);u.push(d)}if(i.getBinaryShiftByteCount()>0){let d=i.addBinaryShiftChar(o).addBinaryShiftChar(o+1);u.push(d)}}static simplifyStates(i){let o=[];for(const l of i){let u=!0;for(const f of o){if(f.isBetterThanOrEqualTo(l)){u=!1;break}l.isBetterThanOrEqualTo(f)&&(o=o.filter(d=>d!==f))}u&&o.push(l)}return o}}class Re{constructor(){}static encodeBytes(i){return Re.encode(i,Re.DEFAULT_EC_PERCENT,Re.DEFAULT_AZTEC_LAYERS)}static encode(i,o,l){let u=new Oo(i).encode(),f=O.truncDivision(u.getSize()*o,100)+11,d=u.getSize()+f,m,x,w,E,b;if(l!==Re.DEFAULT_AZTEC_LAYERS){if(m=l<0,x=Math.abs(l),x>(m?Re.MAX_NB_BITS_COMPACT:Re.MAX_NB_BITS))throw new C(ne.format("Illegal value %s for layers",l));w=Re.totalBitsInLayer(x,m),E=Re.WORD_SIZE[x];let $=w-w%E;if(b=Re.stuffBits(u,E),b.getSize()+f>$)throw new C("Data to large for user specified layer");if(m&&b.getSize()>E*64)throw new C("Data to large for user specified layer")}else{E=0,b=null;for(let $=0;;$++){if($>Re.MAX_NB_BITS)throw new C("Data too large for an Aztec code");if(m=$<=3,x=m?$+1:$,w=Re.totalBitsInLayer(x,m),d>w)continue;(b==null||E!==Re.WORD_SIZE[x])&&(E=Re.WORD_SIZE[x],b=Re.stuffBits(u,E));let Te=w-w%E;if(!(m&&b.getSize()>E*64)&&b.getSize()+f<=Te)break}}let N=Re.generateCheckWords(b,w,E),L=b.getSize()/E,B=Re.generateModeMessage(m,x,L),F=(m?11:14)+x*4,z=new Int32Array(F),Q;if(m){Q=F;for(let $=0;$<z.length;$++)z[$]=$}else{Q=F+1+2*O.truncDivision(O.truncDivision(F,2)-1,15);let $=O.truncDivision(F,2),Te=O.truncDivision(Q,2);for(let Ee=0;Ee<$;Ee++){let fn=Ee+O.truncDivision(Ee,15);z[$-Ee-1]=Te-fn-1,z[$+Ee]=Te+fn+1}}let ee=new Ne(Q);for(let $=0,Te=0;$<x;$++){let Ee=(x-$)*4+(m?9:12);for(let fn=0;fn<Ee;fn++){let Jn=fn*2;for(let dn=0;dn<2;dn++)N.get(Te+Jn+dn)&&ee.set(z[$*2+dn],z[$*2+fn]),N.get(Te+Ee*2+Jn+dn)&&ee.set(z[$*2+fn],z[F-1-$*2-dn]),N.get(Te+Ee*4+Jn+dn)&&ee.set(z[F-1-$*2-dn],z[F-1-$*2-fn]),N.get(Te+Ee*6+Jn+dn)&&ee.set(z[F-1-$*2-fn],z[$*2+dn])}Te+=Ee*8}if(Re.drawModeMessage(ee,m,Q,B),m)Re.drawBullsEye(ee,O.truncDivision(Q,2),5);else{Re.drawBullsEye(ee,O.truncDivision(Q,2),7);for(let $=0,Te=0;$<O.truncDivision(F,2)-1;$+=15,Te+=16)for(let Ee=O.truncDivision(Q,2)&1;Ee<Q;Ee+=2)ee.set(O.truncDivision(Q,2)-Te,Ee),ee.set(O.truncDivision(Q,2)+Te,Ee),ee.set(Ee,O.truncDivision(Q,2)-Te),ee.set(Ee,O.truncDivision(Q,2)+Te)}let te=new l1;return te.setCompact(m),te.setSize(Q),te.setLayers(x),te.setCodeWords(L),te.setMatrix(ee),te}static drawBullsEye(i,o,l){for(let u=0;u<l;u+=2)for(let f=o-u;f<=o+u;f++)i.set(f,o-u),i.set(f,o+u),i.set(o-u,f),i.set(o+u,f);i.set(o-l,o-l),i.set(o-l+1,o-l),i.set(o-l,o-l+1),i.set(o+l,o-l),i.set(o+l,o-l+1),i.set(o+l,o+l-1)}static generateModeMessage(i,o,l){let u=new P;return i?(u.appendBits(o-1,2),u.appendBits(l-1,6),u=Re.generateCheckWords(u,28,4)):(u.appendBits(o-1,5),u.appendBits(l-1,11),u=Re.generateCheckWords(u,40,4)),u}static drawModeMessage(i,o,l,u){let f=O.truncDivision(l,2);if(o)for(let d=0;d<7;d++){let m=f-3+d;u.get(d)&&i.set(m,f-5),u.get(d+7)&&i.set(f+5,m),u.get(20-d)&&i.set(m,f+5),u.get(27-d)&&i.set(f-5,m)}else for(let d=0;d<10;d++){let m=f-5+d+O.truncDivision(d,5);u.get(d)&&i.set(m,f-7),u.get(d+10)&&i.set(f+7,m),u.get(29-d)&&i.set(m,f+7),u.get(39-d)&&i.set(f-7,m)}}static generateCheckWords(i,o,l){let u=i.getSize()/l,f=new tf(Re.getGF(l)),d=O.truncDivision(o,l),m=Re.bitsToWords(i,l,d);f.encode(m,d-u);let x=o%l,w=new P;w.appendBits(0,x);for(const E of Array.from(m))w.appendBits(E,l);return w}static bitsToWords(i,o,l){let u=new Int32Array(l),f,d;for(f=0,d=i.getSize()/o;f<d;f++){let m=0;for(let x=0;x<o;x++)m|=i.get(f*o+x)?1<<o-x-1:0;u[f]=m}return u}static getGF(i){switch(i){case 4:return Pe.AZTEC_PARAM;case 6:return Pe.AZTEC_DATA_6;case 8:return Pe.AZTEC_DATA_8;case 10:return Pe.AZTEC_DATA_10;case 12:return Pe.AZTEC_DATA_12;default:throw new C("Unsupported word size "+i)}}static stuffBits(i,o){let l=new P,u=i.getSize(),f=(1<<o)-2;for(let d=0;d<u;d+=o){let m=0;for(let x=0;x<o;x++)(d+x>=u||i.get(d+x))&&(m|=1<<o-1-x);(m&f)===f?(l.appendBits(m&f,o),d--):m&f?l.appendBits(m,o):(l.appendBits(m|1,o),d--)}return l}static totalBitsInLayer(i,o){return((o?88:112)+16*i)*i}}Re.DEFAULT_EC_PERCENT=33,Re.DEFAULT_AZTEC_LAYERS=0,Re.MAX_NB_BITS=32,Re.MAX_NB_BITS_COMPACT=4,Re.WORD_SIZE=Int32Array.from([4,6,6,8,8,8,8,8,8,10,10,10,10,10,10,10,10,10,10,10,10,10,10,12,12,12,12,12,12,12,12,12,12]);class xl{encode(i,o,l,u){return this.encodeWithHints(i,o,l,u,null)}encodeWithHints(i,o,l,u,f){let d=rf.ISO_8859_1,m=Re.DEFAULT_EC_PERCENT,x=Re.DEFAULT_AZTEC_LAYERS;return f!=null&&(f.has(vt.CHARACTER_SET)&&(d=a1.forName(f.get(vt.CHARACTER_SET).toString())),f.has(vt.ERROR_CORRECTION)&&(m=O.parseInt(f.get(vt.ERROR_CORRECTION).toString())),f.has(vt.AZTEC_LAYERS)&&(x=O.parseInt(f.get(vt.AZTEC_LAYERS).toString()))),xl.encodeLayers(i,o,l,u,d,m,x)}static encodeLayers(i,o,l,u,f,d,m){if(o!==ae.AZTEC)throw new C("Can only encode AZTEC, but got "+o);let x=Re.encode(ne.getBytes(i,f),d,m);return xl.renderResult(x,l,u)}static renderResult(i,o,l){let u=i.getMatrix();if(u==null)throw new fr;let f=u.getWidth(),d=u.getHeight(),m=Math.max(o,f),x=Math.max(l,d),w=Math.min(m/f,x/d),E=(m-f*w)/2,b=(x-d*w)/2,N=new Ne(m,x);for(let L=0,B=b;L<d;L++,B+=w)for(let F=0,z=E;F<f;F++,z+=w)u.get(F,L)&&N.setRegion(z,B,w,w);return N}}n.AbstractExpandedDecoder=Yu,n.ArgumentException=y,n.ArithmeticException=sl,n.AztecCode=l1,n.AztecCodeReader=ll,n.AztecCodeWriter=xl,n.AztecDecoder=Ke,n.AztecDetector=Q0,n.AztecDetectorResult=X0,n.AztecEncoder=Re,n.AztecHighLevelEncoder=Oo,n.AztecPoint=en,n.BarcodeFormat=ae,n.Binarizer=T,n.BinaryBitmap=A,n.BitArray=P,n.BitMatrix=Ne,n.BitSource=Zu,n.BrowserAztecCodeReader=_w,n.BrowserBarcodeReader=Ow,n.BrowserCodeReader=Nt,n.BrowserDatamatrixCodeReader=Dw,n.BrowserMultiFormatReader=Vw,n.BrowserPDF417Reader=Yw,n.BrowserQRCodeReader=Xw,n.BrowserQRCodeSvgWriter=Wi,n.CharacterSetECI=Z,n.ChecksumException=v,n.Code128Reader=ie,n.Code39Reader=St,n.DataMatrixDecodedBitStreamParser=ei,n.DataMatrixReader=ti,n.DecodeHintType=Y,n.DecoderResult=Co,n.DefaultGridSampler=G0,n.DetectorResult=al,n.EAN13Reader=Fi,n.EncodeHintType=vt,n.Exception=g,n.FormatException=j,n.GenericGF=Pe,n.GenericGFPoly=an,n.GlobalHistogramBinarizer=Ce,n.GridSampler=zu,n.GridSamplerInstance=$r,n.HTMLCanvasElementLuminanceSource=pe,n.HybridBinarizer=ue,n.ITFReader=Xe,n.IllegalArgumentException=C,n.IllegalStateException=fr,n.InvertedLuminanceSource=oe,n.LuminanceSource=re,n.MathUtils=Oe,n.MultiFormatOneDReader=_s,n.MultiFormatReader=o1,n.MultiFormatWriter=Qw,n.NotFoundException=W,n.OneDReader=Ct,n.PDF417DecodedBitStreamParser=X,n.PDF417DecoderErrorCorrection=e1,n.PDF417Reader=Ft,n.PDF417ResultMetadata=n1,n.PerspectiveTransform=qn,n.PlanarYUVLuminanceSource=pr,n.QRCodeByteMatrix=pl,n.QRCodeDataMask=jn,n.QRCodeDecodedBitStreamParser=ot,n.QRCodeDecoderErrorCorrectionLevel=qe,n.QRCodeDecoderFormatInformation=Gt,n.QRCodeEncoder=Je,n.QRCodeEncoderQRCode=Hi,n.QRCodeMaskUtil=dt,n.QRCodeMatrixUtil=ye,n.QRCodeMode=me,n.QRCodeReader=ni,n.QRCodeVersion=ge,n.QRCodeWriter=Ts,n.RGBLuminanceSource=nf,n.RSS14Reader=ft,n.RSSExpandedReader=q,n.ReaderException=gl,n.ReedSolomonDecoder=Ao,n.ReedSolomonEncoder=tf,n.ReedSolomonException=As,n.Result=Le,n.ResultMetadataType=Mt,n.ResultPoint=de,n.StringUtils=ne,n.UnsupportedOperationException=se,n.VideoInputDevice=Ue,n.WhiteRectangleDetector=Tr,n.WriterException=Ge,n.ZXingArrays=_,n.ZXingCharset=a1,n.ZXingInteger=O,n.ZXingStandardCharsets=rf,n.ZXingStringBuilder=xe,n.ZXingStringEncoding=he,n.ZXingSystem=R,n.createAbstractExpandedDecoder=$0,Object.defineProperty(n,"__esModule",{value:!0})})})(wh,wh.exports);var tt=wh.exports;const YI=Em(tt),XI=Cm({__proto__:null,default:YI},[tt]);var cm=function(){function e(t,n,r){if(this.formatMap=new Map([[ce.QR_CODE,tt.BarcodeFormat.QR_CODE],[ce.AZTEC,tt.BarcodeFormat.AZTEC],[ce.CODABAR,tt.BarcodeFormat.CODABAR],[ce.CODE_39,tt.BarcodeFormat.CODE_39],[ce.CODE_93,tt.BarcodeFormat.CODE_93],[ce.CODE_128,tt.BarcodeFormat.CODE_128],[ce.DATA_MATRIX,tt.BarcodeFormat.DATA_MATRIX],[ce.MAXICODE,tt.BarcodeFormat.MAXICODE],[ce.ITF,tt.BarcodeFormat.ITF],[ce.EAN_13,tt.BarcodeFormat.EAN_13],[ce.EAN_8,tt.BarcodeFormat.EAN_8],[ce.PDF_417,tt.BarcodeFormat.PDF_417],[ce.RSS_14,tt.BarcodeFormat.RSS_14],[ce.RSS_EXPANDED,tt.BarcodeFormat.RSS_EXPANDED],[ce.UPC_A,tt.BarcodeFormat.UPC_A],[ce.UPC_E,tt.BarcodeFormat.UPC_E],[ce.UPC_EAN_EXTENSION,tt.BarcodeFormat.UPC_EAN_EXTENSION]]),this.reverseFormatMap=this.createReverseFormatMap(),!XI)throw"Use html5qrcode.min.js without edit, ZXing not found.";this.verbose=n,this.logger=r;var s=this.createZXingFormats(t),a=new Map;a.set(tt.DecodeHintType.POSSIBLE_FORMATS,s),a.set(tt.DecodeHintType.TRY_HARDER,!1),this.hints=a}return e.prototype.decodeAsync=function(t){var n=this;return new Promise(function(r,s){try{r(n.decode(t))}catch(a){s(a)}})},e.prototype.decode=function(t){var n=new tt.MultiFormatReader(this.verbose,this.hints),r=new tt.HTMLCanvasElementLuminanceSource(t),s=new tt.BinaryBitmap(new tt.HybridBinarizer(r)),a=n.decode(s);return{text:a.text,format:ww.create(this.toHtml5QrcodeSupportedFormats(a.format)),debugData:this.createDebugData()}},e.prototype.createReverseFormatMap=function(){var t=new Map;return this.formatMap.forEach(function(n,r,s){t.set(n,r)}),t},e.prototype.toHtml5QrcodeSupportedFormats=function(t){if(!this.reverseFormatMap.has(t))throw"reverseFormatMap doesn't have ".concat(t);return this.reverseFormatMap.get(t)},e.prototype.createZXingFormats=function(t){for(var n=[],r=0,s=t;r<s.length;r++){var a=s[r];this.formatMap.has(a)?n.push(this.formatMap.get(a)):this.logger.logError("".concat(a," is not supported by")+"ZXingHtml5QrcodeShim")}return n},e.prototype.createDebugData=function(){return{decoderName:"zxing-js"}},e}(),GI=function(e,t,n,r){function s(a){return a instanceof n?a:new n(function(c){c(a)})}return new(n||(n=Promise))(function(a,c){function h(y){try{g(r.next(y))}catch(C){c(C)}}function p(y){try{g(r.throw(y))}catch(C){c(C)}}function g(y){y.done?a(y.value):s(y.value).then(h,p)}g((r=r.apply(e,t||[])).next())})},QI=function(e,t){var n={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},r,s,a,c;return c={next:h(0),throw:h(1),return:h(2)},typeof Symbol=="function"&&(c[Symbol.iterator]=function(){return this}),c;function h(g){return function(y){return p([g,y])}}function p(g){if(r)throw new TypeError("Generator is already executing.");for(;c&&(c=0,g[0]&&(n=0)),n;)try{if(r=1,s&&(a=g[0]&2?s.return:g[0]?s.throw||((a=s.return)&&a.call(s),0):s.next)&&!(a=a.call(s,g[1])).done)return a;switch(s=0,a&&(g=[g[0]&2,a.value]),g[0]){case 0:case 1:a=g;break;case 4:return n.label++,{value:g[1],done:!1};case 5:n.label++,s=g[1],g=[0];continue;case 7:g=n.ops.pop(),n.trys.pop();continue;default:if(a=n.trys,!(a=a.length>0&&a[a.length-1])&&(g[0]===6||g[0]===2)){n=0;continue}if(g[0]===3&&(!a||g[1]>a[0]&&g[1]<a[3])){n.label=g[1];break}if(g[0]===6&&n.label<a[1]){n.label=a[1],a=g;break}if(a&&n.label<a[2]){n.label=a[2],n.ops.push(g);break}a[2]&&n.ops.pop(),n.trys.pop();continue}g=t.call(e,n)}catch(y){g=[6,y],s=0}finally{r=a=0}if(g[0]&5)throw g[1];return{value:g[0]?g[1]:void 0,done:!0}}},um=function(){function e(t,n,r){if(this.formatMap=new Map([[ce.QR_CODE,"qr_code"],[ce.AZTEC,"aztec"],[ce.CODABAR,"codabar"],[ce.CODE_39,"code_39"],[ce.CODE_93,"code_93"],[ce.CODE_128,"code_128"],[ce.DATA_MATRIX,"data_matrix"],[ce.ITF,"itf"],[ce.EAN_13,"ean_13"],[ce.EAN_8,"ean_8"],[ce.PDF_417,"pdf417"],[ce.UPC_A,"upc_a"],[ce.UPC_E,"upc_e"]]),this.reverseFormatMap=this.createReverseFormatMap(),!e.isSupported())throw"Use html5qrcode.min.js without edit, Use BarcodeDetectorDelegate only if it isSupported();";this.verbose=n,this.logger=r;var s=this.createBarcodeDetectorFormats(t);if(this.detector=new BarcodeDetector(s),!this.detector)throw"BarcodeDetector detector not supported"}return e.isSupported=function(){if(!("BarcodeDetector"in window))return!1;var t=new BarcodeDetector({formats:["qr_code"]});return typeof t<"u"},e.prototype.decodeAsync=function(t){return GI(this,void 0,void 0,function(){var n,r;return QI(this,function(s){switch(s.label){case 0:return[4,this.detector.detect(t)];case 1:if(n=s.sent(),!n||n.length===0)throw"No barcode or QR code detected.";return r=this.selectLargestBarcode(n),[2,{text:r.rawValue,format:ww.create(this.toHtml5QrcodeSupportedFormats(r.format)),debugData:this.createDebugData()}]}})})},e.prototype.selectLargestBarcode=function(t){for(var n=null,r=0,s=0,a=t;s<a.length;s++){var c=a[s],h=c.boundingBox.width*c.boundingBox.height;h>r&&(r=h,n=c)}if(!n)throw"No largest barcode found";return n},e.prototype.createBarcodeDetectorFormats=function(t){for(var n=[],r=0,s=t;r<s.length;r++){var a=s[r];this.formatMap.has(a)?n.push(this.formatMap.get(a)):this.logger.warn("".concat(a," is not supported by")+"BarcodeDetectorDelegate")}return{formats:n}},e.prototype.toHtml5QrcodeSupportedFormats=function(t){if(!this.reverseFormatMap.has(t))throw"reverseFormatMap doesn't have ".concat(t);return this.reverseFormatMap.get(t)},e.prototype.createReverseFormatMap=function(){var t=new Map;return this.formatMap.forEach(function(n,r,s){t.set(n,r)}),t},e.prototype.createDebugData=function(){return{decoderName:"BarcodeDetector"}},e}(),fm=function(e,t,n,r){function s(a){return a instanceof n?a:new n(function(c){c(a)})}return new(n||(n=Promise))(function(a,c){function h(y){try{g(r.next(y))}catch(C){c(C)}}function p(y){try{g(r.throw(y))}catch(C){c(C)}}function g(y){y.done?a(y.value):s(y.value).then(h,p)}g((r=r.apply(e,t||[])).next())})},dm=function(e,t){var n={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},r,s,a,c;return c={next:h(0),throw:h(1),return:h(2)},typeof Symbol=="function"&&(c[Symbol.iterator]=function(){return this}),c;function h(g){return function(y){return p([g,y])}}function p(g){if(r)throw new TypeError("Generator is already executing.");for(;c&&(c=0,g[0]&&(n=0)),n;)try{if(r=1,s&&(a=g[0]&2?s.return:g[0]?s.throw||((a=s.return)&&a.call(s),0):s.next)&&!(a=a.call(s,g[1])).done)return a;switch(s=0,a&&(g=[g[0]&2,a.value]),g[0]){case 0:case 1:a=g;break;case 4:return n.label++,{value:g[1],done:!1};case 5:n.label++,s=g[1],g=[0];continue;case 7:g=n.ops.pop(),n.trys.pop();continue;default:if(a=n.trys,!(a=a.length>0&&a[a.length-1])&&(g[0]===6||g[0]===2)){n=0;continue}if(g[0]===3&&(!a||g[1]>a[0]&&g[1]<a[3])){n.label=g[1];break}if(g[0]===6&&n.label<a[1]){n.label=a[1],a=g;break}if(a&&n.label<a[2]){n.label=a[2],n.ops.push(g);break}a[2]&&n.ops.pop(),n.trys.pop();continue}g=t.call(e,n)}catch(y){g=[6,y],s=0}finally{r=a=0}if(g[0]&5)throw g[1];return{value:g[0]?g[1]:void 0,done:!0}}},ZI=function(){function e(t,n,r,s){this.EXECUTIONS_TO_REPORT_PERFORMANCE=100,this.executions=0,this.executionResults=[],this.wasPrimaryDecoderUsedInLastDecode=!1,this.verbose=r,n&&um.isSupported()?(this.primaryDecoder=new um(t,r,s),this.secondaryDecoder=new cm(t,r,s)):this.primaryDecoder=new cm(t,r,s)}return e.prototype.decodeAsync=function(t){return fm(this,void 0,void 0,function(){var n;return dm(this,function(r){switch(r.label){case 0:n=performance.now(),r.label=1;case 1:return r.trys.push([1,,3,4]),[4,this.getDecoder().decodeAsync(t)];case 2:return[2,r.sent()];case 3:return this.possiblyLogPerformance(n),[7];case 4:return[2]}})})},e.prototype.decodeRobustlyAsync=function(t){return fm(this,void 0,void 0,function(){var n,r;return dm(this,function(s){switch(s.label){case 0:n=performance.now(),s.label=1;case 1:return s.trys.push([1,3,4,5]),[4,this.primaryDecoder.decodeAsync(t)];case 2:return[2,s.sent()];case 3:if(r=s.sent(),this.secondaryDecoder)return[2,this.secondaryDecoder.decodeAsync(t)];throw r;case 4:return this.possiblyLogPerformance(n),[7];case 5:return[2]}})})},e.prototype.getDecoder=function(){return this.secondaryDecoder?this.wasPrimaryDecoderUsedInLastDecode===!1?(this.wasPrimaryDecoderUsedInLastDecode=!0,this.primaryDecoder):(this.wasPrimaryDecoderUsedInLastDecode=!1,this.secondaryDecoder):this.primaryDecoder},e.prototype.possiblyLogPerformance=function(t){if(this.verbose){var n=performance.now()-t;this.executionResults.push(n),this.executions++,this.possiblyFlushPerformanceReport()}},e.prototype.possiblyFlushPerformanceReport=function(){if(!(this.executions<this.EXECUTIONS_TO_REPORT_PERFORMANCE)){for(var t=0,n=0,r=this.executionResults;n<r.length;n++){var s=r[n];t+=s}var a=t/this.executionResults.length;console.log("".concat(a," ms for ").concat(this.executionResults.length," last runs.")),this.executions=0,this.executionResults=[]}},e}(),W0=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,s){r.__proto__=s}||function(r,s){for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(r[a]=s[a])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),ou=function(e,t,n,r){function s(a){return a instanceof n?a:new n(function(c){c(a)})}return new(n||(n=Promise))(function(a,c){function h(y){try{g(r.next(y))}catch(C){c(C)}}function p(y){try{g(r.throw(y))}catch(C){c(C)}}function g(y){y.done?a(y.value):s(y.value).then(h,p)}g((r=r.apply(e,t||[])).next())})},au=function(e,t){var n={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},r,s,a,c;return c={next:h(0),throw:h(1),return:h(2)},typeof Symbol=="function"&&(c[Symbol.iterator]=function(){return this}),c;function h(g){return function(y){return p([g,y])}}function p(g){if(r)throw new TypeError("Generator is already executing.");for(;c&&(c=0,g[0]&&(n=0)),n;)try{if(r=1,s&&(a=g[0]&2?s.return:g[0]?s.throw||((a=s.return)&&a.call(s),0):s.next)&&!(a=a.call(s,g[1])).done)return a;switch(s=0,a&&(g=[g[0]&2,a.value]),g[0]){case 0:case 1:a=g;break;case 4:return n.label++,{value:g[1],done:!1};case 5:n.label++,s=g[1],g=[0];continue;case 7:g=n.ops.pop(),n.trys.pop();continue;default:if(a=n.trys,!(a=a.length>0&&a[a.length-1])&&(g[0]===6||g[0]===2)){n=0;continue}if(g[0]===3&&(!a||g[1]>a[0]&&g[1]<a[3])){n.label=g[1];break}if(g[0]===6&&n.label<a[1]){n.label=a[1],a=g;break}if(a&&n.label<a[2]){n.label=a[2],n.ops.push(g);break}a[2]&&n.ops.pop(),n.trys.pop();continue}g=t.call(e,n)}catch(y){g=[6,y],s=0}finally{r=a=0}if(g[0]&5)throw g[1];return{value:g[0]?g[1]:void 0,done:!0}}},Sw=function(){function e(t,n){this.name=t,this.track=n}return e.prototype.isSupported=function(){return this.track.getCapabilities?this.name in this.track.getCapabilities():!1},e.prototype.apply=function(t){var n={};n[this.name]=t;var r={advanced:[n]};return this.track.applyConstraints(r)},e.prototype.value=function(){var t=this.track.getSettings();if(this.name in t){var n=t[this.name];return n}return null},e}(),KI=function(e){W0(t,e);function t(n,r){return e.call(this,n,r)||this}return t.prototype.min=function(){return this.getCapabilities().min},t.prototype.max=function(){return this.getCapabilities().max},t.prototype.step=function(){return this.getCapabilities().step},t.prototype.apply=function(n){var r={};r[this.name]=n;var s={advanced:[r]};return this.track.applyConstraints(s)},t.prototype.getCapabilities=function(){this.failIfNotSupported();var n=this.track.getCapabilities(),r=n[this.name];return{min:r.min,max:r.max,step:r.step}},t.prototype.failIfNotSupported=function(){if(!this.isSupported())throw new Error("".concat(this.name," capability not supported"))},t}(Sw),qI=function(e){W0(t,e);function t(n){return e.call(this,"zoom",n)||this}return t}(KI),$I=function(e){W0(t,e);function t(n){return e.call(this,"torch",n)||this}return t}(Sw),JI=function(){function e(t){this.track=t}return e.prototype.zoomFeature=function(){return new qI(this.track)},e.prototype.torchFeature=function(){return new $I(this.track)},e}(),eT=function(){function e(t,n,r){this.isClosed=!1,this.parentElement=t,this.mediaStream=n,this.callbacks=r,this.surface=this.createVideoElement(this.parentElement.clientWidth),t.append(this.surface)}return e.prototype.createVideoElement=function(t){var n=document.createElement("video");return n.style.width="".concat(t,"px"),n.style.display="block",n.muted=!0,n.setAttribute("muted","true"),n.playsInline=!0,n},e.prototype.setupSurface=function(){var t=this;this.surface.onabort=function(){throw"RenderedCameraImpl video surface onabort() called"},this.surface.onerror=function(){throw"RenderedCameraImpl video surface onerror() called"};var n=function(){var r=t.surface.clientWidth,s=t.surface.clientHeight;t.callbacks.onRenderSurfaceReady(r,s),t.surface.removeEventListener("playing",n)};this.surface.addEventListener("playing",n),this.surface.srcObject=this.mediaStream,this.surface.play()},e.create=function(t,n,r,s){return ou(this,void 0,void 0,function(){var a,c;return au(this,function(h){switch(h.label){case 0:return a=new e(t,n,s),r.aspectRatio?(c={aspectRatio:r.aspectRatio},[4,a.getFirstTrackOrFail().applyConstraints(c)]):[3,2];case 1:h.sent(),h.label=2;case 2:return a.setupSurface(),[2,a]}})})},e.prototype.failIfClosed=function(){if(this.isClosed)throw"The RenderedCamera has already been closed."},e.prototype.getFirstTrackOrFail=function(){if(this.failIfClosed(),this.mediaStream.getVideoTracks().length===0)throw"No video tracks found";return this.mediaStream.getVideoTracks()[0]},e.prototype.pause=function(){this.failIfClosed(),this.surface.pause()},e.prototype.resume=function(t){this.failIfClosed();var n=this,r=function(){setTimeout(t,200),n.surface.removeEventListener("playing",r)};this.surface.addEventListener("playing",r),this.surface.play()},e.prototype.isPaused=function(){return this.failIfClosed(),this.surface.paused},e.prototype.getSurface=function(){return this.failIfClosed(),this.surface},e.prototype.getRunningTrackCapabilities=function(){return this.getFirstTrackOrFail().getCapabilities()},e.prototype.getRunningTrackSettings=function(){return this.getFirstTrackOrFail().getSettings()},e.prototype.applyVideoConstraints=function(t){return ou(this,void 0,void 0,function(){return au(this,function(n){if("aspectRatio"in t)throw"Changing 'aspectRatio' in run-time is not yet supported.";return[2,this.getFirstTrackOrFail().applyConstraints(t)]})})},e.prototype.close=function(){if(this.isClosed)return Promise.resolve();var t=this;return new Promise(function(n,r){var s=t.mediaStream.getVideoTracks(),a=s.length,c=0;t.mediaStream.getVideoTracks().forEach(function(h){t.mediaStream.removeTrack(h),h.stop(),++c,c>=a&&(t.isClosed=!0,t.parentElement.removeChild(t.surface),n())})})},e.prototype.getCapabilities=function(){return new JI(this.getFirstTrackOrFail())},e}(),tT=function(){function e(t){this.mediaStream=t}return e.prototype.render=function(t,n,r){return ou(this,void 0,void 0,function(){return au(this,function(s){return[2,eT.create(t,this.mediaStream,n,r)]})})},e.create=function(t){return ou(this,void 0,void 0,function(){var n,r;return au(this,function(s){switch(s.label){case 0:if(!navigator.mediaDevices)throw"navigator.mediaDevices not supported";return n={audio:!1,video:t},[4,navigator.mediaDevices.getUserMedia(n)];case 1:return r=s.sent(),[2,new e(r)]}})})},e}(),hm=function(e,t,n,r){function s(a){return a instanceof n?a:new n(function(c){c(a)})}return new(n||(n=Promise))(function(a,c){function h(y){try{g(r.next(y))}catch(C){c(C)}}function p(y){try{g(r.throw(y))}catch(C){c(C)}}function g(y){y.done?a(y.value):s(y.value).then(h,p)}g((r=r.apply(e,t||[])).next())})},gm=function(e,t){var n={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},r,s,a,c;return c={next:h(0),throw:h(1),return:h(2)},typeof Symbol=="function"&&(c[Symbol.iterator]=function(){return this}),c;function h(g){return function(y){return p([g,y])}}function p(g){if(r)throw new TypeError("Generator is already executing.");for(;c&&(c=0,g[0]&&(n=0)),n;)try{if(r=1,s&&(a=g[0]&2?s.return:g[0]?s.throw||((a=s.return)&&a.call(s),0):s.next)&&!(a=a.call(s,g[1])).done)return a;switch(s=0,a&&(g=[g[0]&2,a.value]),g[0]){case 0:case 1:a=g;break;case 4:return n.label++,{value:g[1],done:!1};case 5:n.label++,s=g[1],g=[0];continue;case 7:g=n.ops.pop(),n.trys.pop();continue;default:if(a=n.trys,!(a=a.length>0&&a[a.length-1])&&(g[0]===6||g[0]===2)){n=0;continue}if(g[0]===3&&(!a||g[1]>a[0]&&g[1]<a[3])){n.label=g[1];break}if(g[0]===6&&n.label<a[1]){n.label=a[1],a=g;break}if(a&&n.label<a[2]){n.label=a[2],n.ops.push(g);break}a[2]&&n.ops.pop(),n.trys.pop();continue}g=t.call(e,n)}catch(y){g=[6,y],s=0}finally{r=a=0}if(g[0]&5)throw g[1];return{value:g[0]?g[1]:void 0,done:!0}}},nT=function(){function e(){}return e.failIfNotSupported=function(){return hm(this,void 0,void 0,function(){return gm(this,function(t){if(!navigator.mediaDevices)throw"navigator.mediaDevices not supported";return[2,new e]})})},e.prototype.create=function(t){return hm(this,void 0,void 0,function(){return gm(this,function(n){return[2,tT.create(t)]})})},e}(),rT=function(e,t,n,r){function s(a){return a instanceof n?a:new n(function(c){c(a)})}return new(n||(n=Promise))(function(a,c){function h(y){try{g(r.next(y))}catch(C){c(C)}}function p(y){try{g(r.throw(y))}catch(C){c(C)}}function g(y){y.done?a(y.value):s(y.value).then(h,p)}g((r=r.apply(e,t||[])).next())})},iT=function(e,t){var n={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},r,s,a,c;return c={next:h(0),throw:h(1),return:h(2)},typeof Symbol=="function"&&(c[Symbol.iterator]=function(){return this}),c;function h(g){return function(y){return p([g,y])}}function p(g){if(r)throw new TypeError("Generator is already executing.");for(;c&&(c=0,g[0]&&(n=0)),n;)try{if(r=1,s&&(a=g[0]&2?s.return:g[0]?s.throw||((a=s.return)&&a.call(s),0):s.next)&&!(a=a.call(s,g[1])).done)return a;switch(s=0,a&&(g=[g[0]&2,a.value]),g[0]){case 0:case 1:a=g;break;case 4:return n.label++,{value:g[1],done:!1};case 5:n.label++,s=g[1],g=[0];continue;case 7:g=n.ops.pop(),n.trys.pop();continue;default:if(a=n.trys,!(a=a.length>0&&a[a.length-1])&&(g[0]===6||g[0]===2)){n=0;continue}if(g[0]===3&&(!a||g[1]>a[0]&&g[1]<a[3])){n.label=g[1];break}if(g[0]===6&&n.label<a[1]){n.label=a[1],a=g;break}if(a&&n.label<a[2]){n.label=a[2],n.ops.push(g);break}a[2]&&n.ops.pop(),n.trys.pop();continue}g=t.call(e,n)}catch(y){g=[6,y],s=0}finally{r=a=0}if(g[0]&5)throw g[1];return{value:g[0]?g[1]:void 0,done:!0}}},sT=function(){function e(){}return e.retrieve=function(){if(navigator.mediaDevices)return e.getCamerasFromMediaDevices();var t=MediaStreamTrack;return MediaStreamTrack&&t.getSources?e.getCamerasFromMediaStreamTrack():e.rejectWithError()},e.rejectWithError=function(){var t=Qs.unableToQuerySupportedDevices();return e.isHttpsOrLocalhost()||(t=Qs.insecureContextCameraQueryError()),Promise.reject(t)},e.isHttpsOrLocalhost=function(){if(location.protocol==="https:")return!0;var t=location.host.split(":")[0];return t==="127.0.0.1"||t==="localhost"},e.getCamerasFromMediaDevices=function(){return rT(this,void 0,void 0,function(){var t,n,r,s,a,c,h;return iT(this,function(p){switch(p.label){case 0:return t=function(g){for(var y=g.getVideoTracks(),C=0,A=y;C<A.length;C++){var v=A[C];v.enabled=!1,v.stop(),g.removeTrack(v)}},[4,navigator.mediaDevices.getUserMedia({audio:!1,video:!0})];case 1:return n=p.sent(),[4,navigator.mediaDevices.enumerateDevices()];case 2:for(r=p.sent(),s=[],a=0,c=r;a<c.length;a++)h=c[a],h.kind==="videoinput"&&s.push({id:h.deviceId,label:h.label});return t(n),[2,s]}})})},e.getCamerasFromMediaStreamTrack=function(){return new Promise(function(t,n){var r=function(a){for(var c=[],h=0,p=a;h<p.length;h++){var g=p[h];g.kind==="video"&&c.push({id:g.id,label:g.label})}t(c)},s=MediaStreamTrack;s.getSources(r)})},e}(),ht;(function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.NOT_STARTED=1]="NOT_STARTED",e[e.SCANNING=2]="SCANNING",e[e.PAUSED=3]="PAUSED"})(ht||(ht={}));var oT=function(){function e(){this.state=ht.NOT_STARTED,this.onGoingTransactionNewState=ht.UNKNOWN}return e.prototype.directTransition=function(t){this.failIfTransitionOngoing(),this.validateTransition(t),this.state=t},e.prototype.startTransition=function(t){return this.failIfTransitionOngoing(),this.validateTransition(t),this.onGoingTransactionNewState=t,this},e.prototype.execute=function(){if(this.onGoingTransactionNewState===ht.UNKNOWN)throw"Transaction is already cancelled, cannot execute().";var t=this.onGoingTransactionNewState;this.onGoingTransactionNewState=ht.UNKNOWN,this.directTransition(t)},e.prototype.cancel=function(){if(this.onGoingTransactionNewState===ht.UNKNOWN)throw"Transaction is already cancelled, cannot cancel().";this.onGoingTransactionNewState=ht.UNKNOWN},e.prototype.getState=function(){return this.state},e.prototype.failIfTransitionOngoing=function(){if(this.onGoingTransactionNewState!==ht.UNKNOWN)throw"Cannot transition to a new state, already under transition"},e.prototype.validateTransition=function(t){switch(this.state){case ht.UNKNOWN:throw"Transition from unknown is not allowed";case ht.NOT_STARTED:this.failIfNewStateIs(t,[ht.PAUSED]);break;case ht.SCANNING:break;case ht.PAUSED:break}},e.prototype.failIfNewStateIs=function(t,n){for(var r=0,s=n;r<s.length;r++){var a=s[r];if(t===a)throw"Cannot transition from ".concat(this.state," to ").concat(t)}},e}(),aT=function(){function e(t){this.stateManager=t}return e.prototype.startTransition=function(t){return this.stateManager.startTransition(t)},e.prototype.directTransition=function(t){this.stateManager.directTransition(t)},e.prototype.getState=function(){return this.stateManager.getState()},e.prototype.canScanFile=function(){return this.stateManager.getState()===ht.NOT_STARTED},e.prototype.isScanning=function(){return this.stateManager.getState()!==ht.NOT_STARTED},e.prototype.isStrictlyScanning=function(){return this.stateManager.getState()===ht.SCANNING},e.prototype.isPaused=function(){return this.stateManager.getState()===ht.PAUSED},e}(),lT=function(){function e(){}return e.create=function(){return new aT(new oT)},e}(),cT=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,s){r.__proto__=s}||function(r,s){for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(r[a]=s[a])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),vn=function(e){cT(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.DEFAULT_WIDTH=300,t.DEFAULT_WIDTH_OFFSET=2,t.FILE_SCAN_MIN_HEIGHT=300,t.FILE_SCAN_HIDDEN_CANVAS_PADDING=100,t.MIN_QR_BOX_SIZE=50,t.SHADED_LEFT=1,t.SHADED_RIGHT=2,t.SHADED_TOP=3,t.SHADED_BOTTOM=4,t.SHADED_REGION_ELEMENT_ID="qr-shaded-region",t.VERBOSE=!1,t.BORDER_SHADER_DEFAULT_COLOR="#ffffff",t.BORDER_SHADER_MATCH_COLOR="rgb(90, 193, 56)",t}(rr),uT=function(){function e(t,n){this.logger=n,this.fps=vn.SCAN_DEFAULT_FPS,t?(t.fps&&(this.fps=t.fps),this.disableFlip=t.disableFlip===!0,this.qrbox=t.qrbox,this.aspectRatio=t.aspectRatio,this.videoConstraints=t.videoConstraints):this.disableFlip=vn.DEFAULT_DISABLE_FLIP}return e.prototype.isMediaStreamConstraintsValid=function(){return this.videoConstraints?Aw.isMediaStreamConstraintsValid(this.videoConstraints,this.logger):(this.logger.logError("Empty videoConstraints",!0),!1)},e.prototype.isShadedBoxEnabled=function(){return!br(this.qrbox)},e.create=function(t,n){return new e(t,n)},e}(),pm=function(){function e(t,n){if(this.element=null,this.canvasElement=null,this.scannerPausedUiElement=null,this.hasBorderShaders=null,this.borderShaders=null,this.qrMatch=null,this.renderedCamera=null,this.qrRegion=null,this.context=null,this.lastScanImageFile=null,this.isScanning=!1,!document.getElementById(t))throw"HTML Element with id=".concat(t," not found");this.elementId=t,this.verbose=!1;var r;typeof n=="boolean"?this.verbose=n===!0:n&&(r=n,this.verbose=r.verbose===!0,r.experimentalFeatures),this.logger=new Ew(this.verbose),this.qrcode=new ZI(this.getSupportedFormats(n),this.getUseBarCodeDetectorIfSupported(r),this.verbose,this.logger),this.foreverScanTimeout,this.shouldScan=!0,this.stateManagerProxy=lT.create()}return e.prototype.start=function(t,n,r,s){var a=this;if(!t)throw"cameraIdOrConfig is required";if(!r||typeof r!="function")throw"qrCodeSuccessCallback is required and should be a function.";var c;s?c=s:c=this.verbose?this.logger.log:function(){};var h=uT.create(n,this.logger);this.clearElement();var p=!1;h.videoConstraints&&(h.isMediaStreamConstraintsValid()?p=!0:this.logger.logError("'videoConstraints' is not valid 'MediaStreamConstraints, it will be ignored.'",!0));var g=p,y=document.getElementById(this.elementId);y.clientWidth?y.clientWidth:vn.DEFAULT_WIDTH,y.style.position="relative",this.shouldScan=!0,this.element=y;var C=this,A=this.stateManagerProxy.startTransition(ht.SCANNING);return new Promise(function(v,T){var R=g?h.videoConstraints:C.createVideoConstraints(t);if(!R){A.cancel(),T("videoConstraints should be defined");return}var D={};(!g||h.aspectRatio)&&(D.aspectRatio=h.aspectRatio);var I={onRenderSurfaceReady:function(_,O){C.setupUi(_,O,h),C.isScanning=!0,C.foreverScan(h,r,c)}};nT.failIfNotSupported().then(function(_){_.create(R).then(function(O){return O.render(a.element,D,I).then(function(P){C.renderedCamera=P,A.execute(),v(null)}).catch(function(P){A.cancel(),T(P)})}).catch(function(O){A.cancel(),T(Qs.errorGettingUserMedia(O))})}).catch(function(_){A.cancel(),T(Qs.cameraStreamingNotSupported())})})},e.prototype.pause=function(t){if(!this.stateManagerProxy.isStrictlyScanning())throw"Cannot pause, scanner is not scanning.";this.stateManagerProxy.directTransition(ht.PAUSED),this.showPausedState(),(br(t)||t!==!0)&&(t=!1),t&&this.renderedCamera&&this.renderedCamera.pause()},e.prototype.resume=function(){if(!this.stateManagerProxy.isPaused())throw"Cannot result, scanner is not paused.";if(!this.renderedCamera)throw"renderedCamera doesn't exist while trying resume()";var t=this,n=function(){t.stateManagerProxy.directTransition(ht.SCANNING),t.hidePausedState()};if(!this.renderedCamera.isPaused()){n();return}this.renderedCamera.resume(function(){n()})},e.prototype.getState=function(){return this.stateManagerProxy.getState()},e.prototype.stop=function(){var t=this;if(!this.stateManagerProxy.isScanning())throw"Cannot stop, scanner is not running or paused.";var n=this.stateManagerProxy.startTransition(ht.NOT_STARTED);this.shouldScan=!1,this.foreverScanTimeout&&clearTimeout(this.foreverScanTimeout);var r=function(){if(t.element){var a=document.getElementById(vn.SHADED_REGION_ELEMENT_ID);a&&t.element.removeChild(a)}},s=this;return this.renderedCamera.close().then(function(){return s.renderedCamera=null,s.element&&(s.element.removeChild(s.canvasElement),s.canvasElement=null),r(),s.qrRegion&&(s.qrRegion=null),s.context&&(s.context=null),n.execute(),s.hidePausedState(),s.isScanning=!1,Promise.resolve()})},e.prototype.scanFile=function(t,n){return this.scanFileV2(t,n).then(function(r){return r.decodedText})},e.prototype.scanFileV2=function(t,n){var r=this;if(!t||!(t instanceof File))throw"imageFile argument is mandatory and should be instance of File. Use 'event.target.files[0]'.";if(br(n)&&(n=!0),!this.stateManagerProxy.canScanFile())throw"Cannot start file scan - ongoing camera scan";return new Promise(function(s,a){r.possiblyCloseLastScanImageFile(),r.clearElement(),r.lastScanImageFile=URL.createObjectURL(t);var c=new Image;c.onload=function(){var h=c.width,p=c.height,g=document.getElementById(r.elementId),y=g.clientWidth?g.clientWidth:vn.DEFAULT_WIDTH,C=Math.max(g.clientHeight?g.clientHeight:p,vn.FILE_SCAN_MIN_HEIGHT),A=r.computeCanvasDrawConfig(h,p,y,C);if(n){var v=r.createCanvasElement(y,C,"qr-canvas-visible");v.style.display="inline-block",g.appendChild(v);var T=v.getContext("2d");if(!T)throw"Unable to get 2d context from canvas";T.canvas.width=y,T.canvas.height=C,T.drawImage(c,0,0,h,p,A.x,A.y,A.width,A.height)}var R=vn.FILE_SCAN_HIDDEN_CANVAS_PADDING,D=Math.max(c.width,A.width),I=Math.max(c.height,A.height),_=D+2*R,O=I+2*R,P=r.createCanvasElement(_,O);g.appendChild(P);var U=P.getContext("2d");if(!U)throw"Unable to get 2d context from canvas";U.canvas.width=_,U.canvas.height=O,U.drawImage(c,0,0,h,p,R,R,D,I);try{r.qrcode.decodeRobustlyAsync(P).then(function(Y){s(am.createFromQrcodeResult(Y))}).catch(a)}catch(Y){a("QR code parse error, error = ".concat(Y))}},c.onerror=a,c.onabort=a,c.onstalled=a,c.onsuspend=a,c.src=URL.createObjectURL(t)})},e.prototype.clear=function(){this.clearElement()},e.getCameras=function(){return sT.retrieve()},e.prototype.getRunningTrackCapabilities=function(){return this.getRenderedCameraOrFail().getRunningTrackCapabilities()},e.prototype.getRunningTrackSettings=function(){return this.getRenderedCameraOrFail().getRunningTrackSettings()},e.prototype.getRunningTrackCameraCapabilities=function(){return this.getRenderedCameraOrFail().getCapabilities()},e.prototype.applyVideoConstraints=function(t){if(t){if(!Aw.isMediaStreamConstraintsValid(t,this.logger))throw"invalid videoConstaints passed, check logs for more details"}else throw"videoConstaints is required argument.";return this.getRenderedCameraOrFail().applyVideoConstraints(t)},e.prototype.getRenderedCameraOrFail=function(){if(this.renderedCamera==null)throw"Scanning is not in running state, call this API only when QR code scanning using camera is in running state.";return this.renderedCamera},e.prototype.getSupportedFormats=function(t){var n=[ce.QR_CODE,ce.AZTEC,ce.CODABAR,ce.CODE_39,ce.CODE_93,ce.CODE_128,ce.DATA_MATRIX,ce.MAXICODE,ce.ITF,ce.EAN_13,ce.EAN_8,ce.PDF_417,ce.RSS_14,ce.RSS_EXPANDED,ce.UPC_A,ce.UPC_E,ce.UPC_EAN_EXTENSION];if(!t||typeof t=="boolean"||!t.formatsToSupport)return n;if(!Array.isArray(t.formatsToSupport))throw"configOrVerbosityFlag.formatsToSupport should be undefined or an array.";if(t.formatsToSupport.length===0)throw"Atleast 1 formatsToSupport is needed.";for(var r=[],s=0,a=t.formatsToSupport;s<a.length;s++){var c=a[s];WI(c)?r.push(c):this.logger.warn("Invalid format: ".concat(c," passed in config, ignoring."))}if(r.length===0)throw"None of formatsToSupport match supported values.";return r},e.prototype.getUseBarCodeDetectorIfSupported=function(t){if(br(t))return!0;if(!br(t.useBarCodeDetectorIfSupported))return t.useBarCodeDetectorIfSupported!==!1;if(br(t.experimentalFeatures))return!0;var n=t.experimentalFeatures;return br(n.useBarCodeDetectorIfSupported)?!0:n.useBarCodeDetectorIfSupported!==!1},e.prototype.validateQrboxSize=function(t,n,r){var s=this,a=r.qrbox;this.validateQrboxConfig(a);var c=this.toQrdimensions(t,n,a),h=function(g){if(g<vn.MIN_QR_BOX_SIZE)throw"minimum size of 'config.qrbox' dimension value is"+" ".concat(vn.MIN_QR_BOX_SIZE,"px.")},p=function(g){return g>t&&(s.logger.warn("`qrbox.width` or `qrbox` is larger than the width of the root element. The width will be truncated to the width of root element."),g=t),g};h(c.width),h(c.height),c.width=p(c.width)},e.prototype.validateQrboxConfig=function(t){if(typeof t!="number"&&typeof t!="function"&&(t.width===void 0||t.height===void 0))throw"Invalid instance of QrDimensions passed for 'config.qrbox'. Both 'width' and 'height' should be set."},e.prototype.toQrdimensions=function(t,n,r){if(typeof r=="number")return{width:r,height:r};if(typeof r=="function")try{return r(t,n)}catch(s){throw new Error("qrbox config was passed as a function but it failed with unknown error"+s)}return r},e.prototype.setupUi=function(t,n,r){r.isShadedBoxEnabled()&&this.validateQrboxSize(t,n,r);var s=br(r.qrbox)?{width:t,height:n}:r.qrbox;this.validateQrboxConfig(s);var a=this.toQrdimensions(t,n,s);a.height>n&&this.logger.warn("[Html5Qrcode] config.qrbox has height that isgreater than the height of the video stream. Shading will be ignored");var c=r.isShadedBoxEnabled()&&a.height<=n,h={x:0,y:0,width:t,height:n},p=c?this.getShadedRegionBounds(t,n,a):h,g=this.createCanvasElement(p.width,p.height),y={willReadFrequently:!0},C=g.getContext("2d",y);C.canvas.width=p.width,C.canvas.height=p.height,this.element.append(g),c&&this.possiblyInsertShadingElement(this.element,t,n,a),this.createScannerPausedUiElement(this.element),this.qrRegion=p,this.context=C,this.canvasElement=g},e.prototype.createScannerPausedUiElement=function(t){var n=document.createElement("div");n.innerText=Qs.scannerPaused(),n.style.display="none",n.style.position="absolute",n.style.top="0px",n.style.zIndex="1",n.style.background="rgba(9, 9, 9, 0.46)",n.style.color="#FFECEC",n.style.textAlign="center",n.style.width="100%",t.appendChild(n),this.scannerPausedUiElement=n},e.prototype.scanContext=function(t,n){var r=this;return this.stateManagerProxy.isPaused()?Promise.resolve(!1):this.qrcode.decodeAsync(this.canvasElement).then(function(s){return t(s.text,am.createFromQrcodeResult(s)),r.possiblyUpdateShaders(!0),!0}).catch(function(s){r.possiblyUpdateShaders(!1);var a=Qs.codeParseError(s);return n(a,Cw.createFrom(a)),!1})},e.prototype.foreverScan=function(t,n,r){var s=this;if(this.shouldScan&&this.renderedCamera){var a=this.renderedCamera.getSurface(),c=a.videoWidth/a.clientWidth,h=a.videoHeight/a.clientHeight;if(!this.qrRegion)throw"qrRegion undefined when localMediaStream is ready.";var p=this.qrRegion.width*c,g=this.qrRegion.height*h,y=this.qrRegion.x*c,C=this.qrRegion.y*h;this.context.drawImage(a,y,C,p,g,0,0,this.qrRegion.width,this.qrRegion.height);var A=function(){s.foreverScanTimeout=setTimeout(function(){s.foreverScan(t,n,r)},s.getTimeoutFps(t.fps))};this.scanContext(n,r).then(function(v){!v&&t.disableFlip!==!0?(s.context.translate(s.context.canvas.width,0),s.context.scale(-1,1),s.scanContext(n,r).finally(function(){A()})):A()}).catch(function(v){s.logger.logError("Error happend while scanning context",v),A()})}},e.prototype.createVideoConstraints=function(t){if(typeof t=="string")return{deviceId:{exact:t}};if(typeof t=="object"){var n="facingMode",r="deviceId",s={user:!0,environment:!0},a="exact",c=function(T){if(T in s)return!0;throw"config has invalid 'facingMode' value = "+"'".concat(T,"'")},h=Object.keys(t);if(h.length!==1)throw"'cameraIdOrConfig' object should have exactly 1 key,"+" if passed as an object, found ".concat(h.length," keys");var p=Object.keys(t)[0];if(p!==n&&p!==r)throw"Only '".concat(n,"' and '").concat(r,"' ")+" are supported for 'cameraIdOrConfig'";if(p===n){var g=t.facingMode;if(typeof g=="string"){if(c(g))return{facingMode:g}}else if(typeof g=="object")if(a in g){if(c(g["".concat(a)]))return{facingMode:{exact:g["".concat(a)]}}}else throw"'facingMode' should be string or object with"+" ".concat(a," as key.");else{var y=typeof g;throw"Invalid type of 'facingMode' = ".concat(y)}}else{var C=t.deviceId;if(typeof C=="string")return{deviceId:C};if(typeof C=="object"){if(a in C)return{deviceId:{exact:C["".concat(a)]}};throw"'deviceId' should be string or object with"+" ".concat(a," as key.")}else{var A=typeof C;throw"Invalid type of 'deviceId' = ".concat(A)}}}var v=typeof t;throw"Invalid type of 'cameraIdOrConfig' = ".concat(v)},e.prototype.computeCanvasDrawConfig=function(t,n,r,s){if(t<=r&&n<=s){var a=(r-t)/2,c=(s-n)/2;return{x:a,y:c,width:t,height:n}}else{var h=t,p=n;return t>r&&(n=r/t*n,t=r),n>s&&(t=s/n*t,n=s),this.logger.log("Image downsampled from "+"".concat(h,"X").concat(p)+" to ".concat(t,"X").concat(n,".")),this.computeCanvasDrawConfig(t,n,r,s)}},e.prototype.clearElement=function(){if(this.stateManagerProxy.isScanning())throw"Cannot clear while scan is ongoing, close it first.";var t=document.getElementById(this.elementId);t&&(t.innerHTML="")},e.prototype.possiblyUpdateShaders=function(t){this.qrMatch!==t&&(this.hasBorderShaders&&this.borderShaders&&this.borderShaders.length&&this.borderShaders.forEach(function(n){n.style.backgroundColor=t?vn.BORDER_SHADER_MATCH_COLOR:vn.BORDER_SHADER_DEFAULT_COLOR}),this.qrMatch=t)},e.prototype.possiblyCloseLastScanImageFile=function(){this.lastScanImageFile&&(URL.revokeObjectURL(this.lastScanImageFile),this.lastScanImageFile=null)},e.prototype.createCanvasElement=function(t,n,r){var s=t,a=n,c=document.createElement("canvas");return c.style.width="".concat(s,"px"),c.style.height="".concat(a,"px"),c.style.display="none",c.id=br(r)?"qr-canvas":r,c},e.prototype.getShadedRegionBounds=function(t,n,r){if(r.width>t||r.height>n)throw"'config.qrbox' dimensions should not be greater than the dimensions of the root HTML element.";return{x:(t-r.width)/2,y:(n-r.height)/2,width:r.width,height:r.height}},e.prototype.possiblyInsertShadingElement=function(t,n,r,s){if(!(n-s.width<1||r-s.height<1)){var a=document.createElement("div");a.style.position="absolute";var c=(n-s.width)/2,h=(r-s.height)/2;if(a.style.borderLeft="".concat(c,"px solid rgba(0, 0, 0, 0.48)"),a.style.borderRight="".concat(c,"px solid rgba(0, 0, 0, 0.48)"),a.style.borderTop="".concat(h,"px solid rgba(0, 0, 0, 0.48)"),a.style.borderBottom="".concat(h,"px solid rgba(0, 0, 0, 0.48)"),a.style.boxSizing="border-box",a.style.top="0px",a.style.bottom="0px",a.style.left="0px",a.style.right="0px",a.id="".concat(vn.SHADED_REGION_ELEMENT_ID),n-s.width<11||r-s.height<11)this.hasBorderShaders=!1;else{var p=5,g=40;this.insertShaderBorders(a,g,p,-p,null,0,!0),this.insertShaderBorders(a,g,p,-p,null,0,!1),this.insertShaderBorders(a,g,p,null,-p,0,!0),this.insertShaderBorders(a,g,p,null,-p,0,!1),this.insertShaderBorders(a,p,g+p,-p,null,-p,!0),this.insertShaderBorders(a,p,g+p,null,-p,-p,!0),this.insertShaderBorders(a,p,g+p,-p,null,-p,!1),this.insertShaderBorders(a,p,g+p,null,-p,-p,!1),this.hasBorderShaders=!0}t.append(a)}},e.prototype.insertShaderBorders=function(t,n,r,s,a,c,h){var p=document.createElement("div");p.style.position="absolute",p.style.backgroundColor=vn.BORDER_SHADER_DEFAULT_COLOR,p.style.width="".concat(n,"px"),p.style.height="".concat(r,"px"),s!==null&&(p.style.top="".concat(s,"px")),a!==null&&(p.style.bottom="".concat(a,"px")),h?p.style.left="".concat(c,"px"):p.style.right="".concat(c,"px"),this.borderShaders||(this.borderShaders=[]),this.borderShaders.push(p),t.appendChild(p)},e.prototype.showPausedState=function(){if(!this.scannerPausedUiElement)throw"[internal error] scanner paused UI element not found";this.scannerPausedUiElement.style.display="block"},e.prototype.hidePausedState=function(){if(!this.scannerPausedUiElement)throw"[internal error] scanner paused UI element not found";this.scannerPausedUiElement.style.display="none"},e.prototype.getTimeoutFps=function(t){return 1e3/t},e}(),V0="data:image/svg+xml;base64,",fT=V0+"PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAzNzEuNjQzIDM3MS42NDMiIHN0eWxlPSJlbmFibGUtYmFja2dyb3VuZDpuZXcgMCAwIDM3MS42NDMgMzcxLjY0MyIgeG1sOnNwYWNlPSJwcmVzZXJ2ZSI+PHBhdGggZD0iTTEwNS4wODQgMzguMjcxaDE2My43Njh2MjBIMTA1LjA4NHoiLz48cGF0aCBkPSJNMzExLjU5NiAxOTAuMTg5Yy03LjQ0MS05LjM0Ny0xOC40MDMtMTYuMjA2LTMyLjc0My0yMC41MjJWMzBjMC0xNi41NDItMTMuNDU4LTMwLTMwLTMwSDEyNS4wODRjLTE2LjU0MiAwLTMwIDEzLjQ1OC0zMCAzMHYxMjAuMTQzaC04LjI5NmMtMTYuNTQyIDAtMzAgMTMuNDU4LTMwIDMwdjEuMzMzYTI5LjgwNCAyOS44MDQgMCAwIDAgNC42MDMgMTUuOTM5Yy03LjM0IDUuNDc0LTEyLjEwMyAxNC4yMjEtMTIuMTAzIDI0LjA2MXYxLjMzM2MwIDkuODQgNC43NjMgMTguNTg3IDEyLjEwMyAyNC4wNjJhMjkuODEgMjkuODEgMCAwIDAtNC42MDMgMTUuOTM4djEuMzMzYzAgMTYuNTQyIDEzLjQ1OCAzMCAzMCAzMGg4LjMyNGMuNDI3IDExLjYzMSA3LjUwMyAyMS41ODcgMTcuNTM0IDI2LjE3Ny45MzEgMTAuNTAzIDQuMDg0IDMwLjE4NyAxNC43NjggNDUuNTM3YTkuOTg4IDkuOTg4IDAgMCAwIDguMjE2IDQuMjg4IDkuOTU4IDkuOTU4IDAgMCAwIDUuNzA0LTEuNzkzYzQuNTMzLTMuMTU1IDUuNjUtOS4zODggMi40OTUtMTMuOTIxLTYuNzk4LTkuNzY3LTkuNjAyLTIyLjYwOC0xMC43Ni0zMS40aDgyLjY4NWMuMjcyLjQxNC41NDUuODE4LjgxNSAxLjIxIDMuMTQyIDQuNTQxIDkuMzcyIDUuNjc5IDEzLjkxMyAyLjUzNCA0LjU0Mi0zLjE0MiA1LjY3Ny05LjM3MSAyLjUzNS0xMy45MTMtMTEuOTE5LTE3LjIyOS04Ljc4Ny0zNS44ODQgOS41ODEtNTcuMDEyIDMuMDY3LTIuNjUyIDEyLjMwNy0xMS43MzIgMTEuMjE3LTI0LjAzMy0uODI4LTkuMzQzLTcuMTA5LTE3LjE5NC0xOC42NjktMjMuMzM3YTkuODU3IDkuODU3IDAgMCAwLTEuMDYxLS40ODZjLS40NjYtLjE4Mi0xMS40MDMtNC41NzktOS43NDEtMTUuNzA2IDEuMDA3LTYuNzM3IDE0Ljc2OC04LjI3MyAyMy43NjYtNy42NjYgMjMuMTU2IDEuNTY5IDM5LjY5OCA3LjgwMyA0Ny44MzYgMTguMDI2IDUuNzUyIDcuMjI1IDcuNjA3IDE2LjYyMyA1LjY3MyAyOC43MzMtLjQxMyAyLjU4NS0uODI0IDUuMjQxLTEuMjQ1IDcuOTU5LTUuNzU2IDM3LjE5NC0xMi45MTkgODMuNDgzLTQ5Ljg3IDExNC42NjEtNC4yMjEgMy41NjEtNC43NTYgOS44Ny0xLjE5NCAxNC4wOTJhOS45OCA5Ljk4IDAgMCAwIDcuNjQ4IDMuNTUxIDkuOTU1IDkuOTU1IDAgMCAwIDYuNDQ0LTIuMzU4YzQyLjY3Mi0zNi4wMDUgNTAuODAyLTg4LjUzMyA1Ni43MzctMTI2Ljg4OC40MTUtMi42ODQuODIxLTUuMzA5IDEuMjI5LTcuODYzIDIuODM0LTE3LjcyMS0uNDU1LTMyLjY0MS05Ljc3Mi00NC4zNDV6bS0yMzIuMzA4IDQyLjYyYy01LjUxNCAwLTEwLTQuNDg2LTEwLTEwdi0xLjMzM2MwLTUuNTE0IDQuNDg2LTEwIDEwLTEwaDE1djIxLjMzM2gtMTV6bS0yLjUtNTIuNjY2YzAtNS41MTQgNC40ODYtMTAgMTAtMTBoNy41djIxLjMzM2gtNy41Yy01LjUxNCAwLTEwLTQuNDg2LTEwLTEwdi0xLjMzM3ptMTcuNSA5My45OTloLTcuNWMtNS41MTQgMC0xMC00LjQ4Ni0xMC0xMHYtMS4zMzNjMC01LjUxNCA0LjQ4Ni0xMCAxMC0xMGg3LjV2MjEuMzMzem0zMC43OTYgMjguODg3Yy01LjUxNCAwLTEwLTQuNDg2LTEwLTEwdi04LjI3MWg5MS40NTdjLS44NTEgNi42NjgtLjQzNyAxMi43ODcuNzMxIDE4LjI3MWgtODIuMTg4em03OS40ODItMTEzLjY5OGMtMy4xMjQgMjAuOTA2IDEyLjQyNyAzMy4xODQgMjEuNjI1IDM3LjA0IDUuNDQxIDIuOTY4IDcuNTUxIDUuNjQ3IDcuNzAxIDcuMTg4LjIxIDIuMTUtMi41NTMgNS42ODQtNC40NzcgNy4yNTEtLjQ4Mi4zNzgtLjkyOS44LTEuMzM1IDEuMjYxLTYuOTg3IDcuOTM2LTExLjk4MiAxNS41Mi0xNS40MzIgMjIuNjg4aC05Ny41NjRWMzBjMC01LjUxNCA0LjQ4Ni0xMCAxMC0xMGgxMjMuNzY5YzUuNTE0IDAgMTAgNC40ODYgMTAgMTB2MTM1LjU3OWMtMy4wMzItLjM4MS02LjE1LS42OTQtOS4zODktLjkxNC0yNS4xNTktMS42OTQtNDIuMzcgNy43NDgtNDQuODk4IDI0LjY2NnoiLz48cGF0aCBkPSJNMTc5LjEyOSA4My4xNjdoLTI0LjA2YTUgNSAwIDAgMC01IDV2MjQuMDYxYTUgNSAwIDAgMCA1IDVoMjQuMDZhNSA1IDAgMCAwIDUtNVY4OC4xNjdhNSA1IDAgMCAwLTUtNXpNMTcyLjYyOSAxNDIuODZoLTEyLjU2VjEzMC44YTUgNSAwIDEgMC0xMCAwdjE3LjA2MWE1IDUgMCAwIDAgNSA1aDE3LjU2YTUgNSAwIDEgMCAwLTEwLjAwMXpNMjE2LjU2OCA4My4xNjdoLTI0LjA2YTUgNSAwIDAgMC01IDV2MjQuMDYxYTUgNSAwIDAgMCA1IDVoMjQuMDZhNSA1IDAgMCAwIDUtNVY4OC4xNjdhNSA1IDAgMCAwLTUtNXptLTUgMjQuMDYxaC0xNC4wNlY5My4xNjdoMTQuMDZ2MTQuMDYxek0yMTEuNjY5IDEyNS45MzZIMTk3LjQxYTUgNSAwIDAgMC01IDV2MTQuMjU3YTUgNSAwIDAgMCA1IDVoMTQuMjU5YTUgNSAwIDAgMCA1LTV2LTE0LjI1N2E1IDUgMCAwIDAtNS01eiIvPjwvc3ZnPg==",dT=V0+"PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA1OS4wMTggNTkuMDE4IiBzdHlsZT0iZW5hYmxlLWJhY2tncm91bmQ6bmV3IDAgMCA1OS4wMTggNTkuMDE4IiB4bWw6c3BhY2U9InByZXNlcnZlIj48cGF0aCBkPSJtNTguNzQxIDU0LjgwOS01Ljk2OS02LjI0NGExMC43NCAxMC43NCAwIDAgMCAyLjgyLTcuMjVjMC01Ljk1My00Ljg0My0xMC43OTYtMTAuNzk2LTEwLjc5NlMzNCAzNS4zNjEgMzQgNDEuMzE0IDM4Ljg0MyA1Mi4xMSA0NC43OTYgNTIuMTFjMi40NDEgMCA0LjY4OC0uODI0IDYuNDk5LTIuMTk2bDYuMDAxIDYuMjc3YS45OTguOTk4IDAgMCAwIDEuNDE0LjAzMiAxIDEgMCAwIDAgLjAzMS0xLjQxNHpNMzYgNDEuMzE0YzAtNC44NSAzLjk0Ni04Ljc5NiA4Ljc5Ni04Ljc5NnM4Ljc5NiAzLjk0NiA4Ljc5NiA4Ljc5Ni0zLjk0NiA4Ljc5Ni04Ljc5NiA4Ljc5NlMzNiA0Ni4xNjQgMzYgNDEuMzE0ek0xMC40MzEgMTYuMDg4YzAgMy4wNyAyLjQ5OCA1LjU2OCA1LjU2OSA1LjU2OHM1LjU2OS0yLjQ5OCA1LjU2OS01LjU2OGMwLTMuMDcxLTIuNDk4LTUuNTY5LTUuNTY5LTUuNTY5cy01LjU2OSAyLjQ5OC01LjU2OSA1LjU2OXptOS4xMzggMGMwIDEuOTY4LTEuNjAyIDMuNTY4LTMuNTY5IDMuNTY4cy0zLjU2OS0xLjYwMS0zLjU2OS0zLjU2OCAxLjYwMi0zLjU2OSAzLjU2OS0zLjU2OSAzLjU2OSAxLjYwMSAzLjU2OSAzLjU2OXoiLz48cGF0aCBkPSJtMzAuODgyIDI4Ljk4NyA5LjE4LTEwLjA1NCAxMS4yNjIgMTAuMzIzYTEgMSAwIDAgMCAxLjM1MS0xLjQ3NWwtMTItMTFhMSAxIDAgMCAwLTEuNDE0LjA2M2wtOS43OTQgMTAuNzI3LTQuNzQzLTQuNzQzYTEuMDAzIDEuMDAzIDAgMCAwLTEuMzY4LS4wNDRMNi4zMzkgMzcuNzY4YTEgMSAwIDEgMCAxLjMyMiAxLjUwMWwxNi4zMTMtMTQuMzYyIDcuMzE5IDcuMzE4YS45OTkuOTk5IDAgMSAwIDEuNDE0LTEuNDE0bC0xLjgyNS0xLjgyNHoiLz48cGF0aCBkPSJNMzAgNDYuNTE4SDJ2LTQyaDU0djI4YTEgMSAwIDEgMCAyIDB2LTI5YTEgMSAwIDAgMC0xLTFIMWExIDEgMCAwIDAtMSAxdjQ0YTEgMSAwIDAgMCAxIDFoMjlhMSAxIDAgMSAwIDAtMnoiLz48L3N2Zz4=",mm=V0+"PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA0NjAgNDYwIiBzdHlsZT0iZW5hYmxlLWJhY2tncm91bmQ6bmV3IDAgMCA0NjAgNDYwIiB4bWw6c3BhY2U9InByZXNlcnZlIj48cGF0aCBkPSJNMjMwIDBDMTAyLjk3NSAwIDAgMTAyLjk3NSAwIDIzMHMxMDIuOTc1IDIzMCAyMzAgMjMwIDIzMC0xMDIuOTc0IDIzMC0yMzBTMzU3LjAyNSAwIDIzMCAwem0zOC4zMzMgMzc3LjM2YzAgOC42NzYtNy4wMzQgMTUuNzEtMTUuNzEgMTUuNzFoLTQzLjEwMWMtOC42NzYgMC0xNS43MS03LjAzNC0xNS43MS0xNS43MVYyMDIuNDc3YzAtOC42NzYgNy4wMzMtMTUuNzEgMTUuNzEtMTUuNzFoNDMuMTAxYzguNjc2IDAgMTUuNzEgNy4wMzMgMTUuNzEgMTUuNzFWMzc3LjM2ek0yMzAgMTU3Yy0yMS41MzkgMC0zOS0xNy40NjEtMzktMzlzMTcuNDYxLTM5IDM5LTM5IDM5IDE3LjQ2MSAzOSAzOS0xNy40NjEgMzktMzkgMzl6Ii8+PC9zdmc+",hT="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAAAQgAAAEIBarqQRAAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAAE1SURBVDiNfdI7S0NBEAXgLya1otFgpbYSbISAgpXYi6CmiH9KCAiChaVga6OiWPgfRDQ+0itaGVNosXtluWwcuMzePfM4M3sq8lbHBubwg1dc4m1E/J/N4ghDPOIsfk/4xiEao5KX0McFljN4C9d4QTPXuY99jP3DsIoDPGM6BY5i5yI5R7O4q+ImFkJY2DCh3cAH2klyB+9J1xUMMAG7eCh1a+Mr+k48b5diXrFVwwLuS+BJ9MfR7+G0FHOHhTHhnXNWS87VDF4pcnfQK4Ep7XScNLmPTZgURNKKYENYWDpzW1BhscS1WHS8CDgURFJQrWcoF3c13KKbgg1BYQfy8xZWEzTTw1QZbAoKu8FqJnktdu5hcVSHmchiILzzuaDQvjBzV2m8yohCE1jHfPx/xhU+y4G/D75ELlRJsSYAAAAASUVORK5CYII=",xm=function(){function e(){}return e.createDefault=function(){return{hasPermission:!1,lastUsedCameraId:null}},e}(),gT=function(){function e(){this.data=xm.createDefault();var t=localStorage.getItem(e.LOCAL_STORAGE_KEY);t?this.data=JSON.parse(t):this.reset()}return e.prototype.hasCameraPermissions=function(){return this.data.hasPermission},e.prototype.getLastUsedCameraId=function(){return this.data.lastUsedCameraId},e.prototype.setHasPermission=function(t){this.data.hasPermission=t,this.flush()},e.prototype.setLastUsedCameraId=function(t){this.data.lastUsedCameraId=t,this.flush()},e.prototype.resetLastUsedCameraId=function(){this.data.lastUsedCameraId=null,this.flush()},e.prototype.reset=function(){this.data=xm.createDefault(),this.flush()},e.prototype.flush=function(){localStorage.setItem(e.LOCAL_STORAGE_KEY,JSON.stringify(this.data))},e.LOCAL_STORAGE_KEY="HTML5_QRCODE_DATA",e}(),pT=function(){function e(){this.infoDiv=document.createElement("div")}return e.prototype.renderInto=function(t){this.infoDiv.style.position="absolute",this.infoDiv.style.top="10px",this.infoDiv.style.right="10px",this.infoDiv.style.zIndex="2",this.infoDiv.style.display="none",this.infoDiv.style.padding="5pt",this.infoDiv.style.border="1px solid #171717",this.infoDiv.style.fontSize="10pt",this.infoDiv.style.background="rgb(0 0 0 / 69%)",this.infoDiv.style.borderRadius="5px",this.infoDiv.style.textAlign="center",this.infoDiv.style.fontWeight="400",this.infoDiv.style.color="white",this.infoDiv.innerText=lm.poweredBy();var n=document.createElement("a");n.innerText="ScanApp",n.href="https://scanapp.org",n.target="new",n.style.color="white",this.infoDiv.appendChild(n);var r=document.createElement("br"),s=document.createElement("br");this.infoDiv.appendChild(r),this.infoDiv.appendChild(s);var a=document.createElement("a");a.innerText=lm.reportIssues(),a.href="https://github.com/mebjas/html5-qrcode/issues",a.target="new",a.style.color="white",this.infoDiv.appendChild(a),t.appendChild(this.infoDiv)},e.prototype.show=function(){this.infoDiv.style.display="block"},e.prototype.hide=function(){this.infoDiv.style.display="none"},e}(),mT=function(){function e(t,n){this.isShowingInfoIcon=!0,this.onTapIn=t,this.onTapOut=n,this.infoIcon=document.createElement("img")}return e.prototype.renderInto=function(t){var n=this;this.infoIcon.alt="Info icon",this.infoIcon.src=mm,this.infoIcon.style.position="absolute",this.infoIcon.style.top="4px",this.infoIcon.style.right="4px",this.infoIcon.style.opacity="0.6",this.infoIcon.style.cursor="pointer",this.infoIcon.style.zIndex="2",this.infoIcon.style.width="16px",this.infoIcon.style.height="16px",this.infoIcon.onmouseover=function(r){return n.onHoverIn()},this.infoIcon.onmouseout=function(r){return n.onHoverOut()},this.infoIcon.onclick=function(r){return n.onClick()},t.appendChild(this.infoIcon)},e.prototype.onHoverIn=function(){this.isShowingInfoIcon&&(this.infoIcon.style.opacity="1")},e.prototype.onHoverOut=function(){this.isShowingInfoIcon&&(this.infoIcon.style.opacity="0.6")},e.prototype.onClick=function(){this.isShowingInfoIcon?(this.isShowingInfoIcon=!1,this.onTapIn(),this.infoIcon.src=hT,this.infoIcon.style.opacity="1"):(this.isShowingInfoIcon=!0,this.onTapOut(),this.infoIcon.src=mm,this.infoIcon.style.opacity="0.6")},e}(),xT=function(){function e(){var t=this;this.infoDiv=new pT,this.infoIcon=new mT(function(){t.infoDiv.show()},function(){t.infoDiv.hide()})}return e.prototype.renderInto=function(t){this.infoDiv.renderInto(t),this.infoIcon.renderInto(t)},e}(),yT=function(e,t,n,r){function s(a){return a instanceof n?a:new n(function(c){c(a)})}return new(n||(n=Promise))(function(a,c){function h(y){try{g(r.next(y))}catch(C){c(C)}}function p(y){try{g(r.throw(y))}catch(C){c(C)}}function g(y){y.done?a(y.value):s(y.value).then(h,p)}g((r=r.apply(e,t||[])).next())})},wT=function(e,t){var n={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},r,s,a,c;return c={next:h(0),throw:h(1),return:h(2)},typeof Symbol=="function"&&(c[Symbol.iterator]=function(){return this}),c;function h(g){return function(y){return p([g,y])}}function p(g){if(r)throw new TypeError("Generator is already executing.");for(;c&&(c=0,g[0]&&(n=0)),n;)try{if(r=1,s&&(a=g[0]&2?s.return:g[0]?s.throw||((a=s.return)&&a.call(s),0):s.next)&&!(a=a.call(s,g[1])).done)return a;switch(s=0,a&&(g=[g[0]&2,a.value]),g[0]){case 0:case 1:a=g;break;case 4:return n.label++,{value:g[1],done:!1};case 5:n.label++,s=g[1],g=[0];continue;case 7:g=n.ops.pop(),n.trys.pop();continue;default:if(a=n.trys,!(a=a.length>0&&a[a.length-1])&&(g[0]===6||g[0]===2)){n=0;continue}if(g[0]===3&&(!a||g[1]>a[0]&&g[1]<a[3])){n.label=g[1];break}if(g[0]===6&&n.label<a[1]){n.label=a[1],a=g;break}if(a&&n.label<a[2]){n.label=a[2],n.ops.push(g);break}a[2]&&n.ops.pop(),n.trys.pop();continue}g=t.call(e,n)}catch(y){g=[6,y],s=0}finally{r=a=0}if(g[0]&5)throw g[1];return{value:g[0]?g[1]:void 0,done:!0}}},ym=function(){function e(){}return e.hasPermissions=function(){return yT(this,void 0,void 0,function(){var t,n,r,s;return wT(this,function(a){switch(a.label){case 0:return[4,navigator.mediaDevices.enumerateDevices()];case 1:for(t=a.sent(),n=0,r=t;n<r.length;n++)if(s=r[n],s.kind==="videoinput"&&s.label)return[2,!0];return[2,!1]}})})},e}(),oi=function(){function e(t){this.supportedScanTypes=this.validateAndReturnScanTypes(t)}return e.prototype.getDefaultScanType=function(){return this.supportedScanTypes[0]},e.prototype.hasMoreThanOneScanType=function(){return this.supportedScanTypes.length>1},e.prototype.isCameraScanRequired=function(){for(var t=0,n=this.supportedScanTypes;t<n.length;t++){var r=n[t];if(e.isCameraScanType(r))return!0}return!1},e.isCameraScanType=function(t){return t===Oi.SCAN_TYPE_CAMERA},e.isFileScanType=function(t){return t===Oi.SCAN_TYPE_FILE},e.prototype.validateAndReturnScanTypes=function(t){if(!t||t.length===0)return rr.DEFAULT_SUPPORTED_SCAN_TYPE;var n=rr.DEFAULT_SUPPORTED_SCAN_TYPE.length;if(t.length>n)throw"Max ".concat(n," values expected for ")+"supportedScanTypes";for(var r=0,s=t;r<s.length;r++){var a=s[r];if(!rr.DEFAULT_SUPPORTED_SCAN_TYPE.includes(a))throw"Unsupported scan type ".concat(a)}return t},e}(),Tn=function(){function e(){}return e.ALL_ELEMENT_CLASS="html5-qrcode-element",e.CAMERA_PERMISSION_BUTTON_ID="html5-qrcode-button-camera-permission",e.CAMERA_START_BUTTON_ID="html5-qrcode-button-camera-start",e.CAMERA_STOP_BUTTON_ID="html5-qrcode-button-camera-stop",e.TORCH_BUTTON_ID="html5-qrcode-button-torch",e.CAMERA_SELECTION_SELECT_ID="html5-qrcode-select-camera",e.FILE_SELECTION_BUTTON_ID="html5-qrcode-button-file-selection",e.ZOOM_SLIDER_ID="html5-qrcode-input-range-zoom",e.SCAN_TYPE_CHANGE_ANCHOR_ID="html5-qrcode-anchor-scan-type-change",e.TORCH_BUTTON_CLASS_TORCH_ON="html5-qrcode-button-torch-on",e.TORCH_BUTTON_CLASS_TORCH_OFF="html5-qrcode-button-torch-off",e}(),jr=function(){function e(){}return e.createElement=function(t,n){var r=document.createElement(t);return r.id=n,r.classList.add(Tn.ALL_ELEMENT_CLASS),t==="button"&&r.setAttribute("type","button"),r},e}(),bw=function(e,t,n,r){function s(a){return a instanceof n?a:new n(function(c){c(a)})}return new(n||(n=Promise))(function(a,c){function h(y){try{g(r.next(y))}catch(C){c(C)}}function p(y){try{g(r.throw(y))}catch(C){c(C)}}function g(y){y.done?a(y.value):s(y.value).then(h,p)}g((r=r.apply(e,t||[])).next())})},vw=function(e,t){var n={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},r,s,a,c;return c={next:h(0),throw:h(1),return:h(2)},typeof Symbol=="function"&&(c[Symbol.iterator]=function(){return this}),c;function h(g){return function(y){return p([g,y])}}function p(g){if(r)throw new TypeError("Generator is already executing.");for(;c&&(c=0,g[0]&&(n=0)),n;)try{if(r=1,s&&(a=g[0]&2?s.return:g[0]?s.throw||((a=s.return)&&a.call(s),0):s.next)&&!(a=a.call(s,g[1])).done)return a;switch(s=0,a&&(g=[g[0]&2,a.value]),g[0]){case 0:case 1:a=g;break;case 4:return n.label++,{value:g[1],done:!1};case 5:n.label++,s=g[1],g=[0];continue;case 7:g=n.ops.pop(),n.trys.pop();continue;default:if(a=n.trys,!(a=a.length>0&&a[a.length-1])&&(g[0]===6||g[0]===2)){n=0;continue}if(g[0]===3&&(!a||g[1]>a[0]&&g[1]<a[3])){n.label=g[1];break}if(g[0]===6&&n.label<a[1]){n.label=a[1],a=g;break}if(a&&n.label<a[2]){n.label=a[2],n.ops.push(g);break}a[2]&&n.ops.pop(),n.trys.pop();continue}g=t.call(e,n)}catch(y){g=[6,y],s=0}finally{r=a=0}if(g[0]&5)throw g[1];return{value:g[0]?g[1]:void 0,done:!0}}},wm=function(){function e(t,n,r){this.isTorchOn=!1,this.torchCapability=t,this.buttonController=n,this.onTorchActionFailureCallback=r}return e.prototype.isTorchEnabled=function(){return this.isTorchOn},e.prototype.flipState=function(){return bw(this,void 0,void 0,function(){var t,n;return vw(this,function(r){switch(r.label){case 0:this.buttonController.disable(),t=!this.isTorchOn,r.label=1;case 1:return r.trys.push([1,3,,4]),[4,this.torchCapability.apply(t)];case 2:return r.sent(),this.updateUiBasedOnLatestSettings(this.torchCapability.value(),t),[3,4];case 3:return n=r.sent(),this.propagateFailure(t,n),this.buttonController.enable(),[3,4];case 4:return[2]}})})},e.prototype.updateUiBasedOnLatestSettings=function(t,n){t===n?(this.buttonController.setText(n?ze.torchOffButton():ze.torchOnButton()),this.isTorchOn=n):this.propagateFailure(n),this.buttonController.enable()},e.prototype.propagateFailure=function(t,n){var r=t?ze.torchOnFailedMessage():ze.torchOffFailedMessage();n&&(r+="; Error = "+n),this.onTorchActionFailureCallback(r)},e.prototype.reset=function(){this.isTorchOn=!1},e}(),CT=function(){function e(t,n){this.onTorchActionFailureCallback=n,this.torchButton=jr.createElement("button",Tn.TORCH_BUTTON_ID),this.torchController=new wm(t,this,n)}return e.prototype.render=function(t,n){var r=this;this.torchButton.innerText=ze.torchOnButton(),this.torchButton.style.display=n.display,this.torchButton.style.marginLeft=n.marginLeft;var s=this;this.torchButton.addEventListener("click",function(a){return bw(r,void 0,void 0,function(){return vw(this,function(c){switch(c.label){case 0:return[4,s.torchController.flipState()];case 1:return c.sent(),s.torchController.isTorchEnabled()?(s.torchButton.classList.remove(Tn.TORCH_BUTTON_CLASS_TORCH_OFF),s.torchButton.classList.add(Tn.TORCH_BUTTON_CLASS_TORCH_ON)):(s.torchButton.classList.remove(Tn.TORCH_BUTTON_CLASS_TORCH_ON),s.torchButton.classList.add(Tn.TORCH_BUTTON_CLASS_TORCH_OFF)),[2]}})})}),t.appendChild(this.torchButton)},e.prototype.updateTorchCapability=function(t){this.torchController=new wm(t,this,this.onTorchActionFailureCallback)},e.prototype.getTorchButton=function(){return this.torchButton},e.prototype.hide=function(){this.torchButton.style.display="none"},e.prototype.show=function(){this.torchButton.style.display="inline-block"},e.prototype.disable=function(){this.torchButton.disabled=!0},e.prototype.enable=function(){this.torchButton.disabled=!1},e.prototype.setText=function(t){this.torchButton.innerText=t},e.prototype.reset=function(){this.torchButton.innerText=ze.torchOnButton(),this.torchController.reset()},e.create=function(t,n,r,s){var a=new e(n,s);return a.render(t,r),a},e}(),ET=function(){function e(t,n,r){this.fileBasedScanRegion=this.createFileBasedScanRegion(),this.fileBasedScanRegion.style.display=n?"block":"none",t.appendChild(this.fileBasedScanRegion);var s=document.createElement("label");s.setAttribute("for",this.getFileScanInputId()),s.style.display="inline-block",this.fileBasedScanRegion.appendChild(s),this.fileSelectionButton=jr.createElement("button",Tn.FILE_SELECTION_BUTTON_ID),this.setInitialValueToButton(),this.fileSelectionButton.addEventListener("click",function(h){s.click()}),s.append(this.fileSelectionButton),this.fileScanInput=jr.createElement("input",this.getFileScanInputId()),this.fileScanInput.type="file",this.fileScanInput.accept="image/*",this.fileScanInput.style.display="none",s.appendChild(this.fileScanInput);var a=this;this.fileScanInput.addEventListener("change",function(h){if(!(h==null||h.target==null)){var p=h.target;if(!(p.files&&p.files.length===0)){var g=p.files,y=g[0],C=y.name;a.setImageNameToButton(C),r(y)}}});var c=this.createDragAndDropMessage();this.fileBasedScanRegion.appendChild(c),this.fileBasedScanRegion.addEventListener("dragenter",function(h){a.fileBasedScanRegion.style.border=a.fileBasedScanRegionActiveBorder(),h.stopPropagation(),h.preventDefault()}),this.fileBasedScanRegion.addEventListener("dragleave",function(h){a.fileBasedScanRegion.style.border=a.fileBasedScanRegionDefaultBorder(),h.stopPropagation(),h.preventDefault()}),this.fileBasedScanRegion.addEventListener("dragover",function(h){a.fileBasedScanRegion.style.border=a.fileBasedScanRegionActiveBorder(),h.stopPropagation(),h.preventDefault()}),this.fileBasedScanRegion.addEventListener("drop",function(h){h.stopPropagation(),h.preventDefault(),a.fileBasedScanRegion.style.border=a.fileBasedScanRegionDefaultBorder();var p=h.dataTransfer;if(p){var g=p.files;if(!g||g.length===0)return;for(var y=!1,C=0;C<g.length;++C){var A=g.item(C);if(A){var v=/image.*/;if(A.type.match(v)){y=!0;var T=A.name;a.setImageNameToButton(T),r(A),c.innerText=ze.dragAndDropMessage();break}}}y||(c.innerText=ze.dragAndDropMessageOnlyImages())}})}return e.prototype.hide=function(){this.fileBasedScanRegion.style.display="none",this.fileScanInput.disabled=!0},e.prototype.show=function(){this.fileBasedScanRegion.style.display="block",this.fileScanInput.disabled=!1},e.prototype.isShowing=function(){return this.fileBasedScanRegion.style.display==="block"},e.prototype.resetValue=function(){this.fileScanInput.value="",this.setInitialValueToButton()},e.prototype.createFileBasedScanRegion=function(){var t=document.createElement("div");return t.style.textAlign="center",t.style.margin="auto",t.style.width="80%",t.style.maxWidth="600px",t.style.border=this.fileBasedScanRegionDefaultBorder(),t.style.padding="10px",t.style.marginBottom="10px",t},e.prototype.fileBasedScanRegionDefaultBorder=function(){return"6px dashed #ebebeb"},e.prototype.fileBasedScanRegionActiveBorder=function(){return"6px dashed rgb(153 151 151)"},e.prototype.createDragAndDropMessage=function(){var t=document.createElement("div");return t.innerText=ze.dragAndDropMessage(),t.style.fontWeight="400",t},e.prototype.setImageNameToButton=function(t){var n=20;if(t.length>n){var r=t.substring(0,8),s=t.length,a=t.substring(s-8,s);t="".concat(r,"....").concat(a)}var c=ze.fileSelectionChooseAnother()+" - "+t;this.fileSelectionButton.innerText=c},e.prototype.setInitialValueToButton=function(){var t=ze.fileSelectionChooseImage()+" - "+ze.fileSelectionNoImageSelected();this.fileSelectionButton.innerText=t},e.prototype.getFileScanInputId=function(){return"html5-qrcode-private-filescan-input"},e.create=function(t,n,r){var s=new e(t,n,r);return s},e}(),AT=function(){function e(t){this.selectElement=jr.createElement("select",Tn.CAMERA_SELECTION_SELECT_ID),this.cameras=t,this.options=[]}return e.prototype.render=function(t){var n=document.createElement("span");n.style.marginRight="10px";var r=this.cameras.length;if(r===0)throw new Error("No cameras found");if(r===1)n.style.display="none";else{var s=ze.selectCamera();n.innerText="".concat(s," (").concat(this.cameras.length,")  ")}for(var a=1,c=0,h=this.cameras;c<h.length;c++){var p=h[c],g=p.id,y=p.label==null?g:p.label;(!y||y==="")&&(y=[ze.anonymousCameraPrefix(),a++].join(" "));var C=document.createElement("option");C.value=g,C.innerText=y,this.options.push(C),this.selectElement.appendChild(C)}n.appendChild(this.selectElement),t.appendChild(n)},e.prototype.disable=function(){this.selectElement.disabled=!0},e.prototype.isDisabled=function(){return this.selectElement.disabled===!0},e.prototype.enable=function(){this.selectElement.disabled=!1},e.prototype.getValue=function(){return this.selectElement.value},e.prototype.hasValue=function(t){for(var n=0,r=this.options;n<r.length;n++){var s=r[n];if(s.value===t)return!0}return!1},e.prototype.setValue=function(t){if(!this.hasValue(t))throw new Error("".concat(t," is not present in the camera list."));this.selectElement.value=t},e.prototype.hasSingleItem=function(){return this.cameras.length===1},e.prototype.numCameras=function(){return this.cameras.length},e.create=function(t,n){var r=new e(n);return r.render(t),r},e}(),ST=function(){function e(){this.onChangeCallback=null,this.zoomElementContainer=document.createElement("div"),this.rangeInput=jr.createElement("input",Tn.ZOOM_SLIDER_ID),this.rangeInput.type="range",this.rangeText=document.createElement("span"),this.rangeInput.min="1",this.rangeInput.max="5",this.rangeInput.value="1",this.rangeInput.step="0.1"}return e.prototype.render=function(t,n){this.zoomElementContainer.style.display=n?"block":"none",this.zoomElementContainer.style.padding="5px 10px",this.zoomElementContainer.style.textAlign="center",t.appendChild(this.zoomElementContainer),this.rangeInput.style.display="inline-block",this.rangeInput.style.width="50%",this.rangeInput.style.height="5px",this.rangeInput.style.background="#d3d3d3",this.rangeInput.style.outline="none",this.rangeInput.style.opacity="0.7";var r=ze.zoom();this.rangeText.innerText="".concat(this.rangeInput.value,"x ").concat(r),this.rangeText.style.marginRight="10px";var s=this;this.rangeInput.addEventListener("input",function(){return s.onValueChange()}),this.rangeInput.addEventListener("change",function(){return s.onValueChange()}),this.zoomElementContainer.appendChild(this.rangeInput),this.zoomElementContainer.appendChild(this.rangeText)},e.prototype.onValueChange=function(){var t=ze.zoom();this.rangeText.innerText="".concat(this.rangeInput.value,"x ").concat(t),this.onChangeCallback&&this.onChangeCallback(parseFloat(this.rangeInput.value))},e.prototype.setValues=function(t,n,r,s){this.rangeInput.min=t.toString(),this.rangeInput.max=n.toString(),this.rangeInput.step=s.toString(),this.rangeInput.value=r.toString(),this.onValueChange()},e.prototype.show=function(){this.zoomElementContainer.style.display="block"},e.prototype.hide=function(){this.zoomElementContainer.style.display="none"},e.prototype.setOnCameraZoomValueChangeCallback=function(t){this.onChangeCallback=t},e.prototype.removeOnCameraZoomValueChangeCallback=function(){this.onChangeCallback=null},e.create=function(t,n){var r=new e;return r.render(t,n),r},e}(),_n;(function(e){e[e.STATUS_DEFAULT=0]="STATUS_DEFAULT",e[e.STATUS_SUCCESS=1]="STATUS_SUCCESS",e[e.STATUS_WARNING=2]="STATUS_WARNING",e[e.STATUS_REQUESTING_PERMISSION=3]="STATUS_REQUESTING_PERMISSION"})(_n||(_n={}));function bT(e){return{fps:e.fps,qrbox:e.qrbox,aspectRatio:e.aspectRatio,disableFlip:e.disableFlip,videoConstraints:e.videoConstraints}}function vT(e,t){return{formatsToSupport:e.formatsToSupport,useBarCodeDetectorIfSupported:e.useBarCodeDetectorIfSupported,experimentalFeatures:e.experimentalFeatures,verbose:t}}var Y0=function(){function e(t,n,r){if(this.lastMatchFound=null,this.cameraScanImage=null,this.fileScanImage=null,this.fileSelectionUi=null,this.elementId=t,this.config=this.createConfig(n),this.verbose=r===!0,!document.getElementById(t))throw"HTML Element with id=".concat(t," not found");this.scanTypeSelector=new oi(this.config.supportedScanTypes),this.currentScanType=this.scanTypeSelector.getDefaultScanType(),this.sectionSwapAllowed=!0,this.logger=new Ew(this.verbose),this.persistedDataManager=new gT,n.rememberLastUsedCamera!==!0&&this.persistedDataManager.reset()}return e.prototype.render=function(t,n){var r=this;this.lastMatchFound=null,this.qrCodeSuccessCallback=function(a,c){if(t)t(a,c);else{if(r.lastMatchFound===a)return;r.lastMatchFound=a,r.setHeaderMessage(ze.lastMatch(a),_n.STATUS_SUCCESS)}},this.qrCodeErrorCallback=function(a,c){n&&n(a,c)};var s=document.getElementById(this.elementId);if(!s)throw"HTML Element with id=".concat(this.elementId," not found");s.innerHTML="",this.createBasicLayout(s),this.html5Qrcode=new pm(this.getScanRegionId(),vT(this.config,this.verbose))},e.prototype.pause=function(t){(br(t)||t!==!0)&&(t=!1),this.getHtml5QrcodeOrFail().pause(t)},e.prototype.resume=function(){this.getHtml5QrcodeOrFail().resume()},e.prototype.getState=function(){return this.getHtml5QrcodeOrFail().getState()},e.prototype.clear=function(){var t=this,n=function(){var r=document.getElementById(t.elementId);r&&(r.innerHTML="",t.resetBasicLayout(r))};return this.html5Qrcode?new Promise(function(r,s){if(!t.html5Qrcode){r();return}t.html5Qrcode.isScanning?t.html5Qrcode.stop().then(function(a){if(!t.html5Qrcode){r();return}t.html5Qrcode.clear(),n(),r()}).catch(function(a){t.verbose&&t.logger.logError("Unable to stop qrcode scanner",a),s(a)}):(t.html5Qrcode.clear(),n(),r())}):Promise.resolve()},e.prototype.getRunningTrackCapabilities=function(){return this.getHtml5QrcodeOrFail().getRunningTrackCapabilities()},e.prototype.getRunningTrackSettings=function(){return this.getHtml5QrcodeOrFail().getRunningTrackSettings()},e.prototype.applyVideoConstraints=function(t){return this.getHtml5QrcodeOrFail().applyVideoConstraints(t)},e.prototype.getHtml5QrcodeOrFail=function(){if(!this.html5Qrcode)throw"Code scanner not initialized.";return this.html5Qrcode},e.prototype.createConfig=function(t){return t?(t.fps||(t.fps=rr.SCAN_DEFAULT_FPS),t.rememberLastUsedCamera!==!rr.DEFAULT_REMEMBER_LAST_CAMERA_USED&&(t.rememberLastUsedCamera=rr.DEFAULT_REMEMBER_LAST_CAMERA_USED),t.supportedScanTypes||(t.supportedScanTypes=rr.DEFAULT_SUPPORTED_SCAN_TYPE),t):{fps:rr.SCAN_DEFAULT_FPS,rememberLastUsedCamera:rr.DEFAULT_REMEMBER_LAST_CAMERA_USED,supportedScanTypes:rr.DEFAULT_SUPPORTED_SCAN_TYPE}},e.prototype.createBasicLayout=function(t){t.style.position="relative",t.style.padding="0px",t.style.border="1px solid silver",this.createHeader(t);var n=document.createElement("div"),r=this.getScanRegionId();n.id=r,n.style.width="100%",n.style.minHeight="100px",n.style.textAlign="center",t.appendChild(n),oi.isCameraScanType(this.currentScanType)?this.insertCameraScanImageToScanRegion():this.insertFileScanImageToScanRegion();var s=document.createElement("div"),a=this.getDashboardId();s.id=a,s.style.width="100%",t.appendChild(s),this.setupInitialDashboard(s)},e.prototype.resetBasicLayout=function(t){t.style.border="none"},e.prototype.setupInitialDashboard=function(t){this.createSection(t),this.createSectionControlPanel(),this.scanTypeSelector.hasMoreThanOneScanType()&&this.createSectionSwap()},e.prototype.createHeader=function(t){var n=document.createElement("div");n.style.textAlign="left",n.style.margin="0px",t.appendChild(n);var r=new xT;r.renderInto(n);var s=document.createElement("div");s.id=this.getHeaderMessageContainerId(),s.style.display="none",s.style.textAlign="center",s.style.fontSize="14px",s.style.padding="2px 10px",s.style.margin="4px",s.style.borderTop="1px solid #f6f6f6",n.appendChild(s)},e.prototype.createSection=function(t){var n=document.createElement("div");n.id=this.getDashboardSectionId(),n.style.width="100%",n.style.padding="10px 0px 10px 0px",n.style.textAlign="left",t.appendChild(n)},e.prototype.createCameraListUi=function(t,n,r){var s=this;s.showHideScanTypeSwapLink(!1),s.setHeaderMessage(ze.cameraPermissionRequesting());var a=function(){r||s.createPermissionButton(t,n)};pm.getCameras().then(function(c){s.persistedDataManager.setHasPermission(!0),s.showHideScanTypeSwapLink(!0),s.resetHeaderMessage(),c&&c.length>0?(t.removeChild(n),s.renderCameraSelection(c)):(s.setHeaderMessage(ze.noCameraFound(),_n.STATUS_WARNING),a())}).catch(function(c){s.persistedDataManager.setHasPermission(!1),r?r.disabled=!1:a(),s.setHeaderMessage(c,_n.STATUS_WARNING),s.showHideScanTypeSwapLink(!0)})},e.prototype.createPermissionButton=function(t,n){var r=this,s=jr.createElement("button",this.getCameraPermissionButtonId());s.innerText=ze.cameraPermissionTitle(),s.addEventListener("click",function(){s.disabled=!0,r.createCameraListUi(t,n,s)}),n.appendChild(s)},e.prototype.createPermissionsUi=function(t,n){var r=this;if(oi.isCameraScanType(this.currentScanType)&&this.persistedDataManager.hasCameraPermissions()){ym.hasPermissions().then(function(s){s?r.createCameraListUi(t,n):(r.persistedDataManager.setHasPermission(!1),r.createPermissionButton(t,n))}).catch(function(s){r.persistedDataManager.setHasPermission(!1),r.createPermissionButton(t,n)});return}this.createPermissionButton(t,n)},e.prototype.createSectionControlPanel=function(){var t=document.getElementById(this.getDashboardSectionId()),n=document.createElement("div");t.appendChild(n);var r=document.createElement("div");r.id=this.getDashboardSectionCameraScanRegionId(),r.style.display=oi.isCameraScanType(this.currentScanType)?"block":"none",n.appendChild(r);var s=document.createElement("div");s.style.textAlign="center",r.appendChild(s),this.scanTypeSelector.isCameraScanRequired()&&this.createPermissionsUi(r,s),this.renderFileScanUi(n)},e.prototype.renderFileScanUi=function(t){var n=oi.isFileScanType(this.currentScanType),r=this,s=function(a){if(!r.html5Qrcode)throw"html5Qrcode not defined";oi.isFileScanType(r.currentScanType)&&(r.setHeaderMessage(ze.loadingImage()),r.html5Qrcode.scanFileV2(a,!0).then(function(c){r.resetHeaderMessage(),r.qrCodeSuccessCallback(c.decodedText,c)}).catch(function(c){r.setHeaderMessage(c,_n.STATUS_WARNING),r.qrCodeErrorCallback(c,Cw.createFrom(c))}))};this.fileSelectionUi=ET.create(t,n,s)},e.prototype.renderCameraSelection=function(t){var n=this,r=this,s=document.getElementById(this.getDashboardSectionCameraScanRegionId());s.style.textAlign="center";var a=ST.create(s,!1),c=function(R){var D=R.zoomFeature();if(D.isSupported()){a.setOnCameraZoomValueChangeCallback(function(_){D.apply(_)});var I=1;n.config.defaultZoomValueIfSupported&&(I=n.config.defaultZoomValueIfSupported),I=VI(I,D.min(),D.max()),a.setValues(D.min(),D.max(),I,D.step()),a.show()}},h=AT.create(s,t),p=document.createElement("span"),g=jr.createElement("button",Tn.CAMERA_START_BUTTON_ID);g.innerText=ze.scanButtonStartScanningText(),p.appendChild(g);var y=jr.createElement("button",Tn.CAMERA_STOP_BUTTON_ID);y.innerText=ze.scanButtonStopScanningText(),y.style.display="none",y.disabled=!0,p.appendChild(y);var C,A=function(R){if(!R.torchFeature().isSupported()){C&&C.hide();return}C?C.updateTorchCapability(R.torchFeature()):C=CT.create(p,R.torchFeature(),{display:"none",marginLeft:"5px"},function(D){r.setHeaderMessage(D,_n.STATUS_WARNING)}),C.show()};s.appendChild(p);var v=function(R){R||(g.style.display="none"),g.innerText=ze.scanButtonStartScanningText(),g.style.opacity="1",g.disabled=!1,R&&(g.style.display="inline-block")};if(g.addEventListener("click",function(R){g.innerText=ze.scanButtonScanningStarting(),h.disable(),g.disabled=!0,g.style.opacity="0.5",n.scanTypeSelector.hasMoreThanOneScanType()&&r.showHideScanTypeSwapLink(!1),r.resetHeaderMessage();var D=h.getValue();r.persistedDataManager.setLastUsedCameraId(D),r.html5Qrcode.start(D,bT(r.config),r.qrCodeSuccessCallback,r.qrCodeErrorCallback).then(function(I){y.disabled=!1,y.style.display="inline-block",v(!1);var _=r.html5Qrcode.getRunningTrackCameraCapabilities();n.config.showTorchButtonIfSupported===!0&&A(_),n.config.showZoomSliderIfSupported===!0&&c(_)}).catch(function(I){r.showHideScanTypeSwapLink(!0),h.enable(),v(!0),r.setHeaderMessage(I,_n.STATUS_WARNING)})}),h.hasSingleItem()&&g.click(),y.addEventListener("click",function(R){if(!r.html5Qrcode)throw"html5Qrcode not defined";y.disabled=!0,r.html5Qrcode.stop().then(function(D){n.scanTypeSelector.hasMoreThanOneScanType()&&r.showHideScanTypeSwapLink(!0),h.enable(),g.disabled=!1,y.style.display="none",g.style.display="inline-block",C&&(C.reset(),C.hide()),a.removeOnCameraZoomValueChangeCallback(),a.hide(),r.insertCameraScanImageToScanRegion()}).catch(function(D){y.disabled=!1,r.setHeaderMessage(D,_n.STATUS_WARNING)})}),r.persistedDataManager.getLastUsedCameraId()){var T=r.persistedDataManager.getLastUsedCameraId();h.hasValue(T)?(h.setValue(T),g.click()):r.persistedDataManager.resetLastUsedCameraId()}},e.prototype.createSectionSwap=function(){var t=this,n=ze.textIfCameraScanSelected(),r=ze.textIfFileScanSelected(),s=document.getElementById(this.getDashboardSectionId()),a=document.createElement("div");a.style.textAlign="center";var c=jr.createElement("span",this.getDashboardSectionSwapLinkId());c.style.textDecoration="underline",c.style.cursor="pointer",c.innerText=oi.isCameraScanType(this.currentScanType)?n:r,c.addEventListener("click",function(){if(!t.sectionSwapAllowed){t.verbose&&t.logger.logError("Section swap called when not allowed");return}t.resetHeaderMessage(),t.fileSelectionUi.resetValue(),t.sectionSwapAllowed=!1,oi.isCameraScanType(t.currentScanType)?(t.clearScanRegion(),t.getCameraScanRegion().style.display="none",t.fileSelectionUi.show(),c.innerText=r,t.currentScanType=Oi.SCAN_TYPE_FILE,t.insertFileScanImageToScanRegion()):(t.clearScanRegion(),t.getCameraScanRegion().style.display="block",t.fileSelectionUi.hide(),c.innerText=n,t.currentScanType=Oi.SCAN_TYPE_CAMERA,t.insertCameraScanImageToScanRegion(),t.startCameraScanIfPermissionExistsOnSwap()),t.sectionSwapAllowed=!0}),a.appendChild(c),s.appendChild(a)},e.prototype.startCameraScanIfPermissionExistsOnSwap=function(){var t=this,n=this;if(this.persistedDataManager.hasCameraPermissions()){ym.hasPermissions().then(function(r){if(r){var s=document.getElementById(n.getCameraPermissionButtonId());if(!s)throw t.logger.logError("Permission button not found, fail;"),"Permission button not found";s.click()}else n.persistedDataManager.setHasPermission(!1)}).catch(function(r){n.persistedDataManager.setHasPermission(!1)});return}},e.prototype.resetHeaderMessage=function(){var t=document.getElementById(this.getHeaderMessageContainerId());t.style.display="none"},e.prototype.setHeaderMessage=function(t,n){n||(n=_n.STATUS_DEFAULT);var r=this.getHeaderMessageDiv();switch(r.innerText=t,r.style.display="block",n){case _n.STATUS_SUCCESS:r.style.background="rgba(106, 175, 80, 0.26)",r.style.color="#477735";break;case _n.STATUS_WARNING:r.style.background="rgba(203, 36, 49, 0.14)",r.style.color="#cb2431";break;case _n.STATUS_DEFAULT:default:r.style.background="rgba(0, 0, 0, 0)",r.style.color="rgb(17, 17, 17)";break}},e.prototype.showHideScanTypeSwapLink=function(t){this.scanTypeSelector.hasMoreThanOneScanType()&&(t!==!0&&(t=!1),this.sectionSwapAllowed=t,this.getDashboardSectionSwapLink().style.display=t?"inline-block":"none")},e.prototype.insertCameraScanImageToScanRegion=function(){var t=this,n=document.getElementById(this.getScanRegionId());if(this.cameraScanImage){n.innerHTML="<br>",n.appendChild(this.cameraScanImage);return}this.cameraScanImage=new Image,this.cameraScanImage.onload=function(r){n.innerHTML="<br>",n.appendChild(t.cameraScanImage)},this.cameraScanImage.width=64,this.cameraScanImage.style.opacity="0.8",this.cameraScanImage.src=fT,this.cameraScanImage.alt=ze.cameraScanAltText()},e.prototype.insertFileScanImageToScanRegion=function(){var t=this,n=document.getElementById(this.getScanRegionId());if(this.fileScanImage){n.innerHTML="<br>",n.appendChild(this.fileScanImage);return}this.fileScanImage=new Image,this.fileScanImage.onload=function(r){n.innerHTML="<br>",n.appendChild(t.fileScanImage)},this.fileScanImage.width=64,this.fileScanImage.style.opacity="0.8",this.fileScanImage.src=dT,this.fileScanImage.alt=ze.fileScanAltText()},e.prototype.clearScanRegion=function(){var t=document.getElementById(this.getScanRegionId());t.innerHTML=""},e.prototype.getDashboardSectionId=function(){return"".concat(this.elementId,"__dashboard_section")},e.prototype.getDashboardSectionCameraScanRegionId=function(){return"".concat(this.elementId,"__dashboard_section_csr")},e.prototype.getDashboardSectionSwapLinkId=function(){return Tn.SCAN_TYPE_CHANGE_ANCHOR_ID},e.prototype.getScanRegionId=function(){return"".concat(this.elementId,"__scan_region")},e.prototype.getDashboardId=function(){return"".concat(this.elementId,"__dashboard")},e.prototype.getHeaderMessageContainerId=function(){return"".concat(this.elementId,"__header_message")},e.prototype.getCameraPermissionButtonId=function(){return Tn.CAMERA_PERMISSION_BUTTON_ID},e.prototype.getCameraScanRegion=function(){return document.getElementById(this.getDashboardSectionCameraScanRegionId())},e.prototype.getDashboardSectionSwapLink=function(){return document.getElementById(this.getDashboardSectionSwapLinkId())},e.prototype.getHeaderMessageDiv=function(){return document.getElementById(this.getHeaderMessageContainerId())},e}();function _T(){const[e,t]=V.useState(!1),[n,r]=V.useState(null),s=V.useRef(null),a=V.useRef(null),c=()=>{var v;s.current&&(s.current.clear().catch(T=>console.error("Error clearing scanner:",T)),s.current=null),r(null);const p=((v=a.current)==null?void 0:v.clientWidth)||300,g=Math.min(p-40,250),y=new Y0("qr-reader",{fps:10,qrbox:{width:g,height:g},rememberLastUsedCamera:!0,aspectRatio:1},!1);s.current=y;const C=async T=>{var R,D;await y.pause(),t(!0);try{const I=await Ze.post("api/scanner/checkIn",{token:T},{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}});r({text:T,success:!0,message:I.data.message}),await y.clear(),s.current=null}catch(I){const _=((D=(R=I.response)==null?void 0:R.data)==null?void 0:D.message)||"Scanning failed, please try again";r({text:T,success:!1,message:_}),await y.clear(),s.current=null}finally{t(!1)}},A=T=>{console.error("Scan error:",T)};y.render(C,A)};V.useEffect(()=>{c();const p=()=>{s.current&&c()};return window.addEventListener("resize",p),()=>{window.removeEventListener("resize",p),s.current&&(s.current.clear().catch(g=>console.error("Cleanup error:",g)),s.current=null)}},[]);const h=()=>{r(null),setTimeout(()=>{c()},300)};return M.jsx("div",{className:"min-h-screen bg-gradient-to-b from-blue-50 to-indigo-100 p-4 sm:p-8",children:M.jsxs("div",{className:"max-w-lg mx-auto",children:[M.jsxs("div",{className:"flex items-center justify-between mb-6",children:[M.jsxs("div",{className:"flex items-center",children:[M.jsx(Mn,{to:"/",className:"mr-3 lg:hidden",children:M.jsx(el,{className:"h-6 w-6 text-blue-700"})}),M.jsxs("div",{className:"flex items-center",children:[M.jsx(Ou,{className:"h-6 w-6 sm:h-8 sm:w-8 text-blue-700 mr-2"}),M.jsx("h1",{className:"text-2xl sm:text-3xl font-bold text-gray-900",children:"Check In Student"})]})]}),M.jsxs("button",{onClick:h,className:"flex items-center px-3 py-1.5 sm:px-4 sm:py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors text-sm sm:text-base",children:[M.jsx(Hr,{className:"h-4 w-4 sm:h-5 sm:w-5 mr-1 sm:mr-2"}),M.jsx("span",{children:"Reset"})]})]}),M.jsx("div",{className:"bg-white rounded-2xl shadow-lg overflow-hidden",children:n?M.jsxs("div",{className:"p-5 sm:p-8",children:[M.jsxs("div",{className:"flex items-center mb-4",children:[n.success?M.jsx(S0,{className:"h-8 w-8 text-green-500 mr-3"}):M.jsx(b0,{className:"h-8 w-8 text-red-500 mr-3"}),M.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:n.success?"Scan Successful":"Scan Failed"})]}),M.jsx("div",{className:`p-4 rounded-lg mb-4 ${n.success?"bg-green-50 text-green-800":"bg-red-50 text-red-800"}`,children:M.jsx("p",{className:"font-medium",children:n.message})}),M.jsxs("div",{className:"mb-5",children:[M.jsx("h3",{className:"text-sm font-medium text-gray-500 mb-1",children:"Scanned Value:"}),M.jsx("p",{className:"p-3 bg-gray-100 rounded-lg text-gray-800 font-mono break-all",children:n.text})]}),M.jsxs("div",{className:"flex flex-col sm:flex-row gap-3",children:[M.jsxs("button",{onClick:h,className:"flex-1 flex items-center justify-center px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:[M.jsx(Hr,{className:"h-5 w-5 mr-2"}),"Scan Again"]}),M.jsx(Mn,{to:"/",className:"flex-1",children:M.jsx("button",{className:"w-full px-4 py-2 border border-blue-600 text-blue-600 rounded-lg hover:bg-blue-50 transition-colors",children:"Back to Home"})})]})]}):M.jsxs(M.Fragment,{children:[M.jsx("div",{className:"p-4 bg-blue-700 text-white text-center",children:M.jsx("p",{className:"font-medium",children:"Position the QR code within the frame"})}),M.jsxs("div",{className:"p-4 sm:p-6",ref:a,children:[M.jsx("div",{id:"qr-reader",className:"overflow-hidden rounded-lg"}),e&&M.jsxs("div",{className:"flex items-center justify-center mt-4 p-4 bg-blue-50 rounded-lg",children:[M.jsx(Hr,{className:"h-5 w-5 text-blue-600 animate-spin mr-2"}),M.jsx("p",{className:"text-blue-600 font-medium",children:"Processing scan..."})]})]})]})}),!n&&M.jsxs("div",{className:"mt-5 bg-white p-4 rounded-lg shadow text-gray-600 text-sm",children:[M.jsx("h3",{className:"font-medium text-gray-800 mb-2",children:"Tips for scanning:"}),M.jsxs("ul",{className:"list-disc pl-5 space-y-1",children:[M.jsx("li",{children:"Ensure good lighting on the QR code"}),M.jsx("li",{children:"Hold the camera steady"}),M.jsx("li",{children:"Position the entire QR code within the frame"}),M.jsx("li",{children:"If scanning fails, try resetting the scanner"})]})]})]})})}function IT(){const[e,t]=V.useState(!1),[n,r]=V.useState(null),s=V.useRef(null),a=V.useRef(null),c=()=>{var v;s.current&&(s.current.clear().catch(T=>console.error("Error clearing scanner:",T)),s.current=null),r(null);const p=((v=a.current)==null?void 0:v.clientWidth)||300,g=Math.min(p-40,250),y=new Y0("qr-reader",{fps:10,qrbox:{width:g,height:g},rememberLastUsedCamera:!0,aspectRatio:1},!1);s.current=y;const C=async T=>{var R,D;await y.pause(),t(!0);try{const I=await Ze.post("api/scanner/scanfood",{token:T},{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}});r({text:T,success:!0,message:I.data.message}),await y.clear(),s.current=null}catch(I){const _=((D=(R=I.response)==null?void 0:R.data)==null?void 0:D.message)||"Scanning failed, please try again";r({text:T,success:!1,message:_}),await y.clear(),s.current=null}finally{t(!1)}},A=T=>{console.error("Scan error:",T)};y.render(C,A)};V.useEffect(()=>{c();const p=()=>{s.current&&c()};return window.addEventListener("resize",p),()=>{window.removeEventListener("resize",p),s.current&&(s.current.clear().catch(g=>console.error("Cleanup error:",g)),s.current=null)}},[]);const h=()=>{r(null),setTimeout(()=>{c()},300)};return M.jsx("div",{className:"min-h-screen bg-gradient-to-b from-blue-50 to-indigo-100 p-4 sm:p-8",children:M.jsxs("div",{className:"max-w-lg mx-auto",children:[M.jsxs("div",{className:"flex items-center justify-between mb-6",children:[M.jsxs("div",{className:"flex items-center",children:[M.jsx(Mn,{to:"/",className:"mr-3 lg:hidden",children:M.jsx(el,{className:"h-6 w-6 text-blue-700"})}),M.jsxs("div",{className:"flex items-center",children:[M.jsx(Ou,{className:"h-6 w-6 sm:h-8 sm:w-8 text-blue-700 mr-2"}),M.jsx("h1",{className:"text-2xl sm:text-3xl font-bold text-gray-900",children:"Scann Food"})]})]}),M.jsxs("button",{onClick:h,className:"flex items-center px-3 py-1.5 sm:px-4 sm:py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors text-sm sm:text-base",children:[M.jsx(Hr,{className:"h-4 w-4 sm:h-5 sm:w-5 mr-1 sm:mr-2"}),M.jsx("span",{children:"Reset"})]})]}),M.jsx("div",{className:"bg-white rounded-2xl shadow-lg overflow-hidden",children:n?M.jsxs("div",{className:"p-5 sm:p-8",children:[M.jsxs("div",{className:"flex items-center mb-4",children:[n.success?M.jsx(S0,{className:"h-8 w-8 text-green-500 mr-3"}):M.jsx(b0,{className:"h-8 w-8 text-red-500 mr-3"}),M.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:n.success?"Scan Successful":"Scan Failed"})]}),M.jsx("div",{className:`p-4 rounded-lg mb-4 ${n.success?"bg-green-50 text-green-800":"bg-red-50 text-red-800"}`,children:M.jsx("p",{className:"font-medium",children:n.message})}),M.jsxs("div",{className:"mb-5",children:[M.jsx("h3",{className:"text-sm font-medium text-gray-500 mb-1",children:"Scanned Value:"}),M.jsx("p",{className:"p-3 bg-gray-100 rounded-lg text-gray-800 font-mono break-all",children:n.text})]}),M.jsxs("div",{className:"flex flex-col sm:flex-row gap-3",children:[M.jsxs("button",{onClick:h,className:"flex-1 flex items-center justify-center px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:[M.jsx(Hr,{className:"h-5 w-5 mr-2"}),"Scan Again"]}),M.jsx(Mn,{to:"/",className:"flex-1",children:M.jsx("button",{className:"w-full px-4 py-2 border border-blue-600 text-blue-600 rounded-lg hover:bg-blue-50 transition-colors",children:"Back to Home"})})]})]}):M.jsxs(M.Fragment,{children:[M.jsx("div",{className:"p-4 bg-blue-700 text-white text-center",children:M.jsx("p",{className:"font-medium",children:"Position the QR code within the frame"})}),M.jsxs("div",{className:"p-4 sm:p-6",ref:a,children:[M.jsx("div",{id:"qr-reader",className:"overflow-hidden rounded-lg"}),e&&M.jsxs("div",{className:"flex items-center justify-center mt-4 p-4 bg-blue-50 rounded-lg",children:[M.jsx(Hr,{className:"h-5 w-5 text-blue-600 animate-spin mr-2"}),M.jsx("p",{className:"text-blue-600 font-medium",children:"Processing scan..."})]})]})]})}),!n&&M.jsxs("div",{className:"mt-5 bg-white p-4 rounded-lg shadow text-gray-600 text-sm",children:[M.jsx("h3",{className:"font-medium text-gray-800 mb-2",children:"Tips for scanning:"}),M.jsxs("ul",{className:"list-disc pl-5 space-y-1",children:[M.jsx("li",{children:"Ensure good lighting on the QR code"}),M.jsx("li",{children:"Hold the camera steady"}),M.jsx("li",{children:"Position the entire QR code within the frame"}),M.jsx("li",{children:"If scanning fails, try resetting the scanner"})]})]})]})})}function TT(){const[e,t]=V.useState(!1),[n,r]=V.useState(null),s=V.useRef(null),a=V.useRef(null),c=()=>{var v;s.current&&(s.current.clear().catch(T=>console.error("Error clearing scanner:",T)),s.current=null),r(null);const p=((v=a.current)==null?void 0:v.clientWidth)||300,g=Math.min(p-40,250),y=new Y0("qr-reader",{fps:10,qrbox:{width:g,height:g},rememberLastUsedCamera:!0,aspectRatio:1},!1);s.current=y;const C=async T=>{var R,D;await y.pause(),t(!0);try{const I=await Ze.post("api/scanner/scanicecream",{token:T},{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}});r({text:T,success:!0,message:I.data.message}),await y.clear(),s.current=null}catch(I){const _=((D=(R=I.response)==null?void 0:R.data)==null?void 0:D.message)||"Scanning failed, please try again";r({text:T,success:!1,message:_}),await y.clear(),s.current=null}finally{t(!1)}},A=T=>{console.error("Scan error:",T)};y.render(C,A)};V.useEffect(()=>{c();const p=()=>{s.current&&c()};return window.addEventListener("resize",p),()=>{window.removeEventListener("resize",p),s.current&&(s.current.clear().catch(g=>console.error("Cleanup error:",g)),s.current=null)}},[]);const h=()=>{r(null),setTimeout(()=>{c()},300)};return M.jsx("div",{className:"min-h-screen bg-gradient-to-b from-blue-50 to-indigo-100 p-4 sm:p-8",children:M.jsxs("div",{className:"max-w-lg mx-auto",children:[M.jsxs("div",{className:"flex items-center justify-between mb-6",children:[M.jsxs("div",{className:"flex items-center",children:[M.jsx(Mn,{to:"/",className:"mr-3 lg:hidden",children:M.jsx(el,{className:"h-6 w-6 text-blue-700"})}),M.jsxs("div",{className:"flex items-center",children:[M.jsx(Ou,{className:"h-6 w-6 sm:h-8 sm:w-8 text-blue-700 mr-2"}),M.jsx("h1",{className:"text-2xl sm:text-3xl font-bold text-gray-900",children:"Scan IceCream"})]})]}),M.jsxs("button",{onClick:h,className:"flex items-center px-3 py-1.5 sm:px-4 sm:py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors text-sm sm:text-base",children:[M.jsx(Hr,{className:"h-4 w-4 sm:h-5 sm:w-5 mr-1 sm:mr-2"}),M.jsx("span",{children:"Reset"})]})]}),M.jsx("div",{className:"bg-white rounded-2xl shadow-lg overflow-hidden",children:n?M.jsxs("div",{className:"p-5 sm:p-8",children:[M.jsxs("div",{className:"flex items-center mb-4",children:[n.success?M.jsx(S0,{className:"h-8 w-8 text-green-500 mr-3"}):M.jsx(b0,{className:"h-8 w-8 text-red-500 mr-3"}),M.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:n.success?"Scan Successful":"Scan Failed"})]}),M.jsx("div",{className:`p-4 rounded-lg mb-4 ${n.success?"bg-green-50 text-green-800":"bg-red-50 text-red-800"}`,children:M.jsx("p",{className:"font-medium",children:n.message})}),M.jsxs("div",{className:"mb-5",children:[M.jsx("h3",{className:"text-sm font-medium text-gray-500 mb-1",children:"Scanned Value:"}),M.jsx("p",{className:"p-3 bg-gray-100 rounded-lg text-gray-800 font-mono break-all",children:n.text})]}),M.jsxs("div",{className:"flex flex-col sm:flex-row gap-3",children:[M.jsxs("button",{onClick:h,className:"flex-1 flex items-center justify-center px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:[M.jsx(Hr,{className:"h-5 w-5 mr-2"}),"Scan Again"]}),M.jsx(Mn,{to:"/",className:"flex-1",children:M.jsx("button",{className:"w-full px-4 py-2 border border-blue-600 text-blue-600 rounded-lg hover:bg-blue-50 transition-colors",children:"Back to Home"})})]})]}):M.jsxs(M.Fragment,{children:[M.jsx("div",{className:"p-4 bg-blue-700 text-white text-center",children:M.jsx("p",{className:"font-medium",children:"Position the QR code within the frame"})}),M.jsxs("div",{className:"p-4 sm:p-6",ref:a,children:[M.jsx("div",{id:"qr-reader",className:"overflow-hidden rounded-lg"}),e&&M.jsxs("div",{className:"flex items-center justify-center mt-4 p-4 bg-blue-50 rounded-lg",children:[M.jsx(Hr,{className:"h-5 w-5 text-blue-600 animate-spin mr-2"}),M.jsx("p",{className:"text-blue-600 font-medium",children:"Processing scan..."})]})]})]})}),!n&&M.jsxs("div",{className:"mt-5 bg-white p-4 rounded-lg shadow text-gray-600 text-sm",children:[M.jsx("h3",{className:"font-medium text-gray-800 mb-2",children:"Tips for scanning:"}),M.jsxs("ul",{className:"list-disc pl-5 space-y-1",children:[M.jsx("li",{children:"Ensure good lighting on the QR code"}),M.jsx("li",{children:"Hold the camera steady"}),M.jsx("li",{children:"Position the entire QR code within the frame"}),M.jsx("li",{children:"If scanning fails, try resetting the scanner"})]})]})]})})}const NT=()=>{const e=Cs(),[t,n]=V.useState(""),[r,s]=V.useState(null),[a,c]=V.useState(!1),[h,p]=V.useState(null),g=async()=>{var A,v;if(!t.trim()){p("Please enter an ID number");return}c(!0),p(null);try{const R=await(await Ze.get(`/api/student/${t}`,{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}})).data;s(R)}catch(T){const R=((v=(A=T.response)==null?void 0:A.data)==null?void 0:v.message)||"Scanning failed, please try again";Gs.error(R),s(null)}finally{c(!1)}},y=()=>{e(-1)},C=A=>A?new Date(A).toLocaleString():"N/A";return M.jsxs("div",{className:"min-h-screen bg-blue-50 flex flex-col",children:[M.jsxs("div",{className:"sticky top-0 bg-white shadow-md z-10 p-4 flex items-center border-b border-gray-200",children:[M.jsx("button",{onClick:y,className:"mr-3 p-2 hover:bg-gray-100 rounded-full transition duration-200 focus:outline-none focus:ring-2 focus:ring-blue-500","aria-label":"Go back",children:M.jsx(el,{size:20,className:"text-blue-600"})}),M.jsx("h1",{className:"text-lg sm:text-xl font-semibold text-blue-800",children:"Student ID Search"})]}),M.jsxs("div",{className:"p-4 md:p-6 flex-grow max-w-4xl mx-auto w-full",children:[M.jsx("div",{className:"bg-white rounded-xl shadow-md p-4 mb-6",children:M.jsxs("div",{className:"flex flex-col gap-3",children:[M.jsxs("div",{className:"relative",children:[M.jsx("input",{type:"text",value:t,onChange:A=>n(A.target.value),placeholder:"Enter ID Number",className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 text-base",onKeyPress:A=>{A.key==="Enter"&&g()}}),M.jsx("div",{className:"absolute left-3 top-3 text-gray-400",children:M.jsx(rh,{size:18})})]}),M.jsx("button",{onClick:g,disabled:a,className:"w-full bg-blue-600 hover:bg-blue-700 text-white font-medium py-3 rounded-lg transition duration-200 disabled:bg-blue-400 shadow-sm flex items-center justify-center focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2",children:a?M.jsxs("span",{className:"flex items-center justify-center",children:[M.jsx(gy,{size:18,className:"animate-spin mr-2"}),"Searching..."]}):M.jsxs("span",{className:"flex items-center justify-center",children:[M.jsx(rh,{size:18,className:"mr-2"}),"Search"]})})]})}),h&&M.jsxs("div",{className:"bg-red-50 text-red-700 p-4 rounded-lg mb-6 border border-red-200 flex items-center",children:[M.jsx(kb,{size:18,className:"mr-2 flex-shrink-0"}),M.jsx("span",{children:h})]}),r&&M.jsxs("div",{className:"bg-white rounded-xl p-4 md:p-6 border border-gray-200 shadow-md transition-all duration-300 ease-in-out",children:[M.jsxs("h2",{className:"text-lg md:text-xl font-semibold text-blue-800 mb-4 flex items-center",children:[M.jsx(cc,{size:20,className:"mr-2 text-blue-600"}),"Student Information"]}),M.jsxs("div",{className:"space-y-4",children:[M.jsxs("div",{className:"bg-blue-50 rounded-lg p-4 border border-blue-100",children:[M.jsx("h3",{className:"text-sm uppercase text-blue-700 font-medium mb-3",children:"Basic Details"}),M.jsx($f,{label:"ID Number",value:r.idNumber,icon:M.jsx(cc,{size:16})}),M.jsx($f,{label:"Email",value:r.email,icon:M.jsx(zb,{size:16})}),M.jsx($f,{label:"Year",value:r.year,icon:M.jsx(jb,{size:16}),noBorder:!0})]}),M.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mt-6",children:[M.jsx(Jf,{title:"Check-in",icon:M.jsx(cc,{size:18}),isCompleted:r.isCheckIn,completedTime:r.checkInTime?C(r.checkInTime):null,completedBy:r.checkInScannedBy}),M.jsx(Jf,{title:"Food",icon:M.jsx(Fb,{size:18}),isCompleted:r.isTakenFood,completedTime:r.foodTakenAt?C(r.foodTakenAt):null,completedBy:r.foodScannedBy}),M.jsx(Jf,{title:"Ice Cream",icon:M.jsx(hy,{size:18}),isCompleted:r.isTakenIcecream,completedTime:r.iceCreamTakenAt?C(r.iceCreamTakenAt):null,completedBy:r.iceCreamScannedBy})]})]})]})]})]})},$f=({label:e,value:t,icon:n=null,noBorder:r=!1})=>M.jsxs("div",{className:`flex flex-col sm:flex-row sm:justify-between py-3 ${r?"":"border-b border-blue-100"}`,children:[M.jsxs("span",{className:"font-medium text-gray-700 flex items-center mb-1 sm:mb-0",children:[n&&M.jsx("span",{className:"mr-2 text-blue-600",children:n}),e]}),M.jsx("span",{className:"text-gray-800 break-all sm:text-right",children:t})]}),Jf=({title:e,icon:t,isCompleted:n,completedTime:r,completedBy:s})=>M.jsxs("div",{className:`p-4 rounded-xl ${n?"bg-green-50 border border-green-200":"bg-gray-50 border border-gray-200"} transition-all duration-300 hover:shadow-md`,children:[M.jsxs("div",{className:"flex items-center justify-between mb-3",children:[M.jsxs("h3",{className:"font-semibold flex items-center text-gray-800",children:[M.jsx("span",{className:`mr-2 ${n?"text-green-600":"text-gray-600"}`,children:t}),e]}),M.jsx("span",{className:`text-sm font-medium px-2 py-1 rounded-full ${n?"bg-green-100 text-green-700":"bg-red-100 text-red-700"} flex items-center`,children:n?M.jsxs(M.Fragment,{children:[M.jsx(Pb,{size:14,className:"mr-1"}),"Completed"]}):M.jsxs(M.Fragment,{children:[M.jsx(Yb,{size:14,className:"mr-1"}),"Pending"]})})]}),n?M.jsxs("div",{className:"space-y-2 text-sm",children:[r&&M.jsxs("div",{className:"flex items-center text-gray-700",children:[M.jsx(Bb,{size:14,className:"text-blue-500 mr-1 flex-shrink-0"}),M.jsxs("div",{children:[M.jsx("span",{className:"font-medium mr-1",children:"Time:"}),M.jsx("span",{className:"break-all",children:r})]})]}),s&&M.jsxs("div",{className:"flex items-center text-gray-700",children:[M.jsx(cc,{size:14,className:"text-blue-500 mr-1 flex-shrink-0"}),M.jsxs("div",{children:[M.jsx("span",{className:"font-medium mr-1",children:"By:"}),M.jsx("span",{className:"break-all",children:s})]})]})]}):M.jsx("div",{className:"text-sm text-gray-500 italic",children:"No data available"})]});function MT(){const e=_u();return V.useEffect(()=>{(async()=>{try{const n=localStorage.getItem("token");console.log(n);const s=(await Ze.post("api/auth/refreshToken",{},{headers:{Authorization:`Bearer ${n}`}})).data;console.log(s),e(A0({user:s.user,token:s.token}))}catch(n){console.log("Error:",n),e(dy()),localStorage.removeItem("token")}})()},[]),M.jsx(TA,{children:M.jsxs("div",{className:"min-h-screen bg-gray-100",children:[M.jsxs(EA,{children:[M.jsx(Or,{path:"/",element:M.jsx(zI,{})}),M.jsx(Or,{path:"/login",element:M.jsx(C4,{})}),M.jsx(Or,{path:"/signup",element:M.jsx(HI,{})}),M.jsx(Or,{path:"/checkin",element:M.jsx(Go,{element:M.jsx(_T,{})})}),M.jsx(Or,{path:"/scanfood",element:M.jsx(Go,{element:M.jsx(IT,{})})}),M.jsx(Or,{path:"/scanicecream",element:M.jsx(Go,{element:M.jsx(TT,{})})}),M.jsx(Or,{path:"/searchstudent",element:M.jsx(Go,{element:M.jsx(NT,{})})}),M.jsx(Or,{path:"/dashboard",element:M.jsx(Go,{element:M.jsx(UI,{})})})]}),M.jsx(ES,{position:"top-center"})]})})}const OT=mb({reducer:{auth:Ob}});L2(document.getElementById("root")).render(M.jsx(V.StrictMode,{children:M.jsx(zS,{store:OT,children:M.jsx(MT,{})})}));
