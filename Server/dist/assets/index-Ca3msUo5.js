var IC=Object.defineProperty;var TC=(e,t,n)=>t in e?IC(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var _e=(e,t,n)=>TC(e,typeof t!="symbol"?t+"":t,n);function Nm(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const s in r)if(s!=="default"&&!(s in e)){const a=Object.getOwnPropertyDescriptor(r,s);a&&Object.defineProperty(e,s,a.get?a:{enumerable:!0,get:()=>r[s]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const a of s)if(a.type==="childList")for(const c of a.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&r(c)}).observe(document,{childList:!0,subtree:!0});function n(s){const a={};return s.integrity&&(a.integrity=s.integrity),s.referrerPolicy&&(a.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?a.credentials="include":s.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(s){if(s.ep)return;s.ep=!0;const a=n(s);fetch(s.href,a)}})();var zo=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Mm(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Rm={exports:{}},xu={},Om={exports:{}},Ne={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var el=Symbol.for("react.element"),NC=Symbol.for("react.portal"),MC=Symbol.for("react.fragment"),RC=Symbol.for("react.strict_mode"),OC=Symbol.for("react.profiler"),DC=Symbol.for("react.provider"),kC=Symbol.for("react.context"),LC=Symbol.for("react.forward_ref"),PC=Symbol.for("react.suspense"),BC=Symbol.for("react.memo"),FC=Symbol.for("react.lazy"),w1=Symbol.iterator;function jC(e){return e===null||typeof e!="object"?null:(e=w1&&e[w1]||e["@@iterator"],typeof e=="function"?e:null)}var Dm={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},km=Object.assign,Lm={};function xo(e,t,n){this.props=e,this.context=t,this.refs=Lm,this.updater=n||Dm}xo.prototype.isReactComponent={};xo.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};xo.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function Pm(){}Pm.prototype=xo.prototype;function Nh(e,t,n){this.props=e,this.context=t,this.refs=Lm,this.updater=n||Dm}var Mh=Nh.prototype=new Pm;Mh.constructor=Nh;km(Mh,xo.prototype);Mh.isPureReactComponent=!0;var C1=Array.isArray,Bm=Object.prototype.hasOwnProperty,Rh={current:null},Fm={key:!0,ref:!0,__self:!0,__source:!0};function jm(e,t,n){var r,s={},a=null,c=null;if(t!=null)for(r in t.ref!==void 0&&(c=t.ref),t.key!==void 0&&(a=""+t.key),t)Bm.call(t,r)&&!Fm.hasOwnProperty(r)&&(s[r]=t[r]);var h=arguments.length-2;if(h===1)s.children=n;else if(1<h){for(var p=Array(h),g=0;g<h;g++)p[g]=arguments[g+2];s.children=p}if(e&&e.defaultProps)for(r in h=e.defaultProps,h)s[r]===void 0&&(s[r]=h[r]);return{$$typeof:el,type:e,key:a,ref:c,props:s,_owner:Rh.current}}function zC(e,t){return{$$typeof:el,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function Oh(e){return typeof e=="object"&&e!==null&&e.$$typeof===el}function UC(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var E1=/\/+/g;function xf(e,t){return typeof e=="object"&&e!==null&&e.key!=null?UC(""+e.key):t.toString(36)}function sc(e,t,n,r,s){var a=typeof e;(a==="undefined"||a==="boolean")&&(e=null);var c=!1;if(e===null)c=!0;else switch(a){case"string":case"number":c=!0;break;case"object":switch(e.$$typeof){case el:case NC:c=!0}}if(c)return c=e,s=s(c),e=r===""?"."+xf(c,0):r,C1(s)?(n="",e!=null&&(n=e.replace(E1,"$&/")+"/"),sc(s,t,n,"",function(g){return g})):s!=null&&(Oh(s)&&(s=zC(s,n+(!s.key||c&&c.key===s.key?"":(""+s.key).replace(E1,"$&/")+"/")+e)),t.push(s)),1;if(c=0,r=r===""?".":r+":",C1(e))for(var h=0;h<e.length;h++){a=e[h];var p=r+xf(a,h);c+=sc(a,t,n,p,s)}else if(p=jC(e),typeof p=="function")for(e=p.call(e),h=0;!(a=e.next()).done;)a=a.value,p=r+xf(a,h++),c+=sc(a,t,n,p,s);else if(a==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return c}function _l(e,t,n){if(e==null)return e;var r=[],s=0;return sc(e,r,"","",function(a){return t.call(n,a,s++)}),r}function HC(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var ln={current:null},oc={transition:null},WC={ReactCurrentDispatcher:ln,ReactCurrentBatchConfig:oc,ReactCurrentOwner:Rh};function zm(){throw Error("act(...) is not supported in production builds of React.")}Ne.Children={map:_l,forEach:function(e,t,n){_l(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return _l(e,function(){t++}),t},toArray:function(e){return _l(e,function(t){return t})||[]},only:function(e){if(!Oh(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};Ne.Component=xo;Ne.Fragment=MC;Ne.Profiler=OC;Ne.PureComponent=Nh;Ne.StrictMode=RC;Ne.Suspense=PC;Ne.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=WC;Ne.act=zm;Ne.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=km({},e.props),s=e.key,a=e.ref,c=e._owner;if(t!=null){if(t.ref!==void 0&&(a=t.ref,c=Rh.current),t.key!==void 0&&(s=""+t.key),e.type&&e.type.defaultProps)var h=e.type.defaultProps;for(p in t)Bm.call(t,p)&&!Fm.hasOwnProperty(p)&&(r[p]=t[p]===void 0&&h!==void 0?h[p]:t[p])}var p=arguments.length-2;if(p===1)r.children=n;else if(1<p){h=Array(p);for(var g=0;g<p;g++)h[g]=arguments[g+2];r.children=h}return{$$typeof:el,type:e.type,key:s,ref:a,props:r,_owner:c}};Ne.createContext=function(e){return e={$$typeof:kC,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:DC,_context:e},e.Consumer=e};Ne.createElement=jm;Ne.createFactory=function(e){var t=jm.bind(null,e);return t.type=e,t};Ne.createRef=function(){return{current:null}};Ne.forwardRef=function(e){return{$$typeof:LC,render:e}};Ne.isValidElement=Oh;Ne.lazy=function(e){return{$$typeof:FC,_payload:{_status:-1,_result:e},_init:HC}};Ne.memo=function(e,t){return{$$typeof:BC,type:e,compare:t===void 0?null:t}};Ne.startTransition=function(e){var t=oc.transition;oc.transition={};try{e()}finally{oc.transition=t}};Ne.unstable_act=zm;Ne.useCallback=function(e,t){return ln.current.useCallback(e,t)};Ne.useContext=function(e){return ln.current.useContext(e)};Ne.useDebugValue=function(){};Ne.useDeferredValue=function(e){return ln.current.useDeferredValue(e)};Ne.useEffect=function(e,t){return ln.current.useEffect(e,t)};Ne.useId=function(){return ln.current.useId()};Ne.useImperativeHandle=function(e,t,n){return ln.current.useImperativeHandle(e,t,n)};Ne.useInsertionEffect=function(e,t){return ln.current.useInsertionEffect(e,t)};Ne.useLayoutEffect=function(e,t){return ln.current.useLayoutEffect(e,t)};Ne.useMemo=function(e,t){return ln.current.useMemo(e,t)};Ne.useReducer=function(e,t,n){return ln.current.useReducer(e,t,n)};Ne.useRef=function(e){return ln.current.useRef(e)};Ne.useState=function(e){return ln.current.useState(e)};Ne.useSyncExternalStore=function(e,t,n){return ln.current.useSyncExternalStore(e,t,n)};Ne.useTransition=function(){return ln.current.useTransition()};Ne.version="18.3.1";Om.exports=Ne;var U=Om.exports;const wt=Mm(U),VC=Nm({__proto__:null,default:wt},[U]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var YC=U,XC=Symbol.for("react.element"),GC=Symbol.for("react.fragment"),QC=Object.prototype.hasOwnProperty,ZC=YC.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,KC={key:!0,ref:!0,__self:!0,__source:!0};function Um(e,t,n){var r,s={},a=null,c=null;n!==void 0&&(a=""+n),t.key!==void 0&&(a=""+t.key),t.ref!==void 0&&(c=t.ref);for(r in t)QC.call(t,r)&&!KC.hasOwnProperty(r)&&(s[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)s[r]===void 0&&(s[r]=t[r]);return{$$typeof:XC,type:e,key:a,ref:c,props:s,_owner:ZC.current}}xu.Fragment=GC;xu.jsx=Um;xu.jsxs=Um;Rm.exports=xu;var A=Rm.exports,Hm={exports:{}},Fn={},Wm={exports:{}},Vm={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(ie,le){var ge=ie.length;ie.push(le);e:for(;0<ge;){var Be=ge-1>>>1,be=ie[Be];if(0<s(be,le))ie[Be]=le,ie[ge]=be,ge=Be;else break e}}function n(ie){return ie.length===0?null:ie[0]}function r(ie){if(ie.length===0)return null;var le=ie[0],ge=ie.pop();if(ge!==le){ie[0]=ge;e:for(var Be=0,be=ie.length,At=be>>>1;Be<At;){var Oe=2*(Be+1)-1,vn=ie[Oe],ce=Oe+1,ti=ie[ce];if(0>s(vn,ge))ce<be&&0>s(ti,vn)?(ie[Be]=ti,ie[ce]=ge,Be=ce):(ie[Be]=vn,ie[Oe]=ge,Be=Oe);else if(ce<be&&0>s(ti,ge))ie[Be]=ti,ie[ce]=ge,Be=ce;else break e}}return le}function s(ie,le){var ge=ie.sortIndex-le.sortIndex;return ge!==0?ge:ie.id-le.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;e.unstable_now=function(){return a.now()}}else{var c=Date,h=c.now();e.unstable_now=function(){return c.now()-h}}var p=[],g=[],x=1,w=null,E=3,S=!1,v=!1,R=!1,O=typeof setTimeout=="function"?setTimeout:null,M=typeof clearTimeout=="function"?clearTimeout:null,T=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function N(ie){for(var le=n(g);le!==null;){if(le.callback===null)r(g);else if(le.startTime<=ie)r(g),le.sortIndex=le.expirationTime,t(p,le);else break;le=n(g)}}function L(ie){if(R=!1,N(ie),!v)if(n(p)!==null)v=!0,we(z);else{var le=n(g);le!==null&&ae(L,le.startTime-ie)}}function z(ie,le){v=!1,R&&(R=!1,M(H),H=-1),S=!0;var ge=E;try{for(N(le),w=n(p);w!==null&&(!(w.expirationTime>le)||ie&&!oe());){var Be=w.callback;if(typeof Be=="function"){w.callback=null,E=w.priorityLevel;var be=Be(w.expirationTime<=le);le=e.unstable_now(),typeof be=="function"?w.callback=be:w===n(p)&&r(p),N(le)}else r(p);w=n(p)}if(w!==null)var At=!0;else{var Oe=n(g);Oe!==null&&ae(L,Oe.startTime-le),At=!1}return At}finally{w=null,E=ge,S=!1}}var Y=!1,F=null,H=-1,G=5,re=-1;function oe(){return!(e.unstable_now()-re<G)}function te(){if(F!==null){var ie=e.unstable_now();re=ie;var le=!0;try{le=F(!0,ie)}finally{le?me():(Y=!1,F=null)}}else Y=!1}var me;if(typeof T=="function")me=function(){T(te)};else if(typeof MessageChannel<"u"){var Ee=new MessageChannel,W=Ee.port2;Ee.port1.onmessage=te,me=function(){W.postMessage(null)}}else me=function(){O(te,0)};function we(ie){F=ie,Y||(Y=!0,me())}function ae(ie,le){H=O(function(){ie(e.unstable_now())},le)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(ie){ie.callback=null},e.unstable_continueExecution=function(){v||S||(v=!0,we(z))},e.unstable_forceFrameRate=function(ie){0>ie||125<ie?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):G=0<ie?Math.floor(1e3/ie):5},e.unstable_getCurrentPriorityLevel=function(){return E},e.unstable_getFirstCallbackNode=function(){return n(p)},e.unstable_next=function(ie){switch(E){case 1:case 2:case 3:var le=3;break;default:le=E}var ge=E;E=le;try{return ie()}finally{E=ge}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(ie,le){switch(ie){case 1:case 2:case 3:case 4:case 5:break;default:ie=3}var ge=E;E=ie;try{return le()}finally{E=ge}},e.unstable_scheduleCallback=function(ie,le,ge){var Be=e.unstable_now();switch(typeof ge=="object"&&ge!==null?(ge=ge.delay,ge=typeof ge=="number"&&0<ge?Be+ge:Be):ge=Be,ie){case 1:var be=-1;break;case 2:be=250;break;case 5:be=1073741823;break;case 4:be=1e4;break;default:be=5e3}return be=ge+be,ie={id:x++,callback:le,priorityLevel:ie,startTime:ge,expirationTime:be,sortIndex:-1},ge>Be?(ie.sortIndex=ge,t(g,ie),n(p)===null&&ie===n(g)&&(R?(M(H),H=-1):R=!0,ae(L,ge-Be))):(ie.sortIndex=be,t(p,ie),v||S||(v=!0,we(z))),ie},e.unstable_shouldYield=oe,e.unstable_wrapCallback=function(ie){var le=E;return function(){var ge=E;E=le;try{return ie.apply(this,arguments)}finally{E=ge}}}})(Vm);Wm.exports=Vm;var qC=Wm.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $C=U,Ln=qC;function J(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Ym=new Set,Ta={};function Ss(e,t){ao(e,t),ao(e+"Capture",t)}function ao(e,t){for(Ta[e]=t,e=0;e<t.length;e++)Ym.add(t[e])}var Gr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ld=Object.prototype.hasOwnProperty,JC=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,b1={},A1={};function e3(e){return ld.call(A1,e)?!0:ld.call(b1,e)?!1:JC.test(e)?A1[e]=!0:(b1[e]=!0,!1)}function t3(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function n3(e,t,n,r){if(t===null||typeof t>"u"||t3(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function cn(e,t,n,r,s,a,c){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=c}var Qt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Qt[e]=new cn(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Qt[t]=new cn(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Qt[e]=new cn(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Qt[e]=new cn(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Qt[e]=new cn(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Qt[e]=new cn(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Qt[e]=new cn(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Qt[e]=new cn(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Qt[e]=new cn(e,5,!1,e.toLowerCase(),null,!1,!1)});var Dh=/[\-:]([a-z])/g;function kh(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(Dh,kh);Qt[t]=new cn(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(Dh,kh);Qt[t]=new cn(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(Dh,kh);Qt[t]=new cn(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Qt[e]=new cn(e,1,!1,e.toLowerCase(),null,!1,!1)});Qt.xlinkHref=new cn("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Qt[e]=new cn(e,1,!1,e.toLowerCase(),null,!0,!0)});function Lh(e,t,n,r){var s=Qt.hasOwnProperty(t)?Qt[t]:null;(s!==null?s.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(n3(t,n,s,r)&&(n=null),r||s===null?e3(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):s.mustUseProperty?e[s.propertyName]=n===null?s.type===3?!1:"":n:(t=s.attributeName,r=s.attributeNamespace,n===null?e.removeAttribute(t):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var ei=$C.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Il=Symbol.for("react.element"),zs=Symbol.for("react.portal"),Us=Symbol.for("react.fragment"),Ph=Symbol.for("react.strict_mode"),cd=Symbol.for("react.profiler"),Xm=Symbol.for("react.provider"),Gm=Symbol.for("react.context"),Bh=Symbol.for("react.forward_ref"),ud=Symbol.for("react.suspense"),fd=Symbol.for("react.suspense_list"),Fh=Symbol.for("react.memo"),fi=Symbol.for("react.lazy"),Qm=Symbol.for("react.offscreen"),S1=Symbol.iterator;function Uo(e){return e===null||typeof e!="object"?null:(e=S1&&e[S1]||e["@@iterator"],typeof e=="function"?e:null)}var ut=Object.assign,yf;function ta(e){if(yf===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);yf=t&&t[1]||""}return`
`+yf+e}var wf=!1;function Cf(e,t){if(!e||wf)return"";wf=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(g){var r=g}Reflect.construct(e,[],t)}else{try{t.call()}catch(g){r=g}e.call(t.prototype)}else{try{throw Error()}catch(g){r=g}e()}}catch(g){if(g&&r&&typeof g.stack=="string"){for(var s=g.stack.split(`
`),a=r.stack.split(`
`),c=s.length-1,h=a.length-1;1<=c&&0<=h&&s[c]!==a[h];)h--;for(;1<=c&&0<=h;c--,h--)if(s[c]!==a[h]){if(c!==1||h!==1)do if(c--,h--,0>h||s[c]!==a[h]){var p=`
`+s[c].replace(" at new "," at ");return e.displayName&&p.includes("<anonymous>")&&(p=p.replace("<anonymous>",e.displayName)),p}while(1<=c&&0<=h);break}}}finally{wf=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?ta(e):""}function r3(e){switch(e.tag){case 5:return ta(e.type);case 16:return ta("Lazy");case 13:return ta("Suspense");case 19:return ta("SuspenseList");case 0:case 2:case 15:return e=Cf(e.type,!1),e;case 11:return e=Cf(e.type.render,!1),e;case 1:return e=Cf(e.type,!0),e;default:return""}}function dd(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Us:return"Fragment";case zs:return"Portal";case cd:return"Profiler";case Ph:return"StrictMode";case ud:return"Suspense";case fd:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case Gm:return(e.displayName||"Context")+".Consumer";case Xm:return(e._context.displayName||"Context")+".Provider";case Bh:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Fh:return t=e.displayName||null,t!==null?t:dd(e.type)||"Memo";case fi:t=e._payload,e=e._init;try{return dd(e(t))}catch{}}return null}function i3(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return dd(t);case 8:return t===Ph?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Ri(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Zm(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function s3(e){var t=Zm(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,a=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return s.call(this)},set:function(c){r=""+c,a.call(this,c)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(c){r=""+c},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Tl(e){e._valueTracker||(e._valueTracker=s3(e))}function Km(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=Zm(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function Ac(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function hd(e,t){var n=t.checked;return ut({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function v1(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=Ri(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function qm(e,t){t=t.checked,t!=null&&Lh(e,"checked",t,!1)}function gd(e,t){qm(e,t);var n=Ri(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?pd(e,t.type,n):t.hasOwnProperty("defaultValue")&&pd(e,t.type,Ri(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function _1(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function pd(e,t,n){(t!=="number"||Ac(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var na=Array.isArray;function eo(e,t,n,r){if(e=e.options,t){t={};for(var s=0;s<n.length;s++)t["$"+n[s]]=!0;for(n=0;n<e.length;n++)s=t.hasOwnProperty("$"+e[n].value),e[n].selected!==s&&(e[n].selected=s),s&&r&&(e[n].defaultSelected=!0)}else{for(n=""+Ri(n),t=null,s=0;s<e.length;s++){if(e[s].value===n){e[s].selected=!0,r&&(e[s].defaultSelected=!0);return}t!==null||e[s].disabled||(t=e[s])}t!==null&&(t.selected=!0)}}function md(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(J(91));return ut({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function I1(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(J(92));if(na(n)){if(1<n.length)throw Error(J(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:Ri(n)}}function $m(e,t){var n=Ri(t.value),r=Ri(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function T1(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function Jm(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function xd(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?Jm(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Nl,ex=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,s){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,s)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Nl=Nl||document.createElement("div"),Nl.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Nl.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Na(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var da={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},o3=["Webkit","ms","Moz","O"];Object.keys(da).forEach(function(e){o3.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),da[t]=da[e]})});function tx(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||da.hasOwnProperty(e)&&da[e]?(""+t).trim():t+"px"}function nx(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,s=tx(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,s):e[n]=s}}var a3=ut({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function yd(e,t){if(t){if(a3[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(J(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(J(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(J(61))}if(t.style!=null&&typeof t.style!="object")throw Error(J(62))}}function wd(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Cd=null;function jh(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Ed=null,to=null,no=null;function N1(e){if(e=rl(e)){if(typeof Ed!="function")throw Error(J(280));var t=e.stateNode;t&&(t=bu(t),Ed(e.stateNode,e.type,t))}}function rx(e){to?no?no.push(e):no=[e]:to=e}function ix(){if(to){var e=to,t=no;if(no=to=null,N1(e),t)for(e=0;e<t.length;e++)N1(t[e])}}function sx(e,t){return e(t)}function ox(){}var Ef=!1;function ax(e,t,n){if(Ef)return e(t,n);Ef=!0;try{return sx(e,t,n)}finally{Ef=!1,(to!==null||no!==null)&&(ox(),ix())}}function Ma(e,t){var n=e.stateNode;if(n===null)return null;var r=bu(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(J(231,t,typeof n));return n}var bd=!1;if(Gr)try{var Ho={};Object.defineProperty(Ho,"passive",{get:function(){bd=!0}}),window.addEventListener("test",Ho,Ho),window.removeEventListener("test",Ho,Ho)}catch{bd=!1}function l3(e,t,n,r,s,a,c,h,p){var g=Array.prototype.slice.call(arguments,3);try{t.apply(n,g)}catch(x){this.onError(x)}}var ha=!1,Sc=null,vc=!1,Ad=null,c3={onError:function(e){ha=!0,Sc=e}};function u3(e,t,n,r,s,a,c,h,p){ha=!1,Sc=null,l3.apply(c3,arguments)}function f3(e,t,n,r,s,a,c,h,p){if(u3.apply(this,arguments),ha){if(ha){var g=Sc;ha=!1,Sc=null}else throw Error(J(198));vc||(vc=!0,Ad=g)}}function vs(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function lx(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function M1(e){if(vs(e)!==e)throw Error(J(188))}function d3(e){var t=e.alternate;if(!t){if(t=vs(e),t===null)throw Error(J(188));return t!==e?null:e}for(var n=e,r=t;;){var s=n.return;if(s===null)break;var a=s.alternate;if(a===null){if(r=s.return,r!==null){n=r;continue}break}if(s.child===a.child){for(a=s.child;a;){if(a===n)return M1(s),e;if(a===r)return M1(s),t;a=a.sibling}throw Error(J(188))}if(n.return!==r.return)n=s,r=a;else{for(var c=!1,h=s.child;h;){if(h===n){c=!0,n=s,r=a;break}if(h===r){c=!0,r=s,n=a;break}h=h.sibling}if(!c){for(h=a.child;h;){if(h===n){c=!0,n=a,r=s;break}if(h===r){c=!0,r=a,n=s;break}h=h.sibling}if(!c)throw Error(J(189))}}if(n.alternate!==r)throw Error(J(190))}if(n.tag!==3)throw Error(J(188));return n.stateNode.current===n?e:t}function cx(e){return e=d3(e),e!==null?ux(e):null}function ux(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=ux(e);if(t!==null)return t;e=e.sibling}return null}var fx=Ln.unstable_scheduleCallback,R1=Ln.unstable_cancelCallback,h3=Ln.unstable_shouldYield,g3=Ln.unstable_requestPaint,Ct=Ln.unstable_now,p3=Ln.unstable_getCurrentPriorityLevel,zh=Ln.unstable_ImmediatePriority,dx=Ln.unstable_UserBlockingPriority,_c=Ln.unstable_NormalPriority,m3=Ln.unstable_LowPriority,hx=Ln.unstable_IdlePriority,yu=null,Or=null;function x3(e){if(Or&&typeof Or.onCommitFiberRoot=="function")try{Or.onCommitFiberRoot(yu,e,void 0,(e.current.flags&128)===128)}catch{}}var fr=Math.clz32?Math.clz32:C3,y3=Math.log,w3=Math.LN2;function C3(e){return e>>>=0,e===0?32:31-(y3(e)/w3|0)|0}var Ml=64,Rl=4194304;function ra(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Ic(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,s=e.suspendedLanes,a=e.pingedLanes,c=n&268435455;if(c!==0){var h=c&~s;h!==0?r=ra(h):(a&=c,a!==0&&(r=ra(a)))}else c=n&~s,c!==0?r=ra(c):a!==0&&(r=ra(a));if(r===0)return 0;if(t!==0&&t!==r&&!(t&s)&&(s=r&-r,a=t&-t,s>=a||s===16&&(a&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-fr(t),s=1<<n,r|=e[n],t&=~s;return r}function E3(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function b3(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,s=e.expirationTimes,a=e.pendingLanes;0<a;){var c=31-fr(a),h=1<<c,p=s[c];p===-1?(!(h&n)||h&r)&&(s[c]=E3(h,t)):p<=t&&(e.expiredLanes|=h),a&=~h}}function Sd(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function gx(){var e=Ml;return Ml<<=1,!(Ml&4194240)&&(Ml=64),e}function bf(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function tl(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-fr(t),e[t]=n}function A3(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var s=31-fr(n),a=1<<s;t[s]=0,r[s]=-1,e[s]=-1,n&=~a}}function Uh(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-fr(n),s=1<<r;s&t|e[r]&t&&(e[r]|=t),n&=~s}}var Ye=0;function px(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var mx,Hh,xx,yx,wx,vd=!1,Ol=[],Ei=null,bi=null,Ai=null,Ra=new Map,Oa=new Map,hi=[],S3="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function O1(e,t){switch(e){case"focusin":case"focusout":Ei=null;break;case"dragenter":case"dragleave":bi=null;break;case"mouseover":case"mouseout":Ai=null;break;case"pointerover":case"pointerout":Ra.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Oa.delete(t.pointerId)}}function Wo(e,t,n,r,s,a){return e===null||e.nativeEvent!==a?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:a,targetContainers:[s]},t!==null&&(t=rl(t),t!==null&&Hh(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,s!==null&&t.indexOf(s)===-1&&t.push(s),e)}function v3(e,t,n,r,s){switch(t){case"focusin":return Ei=Wo(Ei,e,t,n,r,s),!0;case"dragenter":return bi=Wo(bi,e,t,n,r,s),!0;case"mouseover":return Ai=Wo(Ai,e,t,n,r,s),!0;case"pointerover":var a=s.pointerId;return Ra.set(a,Wo(Ra.get(a)||null,e,t,n,r,s)),!0;case"gotpointercapture":return a=s.pointerId,Oa.set(a,Wo(Oa.get(a)||null,e,t,n,r,s)),!0}return!1}function Cx(e){var t=rs(e.target);if(t!==null){var n=vs(t);if(n!==null){if(t=n.tag,t===13){if(t=lx(n),t!==null){e.blockedOn=t,wx(e.priority,function(){xx(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function ac(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=_d(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);Cd=r,n.target.dispatchEvent(r),Cd=null}else return t=rl(n),t!==null&&Hh(t),e.blockedOn=n,!1;t.shift()}return!0}function D1(e,t,n){ac(e)&&n.delete(t)}function _3(){vd=!1,Ei!==null&&ac(Ei)&&(Ei=null),bi!==null&&ac(bi)&&(bi=null),Ai!==null&&ac(Ai)&&(Ai=null),Ra.forEach(D1),Oa.forEach(D1)}function Vo(e,t){e.blockedOn===t&&(e.blockedOn=null,vd||(vd=!0,Ln.unstable_scheduleCallback(Ln.unstable_NormalPriority,_3)))}function Da(e){function t(s){return Vo(s,e)}if(0<Ol.length){Vo(Ol[0],e);for(var n=1;n<Ol.length;n++){var r=Ol[n];r.blockedOn===e&&(r.blockedOn=null)}}for(Ei!==null&&Vo(Ei,e),bi!==null&&Vo(bi,e),Ai!==null&&Vo(Ai,e),Ra.forEach(t),Oa.forEach(t),n=0;n<hi.length;n++)r=hi[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<hi.length&&(n=hi[0],n.blockedOn===null);)Cx(n),n.blockedOn===null&&hi.shift()}var ro=ei.ReactCurrentBatchConfig,Tc=!0;function I3(e,t,n,r){var s=Ye,a=ro.transition;ro.transition=null;try{Ye=1,Wh(e,t,n,r)}finally{Ye=s,ro.transition=a}}function T3(e,t,n,r){var s=Ye,a=ro.transition;ro.transition=null;try{Ye=4,Wh(e,t,n,r)}finally{Ye=s,ro.transition=a}}function Wh(e,t,n,r){if(Tc){var s=_d(e,t,n,r);if(s===null)Of(e,t,r,Nc,n),O1(e,r);else if(v3(s,e,t,n,r))r.stopPropagation();else if(O1(e,r),t&4&&-1<S3.indexOf(e)){for(;s!==null;){var a=rl(s);if(a!==null&&mx(a),a=_d(e,t,n,r),a===null&&Of(e,t,r,Nc,n),a===s)break;s=a}s!==null&&r.stopPropagation()}else Of(e,t,r,null,n)}}var Nc=null;function _d(e,t,n,r){if(Nc=null,e=jh(r),e=rs(e),e!==null)if(t=vs(e),t===null)e=null;else if(n=t.tag,n===13){if(e=lx(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Nc=e,null}function Ex(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(p3()){case zh:return 1;case dx:return 4;case _c:case m3:return 16;case hx:return 536870912;default:return 16}default:return 16}}var mi=null,Vh=null,lc=null;function bx(){if(lc)return lc;var e,t=Vh,n=t.length,r,s="value"in mi?mi.value:mi.textContent,a=s.length;for(e=0;e<n&&t[e]===s[e];e++);var c=n-e;for(r=1;r<=c&&t[n-r]===s[a-r];r++);return lc=s.slice(e,1<r?1-r:void 0)}function cc(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Dl(){return!0}function k1(){return!1}function jn(e){function t(n,r,s,a,c){this._reactName=n,this._targetInst=s,this.type=r,this.nativeEvent=a,this.target=c,this.currentTarget=null;for(var h in e)e.hasOwnProperty(h)&&(n=e[h],this[h]=n?n(a):a[h]);return this.isDefaultPrevented=(a.defaultPrevented!=null?a.defaultPrevented:a.returnValue===!1)?Dl:k1,this.isPropagationStopped=k1,this}return ut(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Dl)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Dl)},persist:function(){},isPersistent:Dl}),t}var yo={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Yh=jn(yo),nl=ut({},yo,{view:0,detail:0}),N3=jn(nl),Af,Sf,Yo,wu=ut({},nl,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Xh,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Yo&&(Yo&&e.type==="mousemove"?(Af=e.screenX-Yo.screenX,Sf=e.screenY-Yo.screenY):Sf=Af=0,Yo=e),Af)},movementY:function(e){return"movementY"in e?e.movementY:Sf}}),L1=jn(wu),M3=ut({},wu,{dataTransfer:0}),R3=jn(M3),O3=ut({},nl,{relatedTarget:0}),vf=jn(O3),D3=ut({},yo,{animationName:0,elapsedTime:0,pseudoElement:0}),k3=jn(D3),L3=ut({},yo,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),P3=jn(L3),B3=ut({},yo,{data:0}),P1=jn(B3),F3={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},j3={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},z3={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function U3(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=z3[e])?!!t[e]:!1}function Xh(){return U3}var H3=ut({},nl,{key:function(e){if(e.key){var t=F3[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=cc(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?j3[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Xh,charCode:function(e){return e.type==="keypress"?cc(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?cc(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),W3=jn(H3),V3=ut({},wu,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),B1=jn(V3),Y3=ut({},nl,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Xh}),X3=jn(Y3),G3=ut({},yo,{propertyName:0,elapsedTime:0,pseudoElement:0}),Q3=jn(G3),Z3=ut({},wu,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),K3=jn(Z3),q3=[9,13,27,32],Gh=Gr&&"CompositionEvent"in window,ga=null;Gr&&"documentMode"in document&&(ga=document.documentMode);var $3=Gr&&"TextEvent"in window&&!ga,Ax=Gr&&(!Gh||ga&&8<ga&&11>=ga),F1=" ",j1=!1;function Sx(e,t){switch(e){case"keyup":return q3.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function vx(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Hs=!1;function J3(e,t){switch(e){case"compositionend":return vx(t);case"keypress":return t.which!==32?null:(j1=!0,F1);case"textInput":return e=t.data,e===F1&&j1?null:e;default:return null}}function eE(e,t){if(Hs)return e==="compositionend"||!Gh&&Sx(e,t)?(e=bx(),lc=Vh=mi=null,Hs=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Ax&&t.locale!=="ko"?null:t.data;default:return null}}var tE={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function z1(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!tE[e.type]:t==="textarea"}function _x(e,t,n,r){rx(r),t=Mc(t,"onChange"),0<t.length&&(n=new Yh("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var pa=null,ka=null;function nE(e){Bx(e,0)}function Cu(e){var t=Ys(e);if(Km(t))return e}function rE(e,t){if(e==="change")return t}var Ix=!1;if(Gr){var _f;if(Gr){var If="oninput"in document;if(!If){var U1=document.createElement("div");U1.setAttribute("oninput","return;"),If=typeof U1.oninput=="function"}_f=If}else _f=!1;Ix=_f&&(!document.documentMode||9<document.documentMode)}function H1(){pa&&(pa.detachEvent("onpropertychange",Tx),ka=pa=null)}function Tx(e){if(e.propertyName==="value"&&Cu(ka)){var t=[];_x(t,ka,e,jh(e)),ax(nE,t)}}function iE(e,t,n){e==="focusin"?(H1(),pa=t,ka=n,pa.attachEvent("onpropertychange",Tx)):e==="focusout"&&H1()}function sE(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Cu(ka)}function oE(e,t){if(e==="click")return Cu(t)}function aE(e,t){if(e==="input"||e==="change")return Cu(t)}function lE(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var gr=typeof Object.is=="function"?Object.is:lE;function La(e,t){if(gr(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!ld.call(t,s)||!gr(e[s],t[s]))return!1}return!0}function W1(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function V1(e,t){var n=W1(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=W1(n)}}function Nx(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Nx(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Mx(){for(var e=window,t=Ac();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=Ac(e.document)}return t}function Qh(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function cE(e){var t=Mx(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&Nx(n.ownerDocument.documentElement,n)){if(r!==null&&Qh(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var s=n.textContent.length,a=Math.min(r.start,s);r=r.end===void 0?a:Math.min(r.end,s),!e.extend&&a>r&&(s=r,r=a,a=s),s=V1(n,a);var c=V1(n,r);s&&c&&(e.rangeCount!==1||e.anchorNode!==s.node||e.anchorOffset!==s.offset||e.focusNode!==c.node||e.focusOffset!==c.offset)&&(t=t.createRange(),t.setStart(s.node,s.offset),e.removeAllRanges(),a>r?(e.addRange(t),e.extend(c.node,c.offset)):(t.setEnd(c.node,c.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var uE=Gr&&"documentMode"in document&&11>=document.documentMode,Ws=null,Id=null,ma=null,Td=!1;function Y1(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Td||Ws==null||Ws!==Ac(r)||(r=Ws,"selectionStart"in r&&Qh(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),ma&&La(ma,r)||(ma=r,r=Mc(Id,"onSelect"),0<r.length&&(t=new Yh("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=Ws)))}function kl(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Vs={animationend:kl("Animation","AnimationEnd"),animationiteration:kl("Animation","AnimationIteration"),animationstart:kl("Animation","AnimationStart"),transitionend:kl("Transition","TransitionEnd")},Tf={},Rx={};Gr&&(Rx=document.createElement("div").style,"AnimationEvent"in window||(delete Vs.animationend.animation,delete Vs.animationiteration.animation,delete Vs.animationstart.animation),"TransitionEvent"in window||delete Vs.transitionend.transition);function Eu(e){if(Tf[e])return Tf[e];if(!Vs[e])return e;var t=Vs[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in Rx)return Tf[e]=t[n];return e}var Ox=Eu("animationend"),Dx=Eu("animationiteration"),kx=Eu("animationstart"),Lx=Eu("transitionend"),Px=new Map,X1="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Pi(e,t){Px.set(e,t),Ss(t,[e])}for(var Nf=0;Nf<X1.length;Nf++){var Mf=X1[Nf],fE=Mf.toLowerCase(),dE=Mf[0].toUpperCase()+Mf.slice(1);Pi(fE,"on"+dE)}Pi(Ox,"onAnimationEnd");Pi(Dx,"onAnimationIteration");Pi(kx,"onAnimationStart");Pi("dblclick","onDoubleClick");Pi("focusin","onFocus");Pi("focusout","onBlur");Pi(Lx,"onTransitionEnd");ao("onMouseEnter",["mouseout","mouseover"]);ao("onMouseLeave",["mouseout","mouseover"]);ao("onPointerEnter",["pointerout","pointerover"]);ao("onPointerLeave",["pointerout","pointerover"]);Ss("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Ss("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Ss("onBeforeInput",["compositionend","keypress","textInput","paste"]);Ss("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Ss("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Ss("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ia="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),hE=new Set("cancel close invalid load scroll toggle".split(" ").concat(ia));function G1(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,f3(r,t,void 0,e),e.currentTarget=null}function Bx(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],s=r.event;r=r.listeners;e:{var a=void 0;if(t)for(var c=r.length-1;0<=c;c--){var h=r[c],p=h.instance,g=h.currentTarget;if(h=h.listener,p!==a&&s.isPropagationStopped())break e;G1(s,h,g),a=p}else for(c=0;c<r.length;c++){if(h=r[c],p=h.instance,g=h.currentTarget,h=h.listener,p!==a&&s.isPropagationStopped())break e;G1(s,h,g),a=p}}}if(vc)throw e=Ad,vc=!1,Ad=null,e}function tt(e,t){var n=t[Dd];n===void 0&&(n=t[Dd]=new Set);var r=e+"__bubble";n.has(r)||(Fx(t,e,2,!1),n.add(r))}function Rf(e,t,n){var r=0;t&&(r|=4),Fx(n,e,r,t)}var Ll="_reactListening"+Math.random().toString(36).slice(2);function Pa(e){if(!e[Ll]){e[Ll]=!0,Ym.forEach(function(n){n!=="selectionchange"&&(hE.has(n)||Rf(n,!1,e),Rf(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Ll]||(t[Ll]=!0,Rf("selectionchange",!1,t))}}function Fx(e,t,n,r){switch(Ex(t)){case 1:var s=I3;break;case 4:s=T3;break;default:s=Wh}n=s.bind(null,t,n,e),s=void 0,!bd||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(s=!0),r?s!==void 0?e.addEventListener(t,n,{capture:!0,passive:s}):e.addEventListener(t,n,!0):s!==void 0?e.addEventListener(t,n,{passive:s}):e.addEventListener(t,n,!1)}function Of(e,t,n,r,s){var a=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var c=r.tag;if(c===3||c===4){var h=r.stateNode.containerInfo;if(h===s||h.nodeType===8&&h.parentNode===s)break;if(c===4)for(c=r.return;c!==null;){var p=c.tag;if((p===3||p===4)&&(p=c.stateNode.containerInfo,p===s||p.nodeType===8&&p.parentNode===s))return;c=c.return}for(;h!==null;){if(c=rs(h),c===null)return;if(p=c.tag,p===5||p===6){r=a=c;continue e}h=h.parentNode}}r=r.return}ax(function(){var g=a,x=jh(n),w=[];e:{var E=Px.get(e);if(E!==void 0){var S=Yh,v=e;switch(e){case"keypress":if(cc(n)===0)break e;case"keydown":case"keyup":S=W3;break;case"focusin":v="focus",S=vf;break;case"focusout":v="blur",S=vf;break;case"beforeblur":case"afterblur":S=vf;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":S=L1;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":S=R3;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":S=X3;break;case Ox:case Dx:case kx:S=k3;break;case Lx:S=Q3;break;case"scroll":S=N3;break;case"wheel":S=K3;break;case"copy":case"cut":case"paste":S=P3;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":S=B1}var R=(t&4)!==0,O=!R&&e==="scroll",M=R?E!==null?E+"Capture":null:E;R=[];for(var T=g,N;T!==null;){N=T;var L=N.stateNode;if(N.tag===5&&L!==null&&(N=L,M!==null&&(L=Ma(T,M),L!=null&&R.push(Ba(T,L,N)))),O)break;T=T.return}0<R.length&&(E=new S(E,v,null,n,x),w.push({event:E,listeners:R}))}}if(!(t&7)){e:{if(E=e==="mouseover"||e==="pointerover",S=e==="mouseout"||e==="pointerout",E&&n!==Cd&&(v=n.relatedTarget||n.fromElement)&&(rs(v)||v[Qr]))break e;if((S||E)&&(E=x.window===x?x:(E=x.ownerDocument)?E.defaultView||E.parentWindow:window,S?(v=n.relatedTarget||n.toElement,S=g,v=v?rs(v):null,v!==null&&(O=vs(v),v!==O||v.tag!==5&&v.tag!==6)&&(v=null)):(S=null,v=g),S!==v)){if(R=L1,L="onMouseLeave",M="onMouseEnter",T="mouse",(e==="pointerout"||e==="pointerover")&&(R=B1,L="onPointerLeave",M="onPointerEnter",T="pointer"),O=S==null?E:Ys(S),N=v==null?E:Ys(v),E=new R(L,T+"leave",S,n,x),E.target=O,E.relatedTarget=N,L=null,rs(x)===g&&(R=new R(M,T+"enter",v,n,x),R.target=N,R.relatedTarget=O,L=R),O=L,S&&v)t:{for(R=S,M=v,T=0,N=R;N;N=Bs(N))T++;for(N=0,L=M;L;L=Bs(L))N++;for(;0<T-N;)R=Bs(R),T--;for(;0<N-T;)M=Bs(M),N--;for(;T--;){if(R===M||M!==null&&R===M.alternate)break t;R=Bs(R),M=Bs(M)}R=null}else R=null;S!==null&&Q1(w,E,S,R,!1),v!==null&&O!==null&&Q1(w,O,v,R,!0)}}e:{if(E=g?Ys(g):window,S=E.nodeName&&E.nodeName.toLowerCase(),S==="select"||S==="input"&&E.type==="file")var z=rE;else if(z1(E))if(Ix)z=aE;else{z=sE;var Y=iE}else(S=E.nodeName)&&S.toLowerCase()==="input"&&(E.type==="checkbox"||E.type==="radio")&&(z=oE);if(z&&(z=z(e,g))){_x(w,z,n,x);break e}Y&&Y(e,E,g),e==="focusout"&&(Y=E._wrapperState)&&Y.controlled&&E.type==="number"&&pd(E,"number",E.value)}switch(Y=g?Ys(g):window,e){case"focusin":(z1(Y)||Y.contentEditable==="true")&&(Ws=Y,Id=g,ma=null);break;case"focusout":ma=Id=Ws=null;break;case"mousedown":Td=!0;break;case"contextmenu":case"mouseup":case"dragend":Td=!1,Y1(w,n,x);break;case"selectionchange":if(uE)break;case"keydown":case"keyup":Y1(w,n,x)}var F;if(Gh)e:{switch(e){case"compositionstart":var H="onCompositionStart";break e;case"compositionend":H="onCompositionEnd";break e;case"compositionupdate":H="onCompositionUpdate";break e}H=void 0}else Hs?Sx(e,n)&&(H="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(H="onCompositionStart");H&&(Ax&&n.locale!=="ko"&&(Hs||H!=="onCompositionStart"?H==="onCompositionEnd"&&Hs&&(F=bx()):(mi=x,Vh="value"in mi?mi.value:mi.textContent,Hs=!0)),Y=Mc(g,H),0<Y.length&&(H=new P1(H,e,null,n,x),w.push({event:H,listeners:Y}),F?H.data=F:(F=vx(n),F!==null&&(H.data=F)))),(F=$3?J3(e,n):eE(e,n))&&(g=Mc(g,"onBeforeInput"),0<g.length&&(x=new P1("onBeforeInput","beforeinput",null,n,x),w.push({event:x,listeners:g}),x.data=F))}Bx(w,t)})}function Ba(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Mc(e,t){for(var n=t+"Capture",r=[];e!==null;){var s=e,a=s.stateNode;s.tag===5&&a!==null&&(s=a,a=Ma(e,n),a!=null&&r.unshift(Ba(e,a,s)),a=Ma(e,t),a!=null&&r.push(Ba(e,a,s))),e=e.return}return r}function Bs(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Q1(e,t,n,r,s){for(var a=t._reactName,c=[];n!==null&&n!==r;){var h=n,p=h.alternate,g=h.stateNode;if(p!==null&&p===r)break;h.tag===5&&g!==null&&(h=g,s?(p=Ma(n,a),p!=null&&c.unshift(Ba(n,p,h))):s||(p=Ma(n,a),p!=null&&c.push(Ba(n,p,h)))),n=n.return}c.length!==0&&e.push({event:t,listeners:c})}var gE=/\r\n?/g,pE=/\u0000|\uFFFD/g;function Z1(e){return(typeof e=="string"?e:""+e).replace(gE,`
`).replace(pE,"")}function Pl(e,t,n){if(t=Z1(t),Z1(e)!==t&&n)throw Error(J(425))}function Rc(){}var Nd=null,Md=null;function Rd(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Od=typeof setTimeout=="function"?setTimeout:void 0,mE=typeof clearTimeout=="function"?clearTimeout:void 0,K1=typeof Promise=="function"?Promise:void 0,xE=typeof queueMicrotask=="function"?queueMicrotask:typeof K1<"u"?function(e){return K1.resolve(null).then(e).catch(yE)}:Od;function yE(e){setTimeout(function(){throw e})}function Df(e,t){var n=t,r=0;do{var s=n.nextSibling;if(e.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(r===0){e.removeChild(s),Da(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=s}while(n);Da(t)}function Si(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function q1(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var wo=Math.random().toString(36).slice(2),Rr="__reactFiber$"+wo,Fa="__reactProps$"+wo,Qr="__reactContainer$"+wo,Dd="__reactEvents$"+wo,wE="__reactListeners$"+wo,CE="__reactHandles$"+wo;function rs(e){var t=e[Rr];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Qr]||n[Rr]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=q1(e);e!==null;){if(n=e[Rr])return n;e=q1(e)}return t}e=n,n=e.parentNode}return null}function rl(e){return e=e[Rr]||e[Qr],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Ys(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(J(33))}function bu(e){return e[Fa]||null}var kd=[],Xs=-1;function Bi(e){return{current:e}}function it(e){0>Xs||(e.current=kd[Xs],kd[Xs]=null,Xs--)}function Je(e,t){Xs++,kd[Xs]=e.current,e.current=t}var Oi={},nn=Bi(Oi),En=Bi(!1),hs=Oi;function lo(e,t){var n=e.type.contextTypes;if(!n)return Oi;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var s={},a;for(a in n)s[a]=t[a];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function bn(e){return e=e.childContextTypes,e!=null}function Oc(){it(En),it(nn)}function $1(e,t,n){if(nn.current!==Oi)throw Error(J(168));Je(nn,t),Je(En,n)}function jx(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var s in r)if(!(s in t))throw Error(J(108,i3(e)||"Unknown",s));return ut({},n,r)}function Dc(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Oi,hs=nn.current,Je(nn,e),Je(En,En.current),!0}function J1(e,t,n){var r=e.stateNode;if(!r)throw Error(J(169));n?(e=jx(e,t,hs),r.__reactInternalMemoizedMergedChildContext=e,it(En),it(nn),Je(nn,e)):it(En),Je(En,n)}var zr=null,Au=!1,kf=!1;function zx(e){zr===null?zr=[e]:zr.push(e)}function EE(e){Au=!0,zx(e)}function Fi(){if(!kf&&zr!==null){kf=!0;var e=0,t=Ye;try{var n=zr;for(Ye=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}zr=null,Au=!1}catch(s){throw zr!==null&&(zr=zr.slice(e+1)),fx(zh,Fi),s}finally{Ye=t,kf=!1}}return null}var Gs=[],Qs=0,kc=null,Lc=0,Xn=[],Gn=0,gs=null,Hr=1,Wr="";function Ji(e,t){Gs[Qs++]=Lc,Gs[Qs++]=kc,kc=e,Lc=t}function Ux(e,t,n){Xn[Gn++]=Hr,Xn[Gn++]=Wr,Xn[Gn++]=gs,gs=e;var r=Hr;e=Wr;var s=32-fr(r)-1;r&=~(1<<s),n+=1;var a=32-fr(t)+s;if(30<a){var c=s-s%5;a=(r&(1<<c)-1).toString(32),r>>=c,s-=c,Hr=1<<32-fr(t)+s|n<<s|r,Wr=a+e}else Hr=1<<a|n<<s|r,Wr=e}function Zh(e){e.return!==null&&(Ji(e,1),Ux(e,1,0))}function Kh(e){for(;e===kc;)kc=Gs[--Qs],Gs[Qs]=null,Lc=Gs[--Qs],Gs[Qs]=null;for(;e===gs;)gs=Xn[--Gn],Xn[Gn]=null,Wr=Xn[--Gn],Xn[Gn]=null,Hr=Xn[--Gn],Xn[Gn]=null}var Dn=null,On=null,ot=!1,cr=null;function Hx(e,t){var n=Kn(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function eg(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Dn=e,On=Si(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Dn=e,On=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=gs!==null?{id:Hr,overflow:Wr}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=Kn(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,Dn=e,On=null,!0):!1;default:return!1}}function Ld(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Pd(e){if(ot){var t=On;if(t){var n=t;if(!eg(e,t)){if(Ld(e))throw Error(J(418));t=Si(n.nextSibling);var r=Dn;t&&eg(e,t)?Hx(r,n):(e.flags=e.flags&-4097|2,ot=!1,Dn=e)}}else{if(Ld(e))throw Error(J(418));e.flags=e.flags&-4097|2,ot=!1,Dn=e}}}function tg(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Dn=e}function Bl(e){if(e!==Dn)return!1;if(!ot)return tg(e),ot=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Rd(e.type,e.memoizedProps)),t&&(t=On)){if(Ld(e))throw Wx(),Error(J(418));for(;t;)Hx(e,t),t=Si(t.nextSibling)}if(tg(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(J(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){On=Si(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}On=null}}else On=Dn?Si(e.stateNode.nextSibling):null;return!0}function Wx(){for(var e=On;e;)e=Si(e.nextSibling)}function co(){On=Dn=null,ot=!1}function qh(e){cr===null?cr=[e]:cr.push(e)}var bE=ei.ReactCurrentBatchConfig;function Xo(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(J(309));var r=n.stateNode}if(!r)throw Error(J(147,e));var s=r,a=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===a?t.ref:(t=function(c){var h=s.refs;c===null?delete h[a]:h[a]=c},t._stringRef=a,t)}if(typeof e!="string")throw Error(J(284));if(!n._owner)throw Error(J(290,e))}return e}function Fl(e,t){throw e=Object.prototype.toString.call(t),Error(J(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function ng(e){var t=e._init;return t(e._payload)}function Vx(e){function t(M,T){if(e){var N=M.deletions;N===null?(M.deletions=[T],M.flags|=16):N.push(T)}}function n(M,T){if(!e)return null;for(;T!==null;)t(M,T),T=T.sibling;return null}function r(M,T){for(M=new Map;T!==null;)T.key!==null?M.set(T.key,T):M.set(T.index,T),T=T.sibling;return M}function s(M,T){return M=Ti(M,T),M.index=0,M.sibling=null,M}function a(M,T,N){return M.index=N,e?(N=M.alternate,N!==null?(N=N.index,N<T?(M.flags|=2,T):N):(M.flags|=2,T)):(M.flags|=1048576,T)}function c(M){return e&&M.alternate===null&&(M.flags|=2),M}function h(M,T,N,L){return T===null||T.tag!==6?(T=Uf(N,M.mode,L),T.return=M,T):(T=s(T,N),T.return=M,T)}function p(M,T,N,L){var z=N.type;return z===Us?x(M,T,N.props.children,L,N.key):T!==null&&(T.elementType===z||typeof z=="object"&&z!==null&&z.$$typeof===fi&&ng(z)===T.type)?(L=s(T,N.props),L.ref=Xo(M,T,N),L.return=M,L):(L=mc(N.type,N.key,N.props,null,M.mode,L),L.ref=Xo(M,T,N),L.return=M,L)}function g(M,T,N,L){return T===null||T.tag!==4||T.stateNode.containerInfo!==N.containerInfo||T.stateNode.implementation!==N.implementation?(T=Hf(N,M.mode,L),T.return=M,T):(T=s(T,N.children||[]),T.return=M,T)}function x(M,T,N,L,z){return T===null||T.tag!==7?(T=us(N,M.mode,L,z),T.return=M,T):(T=s(T,N),T.return=M,T)}function w(M,T,N){if(typeof T=="string"&&T!==""||typeof T=="number")return T=Uf(""+T,M.mode,N),T.return=M,T;if(typeof T=="object"&&T!==null){switch(T.$$typeof){case Il:return N=mc(T.type,T.key,T.props,null,M.mode,N),N.ref=Xo(M,null,T),N.return=M,N;case zs:return T=Hf(T,M.mode,N),T.return=M,T;case fi:var L=T._init;return w(M,L(T._payload),N)}if(na(T)||Uo(T))return T=us(T,M.mode,N,null),T.return=M,T;Fl(M,T)}return null}function E(M,T,N,L){var z=T!==null?T.key:null;if(typeof N=="string"&&N!==""||typeof N=="number")return z!==null?null:h(M,T,""+N,L);if(typeof N=="object"&&N!==null){switch(N.$$typeof){case Il:return N.key===z?p(M,T,N,L):null;case zs:return N.key===z?g(M,T,N,L):null;case fi:return z=N._init,E(M,T,z(N._payload),L)}if(na(N)||Uo(N))return z!==null?null:x(M,T,N,L,null);Fl(M,N)}return null}function S(M,T,N,L,z){if(typeof L=="string"&&L!==""||typeof L=="number")return M=M.get(N)||null,h(T,M,""+L,z);if(typeof L=="object"&&L!==null){switch(L.$$typeof){case Il:return M=M.get(L.key===null?N:L.key)||null,p(T,M,L,z);case zs:return M=M.get(L.key===null?N:L.key)||null,g(T,M,L,z);case fi:var Y=L._init;return S(M,T,N,Y(L._payload),z)}if(na(L)||Uo(L))return M=M.get(N)||null,x(T,M,L,z,null);Fl(T,L)}return null}function v(M,T,N,L){for(var z=null,Y=null,F=T,H=T=0,G=null;F!==null&&H<N.length;H++){F.index>H?(G=F,F=null):G=F.sibling;var re=E(M,F,N[H],L);if(re===null){F===null&&(F=G);break}e&&F&&re.alternate===null&&t(M,F),T=a(re,T,H),Y===null?z=re:Y.sibling=re,Y=re,F=G}if(H===N.length)return n(M,F),ot&&Ji(M,H),z;if(F===null){for(;H<N.length;H++)F=w(M,N[H],L),F!==null&&(T=a(F,T,H),Y===null?z=F:Y.sibling=F,Y=F);return ot&&Ji(M,H),z}for(F=r(M,F);H<N.length;H++)G=S(F,M,H,N[H],L),G!==null&&(e&&G.alternate!==null&&F.delete(G.key===null?H:G.key),T=a(G,T,H),Y===null?z=G:Y.sibling=G,Y=G);return e&&F.forEach(function(oe){return t(M,oe)}),ot&&Ji(M,H),z}function R(M,T,N,L){var z=Uo(N);if(typeof z!="function")throw Error(J(150));if(N=z.call(N),N==null)throw Error(J(151));for(var Y=z=null,F=T,H=T=0,G=null,re=N.next();F!==null&&!re.done;H++,re=N.next()){F.index>H?(G=F,F=null):G=F.sibling;var oe=E(M,F,re.value,L);if(oe===null){F===null&&(F=G);break}e&&F&&oe.alternate===null&&t(M,F),T=a(oe,T,H),Y===null?z=oe:Y.sibling=oe,Y=oe,F=G}if(re.done)return n(M,F),ot&&Ji(M,H),z;if(F===null){for(;!re.done;H++,re=N.next())re=w(M,re.value,L),re!==null&&(T=a(re,T,H),Y===null?z=re:Y.sibling=re,Y=re);return ot&&Ji(M,H),z}for(F=r(M,F);!re.done;H++,re=N.next())re=S(F,M,H,re.value,L),re!==null&&(e&&re.alternate!==null&&F.delete(re.key===null?H:re.key),T=a(re,T,H),Y===null?z=re:Y.sibling=re,Y=re);return e&&F.forEach(function(te){return t(M,te)}),ot&&Ji(M,H),z}function O(M,T,N,L){if(typeof N=="object"&&N!==null&&N.type===Us&&N.key===null&&(N=N.props.children),typeof N=="object"&&N!==null){switch(N.$$typeof){case Il:e:{for(var z=N.key,Y=T;Y!==null;){if(Y.key===z){if(z=N.type,z===Us){if(Y.tag===7){n(M,Y.sibling),T=s(Y,N.props.children),T.return=M,M=T;break e}}else if(Y.elementType===z||typeof z=="object"&&z!==null&&z.$$typeof===fi&&ng(z)===Y.type){n(M,Y.sibling),T=s(Y,N.props),T.ref=Xo(M,Y,N),T.return=M,M=T;break e}n(M,Y);break}else t(M,Y);Y=Y.sibling}N.type===Us?(T=us(N.props.children,M.mode,L,N.key),T.return=M,M=T):(L=mc(N.type,N.key,N.props,null,M.mode,L),L.ref=Xo(M,T,N),L.return=M,M=L)}return c(M);case zs:e:{for(Y=N.key;T!==null;){if(T.key===Y)if(T.tag===4&&T.stateNode.containerInfo===N.containerInfo&&T.stateNode.implementation===N.implementation){n(M,T.sibling),T=s(T,N.children||[]),T.return=M,M=T;break e}else{n(M,T);break}else t(M,T);T=T.sibling}T=Hf(N,M.mode,L),T.return=M,M=T}return c(M);case fi:return Y=N._init,O(M,T,Y(N._payload),L)}if(na(N))return v(M,T,N,L);if(Uo(N))return R(M,T,N,L);Fl(M,N)}return typeof N=="string"&&N!==""||typeof N=="number"?(N=""+N,T!==null&&T.tag===6?(n(M,T.sibling),T=s(T,N),T.return=M,M=T):(n(M,T),T=Uf(N,M.mode,L),T.return=M,M=T),c(M)):n(M,T)}return O}var uo=Vx(!0),Yx=Vx(!1),Pc=Bi(null),Bc=null,Zs=null,$h=null;function Jh(){$h=Zs=Bc=null}function e0(e){var t=Pc.current;it(Pc),e._currentValue=t}function Bd(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function io(e,t){Bc=e,$h=Zs=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(wn=!0),e.firstContext=null)}function er(e){var t=e._currentValue;if($h!==e)if(e={context:e,memoizedValue:t,next:null},Zs===null){if(Bc===null)throw Error(J(308));Zs=e,Bc.dependencies={lanes:0,firstContext:e}}else Zs=Zs.next=e;return t}var is=null;function t0(e){is===null?is=[e]:is.push(e)}function Xx(e,t,n,r){var s=t.interleaved;return s===null?(n.next=n,t0(t)):(n.next=s.next,s.next=n),t.interleaved=n,Zr(e,r)}function Zr(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var di=!1;function n0(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Gx(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Yr(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function vi(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,Le&2){var s=r.pending;return s===null?t.next=t:(t.next=s.next,s.next=t),r.pending=t,Zr(e,n)}return s=r.interleaved,s===null?(t.next=t,t0(r)):(t.next=s.next,s.next=t),r.interleaved=t,Zr(e,n)}function uc(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Uh(e,n)}}function rg(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var s=null,a=null;if(n=n.firstBaseUpdate,n!==null){do{var c={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};a===null?s=a=c:a=a.next=c,n=n.next}while(n!==null);a===null?s=a=t:a=a.next=t}else s=a=t;n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:a,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Fc(e,t,n,r){var s=e.updateQueue;di=!1;var a=s.firstBaseUpdate,c=s.lastBaseUpdate,h=s.shared.pending;if(h!==null){s.shared.pending=null;var p=h,g=p.next;p.next=null,c===null?a=g:c.next=g,c=p;var x=e.alternate;x!==null&&(x=x.updateQueue,h=x.lastBaseUpdate,h!==c&&(h===null?x.firstBaseUpdate=g:h.next=g,x.lastBaseUpdate=p))}if(a!==null){var w=s.baseState;c=0,x=g=p=null,h=a;do{var E=h.lane,S=h.eventTime;if((r&E)===E){x!==null&&(x=x.next={eventTime:S,lane:0,tag:h.tag,payload:h.payload,callback:h.callback,next:null});e:{var v=e,R=h;switch(E=t,S=n,R.tag){case 1:if(v=R.payload,typeof v=="function"){w=v.call(S,w,E);break e}w=v;break e;case 3:v.flags=v.flags&-65537|128;case 0:if(v=R.payload,E=typeof v=="function"?v.call(S,w,E):v,E==null)break e;w=ut({},w,E);break e;case 2:di=!0}}h.callback!==null&&h.lane!==0&&(e.flags|=64,E=s.effects,E===null?s.effects=[h]:E.push(h))}else S={eventTime:S,lane:E,tag:h.tag,payload:h.payload,callback:h.callback,next:null},x===null?(g=x=S,p=w):x=x.next=S,c|=E;if(h=h.next,h===null){if(h=s.shared.pending,h===null)break;E=h,h=E.next,E.next=null,s.lastBaseUpdate=E,s.shared.pending=null}}while(!0);if(x===null&&(p=w),s.baseState=p,s.firstBaseUpdate=g,s.lastBaseUpdate=x,t=s.shared.interleaved,t!==null){s=t;do c|=s.lane,s=s.next;while(s!==t)}else a===null&&(s.shared.lanes=0);ms|=c,e.lanes=c,e.memoizedState=w}}function ig(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],s=r.callback;if(s!==null){if(r.callback=null,r=n,typeof s!="function")throw Error(J(191,s));s.call(r)}}}var il={},Dr=Bi(il),ja=Bi(il),za=Bi(il);function ss(e){if(e===il)throw Error(J(174));return e}function r0(e,t){switch(Je(za,t),Je(ja,e),Je(Dr,il),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:xd(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=xd(t,e)}it(Dr),Je(Dr,t)}function fo(){it(Dr),it(ja),it(za)}function Qx(e){ss(za.current);var t=ss(Dr.current),n=xd(t,e.type);t!==n&&(Je(ja,e),Je(Dr,n))}function i0(e){ja.current===e&&(it(Dr),it(ja))}var lt=Bi(0);function jc(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Lf=[];function s0(){for(var e=0;e<Lf.length;e++)Lf[e]._workInProgressVersionPrimary=null;Lf.length=0}var fc=ei.ReactCurrentDispatcher,Pf=ei.ReactCurrentBatchConfig,ps=0,ct=null,Mt=null,Pt=null,zc=!1,xa=!1,Ua=0,AE=0;function qt(){throw Error(J(321))}function o0(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!gr(e[n],t[n]))return!1;return!0}function a0(e,t,n,r,s,a){if(ps=a,ct=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,fc.current=e===null||e.memoizedState===null?IE:TE,e=n(r,s),xa){a=0;do{if(xa=!1,Ua=0,25<=a)throw Error(J(301));a+=1,Pt=Mt=null,t.updateQueue=null,fc.current=NE,e=n(r,s)}while(xa)}if(fc.current=Uc,t=Mt!==null&&Mt.next!==null,ps=0,Pt=Mt=ct=null,zc=!1,t)throw Error(J(300));return e}function l0(){var e=Ua!==0;return Ua=0,e}function Tr(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Pt===null?ct.memoizedState=Pt=e:Pt=Pt.next=e,Pt}function tr(){if(Mt===null){var e=ct.alternate;e=e!==null?e.memoizedState:null}else e=Mt.next;var t=Pt===null?ct.memoizedState:Pt.next;if(t!==null)Pt=t,Mt=e;else{if(e===null)throw Error(J(310));Mt=e,e={memoizedState:Mt.memoizedState,baseState:Mt.baseState,baseQueue:Mt.baseQueue,queue:Mt.queue,next:null},Pt===null?ct.memoizedState=Pt=e:Pt=Pt.next=e}return Pt}function Ha(e,t){return typeof t=="function"?t(e):t}function Bf(e){var t=tr(),n=t.queue;if(n===null)throw Error(J(311));n.lastRenderedReducer=e;var r=Mt,s=r.baseQueue,a=n.pending;if(a!==null){if(s!==null){var c=s.next;s.next=a.next,a.next=c}r.baseQueue=s=a,n.pending=null}if(s!==null){a=s.next,r=r.baseState;var h=c=null,p=null,g=a;do{var x=g.lane;if((ps&x)===x)p!==null&&(p=p.next={lane:0,action:g.action,hasEagerState:g.hasEagerState,eagerState:g.eagerState,next:null}),r=g.hasEagerState?g.eagerState:e(r,g.action);else{var w={lane:x,action:g.action,hasEagerState:g.hasEagerState,eagerState:g.eagerState,next:null};p===null?(h=p=w,c=r):p=p.next=w,ct.lanes|=x,ms|=x}g=g.next}while(g!==null&&g!==a);p===null?c=r:p.next=h,gr(r,t.memoizedState)||(wn=!0),t.memoizedState=r,t.baseState=c,t.baseQueue=p,n.lastRenderedState=r}if(e=n.interleaved,e!==null){s=e;do a=s.lane,ct.lanes|=a,ms|=a,s=s.next;while(s!==e)}else s===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Ff(e){var t=tr(),n=t.queue;if(n===null)throw Error(J(311));n.lastRenderedReducer=e;var r=n.dispatch,s=n.pending,a=t.memoizedState;if(s!==null){n.pending=null;var c=s=s.next;do a=e(a,c.action),c=c.next;while(c!==s);gr(a,t.memoizedState)||(wn=!0),t.memoizedState=a,t.baseQueue===null&&(t.baseState=a),n.lastRenderedState=a}return[a,r]}function Zx(){}function Kx(e,t){var n=ct,r=tr(),s=t(),a=!gr(r.memoizedState,s);if(a&&(r.memoizedState=s,wn=!0),r=r.queue,c0(Jx.bind(null,n,r,e),[e]),r.getSnapshot!==t||a||Pt!==null&&Pt.memoizedState.tag&1){if(n.flags|=2048,Wa(9,$x.bind(null,n,r,s,t),void 0,null),Bt===null)throw Error(J(349));ps&30||qx(n,t,s)}return s}function qx(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=ct.updateQueue,t===null?(t={lastEffect:null,stores:null},ct.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function $x(e,t,n,r){t.value=n,t.getSnapshot=r,e2(t)&&t2(e)}function Jx(e,t,n){return n(function(){e2(t)&&t2(e)})}function e2(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!gr(e,n)}catch{return!0}}function t2(e){var t=Zr(e,1);t!==null&&dr(t,e,1,-1)}function sg(e){var t=Tr();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ha,lastRenderedState:e},t.queue=e,e=e.dispatch=_E.bind(null,ct,e),[t.memoizedState,e]}function Wa(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=ct.updateQueue,t===null?(t={lastEffect:null,stores:null},ct.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function n2(){return tr().memoizedState}function dc(e,t,n,r){var s=Tr();ct.flags|=e,s.memoizedState=Wa(1|t,n,void 0,r===void 0?null:r)}function Su(e,t,n,r){var s=tr();r=r===void 0?null:r;var a=void 0;if(Mt!==null){var c=Mt.memoizedState;if(a=c.destroy,r!==null&&o0(r,c.deps)){s.memoizedState=Wa(t,n,a,r);return}}ct.flags|=e,s.memoizedState=Wa(1|t,n,a,r)}function og(e,t){return dc(8390656,8,e,t)}function c0(e,t){return Su(2048,8,e,t)}function r2(e,t){return Su(4,2,e,t)}function i2(e,t){return Su(4,4,e,t)}function s2(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function o2(e,t,n){return n=n!=null?n.concat([e]):null,Su(4,4,s2.bind(null,t,e),n)}function u0(){}function a2(e,t){var n=tr();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&o0(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function l2(e,t){var n=tr();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&o0(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function c2(e,t,n){return ps&21?(gr(n,t)||(n=gx(),ct.lanes|=n,ms|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,wn=!0),e.memoizedState=n)}function SE(e,t){var n=Ye;Ye=n!==0&&4>n?n:4,e(!0);var r=Pf.transition;Pf.transition={};try{e(!1),t()}finally{Ye=n,Pf.transition=r}}function u2(){return tr().memoizedState}function vE(e,t,n){var r=Ii(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},f2(e))d2(t,n);else if(n=Xx(e,t,n,r),n!==null){var s=an();dr(n,e,r,s),h2(n,t,r)}}function _E(e,t,n){var r=Ii(e),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(f2(e))d2(t,s);else{var a=e.alternate;if(e.lanes===0&&(a===null||a.lanes===0)&&(a=t.lastRenderedReducer,a!==null))try{var c=t.lastRenderedState,h=a(c,n);if(s.hasEagerState=!0,s.eagerState=h,gr(h,c)){var p=t.interleaved;p===null?(s.next=s,t0(t)):(s.next=p.next,p.next=s),t.interleaved=s;return}}catch{}finally{}n=Xx(e,t,s,r),n!==null&&(s=an(),dr(n,e,r,s),h2(n,t,r))}}function f2(e){var t=e.alternate;return e===ct||t!==null&&t===ct}function d2(e,t){xa=zc=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function h2(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Uh(e,n)}}var Uc={readContext:er,useCallback:qt,useContext:qt,useEffect:qt,useImperativeHandle:qt,useInsertionEffect:qt,useLayoutEffect:qt,useMemo:qt,useReducer:qt,useRef:qt,useState:qt,useDebugValue:qt,useDeferredValue:qt,useTransition:qt,useMutableSource:qt,useSyncExternalStore:qt,useId:qt,unstable_isNewReconciler:!1},IE={readContext:er,useCallback:function(e,t){return Tr().memoizedState=[e,t===void 0?null:t],e},useContext:er,useEffect:og,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,dc(4194308,4,s2.bind(null,t,e),n)},useLayoutEffect:function(e,t){return dc(4194308,4,e,t)},useInsertionEffect:function(e,t){return dc(4,2,e,t)},useMemo:function(e,t){var n=Tr();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=Tr();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=vE.bind(null,ct,e),[r.memoizedState,e]},useRef:function(e){var t=Tr();return e={current:e},t.memoizedState=e},useState:sg,useDebugValue:u0,useDeferredValue:function(e){return Tr().memoizedState=e},useTransition:function(){var e=sg(!1),t=e[0];return e=SE.bind(null,e[1]),Tr().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=ct,s=Tr();if(ot){if(n===void 0)throw Error(J(407));n=n()}else{if(n=t(),Bt===null)throw Error(J(349));ps&30||qx(r,t,n)}s.memoizedState=n;var a={value:n,getSnapshot:t};return s.queue=a,og(Jx.bind(null,r,a,e),[e]),r.flags|=2048,Wa(9,$x.bind(null,r,a,n,t),void 0,null),n},useId:function(){var e=Tr(),t=Bt.identifierPrefix;if(ot){var n=Wr,r=Hr;n=(r&~(1<<32-fr(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=Ua++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=AE++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},TE={readContext:er,useCallback:a2,useContext:er,useEffect:c0,useImperativeHandle:o2,useInsertionEffect:r2,useLayoutEffect:i2,useMemo:l2,useReducer:Bf,useRef:n2,useState:function(){return Bf(Ha)},useDebugValue:u0,useDeferredValue:function(e){var t=tr();return c2(t,Mt.memoizedState,e)},useTransition:function(){var e=Bf(Ha)[0],t=tr().memoizedState;return[e,t]},useMutableSource:Zx,useSyncExternalStore:Kx,useId:u2,unstable_isNewReconciler:!1},NE={readContext:er,useCallback:a2,useContext:er,useEffect:c0,useImperativeHandle:o2,useInsertionEffect:r2,useLayoutEffect:i2,useMemo:l2,useReducer:Ff,useRef:n2,useState:function(){return Ff(Ha)},useDebugValue:u0,useDeferredValue:function(e){var t=tr();return Mt===null?t.memoizedState=e:c2(t,Mt.memoizedState,e)},useTransition:function(){var e=Ff(Ha)[0],t=tr().memoizedState;return[e,t]},useMutableSource:Zx,useSyncExternalStore:Kx,useId:u2,unstable_isNewReconciler:!1};function or(e,t){if(e&&e.defaultProps){t=ut({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function Fd(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:ut({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var vu={isMounted:function(e){return(e=e._reactInternals)?vs(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=an(),s=Ii(e),a=Yr(r,s);a.payload=t,n!=null&&(a.callback=n),t=vi(e,a,s),t!==null&&(dr(t,e,s,r),uc(t,e,s))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=an(),s=Ii(e),a=Yr(r,s);a.tag=1,a.payload=t,n!=null&&(a.callback=n),t=vi(e,a,s),t!==null&&(dr(t,e,s,r),uc(t,e,s))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=an(),r=Ii(e),s=Yr(n,r);s.tag=2,t!=null&&(s.callback=t),t=vi(e,s,r),t!==null&&(dr(t,e,r,n),uc(t,e,r))}};function ag(e,t,n,r,s,a,c){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,a,c):t.prototype&&t.prototype.isPureReactComponent?!La(n,r)||!La(s,a):!0}function g2(e,t,n){var r=!1,s=Oi,a=t.contextType;return typeof a=="object"&&a!==null?a=er(a):(s=bn(t)?hs:nn.current,r=t.contextTypes,a=(r=r!=null)?lo(e,s):Oi),t=new t(n,a),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=vu,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=s,e.__reactInternalMemoizedMaskedChildContext=a),t}function lg(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&vu.enqueueReplaceState(t,t.state,null)}function jd(e,t,n,r){var s=e.stateNode;s.props=n,s.state=e.memoizedState,s.refs={},n0(e);var a=t.contextType;typeof a=="object"&&a!==null?s.context=er(a):(a=bn(t)?hs:nn.current,s.context=lo(e,a)),s.state=e.memoizedState,a=t.getDerivedStateFromProps,typeof a=="function"&&(Fd(e,t,a,n),s.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(t=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),t!==s.state&&vu.enqueueReplaceState(s,s.state,null),Fc(e,n,s,r),s.state=e.memoizedState),typeof s.componentDidMount=="function"&&(e.flags|=4194308)}function ho(e,t){try{var n="",r=t;do n+=r3(r),r=r.return;while(r);var s=n}catch(a){s=`
Error generating stack: `+a.message+`
`+a.stack}return{value:e,source:t,stack:s,digest:null}}function jf(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function zd(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var ME=typeof WeakMap=="function"?WeakMap:Map;function p2(e,t,n){n=Yr(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Wc||(Wc=!0,Kd=r),zd(e,t)},n}function m2(e,t,n){n=Yr(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var s=t.value;n.payload=function(){return r(s)},n.callback=function(){zd(e,t)}}var a=e.stateNode;return a!==null&&typeof a.componentDidCatch=="function"&&(n.callback=function(){zd(e,t),typeof r!="function"&&(_i===null?_i=new Set([this]):_i.add(this));var c=t.stack;this.componentDidCatch(t.value,{componentStack:c!==null?c:""})}),n}function cg(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new ME;var s=new Set;r.set(t,s)}else s=r.get(t),s===void 0&&(s=new Set,r.set(t,s));s.has(n)||(s.add(n),e=VE.bind(null,e,t,n),t.then(e,e))}function ug(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function fg(e,t,n,r,s){return e.mode&1?(e.flags|=65536,e.lanes=s,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=Yr(-1,1),t.tag=2,vi(n,t,1))),n.lanes|=1),e)}var RE=ei.ReactCurrentOwner,wn=!1;function on(e,t,n,r){t.child=e===null?Yx(t,null,n,r):uo(t,e.child,n,r)}function dg(e,t,n,r,s){n=n.render;var a=t.ref;return io(t,s),r=a0(e,t,n,r,a,s),n=l0(),e!==null&&!wn?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,Kr(e,t,s)):(ot&&n&&Zh(t),t.flags|=1,on(e,t,r,s),t.child)}function hg(e,t,n,r,s){if(e===null){var a=n.type;return typeof a=="function"&&!y0(a)&&a.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=a,x2(e,t,a,r,s)):(e=mc(n.type,null,r,t,t.mode,s),e.ref=t.ref,e.return=t,t.child=e)}if(a=e.child,!(e.lanes&s)){var c=a.memoizedProps;if(n=n.compare,n=n!==null?n:La,n(c,r)&&e.ref===t.ref)return Kr(e,t,s)}return t.flags|=1,e=Ti(a,r),e.ref=t.ref,e.return=t,t.child=e}function x2(e,t,n,r,s){if(e!==null){var a=e.memoizedProps;if(La(a,r)&&e.ref===t.ref)if(wn=!1,t.pendingProps=r=a,(e.lanes&s)!==0)e.flags&131072&&(wn=!0);else return t.lanes=e.lanes,Kr(e,t,s)}return Ud(e,t,n,r,s)}function y2(e,t,n){var r=t.pendingProps,s=r.children,a=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Je(qs,Mn),Mn|=n;else{if(!(n&1073741824))return e=a!==null?a.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Je(qs,Mn),Mn|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=a!==null?a.baseLanes:n,Je(qs,Mn),Mn|=r}else a!==null?(r=a.baseLanes|n,t.memoizedState=null):r=n,Je(qs,Mn),Mn|=r;return on(e,t,s,n),t.child}function w2(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Ud(e,t,n,r,s){var a=bn(n)?hs:nn.current;return a=lo(t,a),io(t,s),n=a0(e,t,n,r,a,s),r=l0(),e!==null&&!wn?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,Kr(e,t,s)):(ot&&r&&Zh(t),t.flags|=1,on(e,t,n,s),t.child)}function gg(e,t,n,r,s){if(bn(n)){var a=!0;Dc(t)}else a=!1;if(io(t,s),t.stateNode===null)hc(e,t),g2(t,n,r),jd(t,n,r,s),r=!0;else if(e===null){var c=t.stateNode,h=t.memoizedProps;c.props=h;var p=c.context,g=n.contextType;typeof g=="object"&&g!==null?g=er(g):(g=bn(n)?hs:nn.current,g=lo(t,g));var x=n.getDerivedStateFromProps,w=typeof x=="function"||typeof c.getSnapshotBeforeUpdate=="function";w||typeof c.UNSAFE_componentWillReceiveProps!="function"&&typeof c.componentWillReceiveProps!="function"||(h!==r||p!==g)&&lg(t,c,r,g),di=!1;var E=t.memoizedState;c.state=E,Fc(t,r,c,s),p=t.memoizedState,h!==r||E!==p||En.current||di?(typeof x=="function"&&(Fd(t,n,x,r),p=t.memoizedState),(h=di||ag(t,n,h,r,E,p,g))?(w||typeof c.UNSAFE_componentWillMount!="function"&&typeof c.componentWillMount!="function"||(typeof c.componentWillMount=="function"&&c.componentWillMount(),typeof c.UNSAFE_componentWillMount=="function"&&c.UNSAFE_componentWillMount()),typeof c.componentDidMount=="function"&&(t.flags|=4194308)):(typeof c.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=p),c.props=r,c.state=p,c.context=g,r=h):(typeof c.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{c=t.stateNode,Gx(e,t),h=t.memoizedProps,g=t.type===t.elementType?h:or(t.type,h),c.props=g,w=t.pendingProps,E=c.context,p=n.contextType,typeof p=="object"&&p!==null?p=er(p):(p=bn(n)?hs:nn.current,p=lo(t,p));var S=n.getDerivedStateFromProps;(x=typeof S=="function"||typeof c.getSnapshotBeforeUpdate=="function")||typeof c.UNSAFE_componentWillReceiveProps!="function"&&typeof c.componentWillReceiveProps!="function"||(h!==w||E!==p)&&lg(t,c,r,p),di=!1,E=t.memoizedState,c.state=E,Fc(t,r,c,s);var v=t.memoizedState;h!==w||E!==v||En.current||di?(typeof S=="function"&&(Fd(t,n,S,r),v=t.memoizedState),(g=di||ag(t,n,g,r,E,v,p)||!1)?(x||typeof c.UNSAFE_componentWillUpdate!="function"&&typeof c.componentWillUpdate!="function"||(typeof c.componentWillUpdate=="function"&&c.componentWillUpdate(r,v,p),typeof c.UNSAFE_componentWillUpdate=="function"&&c.UNSAFE_componentWillUpdate(r,v,p)),typeof c.componentDidUpdate=="function"&&(t.flags|=4),typeof c.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof c.componentDidUpdate!="function"||h===e.memoizedProps&&E===e.memoizedState||(t.flags|=4),typeof c.getSnapshotBeforeUpdate!="function"||h===e.memoizedProps&&E===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=v),c.props=r,c.state=v,c.context=p,r=g):(typeof c.componentDidUpdate!="function"||h===e.memoizedProps&&E===e.memoizedState||(t.flags|=4),typeof c.getSnapshotBeforeUpdate!="function"||h===e.memoizedProps&&E===e.memoizedState||(t.flags|=1024),r=!1)}return Hd(e,t,n,r,a,s)}function Hd(e,t,n,r,s,a){w2(e,t);var c=(t.flags&128)!==0;if(!r&&!c)return s&&J1(t,n,!1),Kr(e,t,a);r=t.stateNode,RE.current=t;var h=c&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&c?(t.child=uo(t,e.child,null,a),t.child=uo(t,null,h,a)):on(e,t,h,a),t.memoizedState=r.state,s&&J1(t,n,!0),t.child}function C2(e){var t=e.stateNode;t.pendingContext?$1(e,t.pendingContext,t.pendingContext!==t.context):t.context&&$1(e,t.context,!1),r0(e,t.containerInfo)}function pg(e,t,n,r,s){return co(),qh(s),t.flags|=256,on(e,t,n,r),t.child}var Wd={dehydrated:null,treeContext:null,retryLane:0};function Vd(e){return{baseLanes:e,cachePool:null,transitions:null}}function E2(e,t,n){var r=t.pendingProps,s=lt.current,a=!1,c=(t.flags&128)!==0,h;if((h=c)||(h=e!==null&&e.memoizedState===null?!1:(s&2)!==0),h?(a=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(s|=1),Je(lt,s&1),e===null)return Pd(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(c=r.children,e=r.fallback,a?(r=t.mode,a=t.child,c={mode:"hidden",children:c},!(r&1)&&a!==null?(a.childLanes=0,a.pendingProps=c):a=Tu(c,r,0,null),e=us(e,r,n,null),a.return=t,e.return=t,a.sibling=e,t.child=a,t.child.memoizedState=Vd(n),t.memoizedState=Wd,e):f0(t,c));if(s=e.memoizedState,s!==null&&(h=s.dehydrated,h!==null))return OE(e,t,c,r,h,s,n);if(a){a=r.fallback,c=t.mode,s=e.child,h=s.sibling;var p={mode:"hidden",children:r.children};return!(c&1)&&t.child!==s?(r=t.child,r.childLanes=0,r.pendingProps=p,t.deletions=null):(r=Ti(s,p),r.subtreeFlags=s.subtreeFlags&14680064),h!==null?a=Ti(h,a):(a=us(a,c,n,null),a.flags|=2),a.return=t,r.return=t,r.sibling=a,t.child=r,r=a,a=t.child,c=e.child.memoizedState,c=c===null?Vd(n):{baseLanes:c.baseLanes|n,cachePool:null,transitions:c.transitions},a.memoizedState=c,a.childLanes=e.childLanes&~n,t.memoizedState=Wd,r}return a=e.child,e=a.sibling,r=Ti(a,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function f0(e,t){return t=Tu({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function jl(e,t,n,r){return r!==null&&qh(r),uo(t,e.child,null,n),e=f0(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function OE(e,t,n,r,s,a,c){if(n)return t.flags&256?(t.flags&=-257,r=jf(Error(J(422))),jl(e,t,c,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(a=r.fallback,s=t.mode,r=Tu({mode:"visible",children:r.children},s,0,null),a=us(a,s,c,null),a.flags|=2,r.return=t,a.return=t,r.sibling=a,t.child=r,t.mode&1&&uo(t,e.child,null,c),t.child.memoizedState=Vd(c),t.memoizedState=Wd,a);if(!(t.mode&1))return jl(e,t,c,null);if(s.data==="$!"){if(r=s.nextSibling&&s.nextSibling.dataset,r)var h=r.dgst;return r=h,a=Error(J(419)),r=jf(a,r,void 0),jl(e,t,c,r)}if(h=(c&e.childLanes)!==0,wn||h){if(r=Bt,r!==null){switch(c&-c){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(r.suspendedLanes|c)?0:s,s!==0&&s!==a.retryLane&&(a.retryLane=s,Zr(e,s),dr(r,e,s,-1))}return x0(),r=jf(Error(J(421))),jl(e,t,c,r)}return s.data==="$?"?(t.flags|=128,t.child=e.child,t=YE.bind(null,e),s._reactRetry=t,null):(e=a.treeContext,On=Si(s.nextSibling),Dn=t,ot=!0,cr=null,e!==null&&(Xn[Gn++]=Hr,Xn[Gn++]=Wr,Xn[Gn++]=gs,Hr=e.id,Wr=e.overflow,gs=t),t=f0(t,r.children),t.flags|=4096,t)}function mg(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),Bd(e.return,t,n)}function zf(e,t,n,r,s){var a=e.memoizedState;a===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=r,a.tail=n,a.tailMode=s)}function b2(e,t,n){var r=t.pendingProps,s=r.revealOrder,a=r.tail;if(on(e,t,r.children,n),r=lt.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&mg(e,n,t);else if(e.tag===19)mg(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Je(lt,r),!(t.mode&1))t.memoizedState=null;else switch(s){case"forwards":for(n=t.child,s=null;n!==null;)e=n.alternate,e!==null&&jc(e)===null&&(s=n),n=n.sibling;n=s,n===null?(s=t.child,t.child=null):(s=n.sibling,n.sibling=null),zf(t,!1,s,n,a);break;case"backwards":for(n=null,s=t.child,t.child=null;s!==null;){if(e=s.alternate,e!==null&&jc(e)===null){t.child=s;break}e=s.sibling,s.sibling=n,n=s,s=e}zf(t,!0,n,null,a);break;case"together":zf(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function hc(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Kr(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),ms|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(J(153));if(t.child!==null){for(e=t.child,n=Ti(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=Ti(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function DE(e,t,n){switch(t.tag){case 3:C2(t),co();break;case 5:Qx(t);break;case 1:bn(t.type)&&Dc(t);break;case 4:r0(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,s=t.memoizedProps.value;Je(Pc,r._currentValue),r._currentValue=s;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(Je(lt,lt.current&1),t.flags|=128,null):n&t.child.childLanes?E2(e,t,n):(Je(lt,lt.current&1),e=Kr(e,t,n),e!==null?e.sibling:null);Je(lt,lt.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return b2(e,t,n);t.flags|=128}if(s=t.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),Je(lt,lt.current),r)break;return null;case 22:case 23:return t.lanes=0,y2(e,t,n)}return Kr(e,t,n)}var A2,Yd,S2,v2;A2=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Yd=function(){};S2=function(e,t,n,r){var s=e.memoizedProps;if(s!==r){e=t.stateNode,ss(Dr.current);var a=null;switch(n){case"input":s=hd(e,s),r=hd(e,r),a=[];break;case"select":s=ut({},s,{value:void 0}),r=ut({},r,{value:void 0}),a=[];break;case"textarea":s=md(e,s),r=md(e,r),a=[];break;default:typeof s.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=Rc)}yd(n,r);var c;n=null;for(g in s)if(!r.hasOwnProperty(g)&&s.hasOwnProperty(g)&&s[g]!=null)if(g==="style"){var h=s[g];for(c in h)h.hasOwnProperty(c)&&(n||(n={}),n[c]="")}else g!=="dangerouslySetInnerHTML"&&g!=="children"&&g!=="suppressContentEditableWarning"&&g!=="suppressHydrationWarning"&&g!=="autoFocus"&&(Ta.hasOwnProperty(g)?a||(a=[]):(a=a||[]).push(g,null));for(g in r){var p=r[g];if(h=s!=null?s[g]:void 0,r.hasOwnProperty(g)&&p!==h&&(p!=null||h!=null))if(g==="style")if(h){for(c in h)!h.hasOwnProperty(c)||p&&p.hasOwnProperty(c)||(n||(n={}),n[c]="");for(c in p)p.hasOwnProperty(c)&&h[c]!==p[c]&&(n||(n={}),n[c]=p[c])}else n||(a||(a=[]),a.push(g,n)),n=p;else g==="dangerouslySetInnerHTML"?(p=p?p.__html:void 0,h=h?h.__html:void 0,p!=null&&h!==p&&(a=a||[]).push(g,p)):g==="children"?typeof p!="string"&&typeof p!="number"||(a=a||[]).push(g,""+p):g!=="suppressContentEditableWarning"&&g!=="suppressHydrationWarning"&&(Ta.hasOwnProperty(g)?(p!=null&&g==="onScroll"&&tt("scroll",e),a||h===p||(a=[])):(a=a||[]).push(g,p))}n&&(a=a||[]).push("style",n);var g=a;(t.updateQueue=g)&&(t.flags|=4)}};v2=function(e,t,n,r){n!==r&&(t.flags|=4)};function Go(e,t){if(!ot)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function $t(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var s=e.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags&14680064,r|=s.flags&14680064,s.return=e,s=s.sibling;else for(s=e.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=e,s=s.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function kE(e,t,n){var r=t.pendingProps;switch(Kh(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return $t(t),null;case 1:return bn(t.type)&&Oc(),$t(t),null;case 3:return r=t.stateNode,fo(),it(En),it(nn),s0(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(Bl(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,cr!==null&&(Jd(cr),cr=null))),Yd(e,t),$t(t),null;case 5:i0(t);var s=ss(za.current);if(n=t.type,e!==null&&t.stateNode!=null)S2(e,t,n,r,s),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(J(166));return $t(t),null}if(e=ss(Dr.current),Bl(t)){r=t.stateNode,n=t.type;var a=t.memoizedProps;switch(r[Rr]=t,r[Fa]=a,e=(t.mode&1)!==0,n){case"dialog":tt("cancel",r),tt("close",r);break;case"iframe":case"object":case"embed":tt("load",r);break;case"video":case"audio":for(s=0;s<ia.length;s++)tt(ia[s],r);break;case"source":tt("error",r);break;case"img":case"image":case"link":tt("error",r),tt("load",r);break;case"details":tt("toggle",r);break;case"input":v1(r,a),tt("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!a.multiple},tt("invalid",r);break;case"textarea":I1(r,a),tt("invalid",r)}yd(n,a),s=null;for(var c in a)if(a.hasOwnProperty(c)){var h=a[c];c==="children"?typeof h=="string"?r.textContent!==h&&(a.suppressHydrationWarning!==!0&&Pl(r.textContent,h,e),s=["children",h]):typeof h=="number"&&r.textContent!==""+h&&(a.suppressHydrationWarning!==!0&&Pl(r.textContent,h,e),s=["children",""+h]):Ta.hasOwnProperty(c)&&h!=null&&c==="onScroll"&&tt("scroll",r)}switch(n){case"input":Tl(r),_1(r,a,!0);break;case"textarea":Tl(r),T1(r);break;case"select":case"option":break;default:typeof a.onClick=="function"&&(r.onclick=Rc)}r=s,t.updateQueue=r,r!==null&&(t.flags|=4)}else{c=s.nodeType===9?s:s.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=Jm(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=c.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=c.createElement(n,{is:r.is}):(e=c.createElement(n),n==="select"&&(c=e,r.multiple?c.multiple=!0:r.size&&(c.size=r.size))):e=c.createElementNS(e,n),e[Rr]=t,e[Fa]=r,A2(e,t,!1,!1),t.stateNode=e;e:{switch(c=wd(n,r),n){case"dialog":tt("cancel",e),tt("close",e),s=r;break;case"iframe":case"object":case"embed":tt("load",e),s=r;break;case"video":case"audio":for(s=0;s<ia.length;s++)tt(ia[s],e);s=r;break;case"source":tt("error",e),s=r;break;case"img":case"image":case"link":tt("error",e),tt("load",e),s=r;break;case"details":tt("toggle",e),s=r;break;case"input":v1(e,r),s=hd(e,r),tt("invalid",e);break;case"option":s=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},s=ut({},r,{value:void 0}),tt("invalid",e);break;case"textarea":I1(e,r),s=md(e,r),tt("invalid",e);break;default:s=r}yd(n,s),h=s;for(a in h)if(h.hasOwnProperty(a)){var p=h[a];a==="style"?nx(e,p):a==="dangerouslySetInnerHTML"?(p=p?p.__html:void 0,p!=null&&ex(e,p)):a==="children"?typeof p=="string"?(n!=="textarea"||p!=="")&&Na(e,p):typeof p=="number"&&Na(e,""+p):a!=="suppressContentEditableWarning"&&a!=="suppressHydrationWarning"&&a!=="autoFocus"&&(Ta.hasOwnProperty(a)?p!=null&&a==="onScroll"&&tt("scroll",e):p!=null&&Lh(e,a,p,c))}switch(n){case"input":Tl(e),_1(e,r,!1);break;case"textarea":Tl(e),T1(e);break;case"option":r.value!=null&&e.setAttribute("value",""+Ri(r.value));break;case"select":e.multiple=!!r.multiple,a=r.value,a!=null?eo(e,!!r.multiple,a,!1):r.defaultValue!=null&&eo(e,!!r.multiple,r.defaultValue,!0);break;default:typeof s.onClick=="function"&&(e.onclick=Rc)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return $t(t),null;case 6:if(e&&t.stateNode!=null)v2(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(J(166));if(n=ss(za.current),ss(Dr.current),Bl(t)){if(r=t.stateNode,n=t.memoizedProps,r[Rr]=t,(a=r.nodeValue!==n)&&(e=Dn,e!==null))switch(e.tag){case 3:Pl(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Pl(r.nodeValue,n,(e.mode&1)!==0)}a&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Rr]=t,t.stateNode=r}return $t(t),null;case 13:if(it(lt),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(ot&&On!==null&&t.mode&1&&!(t.flags&128))Wx(),co(),t.flags|=98560,a=!1;else if(a=Bl(t),r!==null&&r.dehydrated!==null){if(e===null){if(!a)throw Error(J(318));if(a=t.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(J(317));a[Rr]=t}else co(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;$t(t),a=!1}else cr!==null&&(Jd(cr),cr=null),a=!0;if(!a)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||lt.current&1?Rt===0&&(Rt=3):x0())),t.updateQueue!==null&&(t.flags|=4),$t(t),null);case 4:return fo(),Yd(e,t),e===null&&Pa(t.stateNode.containerInfo),$t(t),null;case 10:return e0(t.type._context),$t(t),null;case 17:return bn(t.type)&&Oc(),$t(t),null;case 19:if(it(lt),a=t.memoizedState,a===null)return $t(t),null;if(r=(t.flags&128)!==0,c=a.rendering,c===null)if(r)Go(a,!1);else{if(Rt!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(c=jc(e),c!==null){for(t.flags|=128,Go(a,!1),r=c.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)a=n,e=r,a.flags&=14680066,c=a.alternate,c===null?(a.childLanes=0,a.lanes=e,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=c.childLanes,a.lanes=c.lanes,a.child=c.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=c.memoizedProps,a.memoizedState=c.memoizedState,a.updateQueue=c.updateQueue,a.type=c.type,e=c.dependencies,a.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Je(lt,lt.current&1|2),t.child}e=e.sibling}a.tail!==null&&Ct()>go&&(t.flags|=128,r=!0,Go(a,!1),t.lanes=4194304)}else{if(!r)if(e=jc(c),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),Go(a,!0),a.tail===null&&a.tailMode==="hidden"&&!c.alternate&&!ot)return $t(t),null}else 2*Ct()-a.renderingStartTime>go&&n!==1073741824&&(t.flags|=128,r=!0,Go(a,!1),t.lanes=4194304);a.isBackwards?(c.sibling=t.child,t.child=c):(n=a.last,n!==null?n.sibling=c:t.child=c,a.last=c)}return a.tail!==null?(t=a.tail,a.rendering=t,a.tail=t.sibling,a.renderingStartTime=Ct(),t.sibling=null,n=lt.current,Je(lt,r?n&1|2:n&1),t):($t(t),null);case 22:case 23:return m0(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?Mn&1073741824&&($t(t),t.subtreeFlags&6&&(t.flags|=8192)):$t(t),null;case 24:return null;case 25:return null}throw Error(J(156,t.tag))}function LE(e,t){switch(Kh(t),t.tag){case 1:return bn(t.type)&&Oc(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return fo(),it(En),it(nn),s0(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return i0(t),null;case 13:if(it(lt),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(J(340));co()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return it(lt),null;case 4:return fo(),null;case 10:return e0(t.type._context),null;case 22:case 23:return m0(),null;case 24:return null;default:return null}}var zl=!1,Jt=!1,PE=typeof WeakSet=="function"?WeakSet:Set,de=null;function Ks(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){xt(e,t,r)}else n.current=null}function Xd(e,t,n){try{n()}catch(r){xt(e,t,r)}}var xg=!1;function BE(e,t){if(Nd=Tc,e=Mx(),Qh(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var s=r.anchorOffset,a=r.focusNode;r=r.focusOffset;try{n.nodeType,a.nodeType}catch{n=null;break e}var c=0,h=-1,p=-1,g=0,x=0,w=e,E=null;t:for(;;){for(var S;w!==n||s!==0&&w.nodeType!==3||(h=c+s),w!==a||r!==0&&w.nodeType!==3||(p=c+r),w.nodeType===3&&(c+=w.nodeValue.length),(S=w.firstChild)!==null;)E=w,w=S;for(;;){if(w===e)break t;if(E===n&&++g===s&&(h=c),E===a&&++x===r&&(p=c),(S=w.nextSibling)!==null)break;w=E,E=w.parentNode}w=S}n=h===-1||p===-1?null:{start:h,end:p}}else n=null}n=n||{start:0,end:0}}else n=null;for(Md={focusedElem:e,selectionRange:n},Tc=!1,de=t;de!==null;)if(t=de,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,de=e;else for(;de!==null;){t=de;try{var v=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(v!==null){var R=v.memoizedProps,O=v.memoizedState,M=t.stateNode,T=M.getSnapshotBeforeUpdate(t.elementType===t.type?R:or(t.type,R),O);M.__reactInternalSnapshotBeforeUpdate=T}break;case 3:var N=t.stateNode.containerInfo;N.nodeType===1?N.textContent="":N.nodeType===9&&N.documentElement&&N.removeChild(N.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(J(163))}}catch(L){xt(t,t.return,L)}if(e=t.sibling,e!==null){e.return=t.return,de=e;break}de=t.return}return v=xg,xg=!1,v}function ya(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&e)===e){var a=s.destroy;s.destroy=void 0,a!==void 0&&Xd(t,n,a)}s=s.next}while(s!==r)}}function _u(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function Gd(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function _2(e){var t=e.alternate;t!==null&&(e.alternate=null,_2(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Rr],delete t[Fa],delete t[Dd],delete t[wE],delete t[CE])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function I2(e){return e.tag===5||e.tag===3||e.tag===4}function yg(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||I2(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Qd(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=Rc));else if(r!==4&&(e=e.child,e!==null))for(Qd(e,t,n),e=e.sibling;e!==null;)Qd(e,t,n),e=e.sibling}function Zd(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(Zd(e,t,n),e=e.sibling;e!==null;)Zd(e,t,n),e=e.sibling}var Vt=null,ar=!1;function ci(e,t,n){for(n=n.child;n!==null;)T2(e,t,n),n=n.sibling}function T2(e,t,n){if(Or&&typeof Or.onCommitFiberUnmount=="function")try{Or.onCommitFiberUnmount(yu,n)}catch{}switch(n.tag){case 5:Jt||Ks(n,t);case 6:var r=Vt,s=ar;Vt=null,ci(e,t,n),Vt=r,ar=s,Vt!==null&&(ar?(e=Vt,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):Vt.removeChild(n.stateNode));break;case 18:Vt!==null&&(ar?(e=Vt,n=n.stateNode,e.nodeType===8?Df(e.parentNode,n):e.nodeType===1&&Df(e,n),Da(e)):Df(Vt,n.stateNode));break;case 4:r=Vt,s=ar,Vt=n.stateNode.containerInfo,ar=!0,ci(e,t,n),Vt=r,ar=s;break;case 0:case 11:case 14:case 15:if(!Jt&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){s=r=r.next;do{var a=s,c=a.destroy;a=a.tag,c!==void 0&&(a&2||a&4)&&Xd(n,t,c),s=s.next}while(s!==r)}ci(e,t,n);break;case 1:if(!Jt&&(Ks(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(h){xt(n,t,h)}ci(e,t,n);break;case 21:ci(e,t,n);break;case 22:n.mode&1?(Jt=(r=Jt)||n.memoizedState!==null,ci(e,t,n),Jt=r):ci(e,t,n);break;default:ci(e,t,n)}}function wg(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new PE),t.forEach(function(r){var s=XE.bind(null,e,r);n.has(r)||(n.add(r),r.then(s,s))})}}function sr(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var s=n[r];try{var a=e,c=t,h=c;e:for(;h!==null;){switch(h.tag){case 5:Vt=h.stateNode,ar=!1;break e;case 3:Vt=h.stateNode.containerInfo,ar=!0;break e;case 4:Vt=h.stateNode.containerInfo,ar=!0;break e}h=h.return}if(Vt===null)throw Error(J(160));T2(a,c,s),Vt=null,ar=!1;var p=s.alternate;p!==null&&(p.return=null),s.return=null}catch(g){xt(s,t,g)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)N2(t,e),t=t.sibling}function N2(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(sr(t,e),Sr(e),r&4){try{ya(3,e,e.return),_u(3,e)}catch(R){xt(e,e.return,R)}try{ya(5,e,e.return)}catch(R){xt(e,e.return,R)}}break;case 1:sr(t,e),Sr(e),r&512&&n!==null&&Ks(n,n.return);break;case 5:if(sr(t,e),Sr(e),r&512&&n!==null&&Ks(n,n.return),e.flags&32){var s=e.stateNode;try{Na(s,"")}catch(R){xt(e,e.return,R)}}if(r&4&&(s=e.stateNode,s!=null)){var a=e.memoizedProps,c=n!==null?n.memoizedProps:a,h=e.type,p=e.updateQueue;if(e.updateQueue=null,p!==null)try{h==="input"&&a.type==="radio"&&a.name!=null&&qm(s,a),wd(h,c);var g=wd(h,a);for(c=0;c<p.length;c+=2){var x=p[c],w=p[c+1];x==="style"?nx(s,w):x==="dangerouslySetInnerHTML"?ex(s,w):x==="children"?Na(s,w):Lh(s,x,w,g)}switch(h){case"input":gd(s,a);break;case"textarea":$m(s,a);break;case"select":var E=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!a.multiple;var S=a.value;S!=null?eo(s,!!a.multiple,S,!1):E!==!!a.multiple&&(a.defaultValue!=null?eo(s,!!a.multiple,a.defaultValue,!0):eo(s,!!a.multiple,a.multiple?[]:"",!1))}s[Fa]=a}catch(R){xt(e,e.return,R)}}break;case 6:if(sr(t,e),Sr(e),r&4){if(e.stateNode===null)throw Error(J(162));s=e.stateNode,a=e.memoizedProps;try{s.nodeValue=a}catch(R){xt(e,e.return,R)}}break;case 3:if(sr(t,e),Sr(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Da(t.containerInfo)}catch(R){xt(e,e.return,R)}break;case 4:sr(t,e),Sr(e);break;case 13:sr(t,e),Sr(e),s=e.child,s.flags&8192&&(a=s.memoizedState!==null,s.stateNode.isHidden=a,!a||s.alternate!==null&&s.alternate.memoizedState!==null||(g0=Ct())),r&4&&wg(e);break;case 22:if(x=n!==null&&n.memoizedState!==null,e.mode&1?(Jt=(g=Jt)||x,sr(t,e),Jt=g):sr(t,e),Sr(e),r&8192){if(g=e.memoizedState!==null,(e.stateNode.isHidden=g)&&!x&&e.mode&1)for(de=e,x=e.child;x!==null;){for(w=de=x;de!==null;){switch(E=de,S=E.child,E.tag){case 0:case 11:case 14:case 15:ya(4,E,E.return);break;case 1:Ks(E,E.return);var v=E.stateNode;if(typeof v.componentWillUnmount=="function"){r=E,n=E.return;try{t=r,v.props=t.memoizedProps,v.state=t.memoizedState,v.componentWillUnmount()}catch(R){xt(r,n,R)}}break;case 5:Ks(E,E.return);break;case 22:if(E.memoizedState!==null){Eg(w);continue}}S!==null?(S.return=E,de=S):Eg(w)}x=x.sibling}e:for(x=null,w=e;;){if(w.tag===5){if(x===null){x=w;try{s=w.stateNode,g?(a=s.style,typeof a.setProperty=="function"?a.setProperty("display","none","important"):a.display="none"):(h=w.stateNode,p=w.memoizedProps.style,c=p!=null&&p.hasOwnProperty("display")?p.display:null,h.style.display=tx("display",c))}catch(R){xt(e,e.return,R)}}}else if(w.tag===6){if(x===null)try{w.stateNode.nodeValue=g?"":w.memoizedProps}catch(R){xt(e,e.return,R)}}else if((w.tag!==22&&w.tag!==23||w.memoizedState===null||w===e)&&w.child!==null){w.child.return=w,w=w.child;continue}if(w===e)break e;for(;w.sibling===null;){if(w.return===null||w.return===e)break e;x===w&&(x=null),w=w.return}x===w&&(x=null),w.sibling.return=w.return,w=w.sibling}}break;case 19:sr(t,e),Sr(e),r&4&&wg(e);break;case 21:break;default:sr(t,e),Sr(e)}}function Sr(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(I2(n)){var r=n;break e}n=n.return}throw Error(J(160))}switch(r.tag){case 5:var s=r.stateNode;r.flags&32&&(Na(s,""),r.flags&=-33);var a=yg(e);Zd(e,a,s);break;case 3:case 4:var c=r.stateNode.containerInfo,h=yg(e);Qd(e,h,c);break;default:throw Error(J(161))}}catch(p){xt(e,e.return,p)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function FE(e,t,n){de=e,M2(e)}function M2(e,t,n){for(var r=(e.mode&1)!==0;de!==null;){var s=de,a=s.child;if(s.tag===22&&r){var c=s.memoizedState!==null||zl;if(!c){var h=s.alternate,p=h!==null&&h.memoizedState!==null||Jt;h=zl;var g=Jt;if(zl=c,(Jt=p)&&!g)for(de=s;de!==null;)c=de,p=c.child,c.tag===22&&c.memoizedState!==null?bg(s):p!==null?(p.return=c,de=p):bg(s);for(;a!==null;)de=a,M2(a),a=a.sibling;de=s,zl=h,Jt=g}Cg(e)}else s.subtreeFlags&8772&&a!==null?(a.return=s,de=a):Cg(e)}}function Cg(e){for(;de!==null;){var t=de;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Jt||_u(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!Jt)if(n===null)r.componentDidMount();else{var s=t.elementType===t.type?n.memoizedProps:or(t.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var a=t.updateQueue;a!==null&&ig(t,a,r);break;case 3:var c=t.updateQueue;if(c!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}ig(t,c,n)}break;case 5:var h=t.stateNode;if(n===null&&t.flags&4){n=h;var p=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":p.autoFocus&&n.focus();break;case"img":p.src&&(n.src=p.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var g=t.alternate;if(g!==null){var x=g.memoizedState;if(x!==null){var w=x.dehydrated;w!==null&&Da(w)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(J(163))}Jt||t.flags&512&&Gd(t)}catch(E){xt(t,t.return,E)}}if(t===e){de=null;break}if(n=t.sibling,n!==null){n.return=t.return,de=n;break}de=t.return}}function Eg(e){for(;de!==null;){var t=de;if(t===e){de=null;break}var n=t.sibling;if(n!==null){n.return=t.return,de=n;break}de=t.return}}function bg(e){for(;de!==null;){var t=de;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{_u(4,t)}catch(p){xt(t,n,p)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var s=t.return;try{r.componentDidMount()}catch(p){xt(t,s,p)}}var a=t.return;try{Gd(t)}catch(p){xt(t,a,p)}break;case 5:var c=t.return;try{Gd(t)}catch(p){xt(t,c,p)}}}catch(p){xt(t,t.return,p)}if(t===e){de=null;break}var h=t.sibling;if(h!==null){h.return=t.return,de=h;break}de=t.return}}var jE=Math.ceil,Hc=ei.ReactCurrentDispatcher,d0=ei.ReactCurrentOwner,Jn=ei.ReactCurrentBatchConfig,Le=0,Bt=null,vt=null,Gt=0,Mn=0,qs=Bi(0),Rt=0,Va=null,ms=0,Iu=0,h0=0,wa=null,xn=null,g0=0,go=1/0,jr=null,Wc=!1,Kd=null,_i=null,Ul=!1,xi=null,Vc=0,Ca=0,qd=null,gc=-1,pc=0;function an(){return Le&6?Ct():gc!==-1?gc:gc=Ct()}function Ii(e){return e.mode&1?Le&2&&Gt!==0?Gt&-Gt:bE.transition!==null?(pc===0&&(pc=gx()),pc):(e=Ye,e!==0||(e=window.event,e=e===void 0?16:Ex(e.type)),e):1}function dr(e,t,n,r){if(50<Ca)throw Ca=0,qd=null,Error(J(185));tl(e,n,r),(!(Le&2)||e!==Bt)&&(e===Bt&&(!(Le&2)&&(Iu|=n),Rt===4&&gi(e,Gt)),An(e,r),n===1&&Le===0&&!(t.mode&1)&&(go=Ct()+500,Au&&Fi()))}function An(e,t){var n=e.callbackNode;b3(e,t);var r=Ic(e,e===Bt?Gt:0);if(r===0)n!==null&&R1(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&R1(n),t===1)e.tag===0?EE(Ag.bind(null,e)):zx(Ag.bind(null,e)),xE(function(){!(Le&6)&&Fi()}),n=null;else{switch(px(r)){case 1:n=zh;break;case 4:n=dx;break;case 16:n=_c;break;case 536870912:n=hx;break;default:n=_c}n=F2(n,R2.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function R2(e,t){if(gc=-1,pc=0,Le&6)throw Error(J(327));var n=e.callbackNode;if(so()&&e.callbackNode!==n)return null;var r=Ic(e,e===Bt?Gt:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=Yc(e,r);else{t=r;var s=Le;Le|=2;var a=D2();(Bt!==e||Gt!==t)&&(jr=null,go=Ct()+500,cs(e,t));do try{HE();break}catch(h){O2(e,h)}while(!0);Jh(),Hc.current=a,Le=s,vt!==null?t=0:(Bt=null,Gt=0,t=Rt)}if(t!==0){if(t===2&&(s=Sd(e),s!==0&&(r=s,t=$d(e,s))),t===1)throw n=Va,cs(e,0),gi(e,r),An(e,Ct()),n;if(t===6)gi(e,r);else{if(s=e.current.alternate,!(r&30)&&!zE(s)&&(t=Yc(e,r),t===2&&(a=Sd(e),a!==0&&(r=a,t=$d(e,a))),t===1))throw n=Va,cs(e,0),gi(e,r),An(e,Ct()),n;switch(e.finishedWork=s,e.finishedLanes=r,t){case 0:case 1:throw Error(J(345));case 2:es(e,xn,jr);break;case 3:if(gi(e,r),(r&130023424)===r&&(t=g0+500-Ct(),10<t)){if(Ic(e,0)!==0)break;if(s=e.suspendedLanes,(s&r)!==r){an(),e.pingedLanes|=e.suspendedLanes&s;break}e.timeoutHandle=Od(es.bind(null,e,xn,jr),t);break}es(e,xn,jr);break;case 4:if(gi(e,r),(r&4194240)===r)break;for(t=e.eventTimes,s=-1;0<r;){var c=31-fr(r);a=1<<c,c=t[c],c>s&&(s=c),r&=~a}if(r=s,r=Ct()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*jE(r/1960))-r,10<r){e.timeoutHandle=Od(es.bind(null,e,xn,jr),r);break}es(e,xn,jr);break;case 5:es(e,xn,jr);break;default:throw Error(J(329))}}}return An(e,Ct()),e.callbackNode===n?R2.bind(null,e):null}function $d(e,t){var n=wa;return e.current.memoizedState.isDehydrated&&(cs(e,t).flags|=256),e=Yc(e,t),e!==2&&(t=xn,xn=n,t!==null&&Jd(t)),e}function Jd(e){xn===null?xn=e:xn.push.apply(xn,e)}function zE(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var s=n[r],a=s.getSnapshot;s=s.value;try{if(!gr(a(),s))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function gi(e,t){for(t&=~h0,t&=~Iu,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-fr(t),r=1<<n;e[n]=-1,t&=~r}}function Ag(e){if(Le&6)throw Error(J(327));so();var t=Ic(e,0);if(!(t&1))return An(e,Ct()),null;var n=Yc(e,t);if(e.tag!==0&&n===2){var r=Sd(e);r!==0&&(t=r,n=$d(e,r))}if(n===1)throw n=Va,cs(e,0),gi(e,t),An(e,Ct()),n;if(n===6)throw Error(J(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,es(e,xn,jr),An(e,Ct()),null}function p0(e,t){var n=Le;Le|=1;try{return e(t)}finally{Le=n,Le===0&&(go=Ct()+500,Au&&Fi())}}function xs(e){xi!==null&&xi.tag===0&&!(Le&6)&&so();var t=Le;Le|=1;var n=Jn.transition,r=Ye;try{if(Jn.transition=null,Ye=1,e)return e()}finally{Ye=r,Jn.transition=n,Le=t,!(Le&6)&&Fi()}}function m0(){Mn=qs.current,it(qs)}function cs(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,mE(n)),vt!==null)for(n=vt.return;n!==null;){var r=n;switch(Kh(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Oc();break;case 3:fo(),it(En),it(nn),s0();break;case 5:i0(r);break;case 4:fo();break;case 13:it(lt);break;case 19:it(lt);break;case 10:e0(r.type._context);break;case 22:case 23:m0()}n=n.return}if(Bt=e,vt=e=Ti(e.current,null),Gt=Mn=t,Rt=0,Va=null,h0=Iu=ms=0,xn=wa=null,is!==null){for(t=0;t<is.length;t++)if(n=is[t],r=n.interleaved,r!==null){n.interleaved=null;var s=r.next,a=n.pending;if(a!==null){var c=a.next;a.next=s,r.next=c}n.pending=r}is=null}return e}function O2(e,t){do{var n=vt;try{if(Jh(),fc.current=Uc,zc){for(var r=ct.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}zc=!1}if(ps=0,Pt=Mt=ct=null,xa=!1,Ua=0,d0.current=null,n===null||n.return===null){Rt=1,Va=t,vt=null;break}e:{var a=e,c=n.return,h=n,p=t;if(t=Gt,h.flags|=32768,p!==null&&typeof p=="object"&&typeof p.then=="function"){var g=p,x=h,w=x.tag;if(!(x.mode&1)&&(w===0||w===11||w===15)){var E=x.alternate;E?(x.updateQueue=E.updateQueue,x.memoizedState=E.memoizedState,x.lanes=E.lanes):(x.updateQueue=null,x.memoizedState=null)}var S=ug(c);if(S!==null){S.flags&=-257,fg(S,c,h,a,t),S.mode&1&&cg(a,g,t),t=S,p=g;var v=t.updateQueue;if(v===null){var R=new Set;R.add(p),t.updateQueue=R}else v.add(p);break e}else{if(!(t&1)){cg(a,g,t),x0();break e}p=Error(J(426))}}else if(ot&&h.mode&1){var O=ug(c);if(O!==null){!(O.flags&65536)&&(O.flags|=256),fg(O,c,h,a,t),qh(ho(p,h));break e}}a=p=ho(p,h),Rt!==4&&(Rt=2),wa===null?wa=[a]:wa.push(a),a=c;do{switch(a.tag){case 3:a.flags|=65536,t&=-t,a.lanes|=t;var M=p2(a,p,t);rg(a,M);break e;case 1:h=p;var T=a.type,N=a.stateNode;if(!(a.flags&128)&&(typeof T.getDerivedStateFromError=="function"||N!==null&&typeof N.componentDidCatch=="function"&&(_i===null||!_i.has(N)))){a.flags|=65536,t&=-t,a.lanes|=t;var L=m2(a,h,t);rg(a,L);break e}}a=a.return}while(a!==null)}L2(n)}catch(z){t=z,vt===n&&n!==null&&(vt=n=n.return);continue}break}while(!0)}function D2(){var e=Hc.current;return Hc.current=Uc,e===null?Uc:e}function x0(){(Rt===0||Rt===3||Rt===2)&&(Rt=4),Bt===null||!(ms&268435455)&&!(Iu&268435455)||gi(Bt,Gt)}function Yc(e,t){var n=Le;Le|=2;var r=D2();(Bt!==e||Gt!==t)&&(jr=null,cs(e,t));do try{UE();break}catch(s){O2(e,s)}while(!0);if(Jh(),Le=n,Hc.current=r,vt!==null)throw Error(J(261));return Bt=null,Gt=0,Rt}function UE(){for(;vt!==null;)k2(vt)}function HE(){for(;vt!==null&&!h3();)k2(vt)}function k2(e){var t=B2(e.alternate,e,Mn);e.memoizedProps=e.pendingProps,t===null?L2(e):vt=t,d0.current=null}function L2(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=LE(n,t),n!==null){n.flags&=32767,vt=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Rt=6,vt=null;return}}else if(n=kE(n,t,Mn),n!==null){vt=n;return}if(t=t.sibling,t!==null){vt=t;return}vt=t=e}while(t!==null);Rt===0&&(Rt=5)}function es(e,t,n){var r=Ye,s=Jn.transition;try{Jn.transition=null,Ye=1,WE(e,t,n,r)}finally{Jn.transition=s,Ye=r}return null}function WE(e,t,n,r){do so();while(xi!==null);if(Le&6)throw Error(J(327));n=e.finishedWork;var s=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(J(177));e.callbackNode=null,e.callbackPriority=0;var a=n.lanes|n.childLanes;if(A3(e,a),e===Bt&&(vt=Bt=null,Gt=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Ul||(Ul=!0,F2(_c,function(){return so(),null})),a=(n.flags&15990)!==0,n.subtreeFlags&15990||a){a=Jn.transition,Jn.transition=null;var c=Ye;Ye=1;var h=Le;Le|=4,d0.current=null,BE(e,n),N2(n,e),cE(Md),Tc=!!Nd,Md=Nd=null,e.current=n,FE(n),g3(),Le=h,Ye=c,Jn.transition=a}else e.current=n;if(Ul&&(Ul=!1,xi=e,Vc=s),a=e.pendingLanes,a===0&&(_i=null),x3(n.stateNode),An(e,Ct()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)s=t[n],r(s.value,{componentStack:s.stack,digest:s.digest});if(Wc)throw Wc=!1,e=Kd,Kd=null,e;return Vc&1&&e.tag!==0&&so(),a=e.pendingLanes,a&1?e===qd?Ca++:(Ca=0,qd=e):Ca=0,Fi(),null}function so(){if(xi!==null){var e=px(Vc),t=Jn.transition,n=Ye;try{if(Jn.transition=null,Ye=16>e?16:e,xi===null)var r=!1;else{if(e=xi,xi=null,Vc=0,Le&6)throw Error(J(331));var s=Le;for(Le|=4,de=e.current;de!==null;){var a=de,c=a.child;if(de.flags&16){var h=a.deletions;if(h!==null){for(var p=0;p<h.length;p++){var g=h[p];for(de=g;de!==null;){var x=de;switch(x.tag){case 0:case 11:case 15:ya(8,x,a)}var w=x.child;if(w!==null)w.return=x,de=w;else for(;de!==null;){x=de;var E=x.sibling,S=x.return;if(_2(x),x===g){de=null;break}if(E!==null){E.return=S,de=E;break}de=S}}}var v=a.alternate;if(v!==null){var R=v.child;if(R!==null){v.child=null;do{var O=R.sibling;R.sibling=null,R=O}while(R!==null)}}de=a}}if(a.subtreeFlags&2064&&c!==null)c.return=a,de=c;else e:for(;de!==null;){if(a=de,a.flags&2048)switch(a.tag){case 0:case 11:case 15:ya(9,a,a.return)}var M=a.sibling;if(M!==null){M.return=a.return,de=M;break e}de=a.return}}var T=e.current;for(de=T;de!==null;){c=de;var N=c.child;if(c.subtreeFlags&2064&&N!==null)N.return=c,de=N;else e:for(c=T;de!==null;){if(h=de,h.flags&2048)try{switch(h.tag){case 0:case 11:case 15:_u(9,h)}}catch(z){xt(h,h.return,z)}if(h===c){de=null;break e}var L=h.sibling;if(L!==null){L.return=h.return,de=L;break e}de=h.return}}if(Le=s,Fi(),Or&&typeof Or.onPostCommitFiberRoot=="function")try{Or.onPostCommitFiberRoot(yu,e)}catch{}r=!0}return r}finally{Ye=n,Jn.transition=t}}return!1}function Sg(e,t,n){t=ho(n,t),t=p2(e,t,1),e=vi(e,t,1),t=an(),e!==null&&(tl(e,1,t),An(e,t))}function xt(e,t,n){if(e.tag===3)Sg(e,e,n);else for(;t!==null;){if(t.tag===3){Sg(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(_i===null||!_i.has(r))){e=ho(n,e),e=m2(t,e,1),t=vi(t,e,1),e=an(),t!==null&&(tl(t,1,e),An(t,e));break}}t=t.return}}function VE(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=an(),e.pingedLanes|=e.suspendedLanes&n,Bt===e&&(Gt&n)===n&&(Rt===4||Rt===3&&(Gt&130023424)===Gt&&500>Ct()-g0?cs(e,0):h0|=n),An(e,t)}function P2(e,t){t===0&&(e.mode&1?(t=Rl,Rl<<=1,!(Rl&130023424)&&(Rl=4194304)):t=1);var n=an();e=Zr(e,t),e!==null&&(tl(e,t,n),An(e,n))}function YE(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),P2(e,n)}function XE(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,s=e.memoizedState;s!==null&&(n=s.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(J(314))}r!==null&&r.delete(t),P2(e,n)}var B2;B2=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||En.current)wn=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return wn=!1,DE(e,t,n);wn=!!(e.flags&131072)}else wn=!1,ot&&t.flags&1048576&&Ux(t,Lc,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;hc(e,t),e=t.pendingProps;var s=lo(t,nn.current);io(t,n),s=a0(null,t,r,e,s,n);var a=l0();return t.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,bn(r)?(a=!0,Dc(t)):a=!1,t.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,n0(t),s.updater=vu,t.stateNode=s,s._reactInternals=t,jd(t,r,e,n),t=Hd(null,t,r,!0,a,n)):(t.tag=0,ot&&a&&Zh(t),on(null,t,s,n),t=t.child),t;case 16:r=t.elementType;e:{switch(hc(e,t),e=t.pendingProps,s=r._init,r=s(r._payload),t.type=r,s=t.tag=QE(r),e=or(r,e),s){case 0:t=Ud(null,t,r,e,n);break e;case 1:t=gg(null,t,r,e,n);break e;case 11:t=dg(null,t,r,e,n);break e;case 14:t=hg(null,t,r,or(r.type,e),n);break e}throw Error(J(306,r,""))}return t;case 0:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:or(r,s),Ud(e,t,r,s,n);case 1:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:or(r,s),gg(e,t,r,s,n);case 3:e:{if(C2(t),e===null)throw Error(J(387));r=t.pendingProps,a=t.memoizedState,s=a.element,Gx(e,t),Fc(t,r,null,n);var c=t.memoizedState;if(r=c.element,a.isDehydrated)if(a={element:r,isDehydrated:!1,cache:c.cache,pendingSuspenseBoundaries:c.pendingSuspenseBoundaries,transitions:c.transitions},t.updateQueue.baseState=a,t.memoizedState=a,t.flags&256){s=ho(Error(J(423)),t),t=pg(e,t,r,n,s);break e}else if(r!==s){s=ho(Error(J(424)),t),t=pg(e,t,r,n,s);break e}else for(On=Si(t.stateNode.containerInfo.firstChild),Dn=t,ot=!0,cr=null,n=Yx(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(co(),r===s){t=Kr(e,t,n);break e}on(e,t,r,n)}t=t.child}return t;case 5:return Qx(t),e===null&&Pd(t),r=t.type,s=t.pendingProps,a=e!==null?e.memoizedProps:null,c=s.children,Rd(r,s)?c=null:a!==null&&Rd(r,a)&&(t.flags|=32),w2(e,t),on(e,t,c,n),t.child;case 6:return e===null&&Pd(t),null;case 13:return E2(e,t,n);case 4:return r0(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=uo(t,null,r,n):on(e,t,r,n),t.child;case 11:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:or(r,s),dg(e,t,r,s,n);case 7:return on(e,t,t.pendingProps,n),t.child;case 8:return on(e,t,t.pendingProps.children,n),t.child;case 12:return on(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,s=t.pendingProps,a=t.memoizedProps,c=s.value,Je(Pc,r._currentValue),r._currentValue=c,a!==null)if(gr(a.value,c)){if(a.children===s.children&&!En.current){t=Kr(e,t,n);break e}}else for(a=t.child,a!==null&&(a.return=t);a!==null;){var h=a.dependencies;if(h!==null){c=a.child;for(var p=h.firstContext;p!==null;){if(p.context===r){if(a.tag===1){p=Yr(-1,n&-n),p.tag=2;var g=a.updateQueue;if(g!==null){g=g.shared;var x=g.pending;x===null?p.next=p:(p.next=x.next,x.next=p),g.pending=p}}a.lanes|=n,p=a.alternate,p!==null&&(p.lanes|=n),Bd(a.return,n,t),h.lanes|=n;break}p=p.next}}else if(a.tag===10)c=a.type===t.type?null:a.child;else if(a.tag===18){if(c=a.return,c===null)throw Error(J(341));c.lanes|=n,h=c.alternate,h!==null&&(h.lanes|=n),Bd(c,n,t),c=a.sibling}else c=a.child;if(c!==null)c.return=a;else for(c=a;c!==null;){if(c===t){c=null;break}if(a=c.sibling,a!==null){a.return=c.return,c=a;break}c=c.return}a=c}on(e,t,s.children,n),t=t.child}return t;case 9:return s=t.type,r=t.pendingProps.children,io(t,n),s=er(s),r=r(s),t.flags|=1,on(e,t,r,n),t.child;case 14:return r=t.type,s=or(r,t.pendingProps),s=or(r.type,s),hg(e,t,r,s,n);case 15:return x2(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:or(r,s),hc(e,t),t.tag=1,bn(r)?(e=!0,Dc(t)):e=!1,io(t,n),g2(t,r,s),jd(t,r,s,n),Hd(null,t,r,!0,e,n);case 19:return b2(e,t,n);case 22:return y2(e,t,n)}throw Error(J(156,t.tag))};function F2(e,t){return fx(e,t)}function GE(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Kn(e,t,n,r){return new GE(e,t,n,r)}function y0(e){return e=e.prototype,!(!e||!e.isReactComponent)}function QE(e){if(typeof e=="function")return y0(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Bh)return 11;if(e===Fh)return 14}return 2}function Ti(e,t){var n=e.alternate;return n===null?(n=Kn(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function mc(e,t,n,r,s,a){var c=2;if(r=e,typeof e=="function")y0(e)&&(c=1);else if(typeof e=="string")c=5;else e:switch(e){case Us:return us(n.children,s,a,t);case Ph:c=8,s|=8;break;case cd:return e=Kn(12,n,t,s|2),e.elementType=cd,e.lanes=a,e;case ud:return e=Kn(13,n,t,s),e.elementType=ud,e.lanes=a,e;case fd:return e=Kn(19,n,t,s),e.elementType=fd,e.lanes=a,e;case Qm:return Tu(n,s,a,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Xm:c=10;break e;case Gm:c=9;break e;case Bh:c=11;break e;case Fh:c=14;break e;case fi:c=16,r=null;break e}throw Error(J(130,e==null?e:typeof e,""))}return t=Kn(c,n,t,s),t.elementType=e,t.type=r,t.lanes=a,t}function us(e,t,n,r){return e=Kn(7,e,r,t),e.lanes=n,e}function Tu(e,t,n,r){return e=Kn(22,e,r,t),e.elementType=Qm,e.lanes=n,e.stateNode={isHidden:!1},e}function Uf(e,t,n){return e=Kn(6,e,null,t),e.lanes=n,e}function Hf(e,t,n){return t=Kn(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function ZE(e,t,n,r,s){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=bf(0),this.expirationTimes=bf(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=bf(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function w0(e,t,n,r,s,a,c,h,p){return e=new ZE(e,t,n,h,p),t===1?(t=1,a===!0&&(t|=8)):t=0,a=Kn(3,null,null,t),e.current=a,a.stateNode=e,a.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},n0(a),e}function KE(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:zs,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function j2(e){if(!e)return Oi;e=e._reactInternals;e:{if(vs(e)!==e||e.tag!==1)throw Error(J(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(bn(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(J(171))}if(e.tag===1){var n=e.type;if(bn(n))return jx(e,n,t)}return t}function z2(e,t,n,r,s,a,c,h,p){return e=w0(n,r,!0,e,s,a,c,h,p),e.context=j2(null),n=e.current,r=an(),s=Ii(n),a=Yr(r,s),a.callback=t??null,vi(n,a,s),e.current.lanes=s,tl(e,s,r),An(e,r),e}function Nu(e,t,n,r){var s=t.current,a=an(),c=Ii(s);return n=j2(n),t.context===null?t.context=n:t.pendingContext=n,t=Yr(a,c),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=vi(s,t,c),e!==null&&(dr(e,s,c,a),uc(e,s,c)),c}function Xc(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function vg(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function C0(e,t){vg(e,t),(e=e.alternate)&&vg(e,t)}function qE(){return null}var U2=typeof reportError=="function"?reportError:function(e){console.error(e)};function E0(e){this._internalRoot=e}Mu.prototype.render=E0.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(J(409));Nu(e,t,null,null)};Mu.prototype.unmount=E0.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;xs(function(){Nu(null,e,null,null)}),t[Qr]=null}};function Mu(e){this._internalRoot=e}Mu.prototype.unstable_scheduleHydration=function(e){if(e){var t=yx();e={blockedOn:null,target:e,priority:t};for(var n=0;n<hi.length&&t!==0&&t<hi[n].priority;n++);hi.splice(n,0,e),n===0&&Cx(e)}};function b0(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Ru(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function _g(){}function $E(e,t,n,r,s){if(s){if(typeof r=="function"){var a=r;r=function(){var g=Xc(c);a.call(g)}}var c=z2(t,r,e,0,null,!1,!1,"",_g);return e._reactRootContainer=c,e[Qr]=c.current,Pa(e.nodeType===8?e.parentNode:e),xs(),c}for(;s=e.lastChild;)e.removeChild(s);if(typeof r=="function"){var h=r;r=function(){var g=Xc(p);h.call(g)}}var p=w0(e,0,!1,null,null,!1,!1,"",_g);return e._reactRootContainer=p,e[Qr]=p.current,Pa(e.nodeType===8?e.parentNode:e),xs(function(){Nu(t,p,n,r)}),p}function Ou(e,t,n,r,s){var a=n._reactRootContainer;if(a){var c=a;if(typeof s=="function"){var h=s;s=function(){var p=Xc(c);h.call(p)}}Nu(t,c,e,s)}else c=$E(n,t,e,s,r);return Xc(c)}mx=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=ra(t.pendingLanes);n!==0&&(Uh(t,n|1),An(t,Ct()),!(Le&6)&&(go=Ct()+500,Fi()))}break;case 13:xs(function(){var r=Zr(e,1);if(r!==null){var s=an();dr(r,e,1,s)}}),C0(e,1)}};Hh=function(e){if(e.tag===13){var t=Zr(e,134217728);if(t!==null){var n=an();dr(t,e,134217728,n)}C0(e,134217728)}};xx=function(e){if(e.tag===13){var t=Ii(e),n=Zr(e,t);if(n!==null){var r=an();dr(n,e,t,r)}C0(e,t)}};yx=function(){return Ye};wx=function(e,t){var n=Ye;try{return Ye=e,t()}finally{Ye=n}};Ed=function(e,t,n){switch(t){case"input":if(gd(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var s=bu(r);if(!s)throw Error(J(90));Km(r),gd(r,s)}}}break;case"textarea":$m(e,n);break;case"select":t=n.value,t!=null&&eo(e,!!n.multiple,t,!1)}};sx=p0;ox=xs;var JE={usingClientEntryPoint:!1,Events:[rl,Ys,bu,rx,ix,p0]},Qo={findFiberByHostInstance:rs,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},eb={bundleType:Qo.bundleType,version:Qo.version,rendererPackageName:Qo.rendererPackageName,rendererConfig:Qo.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ei.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=cx(e),e===null?null:e.stateNode},findFiberByHostInstance:Qo.findFiberByHostInstance||qE,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Hl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Hl.isDisabled&&Hl.supportsFiber)try{yu=Hl.inject(eb),Or=Hl}catch{}}Fn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=JE;Fn.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!b0(t))throw Error(J(200));return KE(e,t,null,n)};Fn.createRoot=function(e,t){if(!b0(e))throw Error(J(299));var n=!1,r="",s=U2;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(s=t.onRecoverableError)),t=w0(e,1,!1,null,null,n,!1,r,s),e[Qr]=t.current,Pa(e.nodeType===8?e.parentNode:e),new E0(t)};Fn.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(J(188)):(e=Object.keys(e).join(","),Error(J(268,e)));return e=cx(t),e=e===null?null:e.stateNode,e};Fn.flushSync=function(e){return xs(e)};Fn.hydrate=function(e,t,n){if(!Ru(t))throw Error(J(200));return Ou(null,e,t,!0,n)};Fn.hydrateRoot=function(e,t,n){if(!b0(e))throw Error(J(405));var r=n!=null&&n.hydratedSources||null,s=!1,a="",c=U2;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(a=n.identifierPrefix),n.onRecoverableError!==void 0&&(c=n.onRecoverableError)),t=z2(t,null,e,1,n??null,s,!1,a,c),e[Qr]=t.current,Pa(e),r)for(e=0;e<r.length;e++)n=r[e],s=n._getVersion,s=s(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,s]:t.mutableSourceEagerHydrationData.push(n,s);return new Mu(t)};Fn.render=function(e,t,n){if(!Ru(t))throw Error(J(200));return Ou(null,e,t,!1,n)};Fn.unmountComponentAtNode=function(e){if(!Ru(e))throw Error(J(40));return e._reactRootContainer?(xs(function(){Ou(null,null,e,!1,function(){e._reactRootContainer=null,e[Qr]=null})}),!0):!1};Fn.unstable_batchedUpdates=p0;Fn.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Ru(n))throw Error(J(200));if(e==null||e._reactInternals===void 0)throw Error(J(38));return Ou(e,t,n,!1,r)};Fn.version="18.3.1-next-f1338f8080-20240426";function H2(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(H2)}catch(e){console.error(e)}}H2(),Hm.exports=Fn;var tb=Hm.exports,W2,Ig=tb;W2=Ig.createRoot,Ig.hydrateRoot;/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ya(){return Ya=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ya.apply(this,arguments)}var yi;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(yi||(yi={}));const Tg="popstate";function nb(e){e===void 0&&(e={});function t(r,s){let{pathname:a,search:c,hash:h}=r.location;return eh("",{pathname:a,search:c,hash:h},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function n(r,s){return typeof s=="string"?s:Gc(s)}return ib(t,n,null,e)}function bt(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function V2(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function rb(){return Math.random().toString(36).substr(2,8)}function Ng(e,t){return{usr:e.state,key:e.key,idx:t}}function eh(e,t,n,r){return n===void 0&&(n=null),Ya({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?Co(t):t,{state:n,key:t&&t.key||r||rb()})}function Gc(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&n!=="?"&&(t+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(t+=r.charAt(0)==="#"?r:"#"+r),t}function Co(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function ib(e,t,n,r){r===void 0&&(r={});let{window:s=document.defaultView,v5Compat:a=!1}=r,c=s.history,h=yi.Pop,p=null,g=x();g==null&&(g=0,c.replaceState(Ya({},c.state,{idx:g}),""));function x(){return(c.state||{idx:null}).idx}function w(){h=yi.Pop;let O=x(),M=O==null?null:O-g;g=O,p&&p({action:h,location:R.location,delta:M})}function E(O,M){h=yi.Push;let T=eh(R.location,O,M);g=x()+1;let N=Ng(T,g),L=R.createHref(T);try{c.pushState(N,"",L)}catch(z){if(z instanceof DOMException&&z.name==="DataCloneError")throw z;s.location.assign(L)}a&&p&&p({action:h,location:R.location,delta:1})}function S(O,M){h=yi.Replace;let T=eh(R.location,O,M);g=x();let N=Ng(T,g),L=R.createHref(T);c.replaceState(N,"",L),a&&p&&p({action:h,location:R.location,delta:0})}function v(O){let M=s.location.origin!=="null"?s.location.origin:s.location.href,T=typeof O=="string"?O:Gc(O);return T=T.replace(/ $/,"%20"),bt(M,"No window.location.(origin|href) available to create URL for href: "+T),new URL(T,M)}let R={get action(){return h},get location(){return e(s,c)},listen(O){if(p)throw new Error("A history only accepts one active listener");return s.addEventListener(Tg,w),p=O,()=>{s.removeEventListener(Tg,w),p=null}},createHref(O){return t(s,O)},createURL:v,encodeLocation(O){let M=v(O);return{pathname:M.pathname,search:M.search,hash:M.hash}},push:E,replace:S,go(O){return c.go(O)}};return R}var Mg;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(Mg||(Mg={}));function sb(e,t,n){return n===void 0&&(n="/"),ob(e,t,n,!1)}function ob(e,t,n,r){let s=typeof t=="string"?Co(t):t,a=A0(s.pathname||"/",n);if(a==null)return null;let c=Y2(e);ab(c);let h=null;for(let p=0;h==null&&p<c.length;++p){let g=yb(a);h=mb(c[p],g,r)}return h}function Y2(e,t,n,r){t===void 0&&(t=[]),n===void 0&&(n=[]),r===void 0&&(r="");let s=(a,c,h)=>{let p={relativePath:h===void 0?a.path||"":h,caseSensitive:a.caseSensitive===!0,childrenIndex:c,route:a};p.relativePath.startsWith("/")&&(bt(p.relativePath.startsWith(r),'Absolute route path "'+p.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),p.relativePath=p.relativePath.slice(r.length));let g=Ni([r,p.relativePath]),x=n.concat(p);a.children&&a.children.length>0&&(bt(a.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+g+'".')),Y2(a.children,t,x,g)),!(a.path==null&&!a.index)&&t.push({path:g,score:gb(g,a.index),routesMeta:x})};return e.forEach((a,c)=>{var h;if(a.path===""||!((h=a.path)!=null&&h.includes("?")))s(a,c);else for(let p of X2(a.path))s(a,c,p)}),t}function X2(e){let t=e.split("/");if(t.length===0)return[];let[n,...r]=t,s=n.endsWith("?"),a=n.replace(/\?$/,"");if(r.length===0)return s?[a,""]:[a];let c=X2(r.join("/")),h=[];return h.push(...c.map(p=>p===""?a:[a,p].join("/"))),s&&h.push(...c),h.map(p=>e.startsWith("/")&&p===""?"/":p)}function ab(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:pb(t.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const lb=/^:[\w-]+$/,cb=3,ub=2,fb=1,db=10,hb=-2,Rg=e=>e==="*";function gb(e,t){let n=e.split("/"),r=n.length;return n.some(Rg)&&(r+=hb),t&&(r+=ub),n.filter(s=>!Rg(s)).reduce((s,a)=>s+(lb.test(a)?cb:a===""?fb:db),r)}function pb(e,t){return e.length===t.length&&e.slice(0,-1).every((r,s)=>r===t[s])?e[e.length-1]-t[t.length-1]:0}function mb(e,t,n){let{routesMeta:r}=e,s={},a="/",c=[];for(let h=0;h<r.length;++h){let p=r[h],g=h===r.length-1,x=a==="/"?t:t.slice(a.length)||"/",w=Og({path:p.relativePath,caseSensitive:p.caseSensitive,end:g},x),E=p.route;if(!w&&g&&n&&!r[r.length-1].route.index&&(w=Og({path:p.relativePath,caseSensitive:p.caseSensitive,end:!1},x)),!w)return null;Object.assign(s,w.params),c.push({params:s,pathname:Ni([a,w.pathname]),pathnameBase:bb(Ni([a,w.pathnameBase])),route:E}),w.pathnameBase!=="/"&&(a=Ni([a,w.pathnameBase]))}return c}function Og(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=xb(e.path,e.caseSensitive,e.end),s=t.match(n);if(!s)return null;let a=s[0],c=a.replace(/(.)\/+$/,"$1"),h=s.slice(1);return{params:r.reduce((g,x,w)=>{let{paramName:E,isOptional:S}=x;if(E==="*"){let R=h[w]||"";c=a.slice(0,a.length-R.length).replace(/(.)\/+$/,"$1")}const v=h[w];return S&&!v?g[E]=void 0:g[E]=(v||"").replace(/%2F/g,"/"),g},{}),pathname:a,pathnameBase:c,pattern:e}}function xb(e,t,n){t===void 0&&(t=!1),n===void 0&&(n=!0),V2(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let r=[],s="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(c,h,p)=>(r.push({paramName:h,isOptional:p!=null}),p?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(r.push({paramName:"*"}),s+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?s+="\\/*$":e!==""&&e!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,t?void 0:"i"),r]}function yb(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return V2(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function A0(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&r!=="/"?null:e.slice(n)||"/"}function wb(e,t){t===void 0&&(t="/");let{pathname:n,search:r="",hash:s=""}=typeof e=="string"?Co(e):e;return{pathname:n?n.startsWith("/")?n:Cb(n,t):t,search:Ab(r),hash:Sb(s)}}function Cb(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(s=>{s===".."?n.length>1&&n.pop():s!=="."&&n.push(s)}),n.length>1?n.join("/"):"/"}function Wf(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function Eb(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function S0(e,t){let n=Eb(e);return t?n.map((r,s)=>s===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function v0(e,t,n,r){r===void 0&&(r=!1);let s;typeof e=="string"?s=Co(e):(s=Ya({},e),bt(!s.pathname||!s.pathname.includes("?"),Wf("?","pathname","search",s)),bt(!s.pathname||!s.pathname.includes("#"),Wf("#","pathname","hash",s)),bt(!s.search||!s.search.includes("#"),Wf("#","search","hash",s)));let a=e===""||s.pathname==="",c=a?"/":s.pathname,h;if(c==null)h=n;else{let w=t.length-1;if(!r&&c.startsWith("..")){let E=c.split("/");for(;E[0]==="..";)E.shift(),w-=1;s.pathname=E.join("/")}h=w>=0?t[w]:"/"}let p=wb(s,h),g=c&&c!=="/"&&c.endsWith("/"),x=(a||c===".")&&n.endsWith("/");return!p.pathname.endsWith("/")&&(g||x)&&(p.pathname+="/"),p}const Ni=e=>e.join("/").replace(/\/\/+/g,"/"),bb=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),Ab=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,Sb=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function vb(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const G2=["post","put","patch","delete"];new Set(G2);const _b=["get",...G2];new Set(_b);/**
 * React Router v6.30.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Xa(){return Xa=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Xa.apply(this,arguments)}const _0=U.createContext(null),Ib=U.createContext(null),ji=U.createContext(null),Du=U.createContext(null),zi=U.createContext({outlet:null,matches:[],isDataRoute:!1}),Q2=U.createContext(null);function Tb(e,t){let{relative:n}=t===void 0?{}:t;Eo()||bt(!1);let{basename:r,navigator:s}=U.useContext(ji),{hash:a,pathname:c,search:h}=K2(e,{relative:n}),p=c;return r!=="/"&&(p=c==="/"?r:Ni([r,c])),s.createHref({pathname:p,search:h,hash:a})}function Eo(){return U.useContext(Du)!=null}function sl(){return Eo()||bt(!1),U.useContext(Du).location}function Z2(e){U.useContext(ji).static||U.useLayoutEffect(e)}function Ui(){let{isDataRoute:e}=U.useContext(zi);return e?Ub():Nb()}function Nb(){Eo()||bt(!1);let e=U.useContext(_0),{basename:t,future:n,navigator:r}=U.useContext(ji),{matches:s}=U.useContext(zi),{pathname:a}=sl(),c=JSON.stringify(S0(s,n.v7_relativeSplatPath)),h=U.useRef(!1);return Z2(()=>{h.current=!0}),U.useCallback(function(g,x){if(x===void 0&&(x={}),!h.current)return;if(typeof g=="number"){r.go(g);return}let w=v0(g,JSON.parse(c),a,x.relative==="path");e==null&&t!=="/"&&(w.pathname=w.pathname==="/"?t:Ni([t,w.pathname])),(x.replace?r.replace:r.push)(w,x.state,x)},[t,r,c,a,e])}function K2(e,t){let{relative:n}=t===void 0?{}:t,{future:r}=U.useContext(ji),{matches:s}=U.useContext(zi),{pathname:a}=sl(),c=JSON.stringify(S0(s,r.v7_relativeSplatPath));return U.useMemo(()=>v0(e,JSON.parse(c),a,n==="path"),[e,c,a,n])}function Mb(e,t){return Rb(e,t)}function Rb(e,t,n,r){Eo()||bt(!1);let{navigator:s,static:a}=U.useContext(ji),{matches:c}=U.useContext(zi),h=c[c.length-1],p=h?h.params:{};h&&h.pathname;let g=h?h.pathnameBase:"/";h&&h.route;let x=sl(),w;if(t){var E;let M=typeof t=="string"?Co(t):t;g==="/"||(E=M.pathname)!=null&&E.startsWith(g)||bt(!1),w=M}else w=x;let S=w.pathname||"/",v=S;if(g!=="/"){let M=g.replace(/^\//,"").split("/");v="/"+S.replace(/^\//,"").split("/").slice(M.length).join("/")}let R=!a&&n&&n.matches&&n.matches.length>0?n.matches:sb(e,{pathname:v}),O=Pb(R&&R.map(M=>Object.assign({},M,{params:Object.assign({},p,M.params),pathname:Ni([g,s.encodeLocation?s.encodeLocation(M.pathname).pathname:M.pathname]),pathnameBase:M.pathnameBase==="/"?g:Ni([g,s.encodeLocation?s.encodeLocation(M.pathnameBase).pathname:M.pathnameBase])})),c,n,r);return t&&O?U.createElement(Du.Provider,{value:{location:Xa({pathname:"/",search:"",hash:"",state:null,key:"default"},w),navigationType:yi.Pop}},O):O}function Ob(){let e=zb(),t=vb(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return U.createElement(U.Fragment,null,U.createElement("h2",null,"Unexpected Application Error!"),U.createElement("h3",{style:{fontStyle:"italic"}},t),n?U.createElement("pre",{style:s},n):null,null)}const Db=U.createElement(Ob,null);class kb extends U.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,n){return n.location!==t.location||n.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:n.error,location:n.location,revalidation:t.revalidation||n.revalidation}}componentDidCatch(t,n){console.error("React Router caught the following error during render",t,n)}render(){return this.state.error!==void 0?U.createElement(zi.Provider,{value:this.props.routeContext},U.createElement(Q2.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function Lb(e){let{routeContext:t,match:n,children:r}=e,s=U.useContext(_0);return s&&s.static&&s.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=n.route.id),U.createElement(zi.Provider,{value:t},r)}function Pb(e,t,n,r){var s;if(t===void 0&&(t=[]),n===void 0&&(n=null),r===void 0&&(r=null),e==null){var a;if(!n)return null;if(n.errors)e=n.matches;else if((a=r)!=null&&a.v7_partialHydration&&t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let c=e,h=(s=n)==null?void 0:s.errors;if(h!=null){let x=c.findIndex(w=>w.route.id&&(h==null?void 0:h[w.route.id])!==void 0);x>=0||bt(!1),c=c.slice(0,Math.min(c.length,x+1))}let p=!1,g=-1;if(n&&r&&r.v7_partialHydration)for(let x=0;x<c.length;x++){let w=c[x];if((w.route.HydrateFallback||w.route.hydrateFallbackElement)&&(g=x),w.route.id){let{loaderData:E,errors:S}=n,v=w.route.loader&&E[w.route.id]===void 0&&(!S||S[w.route.id]===void 0);if(w.route.lazy||v){p=!0,g>=0?c=c.slice(0,g+1):c=[c[0]];break}}}return c.reduceRight((x,w,E)=>{let S,v=!1,R=null,O=null;n&&(S=h&&w.route.id?h[w.route.id]:void 0,R=w.route.errorElement||Db,p&&(g<0&&E===0?(v=!0,O=null):g===E&&(v=!0,O=w.route.hydrateFallbackElement||null)));let M=t.concat(c.slice(0,E+1)),T=()=>{let N;return S?N=R:v?N=O:w.route.Component?N=U.createElement(w.route.Component,null):w.route.element?N=w.route.element:N=x,U.createElement(Lb,{match:w,routeContext:{outlet:x,matches:M,isDataRoute:n!=null},children:N})};return n&&(w.route.ErrorBoundary||w.route.errorElement||E===0)?U.createElement(kb,{location:n.location,revalidation:n.revalidation,component:R,error:S,children:T(),routeContext:{outlet:null,matches:M,isDataRoute:!0}}):T()},null)}var q2=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(q2||{}),Qc=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(Qc||{});function Bb(e){let t=U.useContext(_0);return t||bt(!1),t}function Fb(e){let t=U.useContext(Ib);return t||bt(!1),t}function jb(e){let t=U.useContext(zi);return t||bt(!1),t}function $2(e){let t=jb(),n=t.matches[t.matches.length-1];return n.route.id||bt(!1),n.route.id}function zb(){var e;let t=U.useContext(Q2),n=Fb(Qc.UseRouteError),r=$2(Qc.UseRouteError);return t!==void 0?t:(e=n.errors)==null?void 0:e[r]}function Ub(){let{router:e}=Bb(q2.UseNavigateStable),t=$2(Qc.UseNavigateStable),n=U.useRef(!1);return Z2(()=>{n.current=!0}),U.useCallback(function(s,a){a===void 0&&(a={}),n.current&&(typeof s=="number"?e.navigate(s):e.navigate(s,Xa({fromRouteId:t},a)))},[e,t])}function Hb(e,t){e==null||e.v7_startTransition,e==null||e.v7_relativeSplatPath}function ol(e){let{to:t,replace:n,state:r,relative:s}=e;Eo()||bt(!1);let{future:a,static:c}=U.useContext(ji),{matches:h}=U.useContext(zi),{pathname:p}=sl(),g=Ui(),x=v0(t,S0(h,a.v7_relativeSplatPath),p,s==="path"),w=JSON.stringify(x);return U.useEffect(()=>g(JSON.parse(w),{replace:n,state:r,relative:s}),[g,w,s,n,r]),null}function Yn(e){bt(!1)}function Wb(e){let{basename:t="/",children:n=null,location:r,navigationType:s=yi.Pop,navigator:a,static:c=!1,future:h}=e;Eo()&&bt(!1);let p=t.replace(/^\/*/,"/"),g=U.useMemo(()=>({basename:p,navigator:a,static:c,future:Xa({v7_relativeSplatPath:!1},h)}),[p,h,a,c]);typeof r=="string"&&(r=Co(r));let{pathname:x="/",search:w="",hash:E="",state:S=null,key:v="default"}=r,R=U.useMemo(()=>{let O=A0(x,p);return O==null?null:{location:{pathname:O,search:w,hash:E,state:S,key:v},navigationType:s}},[p,x,w,E,S,v,s]);return R==null?null:U.createElement(ji.Provider,{value:g},U.createElement(Du.Provider,{children:n,value:R}))}function Vb(e){let{children:t,location:n}=e;return Mb(th(t),n)}new Promise(()=>{});function th(e,t){t===void 0&&(t=[]);let n=[];return U.Children.forEach(e,(r,s)=>{if(!U.isValidElement(r))return;let a=[...t,s];if(r.type===U.Fragment){n.push.apply(n,th(r.props.children,a));return}r.type!==Yn&&bt(!1),!r.props.index||!r.props.children||bt(!1);let c={id:r.props.id||a.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(c.children=th(r.props.children,a)),n.push(c)}),n}/**
 * React Router DOM v6.30.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function nh(){return nh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},nh.apply(this,arguments)}function Yb(e,t){if(e==null)return{};var n={},r=Object.keys(e),s,a;for(a=0;a<r.length;a++)s=r[a],!(t.indexOf(s)>=0)&&(n[s]=e[s]);return n}function Xb(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function Gb(e,t){return e.button===0&&(!t||t==="_self")&&!Xb(e)}const Qb=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],Zb="6";try{window.__reactRouterVersion=Zb}catch{}const Kb="startTransition",Dg=VC[Kb];function qb(e){let{basename:t,children:n,future:r,window:s}=e,a=U.useRef();a.current==null&&(a.current=nb({window:s,v5Compat:!0}));let c=a.current,[h,p]=U.useState({action:c.action,location:c.location}),{v7_startTransition:g}=r||{},x=U.useCallback(w=>{g&&Dg?Dg(()=>p(w)):p(w)},[p,g]);return U.useLayoutEffect(()=>c.listen(x),[c,x]),U.useEffect(()=>Hb(r),[r]),U.createElement(Wb,{basename:t,children:n,location:h.location,navigationType:h.action,navigator:c,future:r})}const $b=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Jb=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Zn=U.forwardRef(function(t,n){let{onClick:r,relative:s,reloadDocument:a,replace:c,state:h,target:p,to:g,preventScrollReset:x,viewTransition:w}=t,E=Yb(t,Qb),{basename:S}=U.useContext(ji),v,R=!1;if(typeof g=="string"&&Jb.test(g)&&(v=g,$b))try{let N=new URL(window.location.href),L=g.startsWith("//")?new URL(N.protocol+g):new URL(g),z=A0(L.pathname,S);L.origin===N.origin&&z!=null?g=z+L.search+L.hash:R=!0}catch{}let O=Tb(g,{relative:s}),M=eA(g,{replace:c,state:h,target:p,preventScrollReset:x,relative:s,viewTransition:w});function T(N){r&&r(N),N.defaultPrevented||M(N)}return U.createElement("a",nh({},E,{href:v||O,onClick:R||a?r:T,ref:n,target:p}))});var kg;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(kg||(kg={}));var Lg;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(Lg||(Lg={}));function eA(e,t){let{target:n,replace:r,state:s,preventScrollReset:a,relative:c,viewTransition:h}=t===void 0?{}:t,p=Ui(),g=sl(),x=K2(e,{relative:c});return U.useCallback(w=>{if(Gb(w,n)){w.preventDefault();let E=r!==void 0?r:Gc(g)===Gc(x);p(e,{replace:E,state:s,preventScrollReset:a,relative:c,viewTransition:h})}},[g,p,x,r,s,n,e,a,c,h])}let tA={data:""},nA=e=>typeof window=="object"?((e?e.querySelector("#_goober"):window._goober)||Object.assign((e||document.head).appendChild(document.createElement("style")),{innerHTML:" ",id:"_goober"})).firstChild:e||tA,rA=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,iA=/\/\*[^]*?\*\/|  +/g,Pg=/\n+/g,pi=(e,t)=>{let n="",r="",s="";for(let a in e){let c=e[a];a[0]=="@"?a[1]=="i"?n=a+" "+c+";":r+=a[1]=="f"?pi(c,a):a+"{"+pi(c,a[1]=="k"?"":t)+"}":typeof c=="object"?r+=pi(c,t?t.replace(/([^,])+/g,h=>a.replace(/([^,]*:\S+\([^)]*\))|([^,])+/g,p=>/&/.test(p)?p.replace(/&/g,h):h?h+" "+p:p)):a):c!=null&&(a=/^--/.test(a)?a:a.replace(/[A-Z]/g,"-$&").toLowerCase(),s+=pi.p?pi.p(a,c):a+":"+c+";")}return n+(t&&s?t+"{"+s+"}":s)+r},Lr={},J2=e=>{if(typeof e=="object"){let t="";for(let n in e)t+=n+J2(e[n]);return t}return e},sA=(e,t,n,r,s)=>{let a=J2(e),c=Lr[a]||(Lr[a]=(p=>{let g=0,x=11;for(;g<p.length;)x=101*x+p.charCodeAt(g++)>>>0;return"go"+x})(a));if(!Lr[c]){let p=a!==e?e:(g=>{let x,w,E=[{}];for(;x=rA.exec(g.replace(iA,""));)x[4]?E.shift():x[3]?(w=x[3].replace(Pg," ").trim(),E.unshift(E[0][w]=E[0][w]||{})):E[0][x[1]]=x[2].replace(Pg," ").trim();return E[0]})(e);Lr[c]=pi(s?{["@keyframes "+c]:p}:p,n?"":"."+c)}let h=n&&Lr.g?Lr.g:null;return n&&(Lr.g=Lr[c]),((p,g,x,w)=>{w?g.data=g.data.replace(w,p):g.data.indexOf(p)===-1&&(g.data=x?p+g.data:g.data+p)})(Lr[c],t,r,h),c},oA=(e,t,n)=>e.reduce((r,s,a)=>{let c=t[a];if(c&&c.call){let h=c(n),p=h&&h.props&&h.props.className||/^go/.test(h)&&h;c=p?"."+p:h&&typeof h=="object"?h.props?"":pi(h,""):h===!1?"":h}return r+s+(c??"")},"");function ku(e){let t=this||{},n=e.call?e(t.p):e;return sA(n.unshift?n.raw?oA(n,[].slice.call(arguments,1),t.p):n.reduce((r,s)=>Object.assign(r,s&&s.call?s(t.p):s),{}):n,nA(t.target),t.g,t.o,t.k)}let ey,rh,ih;ku.bind({g:1});let qr=ku.bind({k:1});function aA(e,t,n,r){pi.p=t,ey=e,rh=n,ih=r}function Hi(e,t){let n=this||{};return function(){let r=arguments;function s(a,c){let h=Object.assign({},a),p=h.className||s.className;n.p=Object.assign({theme:rh&&rh()},h),n.o=/ *go\d+/.test(p),h.className=ku.apply(n,r)+(p?" "+p:"");let g=e;return e[0]&&(g=h.as||e,delete h.as),ih&&g[0]&&ih(h),ey(g,h)}return s}}var lA=e=>typeof e=="function",Zc=(e,t)=>lA(e)?e(t):e,cA=(()=>{let e=0;return()=>(++e).toString()})(),ty=(()=>{let e;return()=>{if(e===void 0&&typeof window<"u"){let t=matchMedia("(prefers-reduced-motion: reduce)");e=!t||t.matches}return e}})(),uA=20,ny=(e,t)=>{switch(t.type){case 0:return{...e,toasts:[t.toast,...e.toasts].slice(0,uA)};case 1:return{...e,toasts:e.toasts.map(a=>a.id===t.toast.id?{...a,...t.toast}:a)};case 2:let{toast:n}=t;return ny(e,{type:e.toasts.find(a=>a.id===n.id)?1:0,toast:n});case 3:let{toastId:r}=t;return{...e,toasts:e.toasts.map(a=>a.id===r||r===void 0?{...a,dismissed:!0,visible:!1}:a)};case 4:return t.toastId===void 0?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(a=>a.id!==t.toastId)};case 5:return{...e,pausedAt:t.time};case 6:let s=t.time-(e.pausedAt||0);return{...e,pausedAt:void 0,toasts:e.toasts.map(a=>({...a,pauseDuration:a.pauseDuration+s}))}}},xc=[],os={toasts:[],pausedAt:void 0},_s=e=>{os=ny(os,e),xc.forEach(t=>{t(os)})},fA={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},dA=(e={})=>{let[t,n]=U.useState(os),r=U.useRef(os);U.useEffect(()=>(r.current!==os&&n(os),xc.push(n),()=>{let a=xc.indexOf(n);a>-1&&xc.splice(a,1)}),[]);let s=t.toasts.map(a=>{var c,h,p;return{...e,...e[a.type],...a,removeDelay:a.removeDelay||((c=e[a.type])==null?void 0:c.removeDelay)||(e==null?void 0:e.removeDelay),duration:a.duration||((h=e[a.type])==null?void 0:h.duration)||(e==null?void 0:e.duration)||fA[a.type],style:{...e.style,...(p=e[a.type])==null?void 0:p.style,...a.style}}});return{...t,toasts:s}},hA=(e,t="blank",n)=>({createdAt:Date.now(),visible:!0,dismissed:!1,type:t,ariaProps:{role:"status","aria-live":"polite"},message:e,pauseDuration:0,...n,id:(n==null?void 0:n.id)||cA()}),al=e=>(t,n)=>{let r=hA(t,e,n);return _s({type:2,toast:r}),r.id},Yt=(e,t)=>al("blank")(e,t);Yt.error=al("error");Yt.success=al("success");Yt.loading=al("loading");Yt.custom=al("custom");Yt.dismiss=e=>{_s({type:3,toastId:e})};Yt.remove=e=>_s({type:4,toastId:e});Yt.promise=(e,t,n)=>{let r=Yt.loading(t.loading,{...n,...n==null?void 0:n.loading});return typeof e=="function"&&(e=e()),e.then(s=>{let a=t.success?Zc(t.success,s):void 0;return a?Yt.success(a,{id:r,...n,...n==null?void 0:n.success}):Yt.dismiss(r),s}).catch(s=>{let a=t.error?Zc(t.error,s):void 0;a?Yt.error(a,{id:r,...n,...n==null?void 0:n.error}):Yt.dismiss(r)}),e};var gA=(e,t)=>{_s({type:1,toast:{id:e,height:t}})},pA=()=>{_s({type:5,time:Date.now()})},Ea=new Map,mA=1e3,xA=(e,t=mA)=>{if(Ea.has(e))return;let n=setTimeout(()=>{Ea.delete(e),_s({type:4,toastId:e})},t);Ea.set(e,n)},yA=e=>{let{toasts:t,pausedAt:n}=dA(e);U.useEffect(()=>{if(n)return;let a=Date.now(),c=t.map(h=>{if(h.duration===1/0)return;let p=(h.duration||0)+h.pauseDuration-(a-h.createdAt);if(p<0){h.visible&&Yt.dismiss(h.id);return}return setTimeout(()=>Yt.dismiss(h.id),p)});return()=>{c.forEach(h=>h&&clearTimeout(h))}},[t,n]);let r=U.useCallback(()=>{n&&_s({type:6,time:Date.now()})},[n]),s=U.useCallback((a,c)=>{let{reverseOrder:h=!1,gutter:p=8,defaultPosition:g}=c||{},x=t.filter(S=>(S.position||g)===(a.position||g)&&S.height),w=x.findIndex(S=>S.id===a.id),E=x.filter((S,v)=>v<w&&S.visible).length;return x.filter(S=>S.visible).slice(...h?[E+1]:[0,E]).reduce((S,v)=>S+(v.height||0)+p,0)},[t]);return U.useEffect(()=>{t.forEach(a=>{if(a.dismissed)xA(a.id,a.removeDelay);else{let c=Ea.get(a.id);c&&(clearTimeout(c),Ea.delete(a.id))}})},[t]),{toasts:t,handlers:{updateHeight:gA,startPause:pA,endPause:r,calculateOffset:s}}},wA=qr`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
 transform: scale(1) rotate(45deg);
  opacity: 1;
}`,CA=qr`
from {
  transform: scale(0);
  opacity: 0;
}
to {
  transform: scale(1);
  opacity: 1;
}`,EA=qr`
from {
  transform: scale(0) rotate(90deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(90deg);
	opacity: 1;
}`,bA=Hi("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${e=>e.primary||"#ff4b4b"};
  position: relative;
  transform: rotate(45deg);

  animation: ${wA} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;

  &:after,
  &:before {
    content: '';
    animation: ${CA} 0.15s ease-out forwards;
    animation-delay: 150ms;
    position: absolute;
    border-radius: 3px;
    opacity: 0;
    background: ${e=>e.secondary||"#fff"};
    bottom: 9px;
    left: 4px;
    height: 2px;
    width: 12px;
  }

  &:before {
    animation: ${EA} 0.15s ease-out forwards;
    animation-delay: 180ms;
    transform: rotate(90deg);
  }
`,AA=qr`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,SA=Hi("div")`
  width: 12px;
  height: 12px;
  box-sizing: border-box;
  border: 2px solid;
  border-radius: 100%;
  border-color: ${e=>e.secondary||"#e0e0e0"};
  border-right-color: ${e=>e.primary||"#616161"};
  animation: ${AA} 1s linear infinite;
`,vA=qr`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(45deg);
	opacity: 1;
}`,_A=qr`
0% {
	height: 0;
	width: 0;
	opacity: 0;
}
40% {
  height: 0;
	width: 6px;
	opacity: 1;
}
100% {
  opacity: 1;
  height: 10px;
}`,IA=Hi("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${e=>e.primary||"#61d345"};
  position: relative;
  transform: rotate(45deg);

  animation: ${vA} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;
  &:after {
    content: '';
    box-sizing: border-box;
    animation: ${_A} 0.2s ease-out forwards;
    opacity: 0;
    animation-delay: 200ms;
    position: absolute;
    border-right: 2px solid;
    border-bottom: 2px solid;
    border-color: ${e=>e.secondary||"#fff"};
    bottom: 6px;
    left: 6px;
    height: 10px;
    width: 6px;
  }
`,TA=Hi("div")`
  position: absolute;
`,NA=Hi("div")`
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  min-width: 20px;
  min-height: 20px;
`,MA=qr`
from {
  transform: scale(0.6);
  opacity: 0.4;
}
to {
  transform: scale(1);
  opacity: 1;
}`,RA=Hi("div")`
  position: relative;
  transform: scale(0.6);
  opacity: 0.4;
  min-width: 20px;
  animation: ${MA} 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
`,OA=({toast:e})=>{let{icon:t,type:n,iconTheme:r}=e;return t!==void 0?typeof t=="string"?U.createElement(RA,null,t):t:n==="blank"?null:U.createElement(NA,null,U.createElement(SA,{...r}),n!=="loading"&&U.createElement(TA,null,n==="error"?U.createElement(bA,{...r}):U.createElement(IA,{...r})))},DA=e=>`
0% {transform: translate3d(0,${e*-200}%,0) scale(.6); opacity:.5;}
100% {transform: translate3d(0,0,0) scale(1); opacity:1;}
`,kA=e=>`
0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}
100% {transform: translate3d(0,${e*-150}%,-1px) scale(.6); opacity:0;}
`,LA="0%{opacity:0;} 100%{opacity:1;}",PA="0%{opacity:1;} 100%{opacity:0;}",BA=Hi("div")`
  display: flex;
  align-items: center;
  background: #fff;
  color: #363636;
  line-height: 1.3;
  will-change: transform;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);
  max-width: 350px;
  pointer-events: auto;
  padding: 8px 10px;
  border-radius: 8px;
`,FA=Hi("div")`
  display: flex;
  justify-content: center;
  margin: 4px 10px;
  color: inherit;
  flex: 1 1 auto;
  white-space: pre-line;
`,jA=(e,t)=>{let n=e.includes("top")?1:-1,[r,s]=ty()?[LA,PA]:[DA(n),kA(n)];return{animation:t?`${qr(r)} 0.35s cubic-bezier(.21,1.02,.73,1) forwards`:`${qr(s)} 0.4s forwards cubic-bezier(.06,.71,.55,1)`}},zA=U.memo(({toast:e,position:t,style:n,children:r})=>{let s=e.height?jA(e.position||t||"top-center",e.visible):{opacity:0},a=U.createElement(OA,{toast:e}),c=U.createElement(FA,{...e.ariaProps},Zc(e.message,e));return U.createElement(BA,{className:e.className,style:{...s,...n,...e.style}},typeof r=="function"?r({icon:a,message:c}):U.createElement(U.Fragment,null,a,c))});aA(U.createElement);var UA=({id:e,className:t,style:n,onHeightUpdate:r,children:s})=>{let a=U.useCallback(c=>{if(c){let h=()=>{let p=c.getBoundingClientRect().height;r(e,p)};h(),new MutationObserver(h).observe(c,{subtree:!0,childList:!0,characterData:!0})}},[e,r]);return U.createElement("div",{ref:a,className:t,style:n},s)},HA=(e,t)=>{let n=e.includes("top"),r=n?{top:0}:{bottom:0},s=e.includes("center")?{justifyContent:"center"}:e.includes("right")?{justifyContent:"flex-end"}:{};return{left:0,right:0,display:"flex",position:"absolute",transition:ty()?void 0:"all 230ms cubic-bezier(.21,1.02,.73,1)",transform:`translateY(${t*(n?1:-1)}px)`,...r,...s}},WA=ku`
  z-index: 9999;
  > * {
    pointer-events: auto;
  }
`,Wl=16,VA=({reverseOrder:e,position:t="top-center",toastOptions:n,gutter:r,children:s,containerStyle:a,containerClassName:c})=>{let{toasts:h,handlers:p}=yA(n);return U.createElement("div",{id:"_rht_toaster",style:{position:"fixed",zIndex:9999,top:Wl,left:Wl,right:Wl,bottom:Wl,pointerEvents:"none",...a},className:c,onMouseEnter:p.startPause,onMouseLeave:p.endPause},h.map(g=>{let x=g.position||t,w=p.calculateOffset(g,{reverseOrder:e,gutter:r,defaultPosition:t}),E=HA(x,w);return U.createElement(UA,{id:g.id,key:g.id,onHeightUpdate:p.updateHeight,className:g.visible?WA:"",style:E},g.type==="custom"?Zc(g.message,g):s?s(g):U.createElement(zA,{toast:g,position:x}))}))},qn=Yt,ry={exports:{}},iy={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ll=U;function YA(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var XA=typeof Object.is=="function"?Object.is:YA,GA=ll.useSyncExternalStore,QA=ll.useRef,ZA=ll.useEffect,KA=ll.useMemo,qA=ll.useDebugValue;iy.useSyncExternalStoreWithSelector=function(e,t,n,r,s){var a=QA(null);if(a.current===null){var c={hasValue:!1,value:null};a.current=c}else c=a.current;a=KA(function(){function p(S){if(!g){if(g=!0,x=S,S=r(S),s!==void 0&&c.hasValue){var v=c.value;if(s(v,S))return w=v}return w=S}if(v=w,XA(x,S))return v;var R=r(S);return s!==void 0&&s(v,R)?(x=S,v):(x=S,w=R)}var g=!1,x,w,E=n===void 0?null:n;return[function(){return p(t())},E===null?void 0:function(){return p(E())}]},[t,n,r,s]);var h=GA(e,a[0],a[1]);return ZA(function(){c.hasValue=!0,c.value=h},[h]),qA(h),h};ry.exports=iy;var $A=ry.exports;function JA(e){e()}function eS(){let e=null,t=null;return{clear(){e=null,t=null},notify(){JA(()=>{let n=e;for(;n;)n.callback(),n=n.next})},get(){const n=[];let r=e;for(;r;)n.push(r),r=r.next;return n},subscribe(n){let r=!0;const s=t={callback:n,next:null,prev:t};return s.prev?s.prev.next=s:e=s,function(){!r||e===null||(r=!1,s.next?s.next.prev=s.prev:t=s.prev,s.prev?s.prev.next=s.next:e=s.next)}}}}var Bg={notify(){},get:()=>[]};function tS(e,t){let n,r=Bg,s=0,a=!1;function c(R){x();const O=r.subscribe(R);let M=!1;return()=>{M||(M=!0,O(),w())}}function h(){r.notify()}function p(){v.onStateChange&&v.onStateChange()}function g(){return a}function x(){s++,n||(n=e.subscribe(p),r=eS())}function w(){s--,n&&s===0&&(n(),n=void 0,r.clear(),r=Bg)}function E(){a||(a=!0,x())}function S(){a&&(a=!1,w())}const v={addNestedSub:c,notifyNestedSubs:h,handleChangeWrapper:p,isSubscribed:g,trySubscribe:E,tryUnsubscribe:S,getListeners:()=>r};return v}var nS=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",rS=nS(),iS=()=>typeof navigator<"u"&&navigator.product==="ReactNative",sS=iS(),oS=()=>rS||sS?U.useLayoutEffect:U.useEffect,aS=oS(),Vf=Symbol.for("react-redux-context"),Yf=typeof globalThis<"u"?globalThis:{};function lS(){if(!U.createContext)return{};const e=Yf[Vf]??(Yf[Vf]=new Map);let t=e.get(U.createContext);return t||(t=U.createContext(null),e.set(U.createContext,t)),t}var Di=lS();function cS(e){const{children:t,context:n,serverState:r,store:s}=e,a=U.useMemo(()=>{const p=tS(s);return{store:s,subscription:p,getServerState:r?()=>r:void 0}},[s,r]),c=U.useMemo(()=>s.getState(),[s]);aS(()=>{const{subscription:p}=a;return p.onStateChange=p.notifyNestedSubs,p.trySubscribe(),c!==s.getState()&&p.notifyNestedSubs(),()=>{p.tryUnsubscribe(),p.onStateChange=void 0}},[a,c]);const h=n||Di;return U.createElement(h.Provider,{value:a},t)}var uS=cS;function I0(e=Di){return function(){return U.useContext(e)}}var sy=I0();function oy(e=Di){const t=e===Di?sy:I0(e),n=()=>{const{store:r}=t();return r};return Object.assign(n,{withTypes:()=>n}),n}var fS=oy();function dS(e=Di){const t=e===Di?fS:oy(e),n=()=>t().dispatch;return Object.assign(n,{withTypes:()=>n}),n}var T0=dS(),hS=(e,t)=>e===t;function gS(e=Di){const t=e===Di?sy:I0(e),n=(r,s={})=>{const{equalityFn:a=hS}=typeof s=="function"?{equalityFn:s}:s,c=t(),{store:h,subscription:p,getServerState:g}=c;U.useRef(!0);const x=U.useCallback({[r.name](E){return r(E)}}[r.name],[r]),w=$A.useSyncExternalStoreWithSelector(p.addNestedSub,h.getState,g||h.getState,x,a);return U.useDebugValue(w),w};return Object.assign(n,{withTypes:()=>n}),n}var bo=gS();function Wt(e){return`Minified Redux error #${e}; visit https://redux.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var pS=typeof Symbol=="function"&&Symbol.observable||"@@observable",Fg=pS,Xf=()=>Math.random().toString(36).substring(7).split("").join("."),mS={INIT:`@@redux/INIT${Xf()}`,REPLACE:`@@redux/REPLACE${Xf()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${Xf()}`},Kc=mS;function N0(e){if(typeof e!="object"||e===null)return!1;let t=e;for(;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t||Object.getPrototypeOf(e)===null}function ay(e,t,n){if(typeof e!="function")throw new Error(Wt(2));if(typeof t=="function"&&typeof n=="function"||typeof n=="function"&&typeof arguments[3]=="function")throw new Error(Wt(0));if(typeof t=="function"&&typeof n>"u"&&(n=t,t=void 0),typeof n<"u"){if(typeof n!="function")throw new Error(Wt(1));return n(ay)(e,t)}let r=e,s=t,a=new Map,c=a,h=0,p=!1;function g(){c===a&&(c=new Map,a.forEach((O,M)=>{c.set(M,O)}))}function x(){if(p)throw new Error(Wt(3));return s}function w(O){if(typeof O!="function")throw new Error(Wt(4));if(p)throw new Error(Wt(5));let M=!0;g();const T=h++;return c.set(T,O),function(){if(M){if(p)throw new Error(Wt(6));M=!1,g(),c.delete(T),a=null}}}function E(O){if(!N0(O))throw new Error(Wt(7));if(typeof O.type>"u")throw new Error(Wt(8));if(typeof O.type!="string")throw new Error(Wt(17));if(p)throw new Error(Wt(9));try{p=!0,s=r(s,O)}finally{p=!1}return(a=c).forEach(T=>{T()}),O}function S(O){if(typeof O!="function")throw new Error(Wt(10));r=O,E({type:Kc.REPLACE})}function v(){const O=w;return{subscribe(M){if(typeof M!="object"||M===null)throw new Error(Wt(11));function T(){const L=M;L.next&&L.next(x())}return T(),{unsubscribe:O(T)}},[Fg](){return this}}}return E({type:Kc.INIT}),{dispatch:E,subscribe:w,getState:x,replaceReducer:S,[Fg]:v}}function xS(e){Object.keys(e).forEach(t=>{const n=e[t];if(typeof n(void 0,{type:Kc.INIT})>"u")throw new Error(Wt(12));if(typeof n(void 0,{type:Kc.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(Wt(13))})}function yS(e){const t=Object.keys(e),n={};for(let a=0;a<t.length;a++){const c=t[a];typeof e[c]=="function"&&(n[c]=e[c])}const r=Object.keys(n);let s;try{xS(n)}catch(a){s=a}return function(c={},h){if(s)throw s;let p=!1;const g={};for(let x=0;x<r.length;x++){const w=r[x],E=n[w],S=c[w],v=E(S,h);if(typeof v>"u")throw h&&h.type,new Error(Wt(14));g[w]=v,p=p||v!==S}return p=p||r.length!==Object.keys(c).length,p?g:c}}function qc(...e){return e.length===0?t=>t:e.length===1?e[0]:e.reduce((t,n)=>(...r)=>t(n(...r)))}function wS(...e){return t=>(n,r)=>{const s=t(n,r);let a=()=>{throw new Error(Wt(15))};const c={getState:s.getState,dispatch:(p,...g)=>a(p,...g)},h=e.map(p=>p(c));return a=qc(...h)(s.dispatch),{...s,dispatch:a}}}function CS(e){return N0(e)&&"type"in e&&typeof e.type=="string"}var ly=Symbol.for("immer-nothing"),jg=Symbol.for("immer-draftable"),Pn=Symbol.for("immer-state");function ur(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var po=Object.getPrototypeOf;function ys(e){return!!e&&!!e[Pn]}function $r(e){var t;return e?cy(e)||Array.isArray(e)||!!e[jg]||!!((t=e.constructor)!=null&&t[jg])||Pu(e)||Bu(e):!1}var ES=Object.prototype.constructor.toString();function cy(e){if(!e||typeof e!="object")return!1;const t=po(e);if(t===null)return!0;const n=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;return n===Object?!0:typeof n=="function"&&Function.toString.call(n)===ES}function $c(e,t){Lu(e)===0?Reflect.ownKeys(e).forEach(n=>{t(n,e[n],e)}):e.forEach((n,r)=>t(r,n,e))}function Lu(e){const t=e[Pn];return t?t.type_:Array.isArray(e)?1:Pu(e)?2:Bu(e)?3:0}function sh(e,t){return Lu(e)===2?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function uy(e,t,n){const r=Lu(e);r===2?e.set(t,n):r===3?e.add(n):e[t]=n}function bS(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}function Pu(e){return e instanceof Map}function Bu(e){return e instanceof Set}function ts(e){return e.copy_||e.base_}function oh(e,t){if(Pu(e))return new Map(e);if(Bu(e))return new Set(e);if(Array.isArray(e))return Array.prototype.slice.call(e);const n=cy(e);if(t===!0||t==="class_only"&&!n){const r=Object.getOwnPropertyDescriptors(e);delete r[Pn];let s=Reflect.ownKeys(r);for(let a=0;a<s.length;a++){const c=s[a],h=r[c];h.writable===!1&&(h.writable=!0,h.configurable=!0),(h.get||h.set)&&(r[c]={configurable:!0,writable:!0,enumerable:h.enumerable,value:e[c]})}return Object.create(po(e),r)}else{const r=po(e);if(r!==null&&n)return{...e};const s=Object.create(r);return Object.assign(s,e)}}function M0(e,t=!1){return Fu(e)||ys(e)||!$r(e)||(Lu(e)>1&&(e.set=e.add=e.clear=e.delete=AS),Object.freeze(e),t&&Object.entries(e).forEach(([n,r])=>M0(r,!0))),e}function AS(){ur(2)}function Fu(e){return Object.isFrozen(e)}var SS={};function ws(e){const t=SS[e];return t||ur(0,e),t}var Ga;function fy(){return Ga}function vS(e,t){return{drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function zg(e,t){t&&(ws("Patches"),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function ah(e){lh(e),e.drafts_.forEach(_S),e.drafts_=null}function lh(e){e===Ga&&(Ga=e.parent_)}function Ug(e){return Ga=vS(Ga,e)}function _S(e){const t=e[Pn];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function Hg(e,t){t.unfinalizedDrafts_=t.drafts_.length;const n=t.drafts_[0];return e!==void 0&&e!==n?(n[Pn].modified_&&(ah(t),ur(4)),$r(e)&&(e=Jc(t,e),t.parent_||eu(t,e)),t.patches_&&ws("Patches").generateReplacementPatches_(n[Pn].base_,e,t.patches_,t.inversePatches_)):e=Jc(t,n,[]),ah(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==ly?e:void 0}function Jc(e,t,n){if(Fu(t))return t;const r=t[Pn];if(!r)return $c(t,(s,a)=>Wg(e,r,t,s,a,n)),t;if(r.scope_!==e)return t;if(!r.modified_)return eu(e,r.base_,!0),r.base_;if(!r.finalized_){r.finalized_=!0,r.scope_.unfinalizedDrafts_--;const s=r.copy_;let a=s,c=!1;r.type_===3&&(a=new Set(s),s.clear(),c=!0),$c(a,(h,p)=>Wg(e,r,s,h,p,n,c)),eu(e,s,!1),n&&e.patches_&&ws("Patches").generatePatches_(r,n,e.patches_,e.inversePatches_)}return r.copy_}function Wg(e,t,n,r,s,a,c){if(ys(s)){const h=a&&t&&t.type_!==3&&!sh(t.assigned_,r)?a.concat(r):void 0,p=Jc(e,s,h);if(uy(n,r,p),ys(p))e.canAutoFreeze_=!1;else return}else c&&n.add(s);if($r(s)&&!Fu(s)){if(!e.immer_.autoFreeze_&&e.unfinalizedDrafts_<1)return;Jc(e,s),(!t||!t.scope_.parent_)&&typeof r!="symbol"&&Object.prototype.propertyIsEnumerable.call(n,r)&&eu(e,s)}}function eu(e,t,n=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&M0(t,n)}function IS(e,t){const n=Array.isArray(e),r={type_:n?1:0,scope_:t?t.scope_:fy(),modified_:!1,finalized_:!1,assigned_:{},parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1};let s=r,a=R0;n&&(s=[r],a=Qa);const{revoke:c,proxy:h}=Proxy.revocable(s,a);return r.draft_=h,r.revoke_=c,h}var R0={get(e,t){if(t===Pn)return e;const n=ts(e);if(!sh(n,t))return TS(e,n,t);const r=n[t];return e.finalized_||!$r(r)?r:r===Gf(e.base_,t)?(Qf(e),e.copy_[t]=uh(r,e)):r},has(e,t){return t in ts(e)},ownKeys(e){return Reflect.ownKeys(ts(e))},set(e,t,n){const r=dy(ts(e),t);if(r!=null&&r.set)return r.set.call(e.draft_,n),!0;if(!e.modified_){const s=Gf(ts(e),t),a=s==null?void 0:s[Pn];if(a&&a.base_===n)return e.copy_[t]=n,e.assigned_[t]=!1,!0;if(bS(n,s)&&(n!==void 0||sh(e.base_,t)))return!0;Qf(e),ch(e)}return e.copy_[t]===n&&(n!==void 0||t in e.copy_)||Number.isNaN(n)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=n,e.assigned_[t]=!0),!0},deleteProperty(e,t){return Gf(e.base_,t)!==void 0||t in e.base_?(e.assigned_[t]=!1,Qf(e),ch(e)):delete e.assigned_[t],e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor(e,t){const n=ts(e),r=Reflect.getOwnPropertyDescriptor(n,t);return r&&{writable:!0,configurable:e.type_!==1||t!=="length",enumerable:r.enumerable,value:n[t]}},defineProperty(){ur(11)},getPrototypeOf(e){return po(e.base_)},setPrototypeOf(){ur(12)}},Qa={};$c(R0,(e,t)=>{Qa[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}});Qa.deleteProperty=function(e,t){return Qa.set.call(this,e,t,void 0)};Qa.set=function(e,t,n){return R0.set.call(this,e[0],t,n,e[0])};function Gf(e,t){const n=e[Pn];return(n?ts(n):e)[t]}function TS(e,t,n){var s;const r=dy(t,n);return r?"value"in r?r.value:(s=r.get)==null?void 0:s.call(e.draft_):void 0}function dy(e,t){if(!(t in e))return;let n=po(e);for(;n;){const r=Object.getOwnPropertyDescriptor(n,t);if(r)return r;n=po(n)}}function ch(e){e.modified_||(e.modified_=!0,e.parent_&&ch(e.parent_))}function Qf(e){e.copy_||(e.copy_=oh(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var NS=class{constructor(e){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.produce=(t,n,r)=>{if(typeof t=="function"&&typeof n!="function"){const a=n;n=t;const c=this;return function(p=a,...g){return c.produce(p,x=>n.call(this,x,...g))}}typeof n!="function"&&ur(6),r!==void 0&&typeof r!="function"&&ur(7);let s;if($r(t)){const a=Ug(this),c=uh(t,void 0);let h=!0;try{s=n(c),h=!1}finally{h?ah(a):lh(a)}return zg(a,r),Hg(s,a)}else if(!t||typeof t!="object"){if(s=n(t),s===void 0&&(s=t),s===ly&&(s=void 0),this.autoFreeze_&&M0(s,!0),r){const a=[],c=[];ws("Patches").generateReplacementPatches_(t,s,a,c),r(a,c)}return s}else ur(1,t)},this.produceWithPatches=(t,n)=>{if(typeof t=="function")return(c,...h)=>this.produceWithPatches(c,p=>t(p,...h));let r,s;return[this.produce(t,n,(c,h)=>{r=c,s=h}),r,s]},typeof(e==null?void 0:e.autoFreeze)=="boolean"&&this.setAutoFreeze(e.autoFreeze),typeof(e==null?void 0:e.useStrictShallowCopy)=="boolean"&&this.setUseStrictShallowCopy(e.useStrictShallowCopy)}createDraft(e){$r(e)||ur(8),ys(e)&&(e=MS(e));const t=Ug(this),n=uh(e,void 0);return n[Pn].isManual_=!0,lh(t),n}finishDraft(e,t){const n=e&&e[Pn];(!n||!n.isManual_)&&ur(9);const{scope_:r}=n;return zg(r,t),Hg(void 0,r)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}applyPatches(e,t){let n;for(n=t.length-1;n>=0;n--){const s=t[n];if(s.path.length===0&&s.op==="replace"){e=s.value;break}}n>-1&&(t=t.slice(n+1));const r=ws("Patches").applyPatches_;return ys(e)?r(e,t):this.produce(e,s=>r(s,t))}};function uh(e,t){const n=Pu(e)?ws("MapSet").proxyMap_(e,t):Bu(e)?ws("MapSet").proxySet_(e,t):IS(e,t);return(t?t.scope_:fy()).drafts_.push(n),n}function MS(e){return ys(e)||ur(10,e),hy(e)}function hy(e){if(!$r(e)||Fu(e))return e;const t=e[Pn];let n;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,n=oh(e,t.scope_.immer_.useStrictShallowCopy_)}else n=oh(e,!0);return $c(n,(r,s)=>{uy(n,r,hy(s))}),t&&(t.finalized_=!1),n}var Bn=new NS,gy=Bn.produce;Bn.produceWithPatches.bind(Bn);Bn.setAutoFreeze.bind(Bn);Bn.setUseStrictShallowCopy.bind(Bn);Bn.applyPatches.bind(Bn);Bn.createDraft.bind(Bn);Bn.finishDraft.bind(Bn);function py(e){return({dispatch:n,getState:r})=>s=>a=>typeof a=="function"?a(n,r,e):s(a)}var RS=py(),OS=py,DS=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?qc:qc.apply(null,arguments)};function Vg(e,t){function n(...r){if(t){let s=t(...r);if(!s)throw new Error(Xr(0));return{type:e,payload:s.payload,..."meta"in s&&{meta:s.meta},..."error"in s&&{error:s.error}}}return{type:e,payload:r[0]}}return n.toString=()=>`${e}`,n.type=e,n.match=r=>CS(r)&&r.type===e,n}var my=class sa extends Array{constructor(...t){super(...t),Object.setPrototypeOf(this,sa.prototype)}static get[Symbol.species](){return sa}concat(...t){return super.concat.apply(this,t)}prepend(...t){return t.length===1&&Array.isArray(t[0])?new sa(...t[0].concat(this)):new sa(...t.concat(this))}};function Yg(e){return $r(e)?gy(e,()=>{}):e}function Xg(e,t,n){return e.has(t)?e.get(t):e.set(t,n(t)).get(t)}function kS(e){return typeof e=="boolean"}var LS=()=>function(t){const{thunk:n=!0,immutableCheck:r=!0,serializableCheck:s=!0,actionCreatorCheck:a=!0}=t??{};let c=new my;return n&&(kS(n)?c.push(RS):c.push(OS(n.extraArgument))),c},PS="RTK_autoBatch",Gg=e=>t=>{setTimeout(t,e)},BS=(e={type:"raf"})=>t=>(...n)=>{const r=t(...n);let s=!0,a=!1,c=!1;const h=new Set,p=e.type==="tick"?queueMicrotask:e.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:Gg(10):e.type==="callback"?e.queueNotification:Gg(e.timeout),g=()=>{c=!1,a&&(a=!1,h.forEach(x=>x()))};return Object.assign({},r,{subscribe(x){const w=()=>s&&x(),E=r.subscribe(w);return h.add(x),()=>{E(),h.delete(x)}},dispatch(x){var w;try{return s=!((w=x==null?void 0:x.meta)!=null&&w[PS]),a=!s,a&&(c||(c=!0,p(g))),r.dispatch(x)}finally{s=!0}}})},FS=e=>function(n){const{autoBatch:r=!0}=n??{};let s=new my(e);return r&&s.push(BS(typeof r=="object"?r:void 0)),s};function jS(e){const t=LS(),{reducer:n=void 0,middleware:r,devTools:s=!0,preloadedState:a=void 0,enhancers:c=void 0}=e||{};let h;if(typeof n=="function")h=n;else if(N0(n))h=yS(n);else throw new Error(Xr(1));let p;typeof r=="function"?p=r(t):p=t();let g=qc;s&&(g=DS({trace:!1,...typeof s=="object"&&s}));const x=wS(...p),w=FS(x);let E=typeof c=="function"?c(w):w();const S=g(...E);return ay(h,a,S)}function xy(e){const t={},n=[];let r;const s={addCase(a,c){const h=typeof a=="string"?a:a.type;if(!h)throw new Error(Xr(28));if(h in t)throw new Error(Xr(29));return t[h]=c,s},addMatcher(a,c){return n.push({matcher:a,reducer:c}),s},addDefaultCase(a){return r=a,s}};return e(s),[t,n,r]}function zS(e){return typeof e=="function"}function US(e,t){let[n,r,s]=xy(t),a;if(zS(e))a=()=>Yg(e());else{const h=Yg(e);a=()=>h}function c(h=a(),p){let g=[n[p.type],...r.filter(({matcher:x})=>x(p)).map(({reducer:x})=>x)];return g.filter(x=>!!x).length===0&&(g=[s]),g.reduce((x,w)=>{if(w)if(ys(x)){const S=w(x,p);return S===void 0?x:S}else{if($r(x))return gy(x,E=>w(E,p));{const E=w(x,p);if(E===void 0){if(x===null)return x;throw Error("A case reducer on a non-draftable value must not return undefined")}return E}}return x},h)}return c.getInitialState=a,c}var HS=Symbol.for("rtk-slice-createasyncthunk");function WS(e,t){return`${e}/${t}`}function VS({creators:e}={}){var n;const t=(n=e==null?void 0:e.asyncThunk)==null?void 0:n[HS];return function(s){const{name:a,reducerPath:c=a}=s;if(!a)throw new Error(Xr(11));typeof process<"u";const h=(typeof s.reducers=="function"?s.reducers(GS()):s.reducers)||{},p=Object.keys(h),g={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},x={addCase(N,L){const z=typeof N=="string"?N:N.type;if(!z)throw new Error(Xr(12));if(z in g.sliceCaseReducersByType)throw new Error(Xr(13));return g.sliceCaseReducersByType[z]=L,x},addMatcher(N,L){return g.sliceMatchers.push({matcher:N,reducer:L}),x},exposeAction(N,L){return g.actionCreators[N]=L,x},exposeCaseReducer(N,L){return g.sliceCaseReducersByName[N]=L,x}};p.forEach(N=>{const L=h[N],z={reducerName:N,type:WS(a,N),createNotation:typeof s.reducers=="function"};ZS(L)?qS(z,L,x,t):QS(z,L,x)});function w(){const[N={},L=[],z=void 0]=typeof s.extraReducers=="function"?xy(s.extraReducers):[s.extraReducers],Y={...N,...g.sliceCaseReducersByType};return US(s.initialState,F=>{for(let H in Y)F.addCase(H,Y[H]);for(let H of g.sliceMatchers)F.addMatcher(H.matcher,H.reducer);for(let H of L)F.addMatcher(H.matcher,H.reducer);z&&F.addDefaultCase(z)})}const E=N=>N,S=new Map;let v;function R(N,L){return v||(v=w()),v(N,L)}function O(){return v||(v=w()),v.getInitialState()}function M(N,L=!1){function z(F){let H=F[N];return typeof H>"u"&&L&&(H=O()),H}function Y(F=E){const H=Xg(S,L,()=>new WeakMap);return Xg(H,F,()=>{const G={};for(const[re,oe]of Object.entries(s.selectors??{}))G[re]=YS(oe,F,O,L);return G})}return{reducerPath:N,getSelectors:Y,get selectors(){return Y(z)},selectSlice:z}}const T={name:a,reducer:R,actions:g.actionCreators,caseReducers:g.sliceCaseReducersByName,getInitialState:O,...M(c),injectInto(N,{reducerPath:L,...z}={}){const Y=L??c;return N.inject({reducerPath:Y,reducer:R},z),{...T,...M(Y,!0)}}};return T}}function YS(e,t,n,r){function s(a,...c){let h=t(a);return typeof h>"u"&&r&&(h=n()),e(h,...c)}return s.unwrapped=e,s}var XS=VS();function GS(){function e(t,n){return{_reducerDefinitionType:"asyncThunk",payloadCreator:t,...n}}return e.withTypes=()=>e,{reducer(t){return Object.assign({[t.name](...n){return t(...n)}}[t.name],{_reducerDefinitionType:"reducer"})},preparedReducer(t,n){return{_reducerDefinitionType:"reducerWithPrepare",prepare:t,reducer:n}},asyncThunk:e}}function QS({type:e,reducerName:t,createNotation:n},r,s){let a,c;if("reducer"in r){if(n&&!KS(r))throw new Error(Xr(17));a=r.reducer,c=r.prepare}else a=r;s.addCase(e,a).exposeCaseReducer(t,a).exposeAction(t,c?Vg(e,c):Vg(e))}function ZS(e){return e._reducerDefinitionType==="asyncThunk"}function KS(e){return e._reducerDefinitionType==="reducerWithPrepare"}function qS({type:e,reducerName:t},n,r,s){if(!s)throw new Error(Xr(18));const{payloadCreator:a,fulfilled:c,pending:h,rejected:p,settled:g,options:x}=n,w=s(e,a,x);r.exposeAction(t,w),c&&r.addCase(w.fulfilled,c),h&&r.addCase(w.pending,h),p&&r.addCase(w.rejected,p),g&&r.addMatcher(w.settled,g),r.exposeCaseReducer(t,{fulfilled:c||Vl,pending:h||Vl,rejected:p||Vl,settled:g||Vl})}function Vl(){}function Xr(e){return`Minified Redux Toolkit error #${e}; visit https://redux-toolkit.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}const $S={user:null,token:localStorage.getItem("token"),isAuthenticated:!!localStorage.getItem("token")},yy=XS({name:"auth",initialState:$S,reducers:{setCredentials:(e,t)=>{e.user=t.payload.user,e.token=t.payload.token,e.isAuthenticated=!0,localStorage.setItem("token",t.payload.token)},setUser:(e,t)=>{e.user=t.payload,e.isAuthenticated=!0},logout:e=>{e.user=null,e.token=null,e.isAuthenticated=!1,localStorage.removeItem("token")}}}),{setCredentials:wy,logout:Cy,setUser:pN}=yy.actions,JS=yy.reducer;/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var ev={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tv=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),ft=(e,t)=>{const n=U.forwardRef(({color:r="currentColor",size:s=24,strokeWidth:a=2,absoluteStrokeWidth:c,className:h="",children:p,...g},x)=>U.createElement("svg",{ref:x,...ev,width:s,height:s,stroke:r,strokeWidth:c?Number(a)*24/Number(s):a,className:["lucide",`lucide-${tv(e)}`,h].join(" "),...g},[...t.map(([w,E])=>U.createElement(w,E)),...Array.isArray(p)?p:[p]]));return n.displayName=`${e}`,n};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nv=ft("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ao=ft("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rv=ft("BarChart3",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iv=ft("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ju=ft("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sv=ft("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ov=ft("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ey=ft("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const by=ft("IceCream",[["path",{d:"m7 11 4.08 10.35a1 1 0 0 0 1.84 0L17 11",key:"1v6356"}],["path",{d:"M17 7A5 5 0 0 0 7 7",key:"151p3v"}],["path",{d:"M17 7a2 2 0 0 1 0 4H7a2 2 0 0 1 0-4",key:"1sdaij"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ay=ft("Loader",[["line",{x1:"12",x2:"12",y1:"2",y2:"6",key:"gza1u7"}],["line",{x1:"12",x2:"12",y1:"18",y2:"22",key:"1qhbu9"}],["line",{x1:"4.93",x2:"7.76",y1:"4.93",y2:"7.76",key:"xae44r"}],["line",{x1:"16.24",x2:"19.07",y1:"16.24",y2:"19.07",key:"bxnmvf"}],["line",{x1:"2",x2:"6",y1:"12",y2:"12",key:"89khin"}],["line",{x1:"18",x2:"22",y1:"12",y2:"12",key:"pb8tfm"}],["line",{x1:"4.93",x2:"7.76",y1:"19.07",y2:"16.24",key:"1uxjnu"}],["line",{x1:"16.24",x2:"19.07",y1:"7.76",y2:"4.93",key:"6duxfx"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sy=ft("LogIn",[["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}],["polyline",{points:"10 17 15 12 10 7",key:"1ail0h"}],["line",{x1:"15",x2:"3",y1:"12",y2:"12",key:"v6grx8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const av=ft("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const So=ft("QrCode",[["rect",{width:"5",height:"5",x:"3",y:"3",rx:"1",key:"1tu5fj"}],["rect",{width:"5",height:"5",x:"16",y:"3",rx:"1",key:"1v8r4q"}],["rect",{width:"5",height:"5",x:"3",y:"16",rx:"1",key:"1x03jg"}],["path",{d:"M21 16h-3a2 2 0 0 0-2 2v3",key:"177gqh"}],["path",{d:"M21 21v.01",key:"ents32"}],["path",{d:"M12 7v3a2 2 0 0 1-2 2H7",key:"8crl2c"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M12 3h.01",key:"n36tog"}],["path",{d:"M12 16v.01",key:"133mhm"}],["path",{d:"M16 12h1",key:"1slzba"}],["path",{d:"M21 12v.01",key:"1lwtk9"}],["path",{d:"M12 21v-1",key:"1880an"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hr=ft("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lv=ft("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cv=ft("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uv=ft("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ba=ft("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fv=ft("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dv=ft("UtensilsCrossed",[["path",{d:"m16 2-2.3 2.3a3 3 0 0 0 0 4.2l1.8 1.8a3 3 0 0 0 4.2 0L22 8",key:"n7qcjb"}],["path",{d:"M15 15 3.3 3.3a4.2 4.2 0 0 0 0 6l7.3 7.3c.7.7 2 .7 2.8 0L15 15Zm0 0 7 7",key:"d0u48b"}],["path",{d:"m2.1 21.8 6.4-6.3",key:"yn04lh"}],["path",{d:"m19 5-7 7",key:"194lzd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vy=ft("Utensils",[["path",{d:"M3 2v7c0 1.1.9 2 2 2h4a2 2 0 0 0 2-2V2",key:"cjf0a3"}],["path",{d:"M7 2v20",key:"1473qp"}],["path",{d:"M21 15V2v0a5 5 0 0 0-5 5v6c0 1.1.9 2 2 2h3Zm0 0v7",key:"1ogz0v"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O0=ft("XCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _y=ft("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);function Iy(e,t){return function(){return e.apply(t,arguments)}}const{toString:hv}=Object.prototype,{getPrototypeOf:D0}=Object,zu=(e=>t=>{const n=hv.call(t);return e[n]||(e[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),mr=e=>(e=e.toLowerCase(),t=>zu(t)===e),Uu=e=>t=>typeof t===e,{isArray:vo}=Array,Za=Uu("undefined");function gv(e){return e!==null&&!Za(e)&&e.constructor!==null&&!Za(e.constructor)&&kn(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const Ty=mr("ArrayBuffer");function pv(e){let t;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?t=ArrayBuffer.isView(e):t=e&&e.buffer&&Ty(e.buffer),t}const mv=Uu("string"),kn=Uu("function"),Ny=Uu("number"),Hu=e=>e!==null&&typeof e=="object",xv=e=>e===!0||e===!1,yc=e=>{if(zu(e)!=="object")return!1;const t=D0(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},yv=mr("Date"),wv=mr("File"),Cv=mr("Blob"),Ev=mr("FileList"),bv=e=>Hu(e)&&kn(e.pipe),Av=e=>{let t;return e&&(typeof FormData=="function"&&e instanceof FormData||kn(e.append)&&((t=zu(e))==="formdata"||t==="object"&&kn(e.toString)&&e.toString()==="[object FormData]"))},Sv=mr("URLSearchParams"),[vv,_v,Iv,Tv]=["ReadableStream","Request","Response","Headers"].map(mr),Nv=e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function cl(e,t,{allOwnKeys:n=!1}={}){if(e===null||typeof e>"u")return;let r,s;if(typeof e!="object"&&(e=[e]),vo(e))for(r=0,s=e.length;r<s;r++)t.call(null,e[r],r,e);else{const a=n?Object.getOwnPropertyNames(e):Object.keys(e),c=a.length;let h;for(r=0;r<c;r++)h=a[r],t.call(null,e[h],h,e)}}function My(e,t){t=t.toLowerCase();const n=Object.keys(e);let r=n.length,s;for(;r-- >0;)if(s=n[r],t===s.toLowerCase())return s;return null}const as=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,Ry=e=>!Za(e)&&e!==as;function fh(){const{caseless:e}=Ry(this)&&this||{},t={},n=(r,s)=>{const a=e&&My(t,s)||s;yc(t[a])&&yc(r)?t[a]=fh(t[a],r):yc(r)?t[a]=fh({},r):vo(r)?t[a]=r.slice():t[a]=r};for(let r=0,s=arguments.length;r<s;r++)arguments[r]&&cl(arguments[r],n);return t}const Mv=(e,t,n,{allOwnKeys:r}={})=>(cl(t,(s,a)=>{n&&kn(s)?e[a]=Iy(s,n):e[a]=s},{allOwnKeys:r}),e),Rv=e=>(e.charCodeAt(0)===65279&&(e=e.slice(1)),e),Ov=(e,t,n,r)=>{e.prototype=Object.create(t.prototype,r),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),n&&Object.assign(e.prototype,n)},Dv=(e,t,n,r)=>{let s,a,c;const h={};if(t=t||{},e==null)return t;do{for(s=Object.getOwnPropertyNames(e),a=s.length;a-- >0;)c=s[a],(!r||r(c,e,t))&&!h[c]&&(t[c]=e[c],h[c]=!0);e=n!==!1&&D0(e)}while(e&&(!n||n(e,t))&&e!==Object.prototype);return t},kv=(e,t,n)=>{e=String(e),(n===void 0||n>e.length)&&(n=e.length),n-=t.length;const r=e.indexOf(t,n);return r!==-1&&r===n},Lv=e=>{if(!e)return null;if(vo(e))return e;let t=e.length;if(!Ny(t))return null;const n=new Array(t);for(;t-- >0;)n[t]=e[t];return n},Pv=(e=>t=>e&&t instanceof e)(typeof Uint8Array<"u"&&D0(Uint8Array)),Bv=(e,t)=>{const r=(e&&e[Symbol.iterator]).call(e);let s;for(;(s=r.next())&&!s.done;){const a=s.value;t.call(e,a[0],a[1])}},Fv=(e,t)=>{let n;const r=[];for(;(n=e.exec(t))!==null;)r.push(n);return r},jv=mr("HTMLFormElement"),zv=e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(n,r,s){return r.toUpperCase()+s}),Qg=(({hasOwnProperty:e})=>(t,n)=>e.call(t,n))(Object.prototype),Uv=mr("RegExp"),Oy=(e,t)=>{const n=Object.getOwnPropertyDescriptors(e),r={};cl(n,(s,a)=>{let c;(c=t(s,a,e))!==!1&&(r[a]=c||s)}),Object.defineProperties(e,r)},Hv=e=>{Oy(e,(t,n)=>{if(kn(e)&&["arguments","caller","callee"].indexOf(n)!==-1)return!1;const r=e[n];if(kn(r)){if(t.enumerable=!1,"writable"in t){t.writable=!1;return}t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")})}})},Wv=(e,t)=>{const n={},r=s=>{s.forEach(a=>{n[a]=!0})};return vo(e)?r(e):r(String(e).split(t)),n},Vv=()=>{},Yv=(e,t)=>e!=null&&Number.isFinite(e=+e)?e:t;function Xv(e){return!!(e&&kn(e.append)&&e[Symbol.toStringTag]==="FormData"&&e[Symbol.iterator])}const Gv=e=>{const t=new Array(10),n=(r,s)=>{if(Hu(r)){if(t.indexOf(r)>=0)return;if(!("toJSON"in r)){t[s]=r;const a=vo(r)?[]:{};return cl(r,(c,h)=>{const p=n(c,s+1);!Za(p)&&(a[h]=p)}),t[s]=void 0,a}}return r};return n(e,0)},Qv=mr("AsyncFunction"),Zv=e=>e&&(Hu(e)||kn(e))&&kn(e.then)&&kn(e.catch),Dy=((e,t)=>e?setImmediate:t?((n,r)=>(as.addEventListener("message",({source:s,data:a})=>{s===as&&a===n&&r.length&&r.shift()()},!1),s=>{r.push(s),as.postMessage(n,"*")}))(`axios@${Math.random()}`,[]):n=>setTimeout(n))(typeof setImmediate=="function",kn(as.postMessage)),Kv=typeof queueMicrotask<"u"?queueMicrotask.bind(as):typeof process<"u"&&process.nextTick||Dy,K={isArray:vo,isArrayBuffer:Ty,isBuffer:gv,isFormData:Av,isArrayBufferView:pv,isString:mv,isNumber:Ny,isBoolean:xv,isObject:Hu,isPlainObject:yc,isReadableStream:vv,isRequest:_v,isResponse:Iv,isHeaders:Tv,isUndefined:Za,isDate:yv,isFile:wv,isBlob:Cv,isRegExp:Uv,isFunction:kn,isStream:bv,isURLSearchParams:Sv,isTypedArray:Pv,isFileList:Ev,forEach:cl,merge:fh,extend:Mv,trim:Nv,stripBOM:Rv,inherits:Ov,toFlatObject:Dv,kindOf:zu,kindOfTest:mr,endsWith:kv,toArray:Lv,forEachEntry:Bv,matchAll:Fv,isHTMLForm:jv,hasOwnProperty:Qg,hasOwnProp:Qg,reduceDescriptors:Oy,freezeMethods:Hv,toObjectSet:Wv,toCamelCase:zv,noop:Vv,toFiniteNumber:Yv,findKey:My,global:as,isContextDefined:Ry,isSpecCompliantForm:Xv,toJSONObject:Gv,isAsyncFn:Qv,isThenable:Zv,setImmediate:Dy,asap:Kv};function Se(e,t,n,r,s){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=e,this.name="AxiosError",t&&(this.code=t),n&&(this.config=n),r&&(this.request=r),s&&(this.response=s,this.status=s.status?s.status:null)}K.inherits(Se,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:K.toJSONObject(this.config),code:this.code,status:this.status}}});const ky=Se.prototype,Ly={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{Ly[e]={value:e}});Object.defineProperties(Se,Ly);Object.defineProperty(ky,"isAxiosError",{value:!0});Se.from=(e,t,n,r,s,a)=>{const c=Object.create(ky);return K.toFlatObject(e,c,function(p){return p!==Error.prototype},h=>h!=="isAxiosError"),Se.call(c,e.message,t,n,r,s),c.cause=e,c.name=e.name,a&&Object.assign(c,a),c};const qv=null;function dh(e){return K.isPlainObject(e)||K.isArray(e)}function Py(e){return K.endsWith(e,"[]")?e.slice(0,-2):e}function Zg(e,t,n){return e?e.concat(t).map(function(s,a){return s=Py(s),!n&&a?"["+s+"]":s}).join(n?".":""):t}function $v(e){return K.isArray(e)&&!e.some(dh)}const Jv=K.toFlatObject(K,{},null,function(t){return/^is[A-Z]/.test(t)});function Wu(e,t,n){if(!K.isObject(e))throw new TypeError("target must be an object");t=t||new FormData,n=K.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(R,O){return!K.isUndefined(O[R])});const r=n.metaTokens,s=n.visitor||x,a=n.dots,c=n.indexes,p=(n.Blob||typeof Blob<"u"&&Blob)&&K.isSpecCompliantForm(t);if(!K.isFunction(s))throw new TypeError("visitor must be a function");function g(v){if(v===null)return"";if(K.isDate(v))return v.toISOString();if(!p&&K.isBlob(v))throw new Se("Blob is not supported. Use a Buffer instead.");return K.isArrayBuffer(v)||K.isTypedArray(v)?p&&typeof Blob=="function"?new Blob([v]):Buffer.from(v):v}function x(v,R,O){let M=v;if(v&&!O&&typeof v=="object"){if(K.endsWith(R,"{}"))R=r?R:R.slice(0,-2),v=JSON.stringify(v);else if(K.isArray(v)&&$v(v)||(K.isFileList(v)||K.endsWith(R,"[]"))&&(M=K.toArray(v)))return R=Py(R),M.forEach(function(N,L){!(K.isUndefined(N)||N===null)&&t.append(c===!0?Zg([R],L,a):c===null?R:R+"[]",g(N))}),!1}return dh(v)?!0:(t.append(Zg(O,R,a),g(v)),!1)}const w=[],E=Object.assign(Jv,{defaultVisitor:x,convertValue:g,isVisitable:dh});function S(v,R){if(!K.isUndefined(v)){if(w.indexOf(v)!==-1)throw Error("Circular reference detected in "+R.join("."));w.push(v),K.forEach(v,function(M,T){(!(K.isUndefined(M)||M===null)&&s.call(t,M,K.isString(T)?T.trim():T,R,E))===!0&&S(M,R?R.concat(T):[T])}),w.pop()}}if(!K.isObject(e))throw new TypeError("data must be an object");return S(e),t}function Kg(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(r){return t[r]})}function k0(e,t){this._pairs=[],e&&Wu(e,this,t)}const By=k0.prototype;By.append=function(t,n){this._pairs.push([t,n])};By.toString=function(t){const n=t?function(r){return t.call(this,r,Kg)}:Kg;return this._pairs.map(function(s){return n(s[0])+"="+n(s[1])},"").join("&")};function e4(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function Fy(e,t,n){if(!t)return e;const r=n&&n.encode||e4;K.isFunction(n)&&(n={serialize:n});const s=n&&n.serialize;let a;if(s?a=s(t,n):a=K.isURLSearchParams(t)?t.toString():new k0(t,n).toString(r),a){const c=e.indexOf("#");c!==-1&&(e=e.slice(0,c)),e+=(e.indexOf("?")===-1?"?":"&")+a}return e}class qg{constructor(){this.handlers=[]}use(t,n,r){return this.handlers.push({fulfilled:t,rejected:n,synchronous:r?r.synchronous:!1,runWhen:r?r.runWhen:null}),this.handlers.length-1}eject(t){this.handlers[t]&&(this.handlers[t]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(t){K.forEach(this.handlers,function(r){r!==null&&t(r)})}}const jy={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},t4=typeof URLSearchParams<"u"?URLSearchParams:k0,n4=typeof FormData<"u"?FormData:null,r4=typeof Blob<"u"?Blob:null,i4={isBrowser:!0,classes:{URLSearchParams:t4,FormData:n4,Blob:r4},protocols:["http","https","file","blob","url","data"]},L0=typeof window<"u"&&typeof document<"u",hh=typeof navigator=="object"&&navigator||void 0,s4=L0&&(!hh||["ReactNative","NativeScript","NS"].indexOf(hh.product)<0),o4=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",a4=L0&&window.location.href||"http://localhost",l4=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:L0,hasStandardBrowserEnv:s4,hasStandardBrowserWebWorkerEnv:o4,navigator:hh,origin:a4},Symbol.toStringTag,{value:"Module"})),en={...l4,...i4};function c4(e,t){return Wu(e,new en.classes.URLSearchParams,Object.assign({visitor:function(n,r,s,a){return en.isNode&&K.isBuffer(n)?(this.append(r,n.toString("base64")),!1):a.defaultVisitor.apply(this,arguments)}},t))}function u4(e){return K.matchAll(/\w+|\[(\w*)]/g,e).map(t=>t[0]==="[]"?"":t[1]||t[0])}function f4(e){const t={},n=Object.keys(e);let r;const s=n.length;let a;for(r=0;r<s;r++)a=n[r],t[a]=e[a];return t}function zy(e){function t(n,r,s,a){let c=n[a++];if(c==="__proto__")return!0;const h=Number.isFinite(+c),p=a>=n.length;return c=!c&&K.isArray(s)?s.length:c,p?(K.hasOwnProp(s,c)?s[c]=[s[c],r]:s[c]=r,!h):((!s[c]||!K.isObject(s[c]))&&(s[c]=[]),t(n,r,s[c],a)&&K.isArray(s[c])&&(s[c]=f4(s[c])),!h)}if(K.isFormData(e)&&K.isFunction(e.entries)){const n={};return K.forEachEntry(e,(r,s)=>{t(u4(r),s,n,0)}),n}return null}function d4(e,t,n){if(K.isString(e))try{return(t||JSON.parse)(e),K.trim(e)}catch(r){if(r.name!=="SyntaxError")throw r}return(0,JSON.stringify)(e)}const ul={transitional:jy,adapter:["xhr","http","fetch"],transformRequest:[function(t,n){const r=n.getContentType()||"",s=r.indexOf("application/json")>-1,a=K.isObject(t);if(a&&K.isHTMLForm(t)&&(t=new FormData(t)),K.isFormData(t))return s?JSON.stringify(zy(t)):t;if(K.isArrayBuffer(t)||K.isBuffer(t)||K.isStream(t)||K.isFile(t)||K.isBlob(t)||K.isReadableStream(t))return t;if(K.isArrayBufferView(t))return t.buffer;if(K.isURLSearchParams(t))return n.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),t.toString();let h;if(a){if(r.indexOf("application/x-www-form-urlencoded")>-1)return c4(t,this.formSerializer).toString();if((h=K.isFileList(t))||r.indexOf("multipart/form-data")>-1){const p=this.env&&this.env.FormData;return Wu(h?{"files[]":t}:t,p&&new p,this.formSerializer)}}return a||s?(n.setContentType("application/json",!1),d4(t)):t}],transformResponse:[function(t){const n=this.transitional||ul.transitional,r=n&&n.forcedJSONParsing,s=this.responseType==="json";if(K.isResponse(t)||K.isReadableStream(t))return t;if(t&&K.isString(t)&&(r&&!this.responseType||s)){const c=!(n&&n.silentJSONParsing)&&s;try{return JSON.parse(t)}catch(h){if(c)throw h.name==="SyntaxError"?Se.from(h,Se.ERR_BAD_RESPONSE,this,null,this.response):h}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:en.classes.FormData,Blob:en.classes.Blob},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};K.forEach(["delete","get","head","post","put","patch"],e=>{ul.headers[e]={}});const h4=K.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),g4=e=>{const t={};let n,r,s;return e&&e.split(`
`).forEach(function(c){s=c.indexOf(":"),n=c.substring(0,s).trim().toLowerCase(),r=c.substring(s+1).trim(),!(!n||t[n]&&h4[n])&&(n==="set-cookie"?t[n]?t[n].push(r):t[n]=[r]:t[n]=t[n]?t[n]+", "+r:r)}),t},$g=Symbol("internals");function Zo(e){return e&&String(e).trim().toLowerCase()}function wc(e){return e===!1||e==null?e:K.isArray(e)?e.map(wc):String(e)}function p4(e){const t=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=n.exec(e);)t[r[1]]=r[2];return t}const m4=e=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim());function Zf(e,t,n,r,s){if(K.isFunction(r))return r.call(this,t,n);if(s&&(t=n),!!K.isString(t)){if(K.isString(r))return t.indexOf(r)!==-1;if(K.isRegExp(r))return r.test(t)}}function x4(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(t,n,r)=>n.toUpperCase()+r)}function y4(e,t){const n=K.toCamelCase(" "+t);["get","set","has"].forEach(r=>{Object.defineProperty(e,r+n,{value:function(s,a,c){return this[r].call(this,t,s,a,c)},configurable:!0})})}class Sn{constructor(t){t&&this.set(t)}set(t,n,r){const s=this;function a(h,p,g){const x=Zo(p);if(!x)throw new Error("header name must be a non-empty string");const w=K.findKey(s,x);(!w||s[w]===void 0||g===!0||g===void 0&&s[w]!==!1)&&(s[w||p]=wc(h))}const c=(h,p)=>K.forEach(h,(g,x)=>a(g,x,p));if(K.isPlainObject(t)||t instanceof this.constructor)c(t,n);else if(K.isString(t)&&(t=t.trim())&&!m4(t))c(g4(t),n);else if(K.isHeaders(t))for(const[h,p]of t.entries())a(p,h,r);else t!=null&&a(n,t,r);return this}get(t,n){if(t=Zo(t),t){const r=K.findKey(this,t);if(r){const s=this[r];if(!n)return s;if(n===!0)return p4(s);if(K.isFunction(n))return n.call(this,s,r);if(K.isRegExp(n))return n.exec(s);throw new TypeError("parser must be boolean|regexp|function")}}}has(t,n){if(t=Zo(t),t){const r=K.findKey(this,t);return!!(r&&this[r]!==void 0&&(!n||Zf(this,this[r],r,n)))}return!1}delete(t,n){const r=this;let s=!1;function a(c){if(c=Zo(c),c){const h=K.findKey(r,c);h&&(!n||Zf(r,r[h],h,n))&&(delete r[h],s=!0)}}return K.isArray(t)?t.forEach(a):a(t),s}clear(t){const n=Object.keys(this);let r=n.length,s=!1;for(;r--;){const a=n[r];(!t||Zf(this,this[a],a,t,!0))&&(delete this[a],s=!0)}return s}normalize(t){const n=this,r={};return K.forEach(this,(s,a)=>{const c=K.findKey(r,a);if(c){n[c]=wc(s),delete n[a];return}const h=t?x4(a):String(a).trim();h!==a&&delete n[a],n[h]=wc(s),r[h]=!0}),this}concat(...t){return this.constructor.concat(this,...t)}toJSON(t){const n=Object.create(null);return K.forEach(this,(r,s)=>{r!=null&&r!==!1&&(n[s]=t&&K.isArray(r)?r.join(", "):r)}),n}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([t,n])=>t+": "+n).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(t){return t instanceof this?t:new this(t)}static concat(t,...n){const r=new this(t);return n.forEach(s=>r.set(s)),r}static accessor(t){const r=(this[$g]=this[$g]={accessors:{}}).accessors,s=this.prototype;function a(c){const h=Zo(c);r[h]||(y4(s,c),r[h]=!0)}return K.isArray(t)?t.forEach(a):a(t),this}}Sn.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);K.reduceDescriptors(Sn.prototype,({value:e},t)=>{let n=t[0].toUpperCase()+t.slice(1);return{get:()=>e,set(r){this[n]=r}}});K.freezeMethods(Sn);function Kf(e,t){const n=this||ul,r=t||n,s=Sn.from(r.headers);let a=r.data;return K.forEach(e,function(h){a=h.call(n,a,s.normalize(),t?t.status:void 0)}),s.normalize(),a}function Uy(e){return!!(e&&e.__CANCEL__)}function _o(e,t,n){Se.call(this,e??"canceled",Se.ERR_CANCELED,t,n),this.name="CanceledError"}K.inherits(_o,Se,{__CANCEL__:!0});function Hy(e,t,n){const r=n.config.validateStatus;!n.status||!r||r(n.status)?e(n):t(new Se("Request failed with status code "+n.status,[Se.ERR_BAD_REQUEST,Se.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n))}function w4(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}function C4(e,t){e=e||10;const n=new Array(e),r=new Array(e);let s=0,a=0,c;return t=t!==void 0?t:1e3,function(p){const g=Date.now(),x=r[a];c||(c=g),n[s]=p,r[s]=g;let w=a,E=0;for(;w!==s;)E+=n[w++],w=w%e;if(s=(s+1)%e,s===a&&(a=(a+1)%e),g-c<t)return;const S=x&&g-x;return S?Math.round(E*1e3/S):void 0}}function E4(e,t){let n=0,r=1e3/t,s,a;const c=(g,x=Date.now())=>{n=x,s=null,a&&(clearTimeout(a),a=null),e.apply(null,g)};return[(...g)=>{const x=Date.now(),w=x-n;w>=r?c(g,x):(s=g,a||(a=setTimeout(()=>{a=null,c(s)},r-w)))},()=>s&&c(s)]}const tu=(e,t,n=3)=>{let r=0;const s=C4(50,250);return E4(a=>{const c=a.loaded,h=a.lengthComputable?a.total:void 0,p=c-r,g=s(p),x=c<=h;r=c;const w={loaded:c,total:h,progress:h?c/h:void 0,bytes:p,rate:g||void 0,estimated:g&&h&&x?(h-c)/g:void 0,event:a,lengthComputable:h!=null,[t?"download":"upload"]:!0};e(w)},n)},Jg=(e,t)=>{const n=e!=null;return[r=>t[0]({lengthComputable:n,total:e,loaded:r}),t[1]]},ep=e=>(...t)=>K.asap(()=>e(...t)),b4=en.hasStandardBrowserEnv?((e,t)=>n=>(n=new URL(n,en.origin),e.protocol===n.protocol&&e.host===n.host&&(t||e.port===n.port)))(new URL(en.origin),en.navigator&&/(msie|trident)/i.test(en.navigator.userAgent)):()=>!0,A4=en.hasStandardBrowserEnv?{write(e,t,n,r,s,a){const c=[e+"="+encodeURIComponent(t)];K.isNumber(n)&&c.push("expires="+new Date(n).toGMTString()),K.isString(r)&&c.push("path="+r),K.isString(s)&&c.push("domain="+s),a===!0&&c.push("secure"),document.cookie=c.join("; ")},read(e){const t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove(e){this.write(e,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function S4(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}function v4(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}function Wy(e,t,n){let r=!S4(t);return e&&(r||n==!1)?v4(e,t):t}const tp=e=>e instanceof Sn?{...e}:e;function Cs(e,t){t=t||{};const n={};function r(g,x,w,E){return K.isPlainObject(g)&&K.isPlainObject(x)?K.merge.call({caseless:E},g,x):K.isPlainObject(x)?K.merge({},x):K.isArray(x)?x.slice():x}function s(g,x,w,E){if(K.isUndefined(x)){if(!K.isUndefined(g))return r(void 0,g,w,E)}else return r(g,x,w,E)}function a(g,x){if(!K.isUndefined(x))return r(void 0,x)}function c(g,x){if(K.isUndefined(x)){if(!K.isUndefined(g))return r(void 0,g)}else return r(void 0,x)}function h(g,x,w){if(w in t)return r(g,x);if(w in e)return r(void 0,g)}const p={url:a,method:a,data:a,baseURL:c,transformRequest:c,transformResponse:c,paramsSerializer:c,timeout:c,timeoutMessage:c,withCredentials:c,withXSRFToken:c,adapter:c,responseType:c,xsrfCookieName:c,xsrfHeaderName:c,onUploadProgress:c,onDownloadProgress:c,decompress:c,maxContentLength:c,maxBodyLength:c,beforeRedirect:c,transport:c,httpAgent:c,httpsAgent:c,cancelToken:c,socketPath:c,responseEncoding:c,validateStatus:h,headers:(g,x,w)=>s(tp(g),tp(x),w,!0)};return K.forEach(Object.keys(Object.assign({},e,t)),function(x){const w=p[x]||s,E=w(e[x],t[x],x);K.isUndefined(E)&&w!==h||(n[x]=E)}),n}const Vy=e=>{const t=Cs({},e);let{data:n,withXSRFToken:r,xsrfHeaderName:s,xsrfCookieName:a,headers:c,auth:h}=t;t.headers=c=Sn.from(c),t.url=Fy(Wy(t.baseURL,t.url,t.allowAbsoluteUrls),e.params,e.paramsSerializer),h&&c.set("Authorization","Basic "+btoa((h.username||"")+":"+(h.password?unescape(encodeURIComponent(h.password)):"")));let p;if(K.isFormData(n)){if(en.hasStandardBrowserEnv||en.hasStandardBrowserWebWorkerEnv)c.setContentType(void 0);else if((p=c.getContentType())!==!1){const[g,...x]=p?p.split(";").map(w=>w.trim()).filter(Boolean):[];c.setContentType([g||"multipart/form-data",...x].join("; "))}}if(en.hasStandardBrowserEnv&&(r&&K.isFunction(r)&&(r=r(t)),r||r!==!1&&b4(t.url))){const g=s&&a&&A4.read(a);g&&c.set(s,g)}return t},_4=typeof XMLHttpRequest<"u",I4=_4&&function(e){return new Promise(function(n,r){const s=Vy(e);let a=s.data;const c=Sn.from(s.headers).normalize();let{responseType:h,onUploadProgress:p,onDownloadProgress:g}=s,x,w,E,S,v;function R(){S&&S(),v&&v(),s.cancelToken&&s.cancelToken.unsubscribe(x),s.signal&&s.signal.removeEventListener("abort",x)}let O=new XMLHttpRequest;O.open(s.method.toUpperCase(),s.url,!0),O.timeout=s.timeout;function M(){if(!O)return;const N=Sn.from("getAllResponseHeaders"in O&&O.getAllResponseHeaders()),z={data:!h||h==="text"||h==="json"?O.responseText:O.response,status:O.status,statusText:O.statusText,headers:N,config:e,request:O};Hy(function(F){n(F),R()},function(F){r(F),R()},z),O=null}"onloadend"in O?O.onloadend=M:O.onreadystatechange=function(){!O||O.readyState!==4||O.status===0&&!(O.responseURL&&O.responseURL.indexOf("file:")===0)||setTimeout(M)},O.onabort=function(){O&&(r(new Se("Request aborted",Se.ECONNABORTED,e,O)),O=null)},O.onerror=function(){r(new Se("Network Error",Se.ERR_NETWORK,e,O)),O=null},O.ontimeout=function(){let L=s.timeout?"timeout of "+s.timeout+"ms exceeded":"timeout exceeded";const z=s.transitional||jy;s.timeoutErrorMessage&&(L=s.timeoutErrorMessage),r(new Se(L,z.clarifyTimeoutError?Se.ETIMEDOUT:Se.ECONNABORTED,e,O)),O=null},a===void 0&&c.setContentType(null),"setRequestHeader"in O&&K.forEach(c.toJSON(),function(L,z){O.setRequestHeader(z,L)}),K.isUndefined(s.withCredentials)||(O.withCredentials=!!s.withCredentials),h&&h!=="json"&&(O.responseType=s.responseType),g&&([E,v]=tu(g,!0),O.addEventListener("progress",E)),p&&O.upload&&([w,S]=tu(p),O.upload.addEventListener("progress",w),O.upload.addEventListener("loadend",S)),(s.cancelToken||s.signal)&&(x=N=>{O&&(r(!N||N.type?new _o(null,e,O):N),O.abort(),O=null)},s.cancelToken&&s.cancelToken.subscribe(x),s.signal&&(s.signal.aborted?x():s.signal.addEventListener("abort",x)));const T=w4(s.url);if(T&&en.protocols.indexOf(T)===-1){r(new Se("Unsupported protocol "+T+":",Se.ERR_BAD_REQUEST,e));return}O.send(a||null)})},T4=(e,t)=>{const{length:n}=e=e?e.filter(Boolean):[];if(t||n){let r=new AbortController,s;const a=function(g){if(!s){s=!0,h();const x=g instanceof Error?g:this.reason;r.abort(x instanceof Se?x:new _o(x instanceof Error?x.message:x))}};let c=t&&setTimeout(()=>{c=null,a(new Se(`timeout ${t} of ms exceeded`,Se.ETIMEDOUT))},t);const h=()=>{e&&(c&&clearTimeout(c),c=null,e.forEach(g=>{g.unsubscribe?g.unsubscribe(a):g.removeEventListener("abort",a)}),e=null)};e.forEach(g=>g.addEventListener("abort",a));const{signal:p}=r;return p.unsubscribe=()=>K.asap(h),p}},N4=function*(e,t){let n=e.byteLength;if(n<t){yield e;return}let r=0,s;for(;r<n;)s=r+t,yield e.slice(r,s),r=s},M4=async function*(e,t){for await(const n of R4(e))yield*N4(n,t)},R4=async function*(e){if(e[Symbol.asyncIterator]){yield*e;return}const t=e.getReader();try{for(;;){const{done:n,value:r}=await t.read();if(n)break;yield r}}finally{await t.cancel()}},np=(e,t,n,r)=>{const s=M4(e,t);let a=0,c,h=p=>{c||(c=!0,r&&r(p))};return new ReadableStream({async pull(p){try{const{done:g,value:x}=await s.next();if(g){h(),p.close();return}let w=x.byteLength;if(n){let E=a+=w;n(E)}p.enqueue(new Uint8Array(x))}catch(g){throw h(g),g}},cancel(p){return h(p),s.return()}},{highWaterMark:2})},Vu=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",Yy=Vu&&typeof ReadableStream=="function",O4=Vu&&(typeof TextEncoder=="function"?(e=>t=>e.encode(t))(new TextEncoder):async e=>new Uint8Array(await new Response(e).arrayBuffer())),Xy=(e,...t)=>{try{return!!e(...t)}catch{return!1}},D4=Yy&&Xy(()=>{let e=!1;const t=new Request(en.origin,{body:new ReadableStream,method:"POST",get duplex(){return e=!0,"half"}}).headers.has("Content-Type");return e&&!t}),rp=64*1024,gh=Yy&&Xy(()=>K.isReadableStream(new Response("").body)),nu={stream:gh&&(e=>e.body)};Vu&&(e=>{["text","arrayBuffer","blob","formData","stream"].forEach(t=>{!nu[t]&&(nu[t]=K.isFunction(e[t])?n=>n[t]():(n,r)=>{throw new Se(`Response type '${t}' is not supported`,Se.ERR_NOT_SUPPORT,r)})})})(new Response);const k4=async e=>{if(e==null)return 0;if(K.isBlob(e))return e.size;if(K.isSpecCompliantForm(e))return(await new Request(en.origin,{method:"POST",body:e}).arrayBuffer()).byteLength;if(K.isArrayBufferView(e)||K.isArrayBuffer(e))return e.byteLength;if(K.isURLSearchParams(e)&&(e=e+""),K.isString(e))return(await O4(e)).byteLength},L4=async(e,t)=>{const n=K.toFiniteNumber(e.getContentLength());return n??k4(t)},P4=Vu&&(async e=>{let{url:t,method:n,data:r,signal:s,cancelToken:a,timeout:c,onDownloadProgress:h,onUploadProgress:p,responseType:g,headers:x,withCredentials:w="same-origin",fetchOptions:E}=Vy(e);g=g?(g+"").toLowerCase():"text";let S=T4([s,a&&a.toAbortSignal()],c),v;const R=S&&S.unsubscribe&&(()=>{S.unsubscribe()});let O;try{if(p&&D4&&n!=="get"&&n!=="head"&&(O=await L4(x,r))!==0){let z=new Request(t,{method:"POST",body:r,duplex:"half"}),Y;if(K.isFormData(r)&&(Y=z.headers.get("content-type"))&&x.setContentType(Y),z.body){const[F,H]=Jg(O,tu(ep(p)));r=np(z.body,rp,F,H)}}K.isString(w)||(w=w?"include":"omit");const M="credentials"in Request.prototype;v=new Request(t,{...E,signal:S,method:n.toUpperCase(),headers:x.normalize().toJSON(),body:r,duplex:"half",credentials:M?w:void 0});let T=await fetch(v);const N=gh&&(g==="stream"||g==="response");if(gh&&(h||N&&R)){const z={};["status","statusText","headers"].forEach(G=>{z[G]=T[G]});const Y=K.toFiniteNumber(T.headers.get("content-length")),[F,H]=h&&Jg(Y,tu(ep(h),!0))||[];T=new Response(np(T.body,rp,F,()=>{H&&H(),R&&R()}),z)}g=g||"text";let L=await nu[K.findKey(nu,g)||"text"](T,e);return!N&&R&&R(),await new Promise((z,Y)=>{Hy(z,Y,{data:L,headers:Sn.from(T.headers),status:T.status,statusText:T.statusText,config:e,request:v})})}catch(M){throw R&&R(),M&&M.name==="TypeError"&&/fetch/i.test(M.message)?Object.assign(new Se("Network Error",Se.ERR_NETWORK,e,v),{cause:M.cause||M}):Se.from(M,M&&M.code,e,v)}}),ph={http:qv,xhr:I4,fetch:P4};K.forEach(ph,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch{}Object.defineProperty(e,"adapterName",{value:t})}});const ip=e=>`- ${e}`,B4=e=>K.isFunction(e)||e===null||e===!1,Gy={getAdapter:e=>{e=K.isArray(e)?e:[e];const{length:t}=e;let n,r;const s={};for(let a=0;a<t;a++){n=e[a];let c;if(r=n,!B4(n)&&(r=ph[(c=String(n)).toLowerCase()],r===void 0))throw new Se(`Unknown adapter '${c}'`);if(r)break;s[c||"#"+a]=r}if(!r){const a=Object.entries(s).map(([h,p])=>`adapter ${h} `+(p===!1?"is not supported by the environment":"is not available in the build"));let c=t?a.length>1?`since :
`+a.map(ip).join(`
`):" "+ip(a[0]):"as no adapter specified";throw new Se("There is no suitable adapter to dispatch the request "+c,"ERR_NOT_SUPPORT")}return r},adapters:ph};function qf(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new _o(null,e)}function sp(e){return qf(e),e.headers=Sn.from(e.headers),e.data=Kf.call(e,e.transformRequest),["post","put","patch"].indexOf(e.method)!==-1&&e.headers.setContentType("application/x-www-form-urlencoded",!1),Gy.getAdapter(e.adapter||ul.adapter)(e).then(function(r){return qf(e),r.data=Kf.call(e,e.transformResponse,r),r.headers=Sn.from(r.headers),r},function(r){return Uy(r)||(qf(e),r&&r.response&&(r.response.data=Kf.call(e,e.transformResponse,r.response),r.response.headers=Sn.from(r.response.headers))),Promise.reject(r)})}const Qy="1.8.4",Yu={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{Yu[e]=function(r){return typeof r===e||"a"+(t<1?"n ":" ")+e}});const op={};Yu.transitional=function(t,n,r){function s(a,c){return"[Axios v"+Qy+"] Transitional option '"+a+"'"+c+(r?". "+r:"")}return(a,c,h)=>{if(t===!1)throw new Se(s(c," has been removed"+(n?" in "+n:"")),Se.ERR_DEPRECATED);return n&&!op[c]&&(op[c]=!0,console.warn(s(c," has been deprecated since v"+n+" and will be removed in the near future"))),t?t(a,c,h):!0}};Yu.spelling=function(t){return(n,r)=>(console.warn(`${r} is likely a misspelling of ${t}`),!0)};function F4(e,t,n){if(typeof e!="object")throw new Se("options must be an object",Se.ERR_BAD_OPTION_VALUE);const r=Object.keys(e);let s=r.length;for(;s-- >0;){const a=r[s],c=t[a];if(c){const h=e[a],p=h===void 0||c(h,a,e);if(p!==!0)throw new Se("option "+a+" must be "+p,Se.ERR_BAD_OPTION_VALUE);continue}if(n!==!0)throw new Se("Unknown option "+a,Se.ERR_BAD_OPTION)}}const Cc={assertOptions:F4,validators:Yu},vr=Cc.validators;class fs{constructor(t){this.defaults=t,this.interceptors={request:new qg,response:new qg}}async request(t,n){try{return await this._request(t,n)}catch(r){if(r instanceof Error){let s={};Error.captureStackTrace?Error.captureStackTrace(s):s=new Error;const a=s.stack?s.stack.replace(/^.+\n/,""):"";try{r.stack?a&&!String(r.stack).endsWith(a.replace(/^.+\n.+\n/,""))&&(r.stack+=`
`+a):r.stack=a}catch{}}throw r}}_request(t,n){typeof t=="string"?(n=n||{},n.url=t):n=t||{},n=Cs(this.defaults,n);const{transitional:r,paramsSerializer:s,headers:a}=n;r!==void 0&&Cc.assertOptions(r,{silentJSONParsing:vr.transitional(vr.boolean),forcedJSONParsing:vr.transitional(vr.boolean),clarifyTimeoutError:vr.transitional(vr.boolean)},!1),s!=null&&(K.isFunction(s)?n.paramsSerializer={serialize:s}:Cc.assertOptions(s,{encode:vr.function,serialize:vr.function},!0)),n.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?n.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:n.allowAbsoluteUrls=!0),Cc.assertOptions(n,{baseUrl:vr.spelling("baseURL"),withXsrfToken:vr.spelling("withXSRFToken")},!0),n.method=(n.method||this.defaults.method||"get").toLowerCase();let c=a&&K.merge(a.common,a[n.method]);a&&K.forEach(["delete","get","head","post","put","patch","common"],v=>{delete a[v]}),n.headers=Sn.concat(c,a);const h=[];let p=!0;this.interceptors.request.forEach(function(R){typeof R.runWhen=="function"&&R.runWhen(n)===!1||(p=p&&R.synchronous,h.unshift(R.fulfilled,R.rejected))});const g=[];this.interceptors.response.forEach(function(R){g.push(R.fulfilled,R.rejected)});let x,w=0,E;if(!p){const v=[sp.bind(this),void 0];for(v.unshift.apply(v,h),v.push.apply(v,g),E=v.length,x=Promise.resolve(n);w<E;)x=x.then(v[w++],v[w++]);return x}E=h.length;let S=n;for(w=0;w<E;){const v=h[w++],R=h[w++];try{S=v(S)}catch(O){R.call(this,O);break}}try{x=sp.call(this,S)}catch(v){return Promise.reject(v)}for(w=0,E=g.length;w<E;)x=x.then(g[w++],g[w++]);return x}getUri(t){t=Cs(this.defaults,t);const n=Wy(t.baseURL,t.url,t.allowAbsoluteUrls);return Fy(n,t.params,t.paramsSerializer)}}K.forEach(["delete","get","head","options"],function(t){fs.prototype[t]=function(n,r){return this.request(Cs(r||{},{method:t,url:n,data:(r||{}).data}))}});K.forEach(["post","put","patch"],function(t){function n(r){return function(a,c,h){return this.request(Cs(h||{},{method:t,headers:r?{"Content-Type":"multipart/form-data"}:{},url:a,data:c}))}}fs.prototype[t]=n(),fs.prototype[t+"Form"]=n(!0)});class P0{constructor(t){if(typeof t!="function")throw new TypeError("executor must be a function.");let n;this.promise=new Promise(function(a){n=a});const r=this;this.promise.then(s=>{if(!r._listeners)return;let a=r._listeners.length;for(;a-- >0;)r._listeners[a](s);r._listeners=null}),this.promise.then=s=>{let a;const c=new Promise(h=>{r.subscribe(h),a=h}).then(s);return c.cancel=function(){r.unsubscribe(a)},c},t(function(a,c,h){r.reason||(r.reason=new _o(a,c,h),n(r.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(t){if(this.reason){t(this.reason);return}this._listeners?this._listeners.push(t):this._listeners=[t]}unsubscribe(t){if(!this._listeners)return;const n=this._listeners.indexOf(t);n!==-1&&this._listeners.splice(n,1)}toAbortSignal(){const t=new AbortController,n=r=>{t.abort(r)};return this.subscribe(n),t.signal.unsubscribe=()=>this.unsubscribe(n),t.signal}static source(){let t;return{token:new P0(function(s){t=s}),cancel:t}}}function j4(e){return function(n){return e.apply(null,n)}}function z4(e){return K.isObject(e)&&e.isAxiosError===!0}const mh={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(mh).forEach(([e,t])=>{mh[t]=e});function Zy(e){const t=new fs(e),n=Iy(fs.prototype.request,t);return K.extend(n,fs.prototype,t,{allOwnKeys:!0}),K.extend(n,t,null,{allOwnKeys:!0}),n.create=function(s){return Zy(Cs(e,s))},n}const Xe=Zy(ul);Xe.Axios=fs;Xe.CanceledError=_o;Xe.CancelToken=P0;Xe.isCancel=Uy;Xe.VERSION=Qy;Xe.toFormData=Wu;Xe.AxiosError=Se;Xe.Cancel=Xe.CanceledError;Xe.all=function(t){return Promise.all(t)};Xe.spread=j4;Xe.isAxiosError=z4;Xe.mergeConfig=Cs;Xe.AxiosHeaders=Sn;Xe.formToJSON=e=>zy(K.isHTMLForm(e)?new FormData(e):e);Xe.getAdapter=Gy.getAdapter;Xe.HttpStatusCode=mh;Xe.default=Xe;const U4=()=>{const[e,t]=U.useState(""),[n,r]=U.useState(""),s=Ui(),a=T0(),c=async h=>{var p,g;h.preventDefault();try{const w=(await Xe.post("/api/auth/signin",{email:e,password:n})).data;a(wy({user:w.user,token:w.token})),Yt.success("Login successful!"),s(-1)}catch(x){const w=((g=(p=x.response)==null?void 0:p.data)==null?void 0:g.message)||"Something went wrong. Please try again.";Yt.error(w)}};return A.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-100",children:A.jsxs("div",{className:"bg-white p-8 rounded-lg shadow-md w-96",children:[A.jsxs("div",{className:"flex items-center justify-center mb-8",children:[A.jsx(Sy,{className:"w-8 h-8 text-blue-600"}),A.jsx("h2",{className:"text-2xl font-bold ml-2",children:"Login"})]}),A.jsxs("form",{onSubmit:c,children:[A.jsxs("div",{className:"mb-4",children:[A.jsx("label",{className:"block text-gray-700 text-sm font-bold mb-2",children:"Email"}),A.jsx("input",{type:"email",value:e,onChange:h=>t(h.target.value),className:"w-full p-2 border rounded-md",required:!0})]}),A.jsxs("div",{className:"mb-6",children:[A.jsx("label",{className:"block text-gray-700 text-sm font-bold mb-2",children:"Password"}),A.jsx("input",{type:"password",value:n,onChange:h=>r(h.target.value),className:"w-full p-2 border rounded-md",required:!0})]}),A.jsx("button",{type:"submit",className:"w-full bg-blue-600 text-white py-2 rounded-md hover:bg-blue-700",children:"Login"})]})]})})};/*!
 * @kurkle/color v0.3.4
 * https://github.com/kurkle/color#readme
 * (c) 2024 Jukka Kurkela
 * Released under the MIT License
 */function fl(e){return e+.5|0}const wi=(e,t,n)=>Math.max(Math.min(e,n),t);function oa(e){return wi(fl(e*2.55),0,255)}function Mi(e){return wi(fl(e*255),0,255)}function Ur(e){return wi(fl(e/2.55)/100,0,1)}function ap(e){return wi(fl(e*100),0,100)}const Vn={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},xh=[..."0123456789ABCDEF"],H4=e=>xh[e&15],W4=e=>xh[(e&240)>>4]+xh[e&15],Yl=e=>(e&240)>>4===(e&15),V4=e=>Yl(e.r)&&Yl(e.g)&&Yl(e.b)&&Yl(e.a);function Y4(e){var t=e.length,n;return e[0]==="#"&&(t===4||t===5?n={r:255&Vn[e[1]]*17,g:255&Vn[e[2]]*17,b:255&Vn[e[3]]*17,a:t===5?Vn[e[4]]*17:255}:(t===7||t===9)&&(n={r:Vn[e[1]]<<4|Vn[e[2]],g:Vn[e[3]]<<4|Vn[e[4]],b:Vn[e[5]]<<4|Vn[e[6]],a:t===9?Vn[e[7]]<<4|Vn[e[8]]:255})),n}const X4=(e,t)=>e<255?t(e):"";function G4(e){var t=V4(e)?H4:W4;return e?"#"+t(e.r)+t(e.g)+t(e.b)+X4(e.a,t):void 0}const Q4=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function Ky(e,t,n){const r=t*Math.min(n,1-n),s=(a,c=(a+e/30)%12)=>n-r*Math.max(Math.min(c-3,9-c,1),-1);return[s(0),s(8),s(4)]}function Z4(e,t,n){const r=(s,a=(s+e/60)%6)=>n-n*t*Math.max(Math.min(a,4-a,1),0);return[r(5),r(3),r(1)]}function K4(e,t,n){const r=Ky(e,1,.5);let s;for(t+n>1&&(s=1/(t+n),t*=s,n*=s),s=0;s<3;s++)r[s]*=1-t-n,r[s]+=t;return r}function q4(e,t,n,r,s){return e===s?(t-n)/r+(t<n?6:0):t===s?(n-e)/r+2:(e-t)/r+4}function B0(e){const n=e.r/255,r=e.g/255,s=e.b/255,a=Math.max(n,r,s),c=Math.min(n,r,s),h=(a+c)/2;let p,g,x;return a!==c&&(x=a-c,g=h>.5?x/(2-a-c):x/(a+c),p=q4(n,r,s,x,a),p=p*60+.5),[p|0,g||0,h]}function F0(e,t,n,r){return(Array.isArray(t)?e(t[0],t[1],t[2]):e(t,n,r)).map(Mi)}function j0(e,t,n){return F0(Ky,e,t,n)}function $4(e,t,n){return F0(K4,e,t,n)}function J4(e,t,n){return F0(Z4,e,t,n)}function qy(e){return(e%360+360)%360}function e_(e){const t=Q4.exec(e);let n=255,r;if(!t)return;t[5]!==r&&(n=t[6]?oa(+t[5]):Mi(+t[5]));const s=qy(+t[2]),a=+t[3]/100,c=+t[4]/100;return t[1]==="hwb"?r=$4(s,a,c):t[1]==="hsv"?r=J4(s,a,c):r=j0(s,a,c),{r:r[0],g:r[1],b:r[2],a:n}}function t_(e,t){var n=B0(e);n[0]=qy(n[0]+t),n=j0(n),e.r=n[0],e.g=n[1],e.b=n[2]}function n_(e){if(!e)return;const t=B0(e),n=t[0],r=ap(t[1]),s=ap(t[2]);return e.a<255?`hsla(${n}, ${r}%, ${s}%, ${Ur(e.a)})`:`hsl(${n}, ${r}%, ${s}%)`}const lp={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},cp={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function r_(){const e={},t=Object.keys(cp),n=Object.keys(lp);let r,s,a,c,h;for(r=0;r<t.length;r++){for(c=h=t[r],s=0;s<n.length;s++)a=n[s],h=h.replace(a,lp[a]);a=parseInt(cp[c],16),e[h]=[a>>16&255,a>>8&255,a&255]}return e}let Xl;function i_(e){Xl||(Xl=r_(),Xl.transparent=[0,0,0,0]);const t=Xl[e.toLowerCase()];return t&&{r:t[0],g:t[1],b:t[2],a:t.length===4?t[3]:255}}const s_=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function o_(e){const t=s_.exec(e);let n=255,r,s,a;if(t){if(t[7]!==r){const c=+t[7];n=t[8]?oa(c):wi(c*255,0,255)}return r=+t[1],s=+t[3],a=+t[5],r=255&(t[2]?oa(r):wi(r,0,255)),s=255&(t[4]?oa(s):wi(s,0,255)),a=255&(t[6]?oa(a):wi(a,0,255)),{r,g:s,b:a,a:n}}}function a_(e){return e&&(e.a<255?`rgba(${e.r}, ${e.g}, ${e.b}, ${Ur(e.a)})`:`rgb(${e.r}, ${e.g}, ${e.b})`)}const $f=e=>e<=.0031308?e*12.92:Math.pow(e,1/2.4)*1.055-.055,Fs=e=>e<=.04045?e/12.92:Math.pow((e+.055)/1.055,2.4);function l_(e,t,n){const r=Fs(Ur(e.r)),s=Fs(Ur(e.g)),a=Fs(Ur(e.b));return{r:Mi($f(r+n*(Fs(Ur(t.r))-r))),g:Mi($f(s+n*(Fs(Ur(t.g))-s))),b:Mi($f(a+n*(Fs(Ur(t.b))-a))),a:e.a+n*(t.a-e.a)}}function Gl(e,t,n){if(e){let r=B0(e);r[t]=Math.max(0,Math.min(r[t]+r[t]*n,t===0?360:1)),r=j0(r),e.r=r[0],e.g=r[1],e.b=r[2]}}function $y(e,t){return e&&Object.assign(t||{},e)}function up(e){var t={r:0,g:0,b:0,a:255};return Array.isArray(e)?e.length>=3&&(t={r:e[0],g:e[1],b:e[2],a:255},e.length>3&&(t.a=Mi(e[3]))):(t=$y(e,{r:0,g:0,b:0,a:1}),t.a=Mi(t.a)),t}function c_(e){return e.charAt(0)==="r"?o_(e):e_(e)}class Ka{constructor(t){if(t instanceof Ka)return t;const n=typeof t;let r;n==="object"?r=up(t):n==="string"&&(r=Y4(t)||i_(t)||c_(t)),this._rgb=r,this._valid=!!r}get valid(){return this._valid}get rgb(){var t=$y(this._rgb);return t&&(t.a=Ur(t.a)),t}set rgb(t){this._rgb=up(t)}rgbString(){return this._valid?a_(this._rgb):void 0}hexString(){return this._valid?G4(this._rgb):void 0}hslString(){return this._valid?n_(this._rgb):void 0}mix(t,n){if(t){const r=this.rgb,s=t.rgb;let a;const c=n===a?.5:n,h=2*c-1,p=r.a-s.a,g=((h*p===-1?h:(h+p)/(1+h*p))+1)/2;a=1-g,r.r=255&g*r.r+a*s.r+.5,r.g=255&g*r.g+a*s.g+.5,r.b=255&g*r.b+a*s.b+.5,r.a=c*r.a+(1-c)*s.a,this.rgb=r}return this}interpolate(t,n){return t&&(this._rgb=l_(this._rgb,t._rgb,n)),this}clone(){return new Ka(this.rgb)}alpha(t){return this._rgb.a=Mi(t),this}clearer(t){const n=this._rgb;return n.a*=1-t,this}greyscale(){const t=this._rgb,n=fl(t.r*.3+t.g*.59+t.b*.11);return t.r=t.g=t.b=n,this}opaquer(t){const n=this._rgb;return n.a*=1+t,this}negate(){const t=this._rgb;return t.r=255-t.r,t.g=255-t.g,t.b=255-t.b,this}lighten(t){return Gl(this._rgb,2,t),this}darken(t){return Gl(this._rgb,2,-t),this}saturate(t){return Gl(this._rgb,1,t),this}desaturate(t){return Gl(this._rgb,1,-t),this}rotate(t){return t_(this._rgb,t),this}}/*!
 * Chart.js v4.4.9
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */function Pr(){}const u_=(()=>{let e=0;return()=>e++})();function tn(e){return e==null}function Xt(e){if(Array.isArray&&Array.isArray(e))return!0;const t=Object.prototype.toString.call(e);return t.slice(0,7)==="[object"&&t.slice(-6)==="Array]"}function Pe(e){return e!==null&&Object.prototype.toString.call(e)==="[object Object]"}function Jr(e){return(typeof e=="number"||e instanceof Number)&&isFinite(+e)}function _r(e,t){return Jr(e)?e:t}function Ve(e,t){return typeof e>"u"?t:e}const f_=(e,t)=>typeof e=="string"&&e.endsWith("%")?parseFloat(e)/100:+e/t,Jy=(e,t)=>typeof e=="string"&&e.endsWith("%")?parseFloat(e)/100*t:+e;function rt(e,t,n){if(e&&typeof e.call=="function")return e.apply(n,t)}function We(e,t,n,r){let s,a,c;if(Xt(e))for(a=e.length,s=0;s<a;s++)t.call(n,e[s],s);else if(Pe(e))for(c=Object.keys(e),a=c.length,s=0;s<a;s++)t.call(n,e[c[s]],c[s])}function ru(e,t){let n,r,s,a;if(!e||!t||e.length!==t.length)return!1;for(n=0,r=e.length;n<r;++n)if(s=e[n],a=t[n],s.datasetIndex!==a.datasetIndex||s.index!==a.index)return!1;return!0}function iu(e){if(Xt(e))return e.map(iu);if(Pe(e)){const t=Object.create(null),n=Object.keys(e),r=n.length;let s=0;for(;s<r;++s)t[n[s]]=iu(e[n[s]]);return t}return e}function ew(e){return["__proto__","prototype","constructor"].indexOf(e)===-1}function d_(e,t,n,r){if(!ew(e))return;const s=t[e],a=n[e];Pe(s)&&Pe(a)?qa(s,a,r):t[e]=iu(a)}function qa(e,t,n){const r=Xt(t)?t:[t],s=r.length;if(!Pe(e))return e;n=n||{};const a=n.merger||d_;let c;for(let h=0;h<s;++h){if(c=r[h],!Pe(c))continue;const p=Object.keys(c);for(let g=0,x=p.length;g<x;++g)a(p[g],e,c,n)}return e}function Aa(e,t){return qa(e,t,{merger:h_})}function h_(e,t,n){if(!ew(e))return;const r=t[e],s=n[e];Pe(r)&&Pe(s)?Aa(r,s):Object.prototype.hasOwnProperty.call(t,e)||(t[e]=iu(s))}const fp={"":e=>e,x:e=>e.x,y:e=>e.y};function g_(e){const t=e.split("."),n=[];let r="";for(const s of t)r+=s,r.endsWith("\\")?r=r.slice(0,-1)+".":(n.push(r),r="");return n}function p_(e){const t=g_(e);return n=>{for(const r of t){if(r==="")break;n=n&&n[r]}return n}}function $a(e,t){return(fp[t]||(fp[t]=p_(t)))(e)}function z0(e){return e.charAt(0).toUpperCase()+e.slice(1)}const su=e=>typeof e<"u",ki=e=>typeof e=="function",dp=(e,t)=>{if(e.size!==t.size)return!1;for(const n of e)if(!t.has(n))return!1;return!0};function m_(e){return e.type==="mouseup"||e.type==="click"||e.type==="contextmenu"}const Ft=Math.PI,_t=2*Ft,ou=Number.POSITIVE_INFINITY,x_=Ft/180,Ot=Ft/2,Zi=Ft/4,hp=Ft*2/3,gp=Math.log10,pp=Math.sign;function y_(e){const t=[],n=Math.sqrt(e);let r;for(r=1;r<n;r++)e%r===0&&(t.push(r),t.push(e/r));return n===(n|0)&&t.push(n),t.sort((s,a)=>s-a).pop(),t}function w_(e){return typeof e=="symbol"||typeof e=="object"&&e!==null&&!(Symbol.toPrimitive in e||"toString"in e||"valueOf"in e)}function au(e){return!w_(e)&&!isNaN(parseFloat(e))&&isFinite(e)}function ls(e){return e*(Ft/180)}function C_(e){return e*(180/Ft)}function tw(e,t){const n=t.x-e.x,r=t.y-e.y,s=Math.sqrt(n*n+r*r);let a=Math.atan2(r,n);return a<-.5*Ft&&(a+=_t),{angle:a,distance:s}}function E_(e,t){return Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2))}function Ki(e){return(e%_t+_t)%_t}function lu(e,t,n,r){const s=Ki(e),a=Ki(t),c=Ki(n),h=Ki(a-s),p=Ki(c-s),g=Ki(s-a),x=Ki(s-c);return s===a||s===c||r&&a===c||h>p&&g<x}function $n(e,t,n){return Math.max(t,Math.min(n,e))}function b_(e){return $n(e,-32768,32767)}function aa(e,t,n,r=1e-6){return e>=Math.min(t,n)-r&&e<=Math.max(t,n)+r}function U0(e,t,n){n=n||(c=>e[c]<t);let r=e.length-1,s=0,a;for(;r-s>1;)a=s+r>>1,n(a)?s=a:r=a;return{lo:s,hi:r}}const yh=(e,t,n,r)=>U0(e,n,r?s=>{const a=e[s][t];return a<n||a===n&&e[s+1][t]===n}:s=>e[s][t]<n),A_=(e,t,n)=>U0(e,n,r=>e[r][t]>=n);function S_(e,t,n){let r=0,s=e.length;for(;r<s&&e[r]<t;)r++;for(;s>r&&e[s-1]>n;)s--;return r>0||s<e.length?e.slice(r,s):e}const nw=["push","pop","shift","splice","unshift"];function v_(e,t){if(e._chartjs){e._chartjs.listeners.push(t);return}Object.defineProperty(e,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[t]}}),nw.forEach(n=>{const r="_onData"+z0(n),s=e[n];Object.defineProperty(e,n,{configurable:!0,enumerable:!1,value(...a){const c=s.apply(this,a);return e._chartjs.listeners.forEach(h=>{typeof h[r]=="function"&&h[r](...a)}),c}})})}function mp(e,t){const n=e._chartjs;if(!n)return;const r=n.listeners,s=r.indexOf(t);s!==-1&&r.splice(s,1),!(r.length>0)&&(nw.forEach(a=>{delete e[a]}),delete e._chartjs)}function __(e){const t=new Set(e);return t.size===e.length?e:Array.from(t)}const rw=function(){return typeof window>"u"?function(e){return e()}:window.requestAnimationFrame}();function iw(e,t){let n=[],r=!1;return function(...s){n=s,r||(r=!0,rw.call(window,()=>{r=!1,e.apply(t,n)}))}}function I_(e,t){let n;return function(...r){return t?(clearTimeout(n),n=setTimeout(e,t,r)):e.apply(this,r),t}}const sw=e=>e==="start"?"left":e==="end"?"right":"center",In=(e,t,n)=>e==="start"?t:e==="end"?n:(t+n)/2,T_=(e,t,n,r)=>e===(r?"left":"right")?n:e==="center"?(t+n)/2:t,Ql=e=>e===0||e===1,xp=(e,t,n)=>-(Math.pow(2,10*(e-=1))*Math.sin((e-t)*_t/n)),yp=(e,t,n)=>Math.pow(2,-10*e)*Math.sin((e-t)*_t/n)+1,Sa={linear:e=>e,easeInQuad:e=>e*e,easeOutQuad:e=>-e*(e-2),easeInOutQuad:e=>(e/=.5)<1?.5*e*e:-.5*(--e*(e-2)-1),easeInCubic:e=>e*e*e,easeOutCubic:e=>(e-=1)*e*e+1,easeInOutCubic:e=>(e/=.5)<1?.5*e*e*e:.5*((e-=2)*e*e+2),easeInQuart:e=>e*e*e*e,easeOutQuart:e=>-((e-=1)*e*e*e-1),easeInOutQuart:e=>(e/=.5)<1?.5*e*e*e*e:-.5*((e-=2)*e*e*e-2),easeInQuint:e=>e*e*e*e*e,easeOutQuint:e=>(e-=1)*e*e*e*e+1,easeInOutQuint:e=>(e/=.5)<1?.5*e*e*e*e*e:.5*((e-=2)*e*e*e*e+2),easeInSine:e=>-Math.cos(e*Ot)+1,easeOutSine:e=>Math.sin(e*Ot),easeInOutSine:e=>-.5*(Math.cos(Ft*e)-1),easeInExpo:e=>e===0?0:Math.pow(2,10*(e-1)),easeOutExpo:e=>e===1?1:-Math.pow(2,-10*e)+1,easeInOutExpo:e=>Ql(e)?e:e<.5?.5*Math.pow(2,10*(e*2-1)):.5*(-Math.pow(2,-10*(e*2-1))+2),easeInCirc:e=>e>=1?e:-(Math.sqrt(1-e*e)-1),easeOutCirc:e=>Math.sqrt(1-(e-=1)*e),easeInOutCirc:e=>(e/=.5)<1?-.5*(Math.sqrt(1-e*e)-1):.5*(Math.sqrt(1-(e-=2)*e)+1),easeInElastic:e=>Ql(e)?e:xp(e,.075,.3),easeOutElastic:e=>Ql(e)?e:yp(e,.075,.3),easeInOutElastic(e){return Ql(e)?e:e<.5?.5*xp(e*2,.1125,.45):.5+.5*yp(e*2-1,.1125,.45)},easeInBack(e){return e*e*((1.70158+1)*e-1.70158)},easeOutBack(e){return(e-=1)*e*((1.70158+1)*e+1.70158)+1},easeInOutBack(e){let t=1.70158;return(e/=.5)<1?.5*(e*e*(((t*=1.525)+1)*e-t)):.5*((e-=2)*e*(((t*=1.525)+1)*e+t)+2)},easeInBounce:e=>1-Sa.easeOutBounce(1-e),easeOutBounce(e){return e<1/2.75?7.5625*e*e:e<2/2.75?7.5625*(e-=1.5/2.75)*e+.75:e<2.5/2.75?7.5625*(e-=2.25/2.75)*e+.9375:7.5625*(e-=2.625/2.75)*e+.984375},easeInOutBounce:e=>e<.5?Sa.easeInBounce(e*2)*.5:Sa.easeOutBounce(e*2-1)*.5+.5};function ow(e){if(e&&typeof e=="object"){const t=e.toString();return t==="[object CanvasPattern]"||t==="[object CanvasGradient]"}return!1}function wp(e){return ow(e)?e:new Ka(e)}function Jf(e){return ow(e)?e:new Ka(e).saturate(.5).darken(.1).hexString()}const N_=["x","y","borderWidth","radius","tension"],M_=["color","borderColor","backgroundColor"];function R_(e){e.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),e.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:t=>t!=="onProgress"&&t!=="onComplete"&&t!=="fn"}),e.set("animations",{colors:{type:"color",properties:M_},numbers:{type:"number",properties:N_}}),e.describe("animations",{_fallback:"animation"}),e.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:t=>t|0}}}})}function O_(e){e.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})}const Cp=new Map;function D_(e,t){t=t||{};const n=e+JSON.stringify(t);let r=Cp.get(n);return r||(r=new Intl.NumberFormat(e,t),Cp.set(n,r)),r}function aw(e,t,n){return D_(t,n).format(e)}const lw={values(e){return Xt(e)?e:""+e},numeric(e,t,n){if(e===0)return"0";const r=this.chart.options.locale;let s,a=e;if(n.length>1){const g=Math.max(Math.abs(n[0].value),Math.abs(n[n.length-1].value));(g<1e-4||g>1e15)&&(s="scientific"),a=k_(e,n)}const c=gp(Math.abs(a)),h=isNaN(c)?1:Math.max(Math.min(-1*Math.floor(c),20),0),p={notation:s,minimumFractionDigits:h,maximumFractionDigits:h};return Object.assign(p,this.options.ticks.format),aw(e,r,p)},logarithmic(e,t,n){if(e===0)return"0";const r=n[t].significand||e/Math.pow(10,Math.floor(gp(e)));return[1,2,3,5,10,15].includes(r)||t>.8*n.length?lw.numeric.call(this,e,t,n):""}};function k_(e,t){let n=t.length>3?t[2].value-t[1].value:t[1].value-t[0].value;return Math.abs(n)>=1&&e!==Math.floor(e)&&(n=e-Math.floor(e)),n}var L_={formatters:lw};function P_(e){e.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(t,n)=>n.lineWidth,tickColor:(t,n)=>n.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:L_.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),e.route("scale.ticks","color","","color"),e.route("scale.grid","color","","borderColor"),e.route("scale.border","color","","borderColor"),e.route("scale.title","color","","color"),e.describe("scale",{_fallback:!1,_scriptable:t=>!t.startsWith("before")&&!t.startsWith("after")&&t!=="callback"&&t!=="parser",_indexable:t=>t!=="borderDash"&&t!=="tickBorderDash"&&t!=="dash"}),e.describe("scales",{_fallback:"scale"}),e.describe("scale.ticks",{_scriptable:t=>t!=="backdropPadding"&&t!=="callback",_indexable:t=>t!=="backdropPadding"})}const Es=Object.create(null),wh=Object.create(null);function va(e,t){if(!t)return e;const n=t.split(".");for(let r=0,s=n.length;r<s;++r){const a=n[r];e=e[a]||(e[a]=Object.create(null))}return e}function ed(e,t,n){return typeof t=="string"?qa(va(e,t),n):qa(va(e,""),t)}class B_{constructor(t,n){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=r=>r.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(r,s)=>Jf(s.backgroundColor),this.hoverBorderColor=(r,s)=>Jf(s.borderColor),this.hoverColor=(r,s)=>Jf(s.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(t),this.apply(n)}set(t,n){return ed(this,t,n)}get(t){return va(this,t)}describe(t,n){return ed(wh,t,n)}override(t,n){return ed(Es,t,n)}route(t,n,r,s){const a=va(this,t),c=va(this,r),h="_"+n;Object.defineProperties(a,{[h]:{value:a[n],writable:!0},[n]:{enumerable:!0,get(){const p=this[h],g=c[s];return Pe(p)?Object.assign({},g,p):Ve(p,g)},set(p){this[h]=p}}})}apply(t){t.forEach(n=>n(this))}}var Et=new B_({_scriptable:e=>!e.startsWith("on"),_indexable:e=>e!=="events",hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[R_,O_,P_]);function F_(e){return!e||tn(e.size)||tn(e.family)?null:(e.style?e.style+" ":"")+(e.weight?e.weight+" ":"")+e.size+"px "+e.family}function Ep(e,t,n,r,s){let a=t[s];return a||(a=t[s]=e.measureText(s).width,n.push(s)),a>r&&(r=a),r}function qi(e,t,n){const r=e.currentDevicePixelRatio,s=n!==0?Math.max(n/2,.5):0;return Math.round((t-s)*r)/r+s}function bp(e,t){!t&&!e||(t=t||e.getContext("2d"),t.save(),t.resetTransform(),t.clearRect(0,0,e.width,e.height),t.restore())}function Ap(e,t,n,r){cw(e,t,n,r,null)}function cw(e,t,n,r,s){let a,c,h,p,g,x,w,E;const S=t.pointStyle,v=t.rotation,R=t.radius;let O=(v||0)*x_;if(S&&typeof S=="object"&&(a=S.toString(),a==="[object HTMLImageElement]"||a==="[object HTMLCanvasElement]")){e.save(),e.translate(n,r),e.rotate(O),e.drawImage(S,-S.width/2,-S.height/2,S.width,S.height),e.restore();return}if(!(isNaN(R)||R<=0)){switch(e.beginPath(),S){default:s?e.ellipse(n,r,s/2,R,0,0,_t):e.arc(n,r,R,0,_t),e.closePath();break;case"triangle":x=s?s/2:R,e.moveTo(n+Math.sin(O)*x,r-Math.cos(O)*R),O+=hp,e.lineTo(n+Math.sin(O)*x,r-Math.cos(O)*R),O+=hp,e.lineTo(n+Math.sin(O)*x,r-Math.cos(O)*R),e.closePath();break;case"rectRounded":g=R*.516,p=R-g,c=Math.cos(O+Zi)*p,w=Math.cos(O+Zi)*(s?s/2-g:p),h=Math.sin(O+Zi)*p,E=Math.sin(O+Zi)*(s?s/2-g:p),e.arc(n-w,r-h,g,O-Ft,O-Ot),e.arc(n+E,r-c,g,O-Ot,O),e.arc(n+w,r+h,g,O,O+Ot),e.arc(n-E,r+c,g,O+Ot,O+Ft),e.closePath();break;case"rect":if(!v){p=Math.SQRT1_2*R,x=s?s/2:p,e.rect(n-x,r-p,2*x,2*p);break}O+=Zi;case"rectRot":w=Math.cos(O)*(s?s/2:R),c=Math.cos(O)*R,h=Math.sin(O)*R,E=Math.sin(O)*(s?s/2:R),e.moveTo(n-w,r-h),e.lineTo(n+E,r-c),e.lineTo(n+w,r+h),e.lineTo(n-E,r+c),e.closePath();break;case"crossRot":O+=Zi;case"cross":w=Math.cos(O)*(s?s/2:R),c=Math.cos(O)*R,h=Math.sin(O)*R,E=Math.sin(O)*(s?s/2:R),e.moveTo(n-w,r-h),e.lineTo(n+w,r+h),e.moveTo(n+E,r-c),e.lineTo(n-E,r+c);break;case"star":w=Math.cos(O)*(s?s/2:R),c=Math.cos(O)*R,h=Math.sin(O)*R,E=Math.sin(O)*(s?s/2:R),e.moveTo(n-w,r-h),e.lineTo(n+w,r+h),e.moveTo(n+E,r-c),e.lineTo(n-E,r+c),O+=Zi,w=Math.cos(O)*(s?s/2:R),c=Math.cos(O)*R,h=Math.sin(O)*R,E=Math.sin(O)*(s?s/2:R),e.moveTo(n-w,r-h),e.lineTo(n+w,r+h),e.moveTo(n+E,r-c),e.lineTo(n-E,r+c);break;case"line":c=s?s/2:Math.cos(O)*R,h=Math.sin(O)*R,e.moveTo(n-c,r-h),e.lineTo(n+c,r+h);break;case"dash":e.moveTo(n,r),e.lineTo(n+Math.cos(O)*(s?s/2:R),r+Math.sin(O)*R);break;case!1:e.closePath();break}e.fill(),t.borderWidth>0&&e.stroke()}}function uw(e,t,n){return n=n||.5,!t||e&&e.x>t.left-n&&e.x<t.right+n&&e.y>t.top-n&&e.y<t.bottom+n}function H0(e,t){e.save(),e.beginPath(),e.rect(t.left,t.top,t.right-t.left,t.bottom-t.top),e.clip()}function W0(e){e.restore()}function j_(e,t){t.translation&&e.translate(t.translation[0],t.translation[1]),tn(t.rotation)||e.rotate(t.rotation),t.color&&(e.fillStyle=t.color),t.textAlign&&(e.textAlign=t.textAlign),t.textBaseline&&(e.textBaseline=t.textBaseline)}function z_(e,t,n,r,s){if(s.strikethrough||s.underline){const a=e.measureText(r),c=t-a.actualBoundingBoxLeft,h=t+a.actualBoundingBoxRight,p=n-a.actualBoundingBoxAscent,g=n+a.actualBoundingBoxDescent,x=s.strikethrough?(p+g)/2:g;e.strokeStyle=e.fillStyle,e.beginPath(),e.lineWidth=s.decorationWidth||2,e.moveTo(c,x),e.lineTo(h,x),e.stroke()}}function U_(e,t){const n=e.fillStyle;e.fillStyle=t.color,e.fillRect(t.left,t.top,t.width,t.height),e.fillStyle=n}function cu(e,t,n,r,s,a={}){const c=Xt(t)?t:[t],h=a.strokeWidth>0&&a.strokeColor!=="";let p,g;for(e.save(),e.font=s.string,j_(e,a),p=0;p<c.length;++p)g=c[p],a.backdrop&&U_(e,a.backdrop),h&&(a.strokeColor&&(e.strokeStyle=a.strokeColor),tn(a.strokeWidth)||(e.lineWidth=a.strokeWidth),e.strokeText(g,n,r,a.maxWidth)),e.fillText(g,n,r,a.maxWidth),z_(e,n,r,g,a),r+=Number(s.lineHeight);e.restore()}function Ch(e,t){const{x:n,y:r,w:s,h:a,radius:c}=t;e.arc(n+c.topLeft,r+c.topLeft,c.topLeft,1.5*Ft,Ft,!0),e.lineTo(n,r+a-c.bottomLeft),e.arc(n+c.bottomLeft,r+a-c.bottomLeft,c.bottomLeft,Ft,Ot,!0),e.lineTo(n+s-c.bottomRight,r+a),e.arc(n+s-c.bottomRight,r+a-c.bottomRight,c.bottomRight,Ot,0,!0),e.lineTo(n+s,r+c.topRight),e.arc(n+s-c.topRight,r+c.topRight,c.topRight,0,-Ot,!0),e.lineTo(n+c.topLeft,r)}const H_=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,W_=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function V_(e,t){const n=(""+e).match(H_);if(!n||n[1]==="normal")return t*1.2;switch(e=+n[2],n[3]){case"px":return e;case"%":e/=100;break}return t*e}const Y_=e=>+e||0;function V0(e,t){const n={},r=Pe(t),s=r?Object.keys(t):t,a=Pe(e)?r?c=>Ve(e[c],e[t[c]]):c=>e[c]:()=>e;for(const c of s)n[c]=Y_(a(c));return n}function X_(e){return V0(e,{top:"y",right:"x",bottom:"y",left:"x"})}function _a(e){return V0(e,["topLeft","topRight","bottomLeft","bottomRight"])}function pr(e){const t=X_(e);return t.width=t.left+t.right,t.height=t.top+t.bottom,t}function Cn(e,t){e=e||{},t=t||Et.font;let n=Ve(e.size,t.size);typeof n=="string"&&(n=parseInt(n,10));let r=Ve(e.style,t.style);r&&!(""+r).match(W_)&&(console.warn('Invalid font style specified: "'+r+'"'),r=void 0);const s={family:Ve(e.family,t.family),lineHeight:V_(Ve(e.lineHeight,t.lineHeight),n),size:n,style:r,weight:Ve(e.weight,t.weight),string:""};return s.string=F_(s),s}function Zl(e,t,n,r){let s,a,c;for(s=0,a=e.length;s<a;++s)if(c=e[s],c!==void 0&&c!==void 0)return c}function G_(e,t,n){const{min:r,max:s}=e,a=Jy(t,(s-r)/2),c=(h,p)=>n&&h===0?0:h+p;return{min:c(r,-Math.abs(a)),max:c(s,a)}}function Io(e,t){return Object.assign(Object.create(e),t)}function Y0(e,t=[""],n,r,s=()=>e[0]){const a=n||e;typeof r>"u"&&(r=gw("_fallback",e));const c={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:e,_rootScopes:a,_fallback:r,_getTarget:s,override:h=>Y0([h,...e],t,a,r)};return new Proxy(c,{deleteProperty(h,p){return delete h[p],delete h._keys,delete e[0][p],!0},get(h,p){return dw(h,p,()=>t8(p,t,e,h))},getOwnPropertyDescriptor(h,p){return Reflect.getOwnPropertyDescriptor(h._scopes[0],p)},getPrototypeOf(){return Reflect.getPrototypeOf(e[0])},has(h,p){return vp(h).includes(p)},ownKeys(h){return vp(h)},set(h,p,g){const x=h._storage||(h._storage=s());return h[p]=x[p]=g,delete h._keys,!0}})}function mo(e,t,n,r){const s={_cacheable:!1,_proxy:e,_context:t,_subProxy:n,_stack:new Set,_descriptors:fw(e,r),setContext:a=>mo(e,a,n,r),override:a=>mo(e.override(a),t,n,r)};return new Proxy(s,{deleteProperty(a,c){return delete a[c],delete e[c],!0},get(a,c,h){return dw(a,c,()=>Z_(a,c,h))},getOwnPropertyDescriptor(a,c){return a._descriptors.allKeys?Reflect.has(e,c)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(e,c)},getPrototypeOf(){return Reflect.getPrototypeOf(e)},has(a,c){return Reflect.has(e,c)},ownKeys(){return Reflect.ownKeys(e)},set(a,c,h){return e[c]=h,delete a[c],!0}})}function fw(e,t={scriptable:!0,indexable:!0}){const{_scriptable:n=t.scriptable,_indexable:r=t.indexable,_allKeys:s=t.allKeys}=e;return{allKeys:s,scriptable:n,indexable:r,isScriptable:ki(n)?n:()=>n,isIndexable:ki(r)?r:()=>r}}const Q_=(e,t)=>e?e+z0(t):t,X0=(e,t)=>Pe(t)&&e!=="adapters"&&(Object.getPrototypeOf(t)===null||t.constructor===Object);function dw(e,t,n){if(Object.prototype.hasOwnProperty.call(e,t)||t==="constructor")return e[t];const r=n();return e[t]=r,r}function Z_(e,t,n){const{_proxy:r,_context:s,_subProxy:a,_descriptors:c}=e;let h=r[t];return ki(h)&&c.isScriptable(t)&&(h=K_(t,h,e,n)),Xt(h)&&h.length&&(h=q_(t,h,e,c.isIndexable)),X0(t,h)&&(h=mo(h,s,a&&a[t],c)),h}function K_(e,t,n,r){const{_proxy:s,_context:a,_subProxy:c,_stack:h}=n;if(h.has(e))throw new Error("Recursion detected: "+Array.from(h).join("->")+"->"+e);h.add(e);let p=t(a,c||r);return h.delete(e),X0(e,p)&&(p=G0(s._scopes,s,e,p)),p}function q_(e,t,n,r){const{_proxy:s,_context:a,_subProxy:c,_descriptors:h}=n;if(typeof a.index<"u"&&r(e))return t[a.index%t.length];if(Pe(t[0])){const p=t,g=s._scopes.filter(x=>x!==p);t=[];for(const x of p){const w=G0(g,s,e,x);t.push(mo(w,a,c&&c[e],h))}}return t}function hw(e,t,n){return ki(e)?e(t,n):e}const $_=(e,t)=>e===!0?t:typeof e=="string"?$a(t,e):void 0;function J_(e,t,n,r,s){for(const a of t){const c=$_(n,a);if(c){e.add(c);const h=hw(c._fallback,n,s);if(typeof h<"u"&&h!==n&&h!==r)return h}else if(c===!1&&typeof r<"u"&&n!==r)return null}return!1}function G0(e,t,n,r){const s=t._rootScopes,a=hw(t._fallback,n,r),c=[...e,...s],h=new Set;h.add(r);let p=Sp(h,c,n,a||n,r);return p===null||typeof a<"u"&&a!==n&&(p=Sp(h,c,a,p,r),p===null)?!1:Y0(Array.from(h),[""],s,a,()=>e8(t,n,r))}function Sp(e,t,n,r,s){for(;n;)n=J_(e,t,n,r,s);return n}function e8(e,t,n){const r=e._getTarget();t in r||(r[t]={});const s=r[t];return Xt(s)&&Pe(n)?n:s||{}}function t8(e,t,n,r){let s;for(const a of t)if(s=gw(Q_(a,e),n),typeof s<"u")return X0(e,s)?G0(n,r,e,s):s}function gw(e,t){for(const n of t){if(!n)continue;const r=n[e];if(typeof r<"u")return r}}function vp(e){let t=e._keys;return t||(t=e._keys=n8(e._scopes)),t}function n8(e){const t=new Set;for(const n of e)for(const r of Object.keys(n).filter(s=>!s.startsWith("_")))t.add(r);return Array.from(t)}function Q0(){return typeof window<"u"&&typeof document<"u"}function Z0(e){let t=e.parentNode;return t&&t.toString()==="[object ShadowRoot]"&&(t=t.host),t}function uu(e,t,n){let r;return typeof e=="string"?(r=parseInt(e,10),e.indexOf("%")!==-1&&(r=r/100*t.parentNode[n])):r=e,r}const Xu=e=>e.ownerDocument.defaultView.getComputedStyle(e,null);function r8(e,t){return Xu(e).getPropertyValue(t)}const i8=["top","right","bottom","left"];function ds(e,t,n){const r={};n=n?"-"+n:"";for(let s=0;s<4;s++){const a=i8[s];r[a]=parseFloat(e[t+"-"+a+n])||0}return r.width=r.left+r.right,r.height=r.top+r.bottom,r}const s8=(e,t,n)=>(e>0||t>0)&&(!n||!n.shadowRoot);function o8(e,t){const n=e.touches,r=n&&n.length?n[0]:e,{offsetX:s,offsetY:a}=r;let c=!1,h,p;if(s8(s,a,e.target))h=s,p=a;else{const g=t.getBoundingClientRect();h=r.clientX-g.left,p=r.clientY-g.top,c=!0}return{x:h,y:p,box:c}}function ns(e,t){if("native"in e)return e;const{canvas:n,currentDevicePixelRatio:r}=t,s=Xu(n),a=s.boxSizing==="border-box",c=ds(s,"padding"),h=ds(s,"border","width"),{x:p,y:g,box:x}=o8(e,n),w=c.left+(x&&h.left),E=c.top+(x&&h.top);let{width:S,height:v}=t;return a&&(S-=c.width+h.width,v-=c.height+h.height),{x:Math.round((p-w)/S*n.width/r),y:Math.round((g-E)/v*n.height/r)}}function a8(e,t,n){let r,s;if(t===void 0||n===void 0){const a=e&&Z0(e);if(!a)t=e.clientWidth,n=e.clientHeight;else{const c=a.getBoundingClientRect(),h=Xu(a),p=ds(h,"border","width"),g=ds(h,"padding");t=c.width-g.width-p.width,n=c.height-g.height-p.height,r=uu(h.maxWidth,a,"clientWidth"),s=uu(h.maxHeight,a,"clientHeight")}}return{width:t,height:n,maxWidth:r||ou,maxHeight:s||ou}}const Kl=e=>Math.round(e*10)/10;function l8(e,t,n,r){const s=Xu(e),a=ds(s,"margin"),c=uu(s.maxWidth,e,"clientWidth")||ou,h=uu(s.maxHeight,e,"clientHeight")||ou,p=a8(e,t,n);let{width:g,height:x}=p;if(s.boxSizing==="content-box"){const E=ds(s,"border","width"),S=ds(s,"padding");g-=S.width+E.width,x-=S.height+E.height}return g=Math.max(0,g-a.width),x=Math.max(0,r?g/r:x-a.height),g=Kl(Math.min(g,c,p.maxWidth)),x=Kl(Math.min(x,h,p.maxHeight)),g&&!x&&(x=Kl(g/2)),(t!==void 0||n!==void 0)&&r&&p.height&&x>p.height&&(x=p.height,g=Kl(Math.floor(x*r))),{width:g,height:x}}function _p(e,t,n){const r=t||1,s=Math.floor(e.height*r),a=Math.floor(e.width*r);e.height=Math.floor(e.height),e.width=Math.floor(e.width);const c=e.canvas;return c.style&&(n||!c.style.height&&!c.style.width)&&(c.style.height=`${e.height}px`,c.style.width=`${e.width}px`),e.currentDevicePixelRatio!==r||c.height!==s||c.width!==a?(e.currentDevicePixelRatio=r,c.height=s,c.width=a,e.ctx.setTransform(r,0,0,r,0,0),!0):!1}const c8=function(){let e=!1;try{const t={get passive(){return e=!0,!1}};Q0()&&(window.addEventListener("test",null,t),window.removeEventListener("test",null,t))}catch{}return e}();function Ip(e,t){const n=r8(e,t),r=n&&n.match(/^(\d+)(\.\d+)?px$/);return r?+r[1]:void 0}const u8=function(e,t){return{x(n){return e+e+t-n},setWidth(n){t=n},textAlign(n){return n==="center"?n:n==="right"?"left":"right"},xPlus(n,r){return n-r},leftForLtr(n,r){return n-r}}},f8=function(){return{x(e){return e},setWidth(e){},textAlign(e){return e},xPlus(e,t){return e+t},leftForLtr(e,t){return e}}};function oo(e,t,n){return e?u8(t,n):f8()}function pw(e,t){let n,r;(t==="ltr"||t==="rtl")&&(n=e.canvas.style,r=[n.getPropertyValue("direction"),n.getPropertyPriority("direction")],n.setProperty("direction",t,"important"),e.prevTextDirection=r)}function mw(e,t){t!==void 0&&(delete e.prevTextDirection,e.canvas.style.setProperty("direction",t[0],t[1]))}function ql(e,t,n){return e.options.clip?e[n]:t[n]}function d8(e,t){const{xScale:n,yScale:r}=e;return n&&r?{left:ql(n,t,"left"),right:ql(n,t,"right"),top:ql(r,t,"top"),bottom:ql(r,t,"bottom")}:t}function h8(e,t){const n=t._clip;if(n.disabled)return!1;const r=d8(t,e.chartArea);return{left:n.left===!1?0:r.left-(n.left===!0?0:n.left),right:n.right===!1?e.width:r.right+(n.right===!0?0:n.right),top:n.top===!1?0:r.top-(n.top===!0?0:n.top),bottom:n.bottom===!1?e.height:r.bottom+(n.bottom===!0?0:n.bottom)}}/*!
 * Chart.js v4.4.9
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */class g8{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(t,n,r,s){const a=n.listeners[s],c=n.duration;a.forEach(h=>h({chart:t,initial:n.initial,numSteps:c,currentStep:Math.min(r-n.start,c)}))}_refresh(){this._request||(this._running=!0,this._request=rw.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(t=Date.now()){let n=0;this._charts.forEach((r,s)=>{if(!r.running||!r.items.length)return;const a=r.items;let c=a.length-1,h=!1,p;for(;c>=0;--c)p=a[c],p._active?(p._total>r.duration&&(r.duration=p._total),p.tick(t),h=!0):(a[c]=a[a.length-1],a.pop());h&&(s.draw(),this._notify(s,r,t,"progress")),a.length||(r.running=!1,this._notify(s,r,t,"complete"),r.initial=!1),n+=a.length}),this._lastDate=t,n===0&&(this._running=!1)}_getAnims(t){const n=this._charts;let r=n.get(t);return r||(r={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},n.set(t,r)),r}listen(t,n,r){this._getAnims(t).listeners[n].push(r)}add(t,n){!n||!n.length||this._getAnims(t).items.push(...n)}has(t){return this._getAnims(t).items.length>0}start(t){const n=this._charts.get(t);n&&(n.running=!0,n.start=Date.now(),n.duration=n.items.reduce((r,s)=>Math.max(r,s._duration),0),this._refresh())}running(t){if(!this._running)return!1;const n=this._charts.get(t);return!(!n||!n.running||!n.items.length)}stop(t){const n=this._charts.get(t);if(!n||!n.items.length)return;const r=n.items;let s=r.length-1;for(;s>=0;--s)r[s].cancel();n.items=[],this._notify(t,n,Date.now(),"complete")}remove(t){return this._charts.delete(t)}}var Br=new g8;const Tp="transparent",p8={boolean(e,t,n){return n>.5?t:e},color(e,t,n){const r=wp(e||Tp),s=r.valid&&wp(t||Tp);return s&&s.valid?s.mix(r,n).hexString():t},number(e,t,n){return e+(t-e)*n}};class m8{constructor(t,n,r,s){const a=n[r];s=Zl([t.to,s,a,t.from]);const c=Zl([t.from,a,s]);this._active=!0,this._fn=t.fn||p8[t.type||typeof c],this._easing=Sa[t.easing]||Sa.linear,this._start=Math.floor(Date.now()+(t.delay||0)),this._duration=this._total=Math.floor(t.duration),this._loop=!!t.loop,this._target=n,this._prop=r,this._from=c,this._to=s,this._promises=void 0}active(){return this._active}update(t,n,r){if(this._active){this._notify(!1);const s=this._target[this._prop],a=r-this._start,c=this._duration-a;this._start=r,this._duration=Math.floor(Math.max(c,t.duration)),this._total+=a,this._loop=!!t.loop,this._to=Zl([t.to,n,s,t.from]),this._from=Zl([t.from,s,n])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(t){const n=t-this._start,r=this._duration,s=this._prop,a=this._from,c=this._loop,h=this._to;let p;if(this._active=a!==h&&(c||n<r),!this._active){this._target[s]=h,this._notify(!0);return}if(n<0){this._target[s]=a;return}p=n/r%2,p=c&&p>1?2-p:p,p=this._easing(Math.min(1,Math.max(0,p))),this._target[s]=this._fn(a,h,p)}wait(){const t=this._promises||(this._promises=[]);return new Promise((n,r)=>{t.push({res:n,rej:r})})}_notify(t){const n=t?"res":"rej",r=this._promises||[];for(let s=0;s<r.length;s++)r[s][n]()}}class xw{constructor(t,n){this._chart=t,this._properties=new Map,this.configure(n)}configure(t){if(!Pe(t))return;const n=Object.keys(Et.animation),r=this._properties;Object.getOwnPropertyNames(t).forEach(s=>{const a=t[s];if(!Pe(a))return;const c={};for(const h of n)c[h]=a[h];(Xt(a.properties)&&a.properties||[s]).forEach(h=>{(h===s||!r.has(h))&&r.set(h,c)})})}_animateOptions(t,n){const r=n.options,s=y8(t,r);if(!s)return[];const a=this._createAnimations(s,r);return r.$shared&&x8(t.options.$animations,r).then(()=>{t.options=r},()=>{}),a}_createAnimations(t,n){const r=this._properties,s=[],a=t.$animations||(t.$animations={}),c=Object.keys(n),h=Date.now();let p;for(p=c.length-1;p>=0;--p){const g=c[p];if(g.charAt(0)==="$")continue;if(g==="options"){s.push(...this._animateOptions(t,n));continue}const x=n[g];let w=a[g];const E=r.get(g);if(w)if(E&&w.active()){w.update(E,x,h);continue}else w.cancel();if(!E||!E.duration){t[g]=x;continue}a[g]=w=new m8(E,t,g,x),s.push(w)}return s}update(t,n){if(this._properties.size===0){Object.assign(t,n);return}const r=this._createAnimations(t,n);if(r.length)return Br.add(this._chart,r),!0}}function x8(e,t){const n=[],r=Object.keys(t);for(let s=0;s<r.length;s++){const a=e[r[s]];a&&a.active()&&n.push(a.wait())}return Promise.all(n)}function y8(e,t){if(!t)return;let n=e.options;if(!n){e.options=t;return}return n.$shared&&(e.options=n=Object.assign({},n,{$shared:!1,$animations:{}})),n}function Np(e,t){const n=e&&e.options||{},r=n.reverse,s=n.min===void 0?t:0,a=n.max===void 0?t:0;return{start:r?a:s,end:r?s:a}}function w8(e,t,n){if(n===!1)return!1;const r=Np(e,n),s=Np(t,n);return{top:s.end,right:r.end,bottom:s.start,left:r.start}}function C8(e){let t,n,r,s;return Pe(e)?(t=e.top,n=e.right,r=e.bottom,s=e.left):t=n=r=s=e,{top:t,right:n,bottom:r,left:s,disabled:e===!1}}function yw(e,t){const n=[],r=e._getSortedDatasetMetas(t);let s,a;for(s=0,a=r.length;s<a;++s)n.push(r[s].index);return n}function Mp(e,t,n,r={}){const s=e.keys,a=r.mode==="single";let c,h,p,g;if(t===null)return;let x=!1;for(c=0,h=s.length;c<h;++c){if(p=+s[c],p===n){if(x=!0,r.all)continue;break}g=e.values[p],Jr(g)&&(a||t===0||pp(t)===pp(g))&&(t+=g)}return!x&&!r.all?0:t}function E8(e,t){const{iScale:n,vScale:r}=t,s=n.axis==="x"?"x":"y",a=r.axis==="x"?"x":"y",c=Object.keys(e),h=new Array(c.length);let p,g,x;for(p=0,g=c.length;p<g;++p)x=c[p],h[p]={[s]:x,[a]:e[x]};return h}function td(e,t){const n=e&&e.options.stacked;return n||n===void 0&&t.stack!==void 0}function b8(e,t,n){return`${e.id}.${t.id}.${n.stack||n.type}`}function A8(e){const{min:t,max:n,minDefined:r,maxDefined:s}=e.getUserBounds();return{min:r?t:Number.NEGATIVE_INFINITY,max:s?n:Number.POSITIVE_INFINITY}}function S8(e,t,n){const r=e[t]||(e[t]={});return r[n]||(r[n]={})}function Rp(e,t,n,r){for(const s of t.getMatchingVisibleMetas(r).reverse()){const a=e[s.index];if(n&&a>0||!n&&a<0)return s.index}return null}function Op(e,t){const{chart:n,_cachedMeta:r}=e,s=n._stacks||(n._stacks={}),{iScale:a,vScale:c,index:h}=r,p=a.axis,g=c.axis,x=b8(a,c,r),w=t.length;let E;for(let S=0;S<w;++S){const v=t[S],{[p]:R,[g]:O}=v,M=v._stacks||(v._stacks={});E=M[g]=S8(s,x,R),E[h]=O,E._top=Rp(E,c,!0,r.type),E._bottom=Rp(E,c,!1,r.type);const T=E._visualValues||(E._visualValues={});T[h]=O}}function nd(e,t){const n=e.scales;return Object.keys(n).filter(r=>n[r].axis===t).shift()}function v8(e,t){return Io(e,{active:!1,dataset:void 0,datasetIndex:t,index:t,mode:"default",type:"dataset"})}function _8(e,t,n){return Io(e,{active:!1,dataIndex:t,parsed:void 0,raw:void 0,element:n,index:t,mode:"default",type:"data"})}function Ko(e,t){const n=e.controller.index,r=e.vScale&&e.vScale.axis;if(r){t=t||e._parsed;for(const s of t){const a=s._stacks;if(!a||a[r]===void 0||a[r][n]===void 0)return;delete a[r][n],a[r]._visualValues!==void 0&&a[r]._visualValues[n]!==void 0&&delete a[r]._visualValues[n]}}}const rd=e=>e==="reset"||e==="none",Dp=(e,t)=>t?e:Object.assign({},e),I8=(e,t,n)=>e&&!t.hidden&&t._stacked&&{keys:yw(n,!0),values:null};class Ia{constructor(t,n){this.chart=t,this._ctx=t.ctx,this.index=n,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const t=this._cachedMeta;this.configure(),this.linkScales(),t._stacked=td(t.vScale,t),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(t){this.index!==t&&Ko(this._cachedMeta),this.index=t}linkScales(){const t=this.chart,n=this._cachedMeta,r=this.getDataset(),s=(w,E,S,v)=>w==="x"?E:w==="r"?v:S,a=n.xAxisID=Ve(r.xAxisID,nd(t,"x")),c=n.yAxisID=Ve(r.yAxisID,nd(t,"y")),h=n.rAxisID=Ve(r.rAxisID,nd(t,"r")),p=n.indexAxis,g=n.iAxisID=s(p,a,c,h),x=n.vAxisID=s(p,c,a,h);n.xScale=this.getScaleForId(a),n.yScale=this.getScaleForId(c),n.rScale=this.getScaleForId(h),n.iScale=this.getScaleForId(g),n.vScale=this.getScaleForId(x)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(t){return this.chart.scales[t]}_getOtherScale(t){const n=this._cachedMeta;return t===n.iScale?n.vScale:n.iScale}reset(){this._update("reset")}_destroy(){const t=this._cachedMeta;this._data&&mp(this._data,this),t._stacked&&Ko(t)}_dataCheck(){const t=this.getDataset(),n=t.data||(t.data=[]),r=this._data;if(Pe(n)){const s=this._cachedMeta;this._data=E8(n,s)}else if(r!==n){if(r){mp(r,this);const s=this._cachedMeta;Ko(s),s._parsed=[]}n&&Object.isExtensible(n)&&v_(n,this),this._syncList=[],this._data=n}}addElements(){const t=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(t.dataset=new this.datasetElementType)}buildOrUpdateElements(t){const n=this._cachedMeta,r=this.getDataset();let s=!1;this._dataCheck();const a=n._stacked;n._stacked=td(n.vScale,n),n.stack!==r.stack&&(s=!0,Ko(n),n.stack=r.stack),this._resyncElements(t),(s||a!==n._stacked)&&(Op(this,n._parsed),n._stacked=td(n.vScale,n))}configure(){const t=this.chart.config,n=t.datasetScopeKeys(this._type),r=t.getOptionScopes(this.getDataset(),n,!0);this.options=t.createResolver(r,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(t,n){const{_cachedMeta:r,_data:s}=this,{iScale:a,_stacked:c}=r,h=a.axis;let p=t===0&&n===s.length?!0:r._sorted,g=t>0&&r._parsed[t-1],x,w,E;if(this._parsing===!1)r._parsed=s,r._sorted=!0,E=s;else{Xt(s[t])?E=this.parseArrayData(r,s,t,n):Pe(s[t])?E=this.parseObjectData(r,s,t,n):E=this.parsePrimitiveData(r,s,t,n);const S=()=>w[h]===null||g&&w[h]<g[h];for(x=0;x<n;++x)r._parsed[x+t]=w=E[x],p&&(S()&&(p=!1),g=w);r._sorted=p}c&&Op(this,E)}parsePrimitiveData(t,n,r,s){const{iScale:a,vScale:c}=t,h=a.axis,p=c.axis,g=a.getLabels(),x=a===c,w=new Array(s);let E,S,v;for(E=0,S=s;E<S;++E)v=E+r,w[E]={[h]:x||a.parse(g[v],v),[p]:c.parse(n[v],v)};return w}parseArrayData(t,n,r,s){const{xScale:a,yScale:c}=t,h=new Array(s);let p,g,x,w;for(p=0,g=s;p<g;++p)x=p+r,w=n[x],h[p]={x:a.parse(w[0],x),y:c.parse(w[1],x)};return h}parseObjectData(t,n,r,s){const{xScale:a,yScale:c}=t,{xAxisKey:h="x",yAxisKey:p="y"}=this._parsing,g=new Array(s);let x,w,E,S;for(x=0,w=s;x<w;++x)E=x+r,S=n[E],g[x]={x:a.parse($a(S,h),E),y:c.parse($a(S,p),E)};return g}getParsed(t){return this._cachedMeta._parsed[t]}getDataElement(t){return this._cachedMeta.data[t]}applyStack(t,n,r){const s=this.chart,a=this._cachedMeta,c=n[t.axis],h={keys:yw(s,!0),values:n._stacks[t.axis]._visualValues};return Mp(h,c,a.index,{mode:r})}updateRangeFromParsed(t,n,r,s){const a=r[n.axis];let c=a===null?NaN:a;const h=s&&r._stacks[n.axis];s&&h&&(s.values=h,c=Mp(s,a,this._cachedMeta.index)),t.min=Math.min(t.min,c),t.max=Math.max(t.max,c)}getMinMax(t,n){const r=this._cachedMeta,s=r._parsed,a=r._sorted&&t===r.iScale,c=s.length,h=this._getOtherScale(t),p=I8(n,r,this.chart),g={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:x,max:w}=A8(h);let E,S;function v(){S=s[E];const R=S[h.axis];return!Jr(S[t.axis])||x>R||w<R}for(E=0;E<c&&!(!v()&&(this.updateRangeFromParsed(g,t,S,p),a));++E);if(a){for(E=c-1;E>=0;--E)if(!v()){this.updateRangeFromParsed(g,t,S,p);break}}return g}getAllParsedValues(t){const n=this._cachedMeta._parsed,r=[];let s,a,c;for(s=0,a=n.length;s<a;++s)c=n[s][t.axis],Jr(c)&&r.push(c);return r}getMaxOverflow(){return!1}getLabelAndValue(t){const n=this._cachedMeta,r=n.iScale,s=n.vScale,a=this.getParsed(t);return{label:r?""+r.getLabelForValue(a[r.axis]):"",value:s?""+s.getLabelForValue(a[s.axis]):""}}_update(t){const n=this._cachedMeta;this.update(t||"default"),n._clip=C8(Ve(this.options.clip,w8(n.xScale,n.yScale,this.getMaxOverflow())))}update(t){}draw(){const t=this._ctx,n=this.chart,r=this._cachedMeta,s=r.data||[],a=n.chartArea,c=[],h=this._drawStart||0,p=this._drawCount||s.length-h,g=this.options.drawActiveElementsOnTop;let x;for(r.dataset&&r.dataset.draw(t,a,h,p),x=h;x<h+p;++x){const w=s[x];w.hidden||(w.active&&g?c.push(w):w.draw(t,a))}for(x=0;x<c.length;++x)c[x].draw(t,a)}getStyle(t,n){const r=n?"active":"default";return t===void 0&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(r):this.resolveDataElementOptions(t||0,r)}getContext(t,n,r){const s=this.getDataset();let a;if(t>=0&&t<this._cachedMeta.data.length){const c=this._cachedMeta.data[t];a=c.$context||(c.$context=_8(this.getContext(),t,c)),a.parsed=this.getParsed(t),a.raw=s.data[t],a.index=a.dataIndex=t}else a=this.$context||(this.$context=v8(this.chart.getContext(),this.index)),a.dataset=s,a.index=a.datasetIndex=this.index;return a.active=!!n,a.mode=r,a}resolveDatasetElementOptions(t){return this._resolveElementOptions(this.datasetElementType.id,t)}resolveDataElementOptions(t,n){return this._resolveElementOptions(this.dataElementType.id,n,t)}_resolveElementOptions(t,n="default",r){const s=n==="active",a=this._cachedDataOpts,c=t+"-"+n,h=a[c],p=this.enableOptionSharing&&su(r);if(h)return Dp(h,p);const g=this.chart.config,x=g.datasetElementScopeKeys(this._type,t),w=s?[`${t}Hover`,"hover",t,""]:[t,""],E=g.getOptionScopes(this.getDataset(),x),S=Object.keys(Et.elements[t]),v=()=>this.getContext(r,s,n),R=g.resolveNamedOptions(E,S,v,w);return R.$shared&&(R.$shared=p,a[c]=Object.freeze(Dp(R,p))),R}_resolveAnimations(t,n,r){const s=this.chart,a=this._cachedDataOpts,c=`animation-${n}`,h=a[c];if(h)return h;let p;if(s.options.animation!==!1){const x=this.chart.config,w=x.datasetAnimationScopeKeys(this._type,n),E=x.getOptionScopes(this.getDataset(),w);p=x.createResolver(E,this.getContext(t,r,n))}const g=new xw(s,p&&p.animations);return p&&p._cacheable&&(a[c]=Object.freeze(g)),g}getSharedOptions(t){if(t.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},t))}includeOptions(t,n){return!n||rd(t)||this.chart._animationsDisabled}_getSharedOptions(t,n){const r=this.resolveDataElementOptions(t,n),s=this._sharedOptions,a=this.getSharedOptions(r),c=this.includeOptions(n,a)||a!==s;return this.updateSharedOptions(a,n,r),{sharedOptions:a,includeOptions:c}}updateElement(t,n,r,s){rd(s)?Object.assign(t,r):this._resolveAnimations(n,s).update(t,r)}updateSharedOptions(t,n,r){t&&!rd(n)&&this._resolveAnimations(void 0,n).update(t,r)}_setStyle(t,n,r,s){t.active=s;const a=this.getStyle(n,s);this._resolveAnimations(n,r,s).update(t,{options:!s&&this.getSharedOptions(a)||a})}removeHoverStyle(t,n,r){this._setStyle(t,r,"active",!1)}setHoverStyle(t,n,r){this._setStyle(t,r,"active",!0)}_removeDatasetHoverStyle(){const t=this._cachedMeta.dataset;t&&this._setStyle(t,void 0,"active",!1)}_setDatasetHoverStyle(){const t=this._cachedMeta.dataset;t&&this._setStyle(t,void 0,"active",!0)}_resyncElements(t){const n=this._data,r=this._cachedMeta.data;for(const[h,p,g]of this._syncList)this[h](p,g);this._syncList=[];const s=r.length,a=n.length,c=Math.min(a,s);c&&this.parse(0,c),a>s?this._insertElements(s,a-s,t):a<s&&this._removeElements(a,s-a)}_insertElements(t,n,r=!0){const s=this._cachedMeta,a=s.data,c=t+n;let h;const p=g=>{for(g.length+=n,h=g.length-1;h>=c;h--)g[h]=g[h-n]};for(p(a),h=t;h<c;++h)a[h]=new this.dataElementType;this._parsing&&p(s._parsed),this.parse(t,n),r&&this.updateElements(a,t,n,"reset")}updateElements(t,n,r,s){}_removeElements(t,n){const r=this._cachedMeta;if(this._parsing){const s=r._parsed.splice(t,n);r._stacked&&Ko(r,s)}r.data.splice(t,n)}_sync(t){if(this._parsing)this._syncList.push(t);else{const[n,r,s]=t;this[n](r,s)}this.chart._dataChanges.push([this.index,...t])}_onDataPush(){const t=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-t,t])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(t,n){n&&this._sync(["_removeElements",t,n]);const r=arguments.length-2;r&&this._sync(["_insertElements",t,r])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}_e(Ia,"defaults",{}),_e(Ia,"datasetElementType",null),_e(Ia,"dataElementType",null);function T8(e,t,n){let r=1,s=1,a=0,c=0;if(t<_t){const h=e,p=h+t,g=Math.cos(h),x=Math.sin(h),w=Math.cos(p),E=Math.sin(p),S=(N,L,z)=>lu(N,h,p,!0)?1:Math.max(L,L*n,z,z*n),v=(N,L,z)=>lu(N,h,p,!0)?-1:Math.min(L,L*n,z,z*n),R=S(0,g,w),O=S(Ot,x,E),M=v(Ft,g,w),T=v(Ft+Ot,x,E);r=(R-M)/2,s=(O-T)/2,a=-(R+M)/2,c=-(O+T)/2}return{ratioX:r,ratioY:s,offsetX:a,offsetY:c}}class la extends Ia{constructor(t,n){super(t,n),this.enableOptionSharing=!0,this.innerRadius=void 0,this.outerRadius=void 0,this.offsetX=void 0,this.offsetY=void 0}linkScales(){}parse(t,n){const r=this.getDataset().data,s=this._cachedMeta;if(this._parsing===!1)s._parsed=r;else{let a=p=>+r[p];if(Pe(r[t])){const{key:p="value"}=this._parsing;a=g=>+$a(r[g],p)}let c,h;for(c=t,h=t+n;c<h;++c)s._parsed[c]=a(c)}}_getRotation(){return ls(this.options.rotation-90)}_getCircumference(){return ls(this.options.circumference)}_getRotationExtents(){let t=_t,n=-_t;for(let r=0;r<this.chart.data.datasets.length;++r)if(this.chart.isDatasetVisible(r)&&this.chart.getDatasetMeta(r).type===this._type){const s=this.chart.getDatasetMeta(r).controller,a=s._getRotation(),c=s._getCircumference();t=Math.min(t,a),n=Math.max(n,a+c)}return{rotation:t,circumference:n-t}}update(t){const n=this.chart,{chartArea:r}=n,s=this._cachedMeta,a=s.data,c=this.getMaxBorderWidth()+this.getMaxOffset(a)+this.options.spacing,h=Math.max((Math.min(r.width,r.height)-c)/2,0),p=Math.min(f_(this.options.cutout,h),1),g=this._getRingWeight(this.index),{circumference:x,rotation:w}=this._getRotationExtents(),{ratioX:E,ratioY:S,offsetX:v,offsetY:R}=T8(w,x,p),O=(r.width-c)/E,M=(r.height-c)/S,T=Math.max(Math.min(O,M)/2,0),N=Jy(this.options.radius,T),L=Math.max(N*p,0),z=(N-L)/this._getVisibleDatasetWeightTotal();this.offsetX=v*N,this.offsetY=R*N,s.total=this.calculateTotal(),this.outerRadius=N-z*this._getRingWeightOffset(this.index),this.innerRadius=Math.max(this.outerRadius-z*g,0),this.updateElements(a,0,a.length,t)}_circumference(t,n){const r=this.options,s=this._cachedMeta,a=this._getCircumference();return n&&r.animation.animateRotate||!this.chart.getDataVisibility(t)||s._parsed[t]===null||s.data[t].hidden?0:this.calculateCircumference(s._parsed[t]*a/_t)}updateElements(t,n,r,s){const a=s==="reset",c=this.chart,h=c.chartArea,g=c.options.animation,x=(h.left+h.right)/2,w=(h.top+h.bottom)/2,E=a&&g.animateScale,S=E?0:this.innerRadius,v=E?0:this.outerRadius,{sharedOptions:R,includeOptions:O}=this._getSharedOptions(n,s);let M=this._getRotation(),T;for(T=0;T<n;++T)M+=this._circumference(T,a);for(T=n;T<n+r;++T){const N=this._circumference(T,a),L=t[T],z={x:x+this.offsetX,y:w+this.offsetY,startAngle:M,endAngle:M+N,circumference:N,outerRadius:v,innerRadius:S};O&&(z.options=R||this.resolveDataElementOptions(T,L.active?"active":s)),M+=N,this.updateElement(L,T,z,s)}}calculateTotal(){const t=this._cachedMeta,n=t.data;let r=0,s;for(s=0;s<n.length;s++){const a=t._parsed[s];a!==null&&!isNaN(a)&&this.chart.getDataVisibility(s)&&!n[s].hidden&&(r+=Math.abs(a))}return r}calculateCircumference(t){const n=this._cachedMeta.total;return n>0&&!isNaN(t)?_t*(Math.abs(t)/n):0}getLabelAndValue(t){const n=this._cachedMeta,r=this.chart,s=r.data.labels||[],a=aw(n._parsed[t],r.options.locale);return{label:s[t]||"",value:a}}getMaxBorderWidth(t){let n=0;const r=this.chart;let s,a,c,h,p;if(!t){for(s=0,a=r.data.datasets.length;s<a;++s)if(r.isDatasetVisible(s)){c=r.getDatasetMeta(s),t=c.data,h=c.controller;break}}if(!t)return 0;for(s=0,a=t.length;s<a;++s)p=h.resolveDataElementOptions(s),p.borderAlign!=="inner"&&(n=Math.max(n,p.borderWidth||0,p.hoverBorderWidth||0));return n}getMaxOffset(t){let n=0;for(let r=0,s=t.length;r<s;++r){const a=this.resolveDataElementOptions(r);n=Math.max(n,a.offset||0,a.hoverOffset||0)}return n}_getRingWeightOffset(t){let n=0;for(let r=0;r<t;++r)this.chart.isDatasetVisible(r)&&(n+=this._getRingWeight(r));return n}_getRingWeight(t){return Math.max(Ve(this.chart.data.datasets[t].weight,1),0)}_getVisibleDatasetWeightTotal(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}}_e(la,"id","doughnut"),_e(la,"defaults",{datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"}),_e(la,"descriptors",{_scriptable:t=>t!=="spacing",_indexable:t=>t!=="spacing"&&!t.startsWith("borderDash")&&!t.startsWith("hoverBorderDash")}),_e(la,"overrides",{aspectRatio:1,plugins:{legend:{labels:{generateLabels(t){const n=t.data;if(n.labels.length&&n.datasets.length){const{labels:{pointStyle:r,color:s}}=t.legend.options;return n.labels.map((a,c)=>{const p=t.getDatasetMeta(0).controller.getStyle(c);return{text:a,fillStyle:p.backgroundColor,strokeStyle:p.borderColor,fontColor:s,lineWidth:p.borderWidth,pointStyle:r,hidden:!t.getDataVisibility(c),index:c}})}return[]}},onClick(t,n,r){r.chart.toggleDataVisibility(n.index),r.chart.update()}}}});class Eh extends la{}_e(Eh,"id","pie"),_e(Eh,"defaults",{cutout:0,rotation:0,circumference:360,radius:"100%"});function $i(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class K0{constructor(t){_e(this,"options");this.options=t||{}}static override(t){Object.assign(K0.prototype,t)}init(){}formats(){return $i()}parse(){return $i()}format(){return $i()}add(){return $i()}diff(){return $i()}startOf(){return $i()}endOf(){return $i()}}var N8={_date:K0};function M8(e,t,n,r){const{controller:s,data:a,_sorted:c}=e,h=s._cachedMeta.iScale,p=e.dataset&&e.dataset.options?e.dataset.options.spanGaps:null;if(h&&t===h.axis&&t!=="r"&&c&&a.length){const g=h._reversePixels?A_:yh;if(r){if(s._sharedOptions){const x=a[0],w=typeof x.getRange=="function"&&x.getRange(t);if(w){const E=g(a,t,n-w),S=g(a,t,n+w);return{lo:E.lo,hi:S.hi}}}}else{const x=g(a,t,n);if(p){const{vScale:w}=s._cachedMeta,{_parsed:E}=e,S=E.slice(0,x.lo+1).reverse().findIndex(R=>!tn(R[w.axis]));x.lo-=Math.max(0,S);const v=E.slice(x.hi).findIndex(R=>!tn(R[w.axis]));x.hi+=Math.max(0,v)}return x}}return{lo:0,hi:a.length-1}}function dl(e,t,n,r,s){const a=e.getSortedVisibleDatasetMetas(),c=n[t];for(let h=0,p=a.length;h<p;++h){const{index:g,data:x}=a[h],{lo:w,hi:E}=M8(a[h],t,c,s);for(let S=w;S<=E;++S){const v=x[S];v.skip||r(v,g,S)}}}function R8(e){const t=e.indexOf("x")!==-1,n=e.indexOf("y")!==-1;return function(r,s){const a=t?Math.abs(r.x-s.x):0,c=n?Math.abs(r.y-s.y):0;return Math.sqrt(Math.pow(a,2)+Math.pow(c,2))}}function id(e,t,n,r,s){const a=[];return!s&&!e.isPointInArea(t)||dl(e,n,t,function(h,p,g){!s&&!uw(h,e.chartArea,0)||h.inRange(t.x,t.y,r)&&a.push({element:h,datasetIndex:p,index:g})},!0),a}function O8(e,t,n,r){let s=[];function a(c,h,p){const{startAngle:g,endAngle:x}=c.getProps(["startAngle","endAngle"],r),{angle:w}=tw(c,{x:t.x,y:t.y});lu(w,g,x)&&s.push({element:c,datasetIndex:h,index:p})}return dl(e,n,t,a),s}function D8(e,t,n,r,s,a){let c=[];const h=R8(n);let p=Number.POSITIVE_INFINITY;function g(x,w,E){const S=x.inRange(t.x,t.y,s);if(r&&!S)return;const v=x.getCenterPoint(s);if(!(!!a||e.isPointInArea(v))&&!S)return;const O=h(t,v);O<p?(c=[{element:x,datasetIndex:w,index:E}],p=O):O===p&&c.push({element:x,datasetIndex:w,index:E})}return dl(e,n,t,g),c}function sd(e,t,n,r,s,a){return!a&&!e.isPointInArea(t)?[]:n==="r"&&!r?O8(e,t,n,s):D8(e,t,n,r,s,a)}function kp(e,t,n,r,s){const a=[],c=n==="x"?"inXRange":"inYRange";let h=!1;return dl(e,n,t,(p,g,x)=>{p[c]&&p[c](t[n],s)&&(a.push({element:p,datasetIndex:g,index:x}),h=h||p.inRange(t.x,t.y,s))}),r&&!h?[]:a}var k8={evaluateInteractionItems:dl,modes:{index(e,t,n,r){const s=ns(t,e),a=n.axis||"x",c=n.includeInvisible||!1,h=n.intersect?id(e,s,a,r,c):sd(e,s,a,!1,r,c),p=[];return h.length?(e.getSortedVisibleDatasetMetas().forEach(g=>{const x=h[0].index,w=g.data[x];w&&!w.skip&&p.push({element:w,datasetIndex:g.index,index:x})}),p):[]},dataset(e,t,n,r){const s=ns(t,e),a=n.axis||"xy",c=n.includeInvisible||!1;let h=n.intersect?id(e,s,a,r,c):sd(e,s,a,!1,r,c);if(h.length>0){const p=h[0].datasetIndex,g=e.getDatasetMeta(p).data;h=[];for(let x=0;x<g.length;++x)h.push({element:g[x],datasetIndex:p,index:x})}return h},point(e,t,n,r){const s=ns(t,e),a=n.axis||"xy",c=n.includeInvisible||!1;return id(e,s,a,r,c)},nearest(e,t,n,r){const s=ns(t,e),a=n.axis||"xy",c=n.includeInvisible||!1;return sd(e,s,a,n.intersect,r,c)},x(e,t,n,r){const s=ns(t,e);return kp(e,s,"x",n.intersect,r)},y(e,t,n,r){const s=ns(t,e);return kp(e,s,"y",n.intersect,r)}}};const ww=["left","top","right","bottom"];function qo(e,t){return e.filter(n=>n.pos===t)}function Lp(e,t){return e.filter(n=>ww.indexOf(n.pos)===-1&&n.box.axis===t)}function $o(e,t){return e.sort((n,r)=>{const s=t?r:n,a=t?n:r;return s.weight===a.weight?s.index-a.index:s.weight-a.weight})}function L8(e){const t=[];let n,r,s,a,c,h;for(n=0,r=(e||[]).length;n<r;++n)s=e[n],{position:a,options:{stack:c,stackWeight:h=1}}=s,t.push({index:n,box:s,pos:a,horizontal:s.isHorizontal(),weight:s.weight,stack:c&&a+c,stackWeight:h});return t}function P8(e){const t={};for(const n of e){const{stack:r,pos:s,stackWeight:a}=n;if(!r||!ww.includes(s))continue;const c=t[r]||(t[r]={count:0,placed:0,weight:0,size:0});c.count++,c.weight+=a}return t}function B8(e,t){const n=P8(e),{vBoxMaxWidth:r,hBoxMaxHeight:s}=t;let a,c,h;for(a=0,c=e.length;a<c;++a){h=e[a];const{fullSize:p}=h.box,g=n[h.stack],x=g&&h.stackWeight/g.weight;h.horizontal?(h.width=x?x*r:p&&t.availableWidth,h.height=s):(h.width=r,h.height=x?x*s:p&&t.availableHeight)}return n}function F8(e){const t=L8(e),n=$o(t.filter(g=>g.box.fullSize),!0),r=$o(qo(t,"left"),!0),s=$o(qo(t,"right")),a=$o(qo(t,"top"),!0),c=$o(qo(t,"bottom")),h=Lp(t,"x"),p=Lp(t,"y");return{fullSize:n,leftAndTop:r.concat(a),rightAndBottom:s.concat(p).concat(c).concat(h),chartArea:qo(t,"chartArea"),vertical:r.concat(s).concat(p),horizontal:a.concat(c).concat(h)}}function Pp(e,t,n,r){return Math.max(e[n],t[n])+Math.max(e[r],t[r])}function Cw(e,t){e.top=Math.max(e.top,t.top),e.left=Math.max(e.left,t.left),e.bottom=Math.max(e.bottom,t.bottom),e.right=Math.max(e.right,t.right)}function j8(e,t,n,r){const{pos:s,box:a}=n,c=e.maxPadding;if(!Pe(s)){n.size&&(e[s]-=n.size);const w=r[n.stack]||{size:0,count:1};w.size=Math.max(w.size,n.horizontal?a.height:a.width),n.size=w.size/w.count,e[s]+=n.size}a.getPadding&&Cw(c,a.getPadding());const h=Math.max(0,t.outerWidth-Pp(c,e,"left","right")),p=Math.max(0,t.outerHeight-Pp(c,e,"top","bottom")),g=h!==e.w,x=p!==e.h;return e.w=h,e.h=p,n.horizontal?{same:g,other:x}:{same:x,other:g}}function z8(e){const t=e.maxPadding;function n(r){const s=Math.max(t[r]-e[r],0);return e[r]+=s,s}e.y+=n("top"),e.x+=n("left"),n("right"),n("bottom")}function U8(e,t){const n=t.maxPadding;function r(s){const a={left:0,top:0,right:0,bottom:0};return s.forEach(c=>{a[c]=Math.max(t[c],n[c])}),a}return r(e?["left","right"]:["top","bottom"])}function ca(e,t,n,r){const s=[];let a,c,h,p,g,x;for(a=0,c=e.length,g=0;a<c;++a){h=e[a],p=h.box,p.update(h.width||t.w,h.height||t.h,U8(h.horizontal,t));const{same:w,other:E}=j8(t,n,h,r);g|=w&&s.length,x=x||E,p.fullSize||s.push(h)}return g&&ca(s,t,n,r)||x}function $l(e,t,n,r,s){e.top=n,e.left=t,e.right=t+r,e.bottom=n+s,e.width=r,e.height=s}function Bp(e,t,n,r){const s=n.padding;let{x:a,y:c}=t;for(const h of e){const p=h.box,g=r[h.stack]||{count:1,placed:0,weight:1},x=h.stackWeight/g.weight||1;if(h.horizontal){const w=t.w*x,E=g.size||p.height;su(g.start)&&(c=g.start),p.fullSize?$l(p,s.left,c,n.outerWidth-s.right-s.left,E):$l(p,t.left+g.placed,c,w,E),g.start=c,g.placed+=w,c=p.bottom}else{const w=t.h*x,E=g.size||p.width;su(g.start)&&(a=g.start),p.fullSize?$l(p,a,s.top,E,n.outerHeight-s.bottom-s.top):$l(p,a,t.top+g.placed,E,w),g.start=a,g.placed+=w,a=p.right}}t.x=a,t.y=c}var Ci={addBox(e,t){e.boxes||(e.boxes=[]),t.fullSize=t.fullSize||!1,t.position=t.position||"top",t.weight=t.weight||0,t._layers=t._layers||function(){return[{z:0,draw(n){t.draw(n)}}]},e.boxes.push(t)},removeBox(e,t){const n=e.boxes?e.boxes.indexOf(t):-1;n!==-1&&e.boxes.splice(n,1)},configure(e,t,n){t.fullSize=n.fullSize,t.position=n.position,t.weight=n.weight},update(e,t,n,r){if(!e)return;const s=pr(e.options.layout.padding),a=Math.max(t-s.width,0),c=Math.max(n-s.height,0),h=F8(e.boxes),p=h.vertical,g=h.horizontal;We(e.boxes,R=>{typeof R.beforeLayout=="function"&&R.beforeLayout()});const x=p.reduce((R,O)=>O.box.options&&O.box.options.display===!1?R:R+1,0)||1,w=Object.freeze({outerWidth:t,outerHeight:n,padding:s,availableWidth:a,availableHeight:c,vBoxMaxWidth:a/2/x,hBoxMaxHeight:c/2}),E=Object.assign({},s);Cw(E,pr(r));const S=Object.assign({maxPadding:E,w:a,h:c,x:s.left,y:s.top},s),v=B8(p.concat(g),w);ca(h.fullSize,S,w,v),ca(p,S,w,v),ca(g,S,w,v)&&ca(p,S,w,v),z8(S),Bp(h.leftAndTop,S,w,v),S.x+=S.w,S.y+=S.h,Bp(h.rightAndBottom,S,w,v),e.chartArea={left:S.left,top:S.top,right:S.left+S.w,bottom:S.top+S.h,height:S.h,width:S.w},We(h.chartArea,R=>{const O=R.box;Object.assign(O,e.chartArea),O.update(S.w,S.h,{left:0,top:0,right:0,bottom:0})})}};class Ew{acquireContext(t,n){}releaseContext(t){return!1}addEventListener(t,n,r){}removeEventListener(t,n,r){}getDevicePixelRatio(){return 1}getMaximumSize(t,n,r,s){return n=Math.max(0,n||t.width),r=r||t.height,{width:n,height:Math.max(0,s?Math.floor(n/s):r)}}isAttached(t){return!0}updateConfig(t){}}class H8 extends Ew{acquireContext(t){return t&&t.getContext&&t.getContext("2d")||null}updateConfig(t){t.options.animation=!1}}const Ec="$chartjs",W8={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},Fp=e=>e===null||e==="";function V8(e,t){const n=e.style,r=e.getAttribute("height"),s=e.getAttribute("width");if(e[Ec]={initial:{height:r,width:s,style:{display:n.display,height:n.height,width:n.width}}},n.display=n.display||"block",n.boxSizing=n.boxSizing||"border-box",Fp(s)){const a=Ip(e,"width");a!==void 0&&(e.width=a)}if(Fp(r))if(e.style.height==="")e.height=e.width/(t||2);else{const a=Ip(e,"height");a!==void 0&&(e.height=a)}return e}const bw=c8?{passive:!0}:!1;function Y8(e,t,n){e&&e.addEventListener(t,n,bw)}function X8(e,t,n){e&&e.canvas&&e.canvas.removeEventListener(t,n,bw)}function G8(e,t){const n=W8[e.type]||e.type,{x:r,y:s}=ns(e,t);return{type:n,chart:t,native:e,x:r!==void 0?r:null,y:s!==void 0?s:null}}function fu(e,t){for(const n of e)if(n===t||n.contains(t))return!0}function Q8(e,t,n){const r=e.canvas,s=new MutationObserver(a=>{let c=!1;for(const h of a)c=c||fu(h.addedNodes,r),c=c&&!fu(h.removedNodes,r);c&&n()});return s.observe(document,{childList:!0,subtree:!0}),s}function Z8(e,t,n){const r=e.canvas,s=new MutationObserver(a=>{let c=!1;for(const h of a)c=c||fu(h.removedNodes,r),c=c&&!fu(h.addedNodes,r);c&&n()});return s.observe(document,{childList:!0,subtree:!0}),s}const Ja=new Map;let jp=0;function Aw(){const e=window.devicePixelRatio;e!==jp&&(jp=e,Ja.forEach((t,n)=>{n.currentDevicePixelRatio!==e&&t()}))}function K8(e,t){Ja.size||window.addEventListener("resize",Aw),Ja.set(e,t)}function q8(e){Ja.delete(e),Ja.size||window.removeEventListener("resize",Aw)}function $8(e,t,n){const r=e.canvas,s=r&&Z0(r);if(!s)return;const a=iw((h,p)=>{const g=s.clientWidth;n(h,p),g<s.clientWidth&&n()},window),c=new ResizeObserver(h=>{const p=h[0],g=p.contentRect.width,x=p.contentRect.height;g===0&&x===0||a(g,x)});return c.observe(s),K8(e,a),c}function od(e,t,n){n&&n.disconnect(),t==="resize"&&q8(e)}function J8(e,t,n){const r=e.canvas,s=iw(a=>{e.ctx!==null&&n(G8(a,e))},e);return Y8(r,t,s),s}class eI extends Ew{acquireContext(t,n){const r=t&&t.getContext&&t.getContext("2d");return r&&r.canvas===t?(V8(t,n),r):null}releaseContext(t){const n=t.canvas;if(!n[Ec])return!1;const r=n[Ec].initial;["height","width"].forEach(a=>{const c=r[a];tn(c)?n.removeAttribute(a):n.setAttribute(a,c)});const s=r.style||{};return Object.keys(s).forEach(a=>{n.style[a]=s[a]}),n.width=n.width,delete n[Ec],!0}addEventListener(t,n,r){this.removeEventListener(t,n);const s=t.$proxies||(t.$proxies={}),c={attach:Q8,detach:Z8,resize:$8}[n]||J8;s[n]=c(t,n,r)}removeEventListener(t,n){const r=t.$proxies||(t.$proxies={}),s=r[n];if(!s)return;({attach:od,detach:od,resize:od}[n]||X8)(t,n,s),r[n]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(t,n,r,s){return l8(t,n,r,s)}isAttached(t){const n=t&&Z0(t);return!!(n&&n.isConnected)}}function tI(e){return!Q0()||typeof OffscreenCanvas<"u"&&e instanceof OffscreenCanvas?H8:eI}class bs{constructor(){_e(this,"x");_e(this,"y");_e(this,"active",!1);_e(this,"options");_e(this,"$animations")}tooltipPosition(t){const{x:n,y:r}=this.getProps(["x","y"],t);return{x:n,y:r}}hasValue(){return au(this.x)&&au(this.y)}getProps(t,n){const r=this.$animations;if(!n||!r)return this;const s={};return t.forEach(a=>{s[a]=r[a]&&r[a].active()?r[a]._to:this[a]}),s}}_e(bs,"defaults",{}),_e(bs,"defaultRoutes");function nI(e,t){const n=e.options.ticks,r=rI(e),s=Math.min(n.maxTicksLimit||r,r),a=n.major.enabled?sI(t):[],c=a.length,h=a[0],p=a[c-1],g=[];if(c>s)return oI(t,g,a,c/s),g;const x=iI(a,t,s);if(c>0){let w,E;const S=c>1?Math.round((p-h)/(c-1)):null;for(Jl(t,g,x,tn(S)?0:h-S,h),w=0,E=c-1;w<E;w++)Jl(t,g,x,a[w],a[w+1]);return Jl(t,g,x,p,tn(S)?t.length:p+S),g}return Jl(t,g,x),g}function rI(e){const t=e.options.offset,n=e._tickSize(),r=e._length/n+(t?0:1),s=e._maxLength/n;return Math.floor(Math.min(r,s))}function iI(e,t,n){const r=aI(e),s=t.length/n;if(!r)return Math.max(s,1);const a=y_(r);for(let c=0,h=a.length-1;c<h;c++){const p=a[c];if(p>s)return p}return Math.max(s,1)}function sI(e){const t=[];let n,r;for(n=0,r=e.length;n<r;n++)e[n].major&&t.push(n);return t}function oI(e,t,n,r){let s=0,a=n[0],c;for(r=Math.ceil(r),c=0;c<e.length;c++)c===a&&(t.push(e[c]),s++,a=n[s*r])}function Jl(e,t,n,r,s){const a=Ve(r,0),c=Math.min(Ve(s,e.length),e.length);let h=0,p,g,x;for(n=Math.ceil(n),s&&(p=s-r,n=p/Math.floor(p/n)),x=a;x<0;)h++,x=Math.round(a+h*n);for(g=Math.max(a,0);g<c;g++)g===x&&(t.push(e[g]),h++,x=Math.round(a+h*n))}function aI(e){const t=e.length;let n,r;if(t<2)return!1;for(r=e[0],n=1;n<t;++n)if(e[n]-e[n-1]!==r)return!1;return r}const lI=e=>e==="left"?"right":e==="right"?"left":e,zp=(e,t,n)=>t==="top"||t==="left"?e[t]+n:e[t]-n,Up=(e,t)=>Math.min(t||e,e);function Hp(e,t){const n=[],r=e.length/t,s=e.length;let a=0;for(;a<s;a+=r)n.push(e[Math.floor(a)]);return n}function cI(e,t,n){const r=e.ticks.length,s=Math.min(t,r-1),a=e._startPixel,c=e._endPixel,h=1e-6;let p=e.getPixelForTick(s),g;if(!(n&&(r===1?g=Math.max(p-a,c-p):t===0?g=(e.getPixelForTick(1)-p)/2:g=(p-e.getPixelForTick(s-1))/2,p+=s<t?g:-g,p<a-h||p>c+h)))return p}function uI(e,t){We(e,n=>{const r=n.gc,s=r.length/2;let a;if(s>t){for(a=0;a<s;++a)delete n.data[r[a]];r.splice(0,s)}})}function Jo(e){return e.drawTicks?e.tickLength:0}function Wp(e,t){if(!e.display)return 0;const n=Cn(e.font,t),r=pr(e.padding);return(Xt(e.text)?e.text.length:1)*n.lineHeight+r.height}function fI(e,t){return Io(e,{scale:t,type:"scale"})}function dI(e,t,n){return Io(e,{tick:n,index:t,type:"tick"})}function hI(e,t,n){let r=sw(e);return(n&&t!=="right"||!n&&t==="right")&&(r=lI(r)),r}function gI(e,t,n,r){const{top:s,left:a,bottom:c,right:h,chart:p}=e,{chartArea:g,scales:x}=p;let w=0,E,S,v;const R=c-s,O=h-a;if(e.isHorizontal()){if(S=In(r,a,h),Pe(n)){const M=Object.keys(n)[0],T=n[M];v=x[M].getPixelForValue(T)+R-t}else n==="center"?v=(g.bottom+g.top)/2+R-t:v=zp(e,n,t);E=h-a}else{if(Pe(n)){const M=Object.keys(n)[0],T=n[M];S=x[M].getPixelForValue(T)-O+t}else n==="center"?S=(g.left+g.right)/2-O+t:S=zp(e,n,t);v=In(r,c,s),w=n==="left"?-Ot:Ot}return{titleX:S,titleY:v,maxWidth:E,rotation:w}}class Gu extends bs{constructor(t){super(),this.id=t.id,this.type=t.type,this.options=void 0,this.ctx=t.ctx,this.chart=t.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(t){this.options=t.setContext(this.getContext()),this.axis=t.axis,this._userMin=this.parse(t.min),this._userMax=this.parse(t.max),this._suggestedMin=this.parse(t.suggestedMin),this._suggestedMax=this.parse(t.suggestedMax)}parse(t,n){return t}getUserBounds(){let{_userMin:t,_userMax:n,_suggestedMin:r,_suggestedMax:s}=this;return t=_r(t,Number.POSITIVE_INFINITY),n=_r(n,Number.NEGATIVE_INFINITY),r=_r(r,Number.POSITIVE_INFINITY),s=_r(s,Number.NEGATIVE_INFINITY),{min:_r(t,r),max:_r(n,s),minDefined:Jr(t),maxDefined:Jr(n)}}getMinMax(t){let{min:n,max:r,minDefined:s,maxDefined:a}=this.getUserBounds(),c;if(s&&a)return{min:n,max:r};const h=this.getMatchingVisibleMetas();for(let p=0,g=h.length;p<g;++p)c=h[p].controller.getMinMax(this,t),s||(n=Math.min(n,c.min)),a||(r=Math.max(r,c.max));return n=a&&n>r?r:n,r=s&&n>r?n:r,{min:_r(n,_r(r,n)),max:_r(r,_r(n,r))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const t=this.chart.data;return this.options.labels||(this.isHorizontal()?t.xLabels:t.yLabels)||t.labels||[]}getLabelItems(t=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(t))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){rt(this.options.beforeUpdate,[this])}update(t,n,r){const{beginAtZero:s,grace:a,ticks:c}=this.options,h=c.sampleSize;this.beforeUpdate(),this.maxWidth=t,this.maxHeight=n,this._margins=r=Object.assign({left:0,right:0,top:0,bottom:0},r),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+r.left+r.right:this.height+r.top+r.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=G_(this,a,s),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const p=h<this.ticks.length;this._convertTicksToLabels(p?Hp(this.ticks,h):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),c.display&&(c.autoSkip||c.source==="auto")&&(this.ticks=nI(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),p&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let t=this.options.reverse,n,r;this.isHorizontal()?(n=this.left,r=this.right):(n=this.top,r=this.bottom,t=!t),this._startPixel=n,this._endPixel=r,this._reversePixels=t,this._length=r-n,this._alignToPixels=this.options.alignToPixels}afterUpdate(){rt(this.options.afterUpdate,[this])}beforeSetDimensions(){rt(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){rt(this.options.afterSetDimensions,[this])}_callHooks(t){this.chart.notifyPlugins(t,this.getContext()),rt(this.options[t],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){rt(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(t){const n=this.options.ticks;let r,s,a;for(r=0,s=t.length;r<s;r++)a=t[r],a.label=rt(n.callback,[a.value,r,t],this)}afterTickToLabelConversion(){rt(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){rt(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const t=this.options,n=t.ticks,r=Up(this.ticks.length,t.ticks.maxTicksLimit),s=n.minRotation||0,a=n.maxRotation;let c=s,h,p,g;if(!this._isVisible()||!n.display||s>=a||r<=1||!this.isHorizontal()){this.labelRotation=s;return}const x=this._getLabelSizes(),w=x.widest.width,E=x.highest.height,S=$n(this.chart.width-w,0,this.maxWidth);h=t.offset?this.maxWidth/r:S/(r-1),w+6>h&&(h=S/(r-(t.offset?.5:1)),p=this.maxHeight-Jo(t.grid)-n.padding-Wp(t.title,this.chart.options.font),g=Math.sqrt(w*w+E*E),c=C_(Math.min(Math.asin($n((x.highest.height+6)/h,-1,1)),Math.asin($n(p/g,-1,1))-Math.asin($n(E/g,-1,1)))),c=Math.max(s,Math.min(a,c))),this.labelRotation=c}afterCalculateLabelRotation(){rt(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){rt(this.options.beforeFit,[this])}fit(){const t={width:0,height:0},{chart:n,options:{ticks:r,title:s,grid:a}}=this,c=this._isVisible(),h=this.isHorizontal();if(c){const p=Wp(s,n.options.font);if(h?(t.width=this.maxWidth,t.height=Jo(a)+p):(t.height=this.maxHeight,t.width=Jo(a)+p),r.display&&this.ticks.length){const{first:g,last:x,widest:w,highest:E}=this._getLabelSizes(),S=r.padding*2,v=ls(this.labelRotation),R=Math.cos(v),O=Math.sin(v);if(h){const M=r.mirror?0:O*w.width+R*E.height;t.height=Math.min(this.maxHeight,t.height+M+S)}else{const M=r.mirror?0:R*w.width+O*E.height;t.width=Math.min(this.maxWidth,t.width+M+S)}this._calculatePadding(g,x,O,R)}}this._handleMargins(),h?(this.width=this._length=n.width-this._margins.left-this._margins.right,this.height=t.height):(this.width=t.width,this.height=this._length=n.height-this._margins.top-this._margins.bottom)}_calculatePadding(t,n,r,s){const{ticks:{align:a,padding:c},position:h}=this.options,p=this.labelRotation!==0,g=h!=="top"&&this.axis==="x";if(this.isHorizontal()){const x=this.getPixelForTick(0)-this.left,w=this.right-this.getPixelForTick(this.ticks.length-1);let E=0,S=0;p?g?(E=s*t.width,S=r*n.height):(E=r*t.height,S=s*n.width):a==="start"?S=n.width:a==="end"?E=t.width:a!=="inner"&&(E=t.width/2,S=n.width/2),this.paddingLeft=Math.max((E-x+c)*this.width/(this.width-x),0),this.paddingRight=Math.max((S-w+c)*this.width/(this.width-w),0)}else{let x=n.height/2,w=t.height/2;a==="start"?(x=0,w=t.height):a==="end"&&(x=n.height,w=0),this.paddingTop=x+c,this.paddingBottom=w+c}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){rt(this.options.afterFit,[this])}isHorizontal(){const{axis:t,position:n}=this.options;return n==="top"||n==="bottom"||t==="x"}isFullSize(){return this.options.fullSize}_convertTicksToLabels(t){this.beforeTickToLabelConversion(),this.generateTickLabels(t);let n,r;for(n=0,r=t.length;n<r;n++)tn(t[n].label)&&(t.splice(n,1),r--,n--);this.afterTickToLabelConversion()}_getLabelSizes(){let t=this._labelSizes;if(!t){const n=this.options.ticks.sampleSize;let r=this.ticks;n<r.length&&(r=Hp(r,n)),this._labelSizes=t=this._computeLabelSizes(r,r.length,this.options.ticks.maxTicksLimit)}return t}_computeLabelSizes(t,n,r){const{ctx:s,_longestTextCache:a}=this,c=[],h=[],p=Math.floor(n/Up(n,r));let g=0,x=0,w,E,S,v,R,O,M,T,N,L,z;for(w=0;w<n;w+=p){if(v=t[w].label,R=this._resolveTickFontOptions(w),s.font=O=R.string,M=a[O]=a[O]||{data:{},gc:[]},T=R.lineHeight,N=L=0,!tn(v)&&!Xt(v))N=Ep(s,M.data,M.gc,N,v),L=T;else if(Xt(v))for(E=0,S=v.length;E<S;++E)z=v[E],!tn(z)&&!Xt(z)&&(N=Ep(s,M.data,M.gc,N,z),L+=T);c.push(N),h.push(L),g=Math.max(N,g),x=Math.max(L,x)}uI(a,n);const Y=c.indexOf(g),F=h.indexOf(x),H=G=>({width:c[G]||0,height:h[G]||0});return{first:H(0),last:H(n-1),widest:H(Y),highest:H(F),widths:c,heights:h}}getLabelForValue(t){return t}getPixelForValue(t,n){return NaN}getValueForPixel(t){}getPixelForTick(t){const n=this.ticks;return t<0||t>n.length-1?null:this.getPixelForValue(n[t].value)}getPixelForDecimal(t){this._reversePixels&&(t=1-t);const n=this._startPixel+t*this._length;return b_(this._alignToPixels?qi(this.chart,n,0):n)}getDecimalForPixel(t){const n=(t-this._startPixel)/this._length;return this._reversePixels?1-n:n}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:t,max:n}=this;return t<0&&n<0?n:t>0&&n>0?t:0}getContext(t){const n=this.ticks||[];if(t>=0&&t<n.length){const r=n[t];return r.$context||(r.$context=dI(this.getContext(),t,r))}return this.$context||(this.$context=fI(this.chart.getContext(),this))}_tickSize(){const t=this.options.ticks,n=ls(this.labelRotation),r=Math.abs(Math.cos(n)),s=Math.abs(Math.sin(n)),a=this._getLabelSizes(),c=t.autoSkipPadding||0,h=a?a.widest.width+c:0,p=a?a.highest.height+c:0;return this.isHorizontal()?p*r>h*s?h/r:p/s:p*s<h*r?p/r:h/s}_isVisible(){const t=this.options.display;return t!=="auto"?!!t:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(t){const n=this.axis,r=this.chart,s=this.options,{grid:a,position:c,border:h}=s,p=a.offset,g=this.isHorizontal(),w=this.ticks.length+(p?1:0),E=Jo(a),S=[],v=h.setContext(this.getContext()),R=v.display?v.width:0,O=R/2,M=function(we){return qi(r,we,R)};let T,N,L,z,Y,F,H,G,re,oe,te,me;if(c==="top")T=M(this.bottom),F=this.bottom-E,G=T-O,oe=M(t.top)+O,me=t.bottom;else if(c==="bottom")T=M(this.top),oe=t.top,me=M(t.bottom)-O,F=T+O,G=this.top+E;else if(c==="left")T=M(this.right),Y=this.right-E,H=T-O,re=M(t.left)+O,te=t.right;else if(c==="right")T=M(this.left),re=t.left,te=M(t.right)-O,Y=T+O,H=this.left+E;else if(n==="x"){if(c==="center")T=M((t.top+t.bottom)/2+.5);else if(Pe(c)){const we=Object.keys(c)[0],ae=c[we];T=M(this.chart.scales[we].getPixelForValue(ae))}oe=t.top,me=t.bottom,F=T+O,G=F+E}else if(n==="y"){if(c==="center")T=M((t.left+t.right)/2);else if(Pe(c)){const we=Object.keys(c)[0],ae=c[we];T=M(this.chart.scales[we].getPixelForValue(ae))}Y=T-O,H=Y-E,re=t.left,te=t.right}const Ee=Ve(s.ticks.maxTicksLimit,w),W=Math.max(1,Math.ceil(w/Ee));for(N=0;N<w;N+=W){const we=this.getContext(N),ae=a.setContext(we),ie=h.setContext(we),le=ae.lineWidth,ge=ae.color,Be=ie.dash||[],be=ie.dashOffset,At=ae.tickWidth,Oe=ae.tickColor,vn=ae.tickBorderDash||[],ce=ae.tickBorderDashOffset;L=cI(this,N,p),L!==void 0&&(z=qi(r,L,le),g?Y=H=re=te=z:F=G=oe=me=z,S.push({tx1:Y,ty1:F,tx2:H,ty2:G,x1:re,y1:oe,x2:te,y2:me,width:le,color:ge,borderDash:Be,borderDashOffset:be,tickWidth:At,tickColor:Oe,tickBorderDash:vn,tickBorderDashOffset:ce}))}return this._ticksLength=w,this._borderValue=T,S}_computeLabelItems(t){const n=this.axis,r=this.options,{position:s,ticks:a}=r,c=this.isHorizontal(),h=this.ticks,{align:p,crossAlign:g,padding:x,mirror:w}=a,E=Jo(r.grid),S=E+x,v=w?-x:S,R=-ls(this.labelRotation),O=[];let M,T,N,L,z,Y,F,H,G,re,oe,te,me="middle";if(s==="top")Y=this.bottom-v,F=this._getXAxisLabelAlignment();else if(s==="bottom")Y=this.top+v,F=this._getXAxisLabelAlignment();else if(s==="left"){const W=this._getYAxisLabelAlignment(E);F=W.textAlign,z=W.x}else if(s==="right"){const W=this._getYAxisLabelAlignment(E);F=W.textAlign,z=W.x}else if(n==="x"){if(s==="center")Y=(t.top+t.bottom)/2+S;else if(Pe(s)){const W=Object.keys(s)[0],we=s[W];Y=this.chart.scales[W].getPixelForValue(we)+S}F=this._getXAxisLabelAlignment()}else if(n==="y"){if(s==="center")z=(t.left+t.right)/2-S;else if(Pe(s)){const W=Object.keys(s)[0],we=s[W];z=this.chart.scales[W].getPixelForValue(we)}F=this._getYAxisLabelAlignment(E).textAlign}n==="y"&&(p==="start"?me="top":p==="end"&&(me="bottom"));const Ee=this._getLabelSizes();for(M=0,T=h.length;M<T;++M){N=h[M],L=N.label;const W=a.setContext(this.getContext(M));H=this.getPixelForTick(M)+a.labelOffset,G=this._resolveTickFontOptions(M),re=G.lineHeight,oe=Xt(L)?L.length:1;const we=oe/2,ae=W.color,ie=W.textStrokeColor,le=W.textStrokeWidth;let ge=F;c?(z=H,F==="inner"&&(M===T-1?ge=this.options.reverse?"left":"right":M===0?ge=this.options.reverse?"right":"left":ge="center"),s==="top"?g==="near"||R!==0?te=-oe*re+re/2:g==="center"?te=-Ee.highest.height/2-we*re+re:te=-Ee.highest.height+re/2:g==="near"||R!==0?te=re/2:g==="center"?te=Ee.highest.height/2-we*re:te=Ee.highest.height-oe*re,w&&(te*=-1),R!==0&&!W.showLabelBackdrop&&(z+=re/2*Math.sin(R))):(Y=H,te=(1-oe)*re/2);let Be;if(W.showLabelBackdrop){const be=pr(W.backdropPadding),At=Ee.heights[M],Oe=Ee.widths[M];let vn=te-be.top,ce=0-be.left;switch(me){case"middle":vn-=At/2;break;case"bottom":vn-=At;break}switch(F){case"center":ce-=Oe/2;break;case"right":ce-=Oe;break;case"inner":M===T-1?ce-=Oe:M>0&&(ce-=Oe/2);break}Be={left:ce,top:vn,width:Oe+be.width,height:At+be.height,color:W.backdropColor}}O.push({label:L,font:G,textOffset:te,options:{rotation:R,color:ae,strokeColor:ie,strokeWidth:le,textAlign:ge,textBaseline:me,translation:[z,Y],backdrop:Be}})}return O}_getXAxisLabelAlignment(){const{position:t,ticks:n}=this.options;if(-ls(this.labelRotation))return t==="top"?"left":"right";let s="center";return n.align==="start"?s="left":n.align==="end"?s="right":n.align==="inner"&&(s="inner"),s}_getYAxisLabelAlignment(t){const{position:n,ticks:{crossAlign:r,mirror:s,padding:a}}=this.options,c=this._getLabelSizes(),h=t+a,p=c.widest.width;let g,x;return n==="left"?s?(x=this.right+a,r==="near"?g="left":r==="center"?(g="center",x+=p/2):(g="right",x+=p)):(x=this.right-h,r==="near"?g="right":r==="center"?(g="center",x-=p/2):(g="left",x=this.left)):n==="right"?s?(x=this.left+a,r==="near"?g="right":r==="center"?(g="center",x-=p/2):(g="left",x-=p)):(x=this.left+h,r==="near"?g="left":r==="center"?(g="center",x+=p/2):(g="right",x=this.right)):g="right",{textAlign:g,x}}_computeLabelArea(){if(this.options.ticks.mirror)return;const t=this.chart,n=this.options.position;if(n==="left"||n==="right")return{top:0,left:this.left,bottom:t.height,right:this.right};if(n==="top"||n==="bottom")return{top:this.top,left:0,bottom:this.bottom,right:t.width}}drawBackground(){const{ctx:t,options:{backgroundColor:n},left:r,top:s,width:a,height:c}=this;n&&(t.save(),t.fillStyle=n,t.fillRect(r,s,a,c),t.restore())}getLineWidthForValue(t){const n=this.options.grid;if(!this._isVisible()||!n.display)return 0;const s=this.ticks.findIndex(a=>a.value===t);return s>=0?n.setContext(this.getContext(s)).lineWidth:0}drawGrid(t){const n=this.options.grid,r=this.ctx,s=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(t));let a,c;const h=(p,g,x)=>{!x.width||!x.color||(r.save(),r.lineWidth=x.width,r.strokeStyle=x.color,r.setLineDash(x.borderDash||[]),r.lineDashOffset=x.borderDashOffset,r.beginPath(),r.moveTo(p.x,p.y),r.lineTo(g.x,g.y),r.stroke(),r.restore())};if(n.display)for(a=0,c=s.length;a<c;++a){const p=s[a];n.drawOnChartArea&&h({x:p.x1,y:p.y1},{x:p.x2,y:p.y2},p),n.drawTicks&&h({x:p.tx1,y:p.ty1},{x:p.tx2,y:p.ty2},{color:p.tickColor,width:p.tickWidth,borderDash:p.tickBorderDash,borderDashOffset:p.tickBorderDashOffset})}}drawBorder(){const{chart:t,ctx:n,options:{border:r,grid:s}}=this,a=r.setContext(this.getContext()),c=r.display?a.width:0;if(!c)return;const h=s.setContext(this.getContext(0)).lineWidth,p=this._borderValue;let g,x,w,E;this.isHorizontal()?(g=qi(t,this.left,c)-c/2,x=qi(t,this.right,h)+h/2,w=E=p):(w=qi(t,this.top,c)-c/2,E=qi(t,this.bottom,h)+h/2,g=x=p),n.save(),n.lineWidth=a.width,n.strokeStyle=a.color,n.beginPath(),n.moveTo(g,w),n.lineTo(x,E),n.stroke(),n.restore()}drawLabels(t){if(!this.options.ticks.display)return;const r=this.ctx,s=this._computeLabelArea();s&&H0(r,s);const a=this.getLabelItems(t);for(const c of a){const h=c.options,p=c.font,g=c.label,x=c.textOffset;cu(r,g,0,x,p,h)}s&&W0(r)}drawTitle(){const{ctx:t,options:{position:n,title:r,reverse:s}}=this;if(!r.display)return;const a=Cn(r.font),c=pr(r.padding),h=r.align;let p=a.lineHeight/2;n==="bottom"||n==="center"||Pe(n)?(p+=c.bottom,Xt(r.text)&&(p+=a.lineHeight*(r.text.length-1))):p+=c.top;const{titleX:g,titleY:x,maxWidth:w,rotation:E}=gI(this,p,n,h);cu(t,r.text,0,0,a,{color:r.color,maxWidth:w,rotation:E,textAlign:hI(h,n,s),textBaseline:"middle",translation:[g,x]})}draw(t){this._isVisible()&&(this.drawBackground(),this.drawGrid(t),this.drawBorder(),this.drawTitle(),this.drawLabels(t))}_layers(){const t=this.options,n=t.ticks&&t.ticks.z||0,r=Ve(t.grid&&t.grid.z,-1),s=Ve(t.border&&t.border.z,0);return!this._isVisible()||this.draw!==Gu.prototype.draw?[{z:n,draw:a=>{this.draw(a)}}]:[{z:r,draw:a=>{this.drawBackground(),this.drawGrid(a),this.drawTitle()}},{z:s,draw:()=>{this.drawBorder()}},{z:n,draw:a=>{this.drawLabels(a)}}]}getMatchingVisibleMetas(t){const n=this.chart.getSortedVisibleDatasetMetas(),r=this.axis+"AxisID",s=[];let a,c;for(a=0,c=n.length;a<c;++a){const h=n[a];h[r]===this.id&&(!t||h.type===t)&&s.push(h)}return s}_resolveTickFontOptions(t){const n=this.options.ticks.setContext(this.getContext(t));return Cn(n.font)}_maxDigits(){const t=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/t}}class ec{constructor(t,n,r){this.type=t,this.scope=n,this.override=r,this.items=Object.create(null)}isForType(t){return Object.prototype.isPrototypeOf.call(this.type.prototype,t.prototype)}register(t){const n=Object.getPrototypeOf(t);let r;xI(n)&&(r=this.register(n));const s=this.items,a=t.id,c=this.scope+"."+a;if(!a)throw new Error("class does not have id: "+t);return a in s||(s[a]=t,pI(t,c,r),this.override&&Et.override(t.id,t.overrides)),c}get(t){return this.items[t]}unregister(t){const n=this.items,r=t.id,s=this.scope;r in n&&delete n[r],s&&r in Et[s]&&(delete Et[s][r],this.override&&delete Es[r])}}function pI(e,t,n){const r=qa(Object.create(null),[n?Et.get(n):{},Et.get(t),e.defaults]);Et.set(t,r),e.defaultRoutes&&mI(t,e.defaultRoutes),e.descriptors&&Et.describe(t,e.descriptors)}function mI(e,t){Object.keys(t).forEach(n=>{const r=n.split("."),s=r.pop(),a=[e].concat(r).join("."),c=t[n].split("."),h=c.pop(),p=c.join(".");Et.route(a,s,p,h)})}function xI(e){return"id"in e&&"defaults"in e}class yI{constructor(){this.controllers=new ec(Ia,"datasets",!0),this.elements=new ec(bs,"elements"),this.plugins=new ec(Object,"plugins"),this.scales=new ec(Gu,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...t){this._each("register",t)}remove(...t){this._each("unregister",t)}addControllers(...t){this._each("register",t,this.controllers)}addElements(...t){this._each("register",t,this.elements)}addPlugins(...t){this._each("register",t,this.plugins)}addScales(...t){this._each("register",t,this.scales)}getController(t){return this._get(t,this.controllers,"controller")}getElement(t){return this._get(t,this.elements,"element")}getPlugin(t){return this._get(t,this.plugins,"plugin")}getScale(t){return this._get(t,this.scales,"scale")}removeControllers(...t){this._each("unregister",t,this.controllers)}removeElements(...t){this._each("unregister",t,this.elements)}removePlugins(...t){this._each("unregister",t,this.plugins)}removeScales(...t){this._each("unregister",t,this.scales)}_each(t,n,r){[...n].forEach(s=>{const a=r||this._getRegistryForType(s);r||a.isForType(s)||a===this.plugins&&s.id?this._exec(t,a,s):We(s,c=>{const h=r||this._getRegistryForType(c);this._exec(t,h,c)})})}_exec(t,n,r){const s=z0(t);rt(r["before"+s],[],r),n[t](r),rt(r["after"+s],[],r)}_getRegistryForType(t){for(let n=0;n<this._typedRegistries.length;n++){const r=this._typedRegistries[n];if(r.isForType(t))return r}return this.plugins}_get(t,n,r){const s=n.get(t);if(s===void 0)throw new Error('"'+t+'" is not a registered '+r+".");return s}}var Nr=new yI;class wI{constructor(){this._init=[]}notify(t,n,r,s){n==="beforeInit"&&(this._init=this._createDescriptors(t,!0),this._notify(this._init,t,"install"));const a=s?this._descriptors(t).filter(s):this._descriptors(t),c=this._notify(a,t,n,r);return n==="afterDestroy"&&(this._notify(a,t,"stop"),this._notify(this._init,t,"uninstall")),c}_notify(t,n,r,s){s=s||{};for(const a of t){const c=a.plugin,h=c[r],p=[n,s,a.options];if(rt(h,p,c)===!1&&s.cancelable)return!1}return!0}invalidate(){tn(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(t){if(this._cache)return this._cache;const n=this._cache=this._createDescriptors(t);return this._notifyStateChanges(t),n}_createDescriptors(t,n){const r=t&&t.config,s=Ve(r.options&&r.options.plugins,{}),a=CI(r);return s===!1&&!n?[]:bI(t,a,s,n)}_notifyStateChanges(t){const n=this._oldCache||[],r=this._cache,s=(a,c)=>a.filter(h=>!c.some(p=>h.plugin.id===p.plugin.id));this._notify(s(n,r),t,"stop"),this._notify(s(r,n),t,"start")}}function CI(e){const t={},n=[],r=Object.keys(Nr.plugins.items);for(let a=0;a<r.length;a++)n.push(Nr.getPlugin(r[a]));const s=e.plugins||[];for(let a=0;a<s.length;a++){const c=s[a];n.indexOf(c)===-1&&(n.push(c),t[c.id]=!0)}return{plugins:n,localIds:t}}function EI(e,t){return!t&&e===!1?null:e===!0?{}:e}function bI(e,{plugins:t,localIds:n},r,s){const a=[],c=e.getContext();for(const h of t){const p=h.id,g=EI(r[p],s);g!==null&&a.push({plugin:h,options:AI(e.config,{plugin:h,local:n[p]},g,c)})}return a}function AI(e,{plugin:t,local:n},r,s){const a=e.pluginScopeKeys(t),c=e.getOptionScopes(r,a);return n&&t.defaults&&c.push(t.defaults),e.createResolver(c,s,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function bh(e,t){const n=Et.datasets[e]||{};return((t.datasets||{})[e]||{}).indexAxis||t.indexAxis||n.indexAxis||"x"}function SI(e,t){let n=e;return e==="_index_"?n=t:e==="_value_"&&(n=t==="x"?"y":"x"),n}function vI(e,t){return e===t?"_index_":"_value_"}function Vp(e){if(e==="x"||e==="y"||e==="r")return e}function _I(e){if(e==="top"||e==="bottom")return"x";if(e==="left"||e==="right")return"y"}function Ah(e,...t){if(Vp(e))return e;for(const n of t){const r=n.axis||_I(n.position)||e.length>1&&Vp(e[0].toLowerCase());if(r)return r}throw new Error(`Cannot determine type of '${e}' axis. Please provide 'axis' or 'position' option.`)}function Yp(e,t,n){if(n[t+"AxisID"]===e)return{axis:t}}function II(e,t){if(t.data&&t.data.datasets){const n=t.data.datasets.filter(r=>r.xAxisID===e||r.yAxisID===e);if(n.length)return Yp(e,"x",n[0])||Yp(e,"y",n[0])}return{}}function TI(e,t){const n=Es[e.type]||{scales:{}},r=t.scales||{},s=bh(e.type,t),a=Object.create(null);return Object.keys(r).forEach(c=>{const h=r[c];if(!Pe(h))return console.error(`Invalid scale configuration for scale: ${c}`);if(h._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${c}`);const p=Ah(c,h,II(c,e),Et.scales[h.type]),g=vI(p,s),x=n.scales||{};a[c]=Aa(Object.create(null),[{axis:p},h,x[p],x[g]])}),e.data.datasets.forEach(c=>{const h=c.type||e.type,p=c.indexAxis||bh(h,t),x=(Es[h]||{}).scales||{};Object.keys(x).forEach(w=>{const E=SI(w,p),S=c[E+"AxisID"]||E;a[S]=a[S]||Object.create(null),Aa(a[S],[{axis:E},r[S],x[w]])})}),Object.keys(a).forEach(c=>{const h=a[c];Aa(h,[Et.scales[h.type],Et.scale])}),a}function Sw(e){const t=e.options||(e.options={});t.plugins=Ve(t.plugins,{}),t.scales=TI(e,t)}function vw(e){return e=e||{},e.datasets=e.datasets||[],e.labels=e.labels||[],e}function NI(e){return e=e||{},e.data=vw(e.data),Sw(e),e}const Xp=new Map,_w=new Set;function tc(e,t){let n=Xp.get(e);return n||(n=t(),Xp.set(e,n),_w.add(n)),n}const ea=(e,t,n)=>{const r=$a(t,n);r!==void 0&&e.add(r)};class MI{constructor(t){this._config=NI(t),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(t){this._config.type=t}get data(){return this._config.data}set data(t){this._config.data=vw(t)}get options(){return this._config.options}set options(t){this._config.options=t}get plugins(){return this._config.plugins}update(){const t=this._config;this.clearCache(),Sw(t)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(t){return tc(t,()=>[[`datasets.${t}`,""]])}datasetAnimationScopeKeys(t,n){return tc(`${t}.transition.${n}`,()=>[[`datasets.${t}.transitions.${n}`,`transitions.${n}`],[`datasets.${t}`,""]])}datasetElementScopeKeys(t,n){return tc(`${t}-${n}`,()=>[[`datasets.${t}.elements.${n}`,`datasets.${t}`,`elements.${n}`,""]])}pluginScopeKeys(t){const n=t.id,r=this.type;return tc(`${r}-plugin-${n}`,()=>[[`plugins.${n}`,...t.additionalOptionScopes||[]]])}_cachedScopes(t,n){const r=this._scopeCache;let s=r.get(t);return(!s||n)&&(s=new Map,r.set(t,s)),s}getOptionScopes(t,n,r){const{options:s,type:a}=this,c=this._cachedScopes(t,r),h=c.get(n);if(h)return h;const p=new Set;n.forEach(x=>{t&&(p.add(t),x.forEach(w=>ea(p,t,w))),x.forEach(w=>ea(p,s,w)),x.forEach(w=>ea(p,Es[a]||{},w)),x.forEach(w=>ea(p,Et,w)),x.forEach(w=>ea(p,wh,w))});const g=Array.from(p);return g.length===0&&g.push(Object.create(null)),_w.has(n)&&c.set(n,g),g}chartOptionScopes(){const{options:t,type:n}=this;return[t,Es[n]||{},Et.datasets[n]||{},{type:n},Et,wh]}resolveNamedOptions(t,n,r,s=[""]){const a={$shared:!0},{resolver:c,subPrefixes:h}=Gp(this._resolverCache,t,s);let p=c;if(OI(c,n)){a.$shared=!1,r=ki(r)?r():r;const g=this.createResolver(t,r,h);p=mo(c,r,g)}for(const g of n)a[g]=p[g];return a}createResolver(t,n,r=[""],s){const{resolver:a}=Gp(this._resolverCache,t,r);return Pe(n)?mo(a,n,void 0,s):a}}function Gp(e,t,n){let r=e.get(t);r||(r=new Map,e.set(t,r));const s=n.join();let a=r.get(s);return a||(a={resolver:Y0(t,n),subPrefixes:n.filter(h=>!h.toLowerCase().includes("hover"))},r.set(s,a)),a}const RI=e=>Pe(e)&&Object.getOwnPropertyNames(e).some(t=>ki(e[t]));function OI(e,t){const{isScriptable:n,isIndexable:r}=fw(e);for(const s of t){const a=n(s),c=r(s),h=(c||a)&&e[s];if(a&&(ki(h)||RI(h))||c&&Xt(h))return!0}return!1}var DI="4.4.9";const kI=["top","bottom","left","right","chartArea"];function Qp(e,t){return e==="top"||e==="bottom"||kI.indexOf(e)===-1&&t==="x"}function Zp(e,t){return function(n,r){return n[e]===r[e]?n[t]-r[t]:n[e]-r[e]}}function Kp(e){const t=e.chart,n=t.options.animation;t.notifyPlugins("afterRender"),rt(n&&n.onComplete,[e],t)}function LI(e){const t=e.chart,n=t.options.animation;rt(n&&n.onProgress,[e],t)}function Iw(e){return Q0()&&typeof e=="string"?e=document.getElementById(e):e&&e.length&&(e=e[0]),e&&e.canvas&&(e=e.canvas),e}const bc={},qp=e=>{const t=Iw(e);return Object.values(bc).filter(n=>n.canvas===t).pop()};function PI(e,t,n){const r=Object.keys(e);for(const s of r){const a=+s;if(a>=t){const c=e[s];delete e[s],(n>0||a>t)&&(e[a+n]=c)}}}function BI(e,t,n,r){return!n||e.type==="mouseout"?null:r?t:e}class Qn{static register(...t){Nr.add(...t),$p()}static unregister(...t){Nr.remove(...t),$p()}constructor(t,n){const r=this.config=new MI(n),s=Iw(t),a=qp(s);if(a)throw new Error("Canvas is already in use. Chart with ID '"+a.id+"' must be destroyed before the canvas with ID '"+a.canvas.id+"' can be reused.");const c=r.createResolver(r.chartOptionScopes(),this.getContext());this.platform=new(r.platform||tI(s)),this.platform.updateConfig(r);const h=this.platform.acquireContext(s,c.aspectRatio),p=h&&h.canvas,g=p&&p.height,x=p&&p.width;if(this.id=u_(),this.ctx=h,this.canvas=p,this.width=x,this.height=g,this._options=c,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new wI,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=I_(w=>this.update(w),c.resizeDelay||0),this._dataChanges=[],bc[this.id]=this,!h||!p){console.error("Failed to create chart: can't acquire context from the given item");return}Br.listen(this,"complete",Kp),Br.listen(this,"progress",LI),this._initialize(),this.attached&&this.update()}get aspectRatio(){const{options:{aspectRatio:t,maintainAspectRatio:n},width:r,height:s,_aspectRatio:a}=this;return tn(t)?n&&a?a:s?r/s:null:t}get data(){return this.config.data}set data(t){this.config.data=t}get options(){return this._options}set options(t){this.config.options=t}get registry(){return Nr}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():_p(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return bp(this.canvas,this.ctx),this}stop(){return Br.stop(this),this}resize(t,n){Br.running(this)?this._resizeBeforeDraw={width:t,height:n}:this._resize(t,n)}_resize(t,n){const r=this.options,s=this.canvas,a=r.maintainAspectRatio&&this.aspectRatio,c=this.platform.getMaximumSize(s,t,n,a),h=r.devicePixelRatio||this.platform.getDevicePixelRatio(),p=this.width?"resize":"attach";this.width=c.width,this.height=c.height,this._aspectRatio=this.aspectRatio,_p(this,h,!0)&&(this.notifyPlugins("resize",{size:c}),rt(r.onResize,[this,c],this),this.attached&&this._doResize(p)&&this.render())}ensureScalesHaveIDs(){const n=this.options.scales||{};We(n,(r,s)=>{r.id=s})}buildOrUpdateScales(){const t=this.options,n=t.scales,r=this.scales,s=Object.keys(r).reduce((c,h)=>(c[h]=!1,c),{});let a=[];n&&(a=a.concat(Object.keys(n).map(c=>{const h=n[c],p=Ah(c,h),g=p==="r",x=p==="x";return{options:h,dposition:g?"chartArea":x?"bottom":"left",dtype:g?"radialLinear":x?"category":"linear"}}))),We(a,c=>{const h=c.options,p=h.id,g=Ah(p,h),x=Ve(h.type,c.dtype);(h.position===void 0||Qp(h.position,g)!==Qp(c.dposition))&&(h.position=c.dposition),s[p]=!0;let w=null;if(p in r&&r[p].type===x)w=r[p];else{const E=Nr.getScale(x);w=new E({id:p,type:x,ctx:this.ctx,chart:this}),r[w.id]=w}w.init(h,t)}),We(s,(c,h)=>{c||delete r[h]}),We(r,c=>{Ci.configure(this,c,c.options),Ci.addBox(this,c)})}_updateMetasets(){const t=this._metasets,n=this.data.datasets.length,r=t.length;if(t.sort((s,a)=>s.index-a.index),r>n){for(let s=n;s<r;++s)this._destroyDatasetMeta(s);t.splice(n,r-n)}this._sortedMetasets=t.slice(0).sort(Zp("order","index"))}_removeUnreferencedMetasets(){const{_metasets:t,data:{datasets:n}}=this;t.length>n.length&&delete this._stacks,t.forEach((r,s)=>{n.filter(a=>a===r._dataset).length===0&&this._destroyDatasetMeta(s)})}buildOrUpdateControllers(){const t=[],n=this.data.datasets;let r,s;for(this._removeUnreferencedMetasets(),r=0,s=n.length;r<s;r++){const a=n[r];let c=this.getDatasetMeta(r);const h=a.type||this.config.type;if(c.type&&c.type!==h&&(this._destroyDatasetMeta(r),c=this.getDatasetMeta(r)),c.type=h,c.indexAxis=a.indexAxis||bh(h,this.options),c.order=a.order||0,c.index=r,c.label=""+a.label,c.visible=this.isDatasetVisible(r),c.controller)c.controller.updateIndex(r),c.controller.linkScales();else{const p=Nr.getController(h),{datasetElementType:g,dataElementType:x}=Et.datasets[h];Object.assign(p,{dataElementType:Nr.getElement(x),datasetElementType:g&&Nr.getElement(g)}),c.controller=new p(this,r),t.push(c.controller)}}return this._updateMetasets(),t}_resetElements(){We(this.data.datasets,(t,n)=>{this.getDatasetMeta(n).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(t){const n=this.config;n.update();const r=this._options=n.createResolver(n.chartOptionScopes(),this.getContext()),s=this._animationsDisabled=!r.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),this.notifyPlugins("beforeUpdate",{mode:t,cancelable:!0})===!1)return;const a=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let c=0;for(let g=0,x=this.data.datasets.length;g<x;g++){const{controller:w}=this.getDatasetMeta(g),E=!s&&a.indexOf(w)===-1;w.buildOrUpdateElements(E),c=Math.max(+w.getMaxOverflow(),c)}c=this._minPadding=r.layout.autoPadding?c:0,this._updateLayout(c),s||We(a,g=>{g.reset()}),this._updateDatasets(t),this.notifyPlugins("afterUpdate",{mode:t}),this._layers.sort(Zp("z","_idx"));const{_active:h,_lastEvent:p}=this;p?this._eventHandler(p,!0):h.length&&this._updateHoverStyles(h,h,!0),this.render()}_updateScales(){We(this.scales,t=>{Ci.removeBox(this,t)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const t=this.options,n=new Set(Object.keys(this._listeners)),r=new Set(t.events);(!dp(n,r)||!!this._responsiveListeners!==t.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:t}=this,n=this._getUniformDataChanges()||[];for(const{method:r,start:s,count:a}of n){const c=r==="_removeElements"?-a:a;PI(t,s,c)}}_getUniformDataChanges(){const t=this._dataChanges;if(!t||!t.length)return;this._dataChanges=[];const n=this.data.datasets.length,r=a=>new Set(t.filter(c=>c[0]===a).map((c,h)=>h+","+c.splice(1).join(","))),s=r(0);for(let a=1;a<n;a++)if(!dp(s,r(a)))return;return Array.from(s).map(a=>a.split(",")).map(a=>({method:a[1],start:+a[2],count:+a[3]}))}_updateLayout(t){if(this.notifyPlugins("beforeLayout",{cancelable:!0})===!1)return;Ci.update(this,this.width,this.height,t);const n=this.chartArea,r=n.width<=0||n.height<=0;this._layers=[],We(this.boxes,s=>{r&&s.position==="chartArea"||(s.configure&&s.configure(),this._layers.push(...s._layers()))},this),this._layers.forEach((s,a)=>{s._idx=a}),this.notifyPlugins("afterLayout")}_updateDatasets(t){if(this.notifyPlugins("beforeDatasetsUpdate",{mode:t,cancelable:!0})!==!1){for(let n=0,r=this.data.datasets.length;n<r;++n)this.getDatasetMeta(n).controller.configure();for(let n=0,r=this.data.datasets.length;n<r;++n)this._updateDataset(n,ki(t)?t({datasetIndex:n}):t);this.notifyPlugins("afterDatasetsUpdate",{mode:t})}}_updateDataset(t,n){const r=this.getDatasetMeta(t),s={meta:r,index:t,mode:n,cancelable:!0};this.notifyPlugins("beforeDatasetUpdate",s)!==!1&&(r.controller._update(n),s.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",s))}render(){this.notifyPlugins("beforeRender",{cancelable:!0})!==!1&&(Br.has(this)?this.attached&&!Br.running(this)&&Br.start(this):(this.draw(),Kp({chart:this})))}draw(){let t;if(this._resizeBeforeDraw){const{width:r,height:s}=this._resizeBeforeDraw;this._resizeBeforeDraw=null,this._resize(r,s)}if(this.clear(),this.width<=0||this.height<=0||this.notifyPlugins("beforeDraw",{cancelable:!0})===!1)return;const n=this._layers;for(t=0;t<n.length&&n[t].z<=0;++t)n[t].draw(this.chartArea);for(this._drawDatasets();t<n.length;++t)n[t].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(t){const n=this._sortedMetasets,r=[];let s,a;for(s=0,a=n.length;s<a;++s){const c=n[s];(!t||c.visible)&&r.push(c)}return r}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})===!1)return;const t=this.getSortedVisibleDatasetMetas();for(let n=t.length-1;n>=0;--n)this._drawDataset(t[n]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(t){const n=this.ctx,r={meta:t,index:t.index,cancelable:!0},s=h8(this,t);this.notifyPlugins("beforeDatasetDraw",r)!==!1&&(s&&H0(n,s),t.controller.draw(),s&&W0(n),r.cancelable=!1,this.notifyPlugins("afterDatasetDraw",r))}isPointInArea(t){return uw(t,this.chartArea,this._minPadding)}getElementsAtEventForMode(t,n,r,s){const a=k8.modes[n];return typeof a=="function"?a(this,t,r,s):[]}getDatasetMeta(t){const n=this.data.datasets[t],r=this._metasets;let s=r.filter(a=>a&&a._dataset===n).pop();return s||(s={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:n&&n.order||0,index:t,_dataset:n,_parsed:[],_sorted:!1},r.push(s)),s}getContext(){return this.$context||(this.$context=Io(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(t){const n=this.data.datasets[t];if(!n)return!1;const r=this.getDatasetMeta(t);return typeof r.hidden=="boolean"?!r.hidden:!n.hidden}setDatasetVisibility(t,n){const r=this.getDatasetMeta(t);r.hidden=!n}toggleDataVisibility(t){this._hiddenIndices[t]=!this._hiddenIndices[t]}getDataVisibility(t){return!this._hiddenIndices[t]}_updateVisibility(t,n,r){const s=r?"show":"hide",a=this.getDatasetMeta(t),c=a.controller._resolveAnimations(void 0,s);su(n)?(a.data[n].hidden=!r,this.update()):(this.setDatasetVisibility(t,r),c.update(a,{visible:r}),this.update(h=>h.datasetIndex===t?s:void 0))}hide(t,n){this._updateVisibility(t,n,!1)}show(t,n){this._updateVisibility(t,n,!0)}_destroyDatasetMeta(t){const n=this._metasets[t];n&&n.controller&&n.controller._destroy(),delete this._metasets[t]}_stop(){let t,n;for(this.stop(),Br.remove(this),t=0,n=this.data.datasets.length;t<n;++t)this._destroyDatasetMeta(t)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:t,ctx:n}=this;this._stop(),this.config.clearCache(),t&&(this.unbindEvents(),bp(t,n),this.platform.releaseContext(n),this.canvas=null,this.ctx=null),delete bc[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...t){return this.canvas.toDataURL(...t)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const t=this._listeners,n=this.platform,r=(a,c)=>{n.addEventListener(this,a,c),t[a]=c},s=(a,c,h)=>{a.offsetX=c,a.offsetY=h,this._eventHandler(a)};We(this.options.events,a=>r(a,s))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const t=this._responsiveListeners,n=this.platform,r=(p,g)=>{n.addEventListener(this,p,g),t[p]=g},s=(p,g)=>{t[p]&&(n.removeEventListener(this,p,g),delete t[p])},a=(p,g)=>{this.canvas&&this.resize(p,g)};let c;const h=()=>{s("attach",h),this.attached=!0,this.resize(),r("resize",a),r("detach",c)};c=()=>{this.attached=!1,s("resize",a),this._stop(),this._resize(0,0),r("attach",h)},n.isAttached(this.canvas)?h():c()}unbindEvents(){We(this._listeners,(t,n)=>{this.platform.removeEventListener(this,n,t)}),this._listeners={},We(this._responsiveListeners,(t,n)=>{this.platform.removeEventListener(this,n,t)}),this._responsiveListeners=void 0}updateHoverStyle(t,n,r){const s=r?"set":"remove";let a,c,h,p;for(n==="dataset"&&(a=this.getDatasetMeta(t[0].datasetIndex),a.controller["_"+s+"DatasetHoverStyle"]()),h=0,p=t.length;h<p;++h){c=t[h];const g=c&&this.getDatasetMeta(c.datasetIndex).controller;g&&g[s+"HoverStyle"](c.element,c.datasetIndex,c.index)}}getActiveElements(){return this._active||[]}setActiveElements(t){const n=this._active||[],r=t.map(({datasetIndex:a,index:c})=>{const h=this.getDatasetMeta(a);if(!h)throw new Error("No dataset found at index "+a);return{datasetIndex:a,element:h.data[c],index:c}});!ru(r,n)&&(this._active=r,this._lastEvent=null,this._updateHoverStyles(r,n))}notifyPlugins(t,n,r){return this._plugins.notify(this,t,n,r)}isPluginEnabled(t){return this._plugins._cache.filter(n=>n.plugin.id===t).length===1}_updateHoverStyles(t,n,r){const s=this.options.hover,a=(p,g)=>p.filter(x=>!g.some(w=>x.datasetIndex===w.datasetIndex&&x.index===w.index)),c=a(n,t),h=r?t:a(t,n);c.length&&this.updateHoverStyle(c,s.mode,!1),h.length&&s.mode&&this.updateHoverStyle(h,s.mode,!0)}_eventHandler(t,n){const r={event:t,replay:n,cancelable:!0,inChartArea:this.isPointInArea(t)},s=c=>(c.options.events||this.options.events).includes(t.native.type);if(this.notifyPlugins("beforeEvent",r,s)===!1)return;const a=this._handleEvent(t,n,r.inChartArea);return r.cancelable=!1,this.notifyPlugins("afterEvent",r,s),(a||r.changed)&&this.render(),this}_handleEvent(t,n,r){const{_active:s=[],options:a}=this,c=n,h=this._getActiveElements(t,s,r,c),p=m_(t),g=BI(t,this._lastEvent,r,p);r&&(this._lastEvent=null,rt(a.onHover,[t,h,this],this),p&&rt(a.onClick,[t,h,this],this));const x=!ru(h,s);return(x||n)&&(this._active=h,this._updateHoverStyles(h,s,n)),this._lastEvent=g,x}_getActiveElements(t,n,r,s){if(t.type==="mouseout")return[];if(!r)return n;const a=this.options.hover;return this.getElementsAtEventForMode(t,a.mode,a,s)}}_e(Qn,"defaults",Et),_e(Qn,"instances",bc),_e(Qn,"overrides",Es),_e(Qn,"registry",Nr),_e(Qn,"version",DI),_e(Qn,"getChart",qp);function $p(){return We(Qn.instances,e=>e._plugins.invalidate())}function FI(e,t,n){const{startAngle:r,pixelMargin:s,x:a,y:c,outerRadius:h,innerRadius:p}=t;let g=s/h;e.beginPath(),e.arc(a,c,h,r-g,n+g),p>s?(g=s/p,e.arc(a,c,p,n+g,r-g,!0)):e.arc(a,c,s,n+Ot,r-Ot),e.closePath(),e.clip()}function jI(e){return V0(e,["outerStart","outerEnd","innerStart","innerEnd"])}function zI(e,t,n,r){const s=jI(e.options.borderRadius),a=(n-t)/2,c=Math.min(a,r*t/2),h=p=>{const g=(n-Math.min(a,p))*r/2;return $n(p,0,Math.min(a,g))};return{outerStart:h(s.outerStart),outerEnd:h(s.outerEnd),innerStart:$n(s.innerStart,0,c),innerEnd:$n(s.innerEnd,0,c)}}function js(e,t,n,r){return{x:n+e*Math.cos(t),y:r+e*Math.sin(t)}}function du(e,t,n,r,s,a){const{x:c,y:h,startAngle:p,pixelMargin:g,innerRadius:x}=t,w=Math.max(t.outerRadius+r+n-g,0),E=x>0?x+r+n+g:0;let S=0;const v=s-p;if(r){const W=x>0?x-r:0,we=w>0?w-r:0,ae=(W+we)/2,ie=ae!==0?v*ae/(ae+r):v;S=(v-ie)/2}const R=Math.max(.001,v*w-n/Ft)/w,O=(v-R)/2,M=p+O+S,T=s-O-S,{outerStart:N,outerEnd:L,innerStart:z,innerEnd:Y}=zI(t,E,w,T-M),F=w-N,H=w-L,G=M+N/F,re=T-L/H,oe=E+z,te=E+Y,me=M+z/oe,Ee=T-Y/te;if(e.beginPath(),a){const W=(G+re)/2;if(e.arc(c,h,w,G,W),e.arc(c,h,w,W,re),L>0){const le=js(H,re,c,h);e.arc(le.x,le.y,L,re,T+Ot)}const we=js(te,T,c,h);if(e.lineTo(we.x,we.y),Y>0){const le=js(te,Ee,c,h);e.arc(le.x,le.y,Y,T+Ot,Ee+Math.PI)}const ae=(T-Y/E+(M+z/E))/2;if(e.arc(c,h,E,T-Y/E,ae,!0),e.arc(c,h,E,ae,M+z/E,!0),z>0){const le=js(oe,me,c,h);e.arc(le.x,le.y,z,me+Math.PI,M-Ot)}const ie=js(F,M,c,h);if(e.lineTo(ie.x,ie.y),N>0){const le=js(F,G,c,h);e.arc(le.x,le.y,N,M-Ot,G)}}else{e.moveTo(c,h);const W=Math.cos(G)*w+c,we=Math.sin(G)*w+h;e.lineTo(W,we);const ae=Math.cos(re)*w+c,ie=Math.sin(re)*w+h;e.lineTo(ae,ie)}e.closePath()}function UI(e,t,n,r,s){const{fullCircles:a,startAngle:c,circumference:h}=t;let p=t.endAngle;if(a){du(e,t,n,r,p,s);for(let g=0;g<a;++g)e.fill();isNaN(h)||(p=c+(h%_t||_t))}return du(e,t,n,r,p,s),e.fill(),p}function HI(e,t,n,r,s){const{fullCircles:a,startAngle:c,circumference:h,options:p}=t,{borderWidth:g,borderJoinStyle:x,borderDash:w,borderDashOffset:E}=p,S=p.borderAlign==="inner";if(!g)return;e.setLineDash(w||[]),e.lineDashOffset=E,S?(e.lineWidth=g*2,e.lineJoin=x||"round"):(e.lineWidth=g,e.lineJoin=x||"bevel");let v=t.endAngle;if(a){du(e,t,n,r,v,s);for(let R=0;R<a;++R)e.stroke();isNaN(h)||(v=c+(h%_t||_t))}S&&FI(e,t,v),a||(du(e,t,n,r,v,s),e.stroke())}class ua extends bs{constructor(n){super();_e(this,"circumference");_e(this,"endAngle");_e(this,"fullCircles");_e(this,"innerRadius");_e(this,"outerRadius");_e(this,"pixelMargin");_e(this,"startAngle");this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,n&&Object.assign(this,n)}inRange(n,r,s){const a=this.getProps(["x","y"],s),{angle:c,distance:h}=tw(a,{x:n,y:r}),{startAngle:p,endAngle:g,innerRadius:x,outerRadius:w,circumference:E}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],s),S=(this.options.spacing+this.options.borderWidth)/2,v=Ve(E,g-p),R=lu(c,p,g)&&p!==g,O=v>=_t||R,M=aa(h,x+S,w+S);return O&&M}getCenterPoint(n){const{x:r,y:s,startAngle:a,endAngle:c,innerRadius:h,outerRadius:p}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius"],n),{offset:g,spacing:x}=this.options,w=(a+c)/2,E=(h+p+x+g)/2;return{x:r+Math.cos(w)*E,y:s+Math.sin(w)*E}}tooltipPosition(n){return this.getCenterPoint(n)}draw(n){const{options:r,circumference:s}=this,a=(r.offset||0)/4,c=(r.spacing||0)/2,h=r.circular;if(this.pixelMargin=r.borderAlign==="inner"?.33:0,this.fullCircles=s>_t?Math.floor(s/_t):0,s===0||this.innerRadius<0||this.outerRadius<0)return;n.save();const p=(this.startAngle+this.endAngle)/2;n.translate(Math.cos(p)*a,Math.sin(p)*a);const g=1-Math.sin(Math.min(Ft,s||0)),x=a*g;n.fillStyle=r.backgroundColor,n.strokeStyle=r.borderColor,UI(n,this,x,c,h),HI(n,this,x,c,h),n.restore()}}_e(ua,"id","arc"),_e(ua,"defaults",{borderAlign:"center",borderColor:"#fff",borderDash:[],borderDashOffset:0,borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0,circular:!0}),_e(ua,"defaultRoutes",{backgroundColor:"backgroundColor"}),_e(ua,"descriptors",{_scriptable:!0,_indexable:n=>n!=="borderDash"});const Jp=(e,t)=>{let{boxHeight:n=t,boxWidth:r=t}=e;return e.usePointStyle&&(n=Math.min(n,t),r=e.pointStyleWidth||Math.min(r,t)),{boxWidth:r,boxHeight:n,itemHeight:Math.max(t,n)}},WI=(e,t)=>e!==null&&t!==null&&e.datasetIndex===t.datasetIndex&&e.index===t.index;class em extends bs{constructor(t){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=t.chart,this.options=t.options,this.ctx=t.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(t,n,r){this.maxWidth=t,this.maxHeight=n,this._margins=r,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const t=this.options.labels||{};let n=rt(t.generateLabels,[this.chart],this)||[];t.filter&&(n=n.filter(r=>t.filter(r,this.chart.data))),t.sort&&(n=n.sort((r,s)=>t.sort(r,s,this.chart.data))),this.options.reverse&&n.reverse(),this.legendItems=n}fit(){const{options:t,ctx:n}=this;if(!t.display){this.width=this.height=0;return}const r=t.labels,s=Cn(r.font),a=s.size,c=this._computeTitleHeight(),{boxWidth:h,itemHeight:p}=Jp(r,a);let g,x;n.font=s.string,this.isHorizontal()?(g=this.maxWidth,x=this._fitRows(c,a,h,p)+10):(x=this.maxHeight,g=this._fitCols(c,s,h,p)+10),this.width=Math.min(g,t.maxWidth||this.maxWidth),this.height=Math.min(x,t.maxHeight||this.maxHeight)}_fitRows(t,n,r,s){const{ctx:a,maxWidth:c,options:{labels:{padding:h}}}=this,p=this.legendHitBoxes=[],g=this.lineWidths=[0],x=s+h;let w=t;a.textAlign="left",a.textBaseline="middle";let E=-1,S=-x;return this.legendItems.forEach((v,R)=>{const O=r+n/2+a.measureText(v.text).width;(R===0||g[g.length-1]+O+2*h>c)&&(w+=x,g[g.length-(R>0?0:1)]=0,S+=x,E++),p[R]={left:0,top:S,row:E,width:O,height:s},g[g.length-1]+=O+h}),w}_fitCols(t,n,r,s){const{ctx:a,maxHeight:c,options:{labels:{padding:h}}}=this,p=this.legendHitBoxes=[],g=this.columnSizes=[],x=c-t;let w=h,E=0,S=0,v=0,R=0;return this.legendItems.forEach((O,M)=>{const{itemWidth:T,itemHeight:N}=VI(r,n,a,O,s);M>0&&S+N+2*h>x&&(w+=E+h,g.push({width:E,height:S}),v+=E+h,R++,E=S=0),p[M]={left:v,top:S,col:R,width:T,height:N},E=Math.max(E,T),S+=N+h}),w+=E,g.push({width:E,height:S}),w}adjustHitBoxes(){if(!this.options.display)return;const t=this._computeTitleHeight(),{legendHitBoxes:n,options:{align:r,labels:{padding:s},rtl:a}}=this,c=oo(a,this.left,this.width);if(this.isHorizontal()){let h=0,p=In(r,this.left+s,this.right-this.lineWidths[h]);for(const g of n)h!==g.row&&(h=g.row,p=In(r,this.left+s,this.right-this.lineWidths[h])),g.top+=this.top+t+s,g.left=c.leftForLtr(c.x(p),g.width),p+=g.width+s}else{let h=0,p=In(r,this.top+t+s,this.bottom-this.columnSizes[h].height);for(const g of n)g.col!==h&&(h=g.col,p=In(r,this.top+t+s,this.bottom-this.columnSizes[h].height)),g.top=p,g.left+=this.left+s,g.left=c.leftForLtr(c.x(g.left),g.width),p+=g.height+s}}isHorizontal(){return this.options.position==="top"||this.options.position==="bottom"}draw(){if(this.options.display){const t=this.ctx;H0(t,this),this._draw(),W0(t)}}_draw(){const{options:t,columnSizes:n,lineWidths:r,ctx:s}=this,{align:a,labels:c}=t,h=Et.color,p=oo(t.rtl,this.left,this.width),g=Cn(c.font),{padding:x}=c,w=g.size,E=w/2;let S;this.drawTitle(),s.textAlign=p.textAlign("left"),s.textBaseline="middle",s.lineWidth=.5,s.font=g.string;const{boxWidth:v,boxHeight:R,itemHeight:O}=Jp(c,w),M=function(Y,F,H){if(isNaN(v)||v<=0||isNaN(R)||R<0)return;s.save();const G=Ve(H.lineWidth,1);if(s.fillStyle=Ve(H.fillStyle,h),s.lineCap=Ve(H.lineCap,"butt"),s.lineDashOffset=Ve(H.lineDashOffset,0),s.lineJoin=Ve(H.lineJoin,"miter"),s.lineWidth=G,s.strokeStyle=Ve(H.strokeStyle,h),s.setLineDash(Ve(H.lineDash,[])),c.usePointStyle){const re={radius:R*Math.SQRT2/2,pointStyle:H.pointStyle,rotation:H.rotation,borderWidth:G},oe=p.xPlus(Y,v/2),te=F+E;cw(s,re,oe,te,c.pointStyleWidth&&v)}else{const re=F+Math.max((w-R)/2,0),oe=p.leftForLtr(Y,v),te=_a(H.borderRadius);s.beginPath(),Object.values(te).some(me=>me!==0)?Ch(s,{x:oe,y:re,w:v,h:R,radius:te}):s.rect(oe,re,v,R),s.fill(),G!==0&&s.stroke()}s.restore()},T=function(Y,F,H){cu(s,H.text,Y,F+O/2,g,{strikethrough:H.hidden,textAlign:p.textAlign(H.textAlign)})},N=this.isHorizontal(),L=this._computeTitleHeight();N?S={x:In(a,this.left+x,this.right-r[0]),y:this.top+x+L,line:0}:S={x:this.left+x,y:In(a,this.top+L+x,this.bottom-n[0].height),line:0},pw(this.ctx,t.textDirection);const z=O+x;this.legendItems.forEach((Y,F)=>{s.strokeStyle=Y.fontColor,s.fillStyle=Y.fontColor;const H=s.measureText(Y.text).width,G=p.textAlign(Y.textAlign||(Y.textAlign=c.textAlign)),re=v+E+H;let oe=S.x,te=S.y;p.setWidth(this.width),N?F>0&&oe+re+x>this.right&&(te=S.y+=z,S.line++,oe=S.x=In(a,this.left+x,this.right-r[S.line])):F>0&&te+z>this.bottom&&(oe=S.x=oe+n[S.line].width+x,S.line++,te=S.y=In(a,this.top+L+x,this.bottom-n[S.line].height));const me=p.x(oe);if(M(me,te,Y),oe=T_(G,oe+v+E,N?oe+re:this.right,t.rtl),T(p.x(oe),te,Y),N)S.x+=re+x;else if(typeof Y.text!="string"){const Ee=g.lineHeight;S.y+=Tw(Y,Ee)+x}else S.y+=z}),mw(this.ctx,t.textDirection)}drawTitle(){const t=this.options,n=t.title,r=Cn(n.font),s=pr(n.padding);if(!n.display)return;const a=oo(t.rtl,this.left,this.width),c=this.ctx,h=n.position,p=r.size/2,g=s.top+p;let x,w=this.left,E=this.width;if(this.isHorizontal())E=Math.max(...this.lineWidths),x=this.top+g,w=In(t.align,w,this.right-E);else{const v=this.columnSizes.reduce((R,O)=>Math.max(R,O.height),0);x=g+In(t.align,this.top,this.bottom-v-t.labels.padding-this._computeTitleHeight())}const S=In(h,w,w+E);c.textAlign=a.textAlign(sw(h)),c.textBaseline="middle",c.strokeStyle=n.color,c.fillStyle=n.color,c.font=r.string,cu(c,n.text,S,x,r)}_computeTitleHeight(){const t=this.options.title,n=Cn(t.font),r=pr(t.padding);return t.display?n.lineHeight+r.height:0}_getLegendItemAt(t,n){let r,s,a;if(aa(t,this.left,this.right)&&aa(n,this.top,this.bottom)){for(a=this.legendHitBoxes,r=0;r<a.length;++r)if(s=a[r],aa(t,s.left,s.left+s.width)&&aa(n,s.top,s.top+s.height))return this.legendItems[r]}return null}handleEvent(t){const n=this.options;if(!GI(t.type,n))return;const r=this._getLegendItemAt(t.x,t.y);if(t.type==="mousemove"||t.type==="mouseout"){const s=this._hoveredItem,a=WI(s,r);s&&!a&&rt(n.onLeave,[t,s,this],this),this._hoveredItem=r,r&&!a&&rt(n.onHover,[t,r,this],this)}else r&&rt(n.onClick,[t,r,this],this)}}function VI(e,t,n,r,s){const a=YI(r,e,t,n),c=XI(s,r,t.lineHeight);return{itemWidth:a,itemHeight:c}}function YI(e,t,n,r){let s=e.text;return s&&typeof s!="string"&&(s=s.reduce((a,c)=>a.length>c.length?a:c)),t+n.size/2+r.measureText(s).width}function XI(e,t,n){let r=e;return typeof t.text!="string"&&(r=Tw(t,n)),r}function Tw(e,t){const n=e.text?e.text.length:0;return t*n}function GI(e,t){return!!((e==="mousemove"||e==="mouseout")&&(t.onHover||t.onLeave)||t.onClick&&(e==="click"||e==="mouseup"))}var QI={id:"legend",_element:em,start(e,t,n){const r=e.legend=new em({ctx:e.ctx,options:n,chart:e});Ci.configure(e,r,n),Ci.addBox(e,r)},stop(e){Ci.removeBox(e,e.legend),delete e.legend},beforeUpdate(e,t,n){const r=e.legend;Ci.configure(e,r,n),r.options=n},afterUpdate(e){const t=e.legend;t.buildLabels(),t.adjustHitBoxes()},afterEvent(e,t){t.replay||e.legend.handleEvent(t.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(e,t,n){const r=t.datasetIndex,s=n.chart;s.isDatasetVisible(r)?(s.hide(r),t.hidden=!0):(s.show(r),t.hidden=!1)},onHover:null,onLeave:null,labels:{color:e=>e.chart.options.color,boxWidth:40,padding:10,generateLabels(e){const t=e.data.datasets,{labels:{usePointStyle:n,pointStyle:r,textAlign:s,color:a,useBorderRadius:c,borderRadius:h}}=e.legend.options;return e._getSortedDatasetMetas().map(p=>{const g=p.controller.getStyle(n?0:void 0),x=pr(g.borderWidth);return{text:t[p.index].label,fillStyle:g.backgroundColor,fontColor:a,hidden:!p.visible,lineCap:g.borderCapStyle,lineDash:g.borderDash,lineDashOffset:g.borderDashOffset,lineJoin:g.borderJoinStyle,lineWidth:(x.width+x.height)/4,strokeStyle:g.borderColor,pointStyle:r||g.pointStyle,rotation:g.rotation,textAlign:s||g.textAlign,borderRadius:c&&(h||g.borderRadius),datasetIndex:p.index}},this)}},title:{color:e=>e.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:e=>!e.startsWith("on"),labels:{_scriptable:e=>!["generateLabels","filter","sort"].includes(e)}}};const fa={average(e){if(!e.length)return!1;let t,n,r=new Set,s=0,a=0;for(t=0,n=e.length;t<n;++t){const h=e[t].element;if(h&&h.hasValue()){const p=h.tooltipPosition();r.add(p.x),s+=p.y,++a}}return a===0||r.size===0?!1:{x:[...r].reduce((h,p)=>h+p)/r.size,y:s/a}},nearest(e,t){if(!e.length)return!1;let n=t.x,r=t.y,s=Number.POSITIVE_INFINITY,a,c,h;for(a=0,c=e.length;a<c;++a){const p=e[a].element;if(p&&p.hasValue()){const g=p.getCenterPoint(),x=E_(t,g);x<s&&(s=x,h=p)}}if(h){const p=h.tooltipPosition();n=p.x,r=p.y}return{x:n,y:r}}};function Ir(e,t){return t&&(Xt(t)?Array.prototype.push.apply(e,t):e.push(t)),e}function Fr(e){return(typeof e=="string"||e instanceof String)&&e.indexOf(`
`)>-1?e.split(`
`):e}function ZI(e,t){const{element:n,datasetIndex:r,index:s}=t,a=e.getDatasetMeta(r).controller,{label:c,value:h}=a.getLabelAndValue(s);return{chart:e,label:c,parsed:a.getParsed(s),raw:e.data.datasets[r].data[s],formattedValue:h,dataset:a.getDataset(),dataIndex:s,datasetIndex:r,element:n}}function tm(e,t){const n=e.chart.ctx,{body:r,footer:s,title:a}=e,{boxWidth:c,boxHeight:h}=t,p=Cn(t.bodyFont),g=Cn(t.titleFont),x=Cn(t.footerFont),w=a.length,E=s.length,S=r.length,v=pr(t.padding);let R=v.height,O=0,M=r.reduce((L,z)=>L+z.before.length+z.lines.length+z.after.length,0);if(M+=e.beforeBody.length+e.afterBody.length,w&&(R+=w*g.lineHeight+(w-1)*t.titleSpacing+t.titleMarginBottom),M){const L=t.displayColors?Math.max(h,p.lineHeight):p.lineHeight;R+=S*L+(M-S)*p.lineHeight+(M-1)*t.bodySpacing}E&&(R+=t.footerMarginTop+E*x.lineHeight+(E-1)*t.footerSpacing);let T=0;const N=function(L){O=Math.max(O,n.measureText(L).width+T)};return n.save(),n.font=g.string,We(e.title,N),n.font=p.string,We(e.beforeBody.concat(e.afterBody),N),T=t.displayColors?c+2+t.boxPadding:0,We(r,L=>{We(L.before,N),We(L.lines,N),We(L.after,N)}),T=0,n.font=x.string,We(e.footer,N),n.restore(),O+=v.width,{width:O,height:R}}function KI(e,t){const{y:n,height:r}=t;return n<r/2?"top":n>e.height-r/2?"bottom":"center"}function qI(e,t,n,r){const{x:s,width:a}=r,c=n.caretSize+n.caretPadding;if(e==="left"&&s+a+c>t.width||e==="right"&&s-a-c<0)return!0}function $I(e,t,n,r){const{x:s,width:a}=n,{width:c,chartArea:{left:h,right:p}}=e;let g="center";return r==="center"?g=s<=(h+p)/2?"left":"right":s<=a/2?g="left":s>=c-a/2&&(g="right"),qI(g,e,t,n)&&(g="center"),g}function nm(e,t,n){const r=n.yAlign||t.yAlign||KI(e,n);return{xAlign:n.xAlign||t.xAlign||$I(e,t,n,r),yAlign:r}}function JI(e,t){let{x:n,width:r}=e;return t==="right"?n-=r:t==="center"&&(n-=r/2),n}function eT(e,t,n){let{y:r,height:s}=e;return t==="top"?r+=n:t==="bottom"?r-=s+n:r-=s/2,r}function rm(e,t,n,r){const{caretSize:s,caretPadding:a,cornerRadius:c}=e,{xAlign:h,yAlign:p}=n,g=s+a,{topLeft:x,topRight:w,bottomLeft:E,bottomRight:S}=_a(c);let v=JI(t,h);const R=eT(t,p,g);return p==="center"?h==="left"?v+=g:h==="right"&&(v-=g):h==="left"?v-=Math.max(x,E)+s:h==="right"&&(v+=Math.max(w,S)+s),{x:$n(v,0,r.width-t.width),y:$n(R,0,r.height-t.height)}}function nc(e,t,n){const r=pr(n.padding);return t==="center"?e.x+e.width/2:t==="right"?e.x+e.width-r.right:e.x+r.left}function im(e){return Ir([],Fr(e))}function tT(e,t,n){return Io(e,{tooltip:t,tooltipItems:n,type:"tooltip"})}function sm(e,t){const n=t&&t.dataset&&t.dataset.tooltip&&t.dataset.tooltip.callbacks;return n?e.override(n):e}const Nw={beforeTitle:Pr,title(e){if(e.length>0){const t=e[0],n=t.chart.data.labels,r=n?n.length:0;if(this&&this.options&&this.options.mode==="dataset")return t.dataset.label||"";if(t.label)return t.label;if(r>0&&t.dataIndex<r)return n[t.dataIndex]}return""},afterTitle:Pr,beforeBody:Pr,beforeLabel:Pr,label(e){if(this&&this.options&&this.options.mode==="dataset")return e.label+": "+e.formattedValue||e.formattedValue;let t=e.dataset.label||"";t&&(t+=": ");const n=e.formattedValue;return tn(n)||(t+=n),t},labelColor(e){const n=e.chart.getDatasetMeta(e.datasetIndex).controller.getStyle(e.dataIndex);return{borderColor:n.borderColor,backgroundColor:n.backgroundColor,borderWidth:n.borderWidth,borderDash:n.borderDash,borderDashOffset:n.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(e){const n=e.chart.getDatasetMeta(e.datasetIndex).controller.getStyle(e.dataIndex);return{pointStyle:n.pointStyle,rotation:n.rotation}},afterLabel:Pr,afterBody:Pr,beforeFooter:Pr,footer:Pr,afterFooter:Pr};function mn(e,t,n,r){const s=e[t].call(n,r);return typeof s>"u"?Nw[t].call(n,r):s}class Sh extends bs{constructor(t){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=t.chart,this.options=t.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(t){this.options=t,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const t=this._cachedAnimations;if(t)return t;const n=this.chart,r=this.options.setContext(this.getContext()),s=r.enabled&&n.options.animation&&r.animations,a=new xw(this.chart,s);return s._cacheable&&(this._cachedAnimations=Object.freeze(a)),a}getContext(){return this.$context||(this.$context=tT(this.chart.getContext(),this,this._tooltipItems))}getTitle(t,n){const{callbacks:r}=n,s=mn(r,"beforeTitle",this,t),a=mn(r,"title",this,t),c=mn(r,"afterTitle",this,t);let h=[];return h=Ir(h,Fr(s)),h=Ir(h,Fr(a)),h=Ir(h,Fr(c)),h}getBeforeBody(t,n){return im(mn(n.callbacks,"beforeBody",this,t))}getBody(t,n){const{callbacks:r}=n,s=[];return We(t,a=>{const c={before:[],lines:[],after:[]},h=sm(r,a);Ir(c.before,Fr(mn(h,"beforeLabel",this,a))),Ir(c.lines,mn(h,"label",this,a)),Ir(c.after,Fr(mn(h,"afterLabel",this,a))),s.push(c)}),s}getAfterBody(t,n){return im(mn(n.callbacks,"afterBody",this,t))}getFooter(t,n){const{callbacks:r}=n,s=mn(r,"beforeFooter",this,t),a=mn(r,"footer",this,t),c=mn(r,"afterFooter",this,t);let h=[];return h=Ir(h,Fr(s)),h=Ir(h,Fr(a)),h=Ir(h,Fr(c)),h}_createItems(t){const n=this._active,r=this.chart.data,s=[],a=[],c=[];let h=[],p,g;for(p=0,g=n.length;p<g;++p)h.push(ZI(this.chart,n[p]));return t.filter&&(h=h.filter((x,w,E)=>t.filter(x,w,E,r))),t.itemSort&&(h=h.sort((x,w)=>t.itemSort(x,w,r))),We(h,x=>{const w=sm(t.callbacks,x);s.push(mn(w,"labelColor",this,x)),a.push(mn(w,"labelPointStyle",this,x)),c.push(mn(w,"labelTextColor",this,x))}),this.labelColors=s,this.labelPointStyles=a,this.labelTextColors=c,this.dataPoints=h,h}update(t,n){const r=this.options.setContext(this.getContext()),s=this._active;let a,c=[];if(!s.length)this.opacity!==0&&(a={opacity:0});else{const h=fa[r.position].call(this,s,this._eventPosition);c=this._createItems(r),this.title=this.getTitle(c,r),this.beforeBody=this.getBeforeBody(c,r),this.body=this.getBody(c,r),this.afterBody=this.getAfterBody(c,r),this.footer=this.getFooter(c,r);const p=this._size=tm(this,r),g=Object.assign({},h,p),x=nm(this.chart,r,g),w=rm(r,g,x,this.chart);this.xAlign=x.xAlign,this.yAlign=x.yAlign,a={opacity:1,x:w.x,y:w.y,width:p.width,height:p.height,caretX:h.x,caretY:h.y}}this._tooltipItems=c,this.$context=void 0,a&&this._resolveAnimations().update(this,a),t&&r.external&&r.external.call(this,{chart:this.chart,tooltip:this,replay:n})}drawCaret(t,n,r,s){const a=this.getCaretPosition(t,r,s);n.lineTo(a.x1,a.y1),n.lineTo(a.x2,a.y2),n.lineTo(a.x3,a.y3)}getCaretPosition(t,n,r){const{xAlign:s,yAlign:a}=this,{caretSize:c,cornerRadius:h}=r,{topLeft:p,topRight:g,bottomLeft:x,bottomRight:w}=_a(h),{x:E,y:S}=t,{width:v,height:R}=n;let O,M,T,N,L,z;return a==="center"?(L=S+R/2,s==="left"?(O=E,M=O-c,N=L+c,z=L-c):(O=E+v,M=O+c,N=L-c,z=L+c),T=O):(s==="left"?M=E+Math.max(p,x)+c:s==="right"?M=E+v-Math.max(g,w)-c:M=this.caretX,a==="top"?(N=S,L=N-c,O=M-c,T=M+c):(N=S+R,L=N+c,O=M+c,T=M-c),z=N),{x1:O,x2:M,x3:T,y1:N,y2:L,y3:z}}drawTitle(t,n,r){const s=this.title,a=s.length;let c,h,p;if(a){const g=oo(r.rtl,this.x,this.width);for(t.x=nc(this,r.titleAlign,r),n.textAlign=g.textAlign(r.titleAlign),n.textBaseline="middle",c=Cn(r.titleFont),h=r.titleSpacing,n.fillStyle=r.titleColor,n.font=c.string,p=0;p<a;++p)n.fillText(s[p],g.x(t.x),t.y+c.lineHeight/2),t.y+=c.lineHeight+h,p+1===a&&(t.y+=r.titleMarginBottom-h)}}_drawColorBox(t,n,r,s,a){const c=this.labelColors[r],h=this.labelPointStyles[r],{boxHeight:p,boxWidth:g}=a,x=Cn(a.bodyFont),w=nc(this,"left",a),E=s.x(w),S=p<x.lineHeight?(x.lineHeight-p)/2:0,v=n.y+S;if(a.usePointStyle){const R={radius:Math.min(g,p)/2,pointStyle:h.pointStyle,rotation:h.rotation,borderWidth:1},O=s.leftForLtr(E,g)+g/2,M=v+p/2;t.strokeStyle=a.multiKeyBackground,t.fillStyle=a.multiKeyBackground,Ap(t,R,O,M),t.strokeStyle=c.borderColor,t.fillStyle=c.backgroundColor,Ap(t,R,O,M)}else{t.lineWidth=Pe(c.borderWidth)?Math.max(...Object.values(c.borderWidth)):c.borderWidth||1,t.strokeStyle=c.borderColor,t.setLineDash(c.borderDash||[]),t.lineDashOffset=c.borderDashOffset||0;const R=s.leftForLtr(E,g),O=s.leftForLtr(s.xPlus(E,1),g-2),M=_a(c.borderRadius);Object.values(M).some(T=>T!==0)?(t.beginPath(),t.fillStyle=a.multiKeyBackground,Ch(t,{x:R,y:v,w:g,h:p,radius:M}),t.fill(),t.stroke(),t.fillStyle=c.backgroundColor,t.beginPath(),Ch(t,{x:O,y:v+1,w:g-2,h:p-2,radius:M}),t.fill()):(t.fillStyle=a.multiKeyBackground,t.fillRect(R,v,g,p),t.strokeRect(R,v,g,p),t.fillStyle=c.backgroundColor,t.fillRect(O,v+1,g-2,p-2))}t.fillStyle=this.labelTextColors[r]}drawBody(t,n,r){const{body:s}=this,{bodySpacing:a,bodyAlign:c,displayColors:h,boxHeight:p,boxWidth:g,boxPadding:x}=r,w=Cn(r.bodyFont);let E=w.lineHeight,S=0;const v=oo(r.rtl,this.x,this.width),R=function(H){n.fillText(H,v.x(t.x+S),t.y+E/2),t.y+=E+a},O=v.textAlign(c);let M,T,N,L,z,Y,F;for(n.textAlign=c,n.textBaseline="middle",n.font=w.string,t.x=nc(this,O,r),n.fillStyle=r.bodyColor,We(this.beforeBody,R),S=h&&O!=="right"?c==="center"?g/2+x:g+2+x:0,L=0,Y=s.length;L<Y;++L){for(M=s[L],T=this.labelTextColors[L],n.fillStyle=T,We(M.before,R),N=M.lines,h&&N.length&&(this._drawColorBox(n,t,L,v,r),E=Math.max(w.lineHeight,p)),z=0,F=N.length;z<F;++z)R(N[z]),E=w.lineHeight;We(M.after,R)}S=0,E=w.lineHeight,We(this.afterBody,R),t.y-=a}drawFooter(t,n,r){const s=this.footer,a=s.length;let c,h;if(a){const p=oo(r.rtl,this.x,this.width);for(t.x=nc(this,r.footerAlign,r),t.y+=r.footerMarginTop,n.textAlign=p.textAlign(r.footerAlign),n.textBaseline="middle",c=Cn(r.footerFont),n.fillStyle=r.footerColor,n.font=c.string,h=0;h<a;++h)n.fillText(s[h],p.x(t.x),t.y+c.lineHeight/2),t.y+=c.lineHeight+r.footerSpacing}}drawBackground(t,n,r,s){const{xAlign:a,yAlign:c}=this,{x:h,y:p}=t,{width:g,height:x}=r,{topLeft:w,topRight:E,bottomLeft:S,bottomRight:v}=_a(s.cornerRadius);n.fillStyle=s.backgroundColor,n.strokeStyle=s.borderColor,n.lineWidth=s.borderWidth,n.beginPath(),n.moveTo(h+w,p),c==="top"&&this.drawCaret(t,n,r,s),n.lineTo(h+g-E,p),n.quadraticCurveTo(h+g,p,h+g,p+E),c==="center"&&a==="right"&&this.drawCaret(t,n,r,s),n.lineTo(h+g,p+x-v),n.quadraticCurveTo(h+g,p+x,h+g-v,p+x),c==="bottom"&&this.drawCaret(t,n,r,s),n.lineTo(h+S,p+x),n.quadraticCurveTo(h,p+x,h,p+x-S),c==="center"&&a==="left"&&this.drawCaret(t,n,r,s),n.lineTo(h,p+w),n.quadraticCurveTo(h,p,h+w,p),n.closePath(),n.fill(),s.borderWidth>0&&n.stroke()}_updateAnimationTarget(t){const n=this.chart,r=this.$animations,s=r&&r.x,a=r&&r.y;if(s||a){const c=fa[t.position].call(this,this._active,this._eventPosition);if(!c)return;const h=this._size=tm(this,t),p=Object.assign({},c,this._size),g=nm(n,t,p),x=rm(t,p,g,n);(s._to!==x.x||a._to!==x.y)&&(this.xAlign=g.xAlign,this.yAlign=g.yAlign,this.width=h.width,this.height=h.height,this.caretX=c.x,this.caretY=c.y,this._resolveAnimations().update(this,x))}}_willRender(){return!!this.opacity}draw(t){const n=this.options.setContext(this.getContext());let r=this.opacity;if(!r)return;this._updateAnimationTarget(n);const s={width:this.width,height:this.height},a={x:this.x,y:this.y};r=Math.abs(r)<.001?0:r;const c=pr(n.padding),h=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;n.enabled&&h&&(t.save(),t.globalAlpha=r,this.drawBackground(a,t,s,n),pw(t,n.textDirection),a.y+=c.top,this.drawTitle(a,t,n),this.drawBody(a,t,n),this.drawFooter(a,t,n),mw(t,n.textDirection),t.restore())}getActiveElements(){return this._active||[]}setActiveElements(t,n){const r=this._active,s=t.map(({datasetIndex:h,index:p})=>{const g=this.chart.getDatasetMeta(h);if(!g)throw new Error("Cannot find a dataset at index "+h);return{datasetIndex:h,element:g.data[p],index:p}}),a=!ru(r,s),c=this._positionChanged(s,n);(a||c)&&(this._active=s,this._eventPosition=n,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(t,n,r=!0){if(n&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const s=this.options,a=this._active||[],c=this._getActiveElements(t,a,n,r),h=this._positionChanged(c,t),p=n||!ru(c,a)||h;return p&&(this._active=c,(s.enabled||s.external)&&(this._eventPosition={x:t.x,y:t.y},this.update(!0,n))),p}_getActiveElements(t,n,r,s){const a=this.options;if(t.type==="mouseout")return[];if(!s)return n.filter(h=>this.chart.data.datasets[h.datasetIndex]&&this.chart.getDatasetMeta(h.datasetIndex).controller.getParsed(h.index)!==void 0);const c=this.chart.getElementsAtEventForMode(t,a.mode,a,r);return a.reverse&&c.reverse(),c}_positionChanged(t,n){const{caretX:r,caretY:s,options:a}=this,c=fa[a.position].call(this,t,n);return c!==!1&&(r!==c.x||s!==c.y)}}_e(Sh,"positioners",fa);var nT={id:"tooltip",_element:Sh,positioners:fa,afterInit(e,t,n){n&&(e.tooltip=new Sh({chart:e,options:n}))},beforeUpdate(e,t,n){e.tooltip&&e.tooltip.initialize(n)},reset(e,t,n){e.tooltip&&e.tooltip.initialize(n)},afterDraw(e){const t=e.tooltip;if(t&&t._willRender()){const n={tooltip:t};if(e.notifyPlugins("beforeTooltipDraw",{...n,cancelable:!0})===!1)return;t.draw(e.ctx),e.notifyPlugins("afterTooltipDraw",n)}},afterEvent(e,t){if(e.tooltip){const n=t.replay;e.tooltip.handleEvent(t.event,n,t.inChartArea)&&(t.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(e,t)=>t.bodyFont.size,boxWidth:(e,t)=>t.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:Nw},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:e=>e!=="filter"&&e!=="itemSort"&&e!=="external",_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]};const Qu={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},yn=Object.keys(Qu);function om(e,t){return e-t}function am(e,t){if(tn(t))return null;const n=e._adapter,{parser:r,round:s,isoWeekday:a}=e._parseOpts;let c=t;return typeof r=="function"&&(c=r(c)),Jr(c)||(c=typeof r=="string"?n.parse(c,r):n.parse(c)),c===null?null:(s&&(c=s==="week"&&(au(a)||a===!0)?n.startOf(c,"isoWeek",a):n.startOf(c,s)),+c)}function lm(e,t,n,r){const s=yn.length;for(let a=yn.indexOf(e);a<s-1;++a){const c=Qu[yn[a]],h=c.steps?c.steps:Number.MAX_SAFE_INTEGER;if(c.common&&Math.ceil((n-t)/(h*c.size))<=r)return yn[a]}return yn[s-1]}function rT(e,t,n,r,s){for(let a=yn.length-1;a>=yn.indexOf(n);a--){const c=yn[a];if(Qu[c].common&&e._adapter.diff(s,r,c)>=t-1)return c}return yn[n?yn.indexOf(n):0]}function iT(e){for(let t=yn.indexOf(e)+1,n=yn.length;t<n;++t)if(Qu[yn[t]].common)return yn[t]}function cm(e,t,n){if(!n)e[t]=!0;else if(n.length){const{lo:r,hi:s}=U0(n,t),a=n[r]>=t?n[r]:n[s];e[a]=!0}}function sT(e,t,n,r){const s=e._adapter,a=+s.startOf(t[0].value,r),c=t[t.length-1].value;let h,p;for(h=a;h<=c;h=+s.add(h,1,r))p=n[h],p>=0&&(t[p].major=!0);return t}function um(e,t,n){const r=[],s={},a=t.length;let c,h;for(c=0;c<a;++c)h=t[c],s[h]=c,r.push({value:h,major:!1});return a===0||!n?r:sT(e,r,s,n)}class hu extends Gu{constructor(t){super(t),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(t,n={}){const r=t.time||(t.time={}),s=this._adapter=new N8._date(t.adapters.date);s.init(n),Aa(r.displayFormats,s.formats()),this._parseOpts={parser:r.parser,round:r.round,isoWeekday:r.isoWeekday},super.init(t),this._normalized=n.normalized}parse(t,n){return t===void 0?null:am(this,t)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const t=this.options,n=this._adapter,r=t.time.unit||"day";let{min:s,max:a,minDefined:c,maxDefined:h}=this.getUserBounds();function p(g){!c&&!isNaN(g.min)&&(s=Math.min(s,g.min)),!h&&!isNaN(g.max)&&(a=Math.max(a,g.max))}(!c||!h)&&(p(this._getLabelBounds()),(t.bounds!=="ticks"||t.ticks.source!=="labels")&&p(this.getMinMax(!1))),s=Jr(s)&&!isNaN(s)?s:+n.startOf(Date.now(),r),a=Jr(a)&&!isNaN(a)?a:+n.endOf(Date.now(),r)+1,this.min=Math.min(s,a-1),this.max=Math.max(s+1,a)}_getLabelBounds(){const t=this.getLabelTimestamps();let n=Number.POSITIVE_INFINITY,r=Number.NEGATIVE_INFINITY;return t.length&&(n=t[0],r=t[t.length-1]),{min:n,max:r}}buildTicks(){const t=this.options,n=t.time,r=t.ticks,s=r.source==="labels"?this.getLabelTimestamps():this._generate();t.bounds==="ticks"&&s.length&&(this.min=this._userMin||s[0],this.max=this._userMax||s[s.length-1]);const a=this.min,c=this.max,h=S_(s,a,c);return this._unit=n.unit||(r.autoSkip?lm(n.minUnit,this.min,this.max,this._getLabelCapacity(a)):rT(this,h.length,n.minUnit,this.min,this.max)),this._majorUnit=!r.major.enabled||this._unit==="year"?void 0:iT(this._unit),this.initOffsets(s),t.reverse&&h.reverse(),um(this,h,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(t=>+t.value))}initOffsets(t=[]){let n=0,r=0,s,a;this.options.offset&&t.length&&(s=this.getDecimalForValue(t[0]),t.length===1?n=1-s:n=(this.getDecimalForValue(t[1])-s)/2,a=this.getDecimalForValue(t[t.length-1]),t.length===1?r=a:r=(a-this.getDecimalForValue(t[t.length-2]))/2);const c=t.length<3?.5:.25;n=$n(n,0,c),r=$n(r,0,c),this._offsets={start:n,end:r,factor:1/(n+1+r)}}_generate(){const t=this._adapter,n=this.min,r=this.max,s=this.options,a=s.time,c=a.unit||lm(a.minUnit,n,r,this._getLabelCapacity(n)),h=Ve(s.ticks.stepSize,1),p=c==="week"?a.isoWeekday:!1,g=au(p)||p===!0,x={};let w=n,E,S;if(g&&(w=+t.startOf(w,"isoWeek",p)),w=+t.startOf(w,g?"day":c),t.diff(r,n,c)>1e5*h)throw new Error(n+" and "+r+" are too far apart with stepSize of "+h+" "+c);const v=s.ticks.source==="data"&&this.getDataTimestamps();for(E=w,S=0;E<r;E=+t.add(E,h,c),S++)cm(x,E,v);return(E===r||s.bounds==="ticks"||S===1)&&cm(x,E,v),Object.keys(x).sort(om).map(R=>+R)}getLabelForValue(t){const n=this._adapter,r=this.options.time;return r.tooltipFormat?n.format(t,r.tooltipFormat):n.format(t,r.displayFormats.datetime)}format(t,n){const s=this.options.time.displayFormats,a=this._unit,c=n||s[a];return this._adapter.format(t,c)}_tickFormatFunction(t,n,r,s){const a=this.options,c=a.ticks.callback;if(c)return rt(c,[t,n,r],this);const h=a.time.displayFormats,p=this._unit,g=this._majorUnit,x=p&&h[p],w=g&&h[g],E=r[n],S=g&&w&&E&&E.major;return this._adapter.format(t,s||(S?w:x))}generateTickLabels(t){let n,r,s;for(n=0,r=t.length;n<r;++n)s=t[n],s.label=this._tickFormatFunction(s.value,n,t)}getDecimalForValue(t){return t===null?NaN:(t-this.min)/(this.max-this.min)}getPixelForValue(t){const n=this._offsets,r=this.getDecimalForValue(t);return this.getPixelForDecimal((n.start+r)*n.factor)}getValueForPixel(t){const n=this._offsets,r=this.getDecimalForPixel(t)/n.factor-n.end;return this.min+r*(this.max-this.min)}_getLabelSize(t){const n=this.options.ticks,r=this.ctx.measureText(t).width,s=ls(this.isHorizontal()?n.maxRotation:n.minRotation),a=Math.cos(s),c=Math.sin(s),h=this._resolveTickFontOptions(0).size;return{w:r*a+h*c,h:r*c+h*a}}_getLabelCapacity(t){const n=this.options.time,r=n.displayFormats,s=r[n.unit]||r.millisecond,a=this._tickFormatFunction(t,0,um(this,[t],this._majorUnit),s),c=this._getLabelSize(a),h=Math.floor(this.isHorizontal()?this.width/c.w:this.height/c.h)-1;return h>0?h:1}getDataTimestamps(){let t=this._cache.data||[],n,r;if(t.length)return t;const s=this.getMatchingVisibleMetas();if(this._normalized&&s.length)return this._cache.data=s[0].controller.getAllParsedValues(this);for(n=0,r=s.length;n<r;++n)t=t.concat(s[n].controller.getAllParsedValues(this));return this._cache.data=this.normalize(t)}getLabelTimestamps(){const t=this._cache.labels||[];let n,r;if(t.length)return t;const s=this.getLabels();for(n=0,r=s.length;n<r;++n)t.push(am(this,s[n]));return this._cache.labels=this._normalized?t:this.normalize(t)}normalize(t){return __(t.sort(om))}}_e(hu,"id","time"),_e(hu,"defaults",{bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}});function rc(e,t,n){let r=0,s=e.length-1,a,c,h,p;n?(t>=e[r].pos&&t<=e[s].pos&&({lo:r,hi:s}=yh(e,"pos",t)),{pos:a,time:h}=e[r],{pos:c,time:p}=e[s]):(t>=e[r].time&&t<=e[s].time&&({lo:r,hi:s}=yh(e,"time",t)),{time:a,pos:h}=e[r],{time:c,pos:p}=e[s]);const g=c-a;return g?h+(p-h)*(t-a)/g:h}class fm extends hu{constructor(t){super(t),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const t=this._getTimestampsForTable(),n=this._table=this.buildLookupTable(t);this._minPos=rc(n,this.min),this._tableRange=rc(n,this.max)-this._minPos,super.initOffsets(t)}buildLookupTable(t){const{min:n,max:r}=this,s=[],a=[];let c,h,p,g,x;for(c=0,h=t.length;c<h;++c)g=t[c],g>=n&&g<=r&&s.push(g);if(s.length<2)return[{time:n,pos:0},{time:r,pos:1}];for(c=0,h=s.length;c<h;++c)x=s[c+1],p=s[c-1],g=s[c],Math.round((x+p)/2)!==g&&a.push({time:g,pos:c/(h-1)});return a}_generate(){const t=this.min,n=this.max;let r=super.getDataTimestamps();return(!r.includes(t)||!r.length)&&r.splice(0,0,t),(!r.includes(n)||r.length===1)&&r.push(n),r.sort((s,a)=>s-a)}_getTimestampsForTable(){let t=this._cache.all||[];if(t.length)return t;const n=this.getDataTimestamps(),r=this.getLabelTimestamps();return n.length&&r.length?t=this.normalize(n.concat(r)):t=n.length?n:r,t=this._cache.all=t,t}getDecimalForValue(t){return(rc(this._table,t)-this._minPos)/this._tableRange}getValueForPixel(t){const n=this._offsets,r=this.getDecimalForPixel(t)/n.factor-n.end;return rc(this._table,r*this._tableRange+this._minPos,!0)}}_e(fm,"id","timeseries"),_e(fm,"defaults",hu.defaults);Qn.register(ua,nT,QI,Eh);const oT=async()=>{try{return(await Xe.get("/api/student/",{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}})).data}catch(e){throw console.error("Error fetching student data:",e),e}},aT=()=>{const[e,t]=U.useState(null),[n,r]=U.useState(!0),[s,a]=U.useState(null),[c,h]=U.useState("overall"),p=U.useRef(null),g=U.useRef(null),x=U.useRef(null),w=U.useRef(null),E=U.useRef(null),S=U.useRef(null),v=U.useRef(null),R=U.useRef(null),O=Ui(),M=()=>{O("/searchstudent")};U.useEffect(()=>{(async()=>{try{r(!0),a(null);try{const L=await oT();t(L)}catch{console.warn("Using fallback data for development")}}catch(L){a("Failed to load student data. Please try again later."),console.error("Error loading data:",L)}finally{r(!1)}})()},[]);const T=e?e[c]:{total:0,checkIn:0,notCheckIn:0,takenFood:0,notTakenFood:0,takenIcecream:0,notTakenIcecream:0,completedAll:0,missingAny:0};return U.useEffect(()=>{if(!e||n)return;const N={checkIn:{yes:"rgba(34, 197, 94, 0.8)",no:"rgba(239, 68, 68, 0.8)"},food:{yes:"rgba(245, 158, 11, 0.8)",no:"rgba(156, 163, 175, 0.8)"},iceCream:{yes:"rgba(59, 130, 246, 0.8)",no:"rgba(156, 163, 175, 0.8)"},completion:{yes:"rgba(168, 85, 247, 0.8)",no:"rgba(156, 163, 175, 0.8)"}},L={responsive:!0,maintainAspectRatio:!1,plugins:{legend:{position:"bottom",labels:{boxWidth:12,padding:15,font:{size:10}}},tooltip:{callbacks:{label:function(z){const Y=z.label||"",F=z.raw||0,H=Math.round(F/T.total*100);return`${Y}: ${F} (${H}%)`}}}}};if(p.current){E.current&&E.current.destroy();const z={labels:["Checked In","Not Checked In"],datasets:[{data:[T.checkIn,T.notCheckIn],backgroundColor:[N.checkIn.yes,N.checkIn.no],borderWidth:1}]};E.current=new Qn(p.current,{type:"pie",data:z,options:L})}if(g.current){S.current&&S.current.destroy();const z={labels:["Food Taken","Food Not Taken"],datasets:[{data:[T.takenFood,T.notTakenFood],backgroundColor:[N.food.yes,N.food.no],borderWidth:1}]};S.current=new Qn(g.current,{type:"pie",data:z,options:L})}if(x.current){v.current&&v.current.destroy();const z={labels:["Ice Cream Taken","Ice Cream Not Taken"],datasets:[{data:[T.takenIcecream,T.notTakenIcecream],backgroundColor:[N.iceCream.yes,N.iceCream.no],borderWidth:1}]};v.current=new Qn(x.current,{type:"pie",data:z,options:L})}if(w.current){R.current&&R.current.destroy();const z={labels:["Completed All","Missing Any"],datasets:[{data:[T.completedAll,T.missingAny],backgroundColor:[N.completion.yes,N.completion.no],borderWidth:1}]};R.current=new Qn(w.current,{type:"pie",data:z,options:L})}return()=>{E.current&&E.current.destroy(),S.current&&S.current.destroy(),v.current&&v.current.destroy(),R.current&&R.current.destroy()}},[c,T,e,n]),n?A.jsxs("div",{className:"flex flex-col h-screen bg-gray-100 items-center justify-center",children:[A.jsx(Ay,{size:48,className:"text-blue-600 animate-spin mb-4"}),A.jsx("p",{className:"text-gray-600",children:"Loading student data..."})]}):s?A.jsxs("div",{className:"flex flex-col h-screen bg-gray-100 items-center justify-center p-4",children:[A.jsxs("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded-md mb-4 max-w-md w-full",children:[A.jsx("p",{className:"font-bold mb-1",children:"Error"}),A.jsx("p",{children:s})]}),A.jsx("button",{onClick:()=>window.location.reload(),className:"bg-blue-600 text-white px-4 py-2 rounded-md",children:"Retry"})]}):A.jsxs("div",{className:"flex flex-col h-screen bg-gray-100",children:[A.jsxs("div",{className:"bg-blue-600 text-white p-4 flex justify-between items-center shadow-md",children:[A.jsx("h1",{className:"text-xl font-bold",children:"Student Dashboard"}),A.jsxs("button",{onClick:M,className:"bg-white text-blue-600 px-3 py-2 rounded-md flex items-center shadow-sm",children:[A.jsx(lv,{size:18,className:"mr-2"}),A.jsx("span",{children:"Search Student"})]})]}),A.jsxs("div",{className:"flex bg-white shadow-sm",children:[A.jsx("button",{className:`flex-1 py-3 text-center ${c==="overall"?"border-b-2 border-blue-600 text-blue-600 font-medium":"text-gray-600"}`,onClick:()=>h("overall"),children:"Overall"}),A.jsx("button",{className:`flex-1 py-3 text-center ${c==="E3"?"border-b-2 border-blue-600 text-blue-600 font-medium":"text-gray-600"}`,onClick:()=>h("E3"),children:"E3"}),A.jsx("button",{className:`flex-1 py-3 text-center ${c==="E4"?"border-b-2 border-blue-600 text-blue-600 font-medium":"text-gray-600"}`,onClick:()=>h("E4"),children:"E4"})]}),A.jsx("div",{className:"p-4",children:A.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-4",children:[A.jsx("div",{className:"flex justify-between items-center mb-2",children:A.jsx("h3",{className:"text-sm font-medium text-gray-500",children:"Total Students"})}),A.jsx("p",{className:"text-2xl font-bold",children:T.total}),A.jsxs("p",{className:"text-xs text-gray-500",children:["Checked In: ",T.checkIn," (",Math.round(T.checkIn/T.total*100),"%)"]})]})}),A.jsxs("div",{className:"px-4 pb-4 grid grid-cols-2 gap-4",children:[A.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-3",children:[A.jsx("h3",{className:"text-sm font-medium text-gray-600 mb-2",children:"Check-in Status"}),A.jsx("div",{className:"h-32",children:A.jsx("canvas",{ref:p})})]}),A.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-3",children:[A.jsx("h3",{className:"text-sm font-medium text-gray-600 mb-2",children:"Food Status"}),A.jsx("div",{className:"h-32",children:A.jsx("canvas",{ref:g})})]}),A.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-3",children:[A.jsx("h3",{className:"text-sm font-medium text-gray-600 mb-2",children:"Ice Cream Status"}),A.jsx("div",{className:"h-32",children:A.jsx("canvas",{ref:x})})]}),A.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-3",children:[A.jsx("h3",{className:"text-sm font-medium text-gray-600 mb-2",children:"Completion Status"}),A.jsx("div",{className:"h-32",children:A.jsx("canvas",{ref:w})})]})]})]})},dm=({element:e})=>{const{isAuthenticated:t}=bo(n=>n.auth);return t?e:A.jsx(ol,{to:"/login",replace:!0})},lT=()=>{const e=bo(c=>c.auth.user),[t,n]=wt.useState(!0),r=T0();U.useEffect(()=>{console.log(e),n(!!e)},[e,r]);const s=Ui(),a=()=>{t?(r(Cy()),qn.success("Logged out successfully")):s("/login")};return A.jsxs("div",{className:"flex flex-col w-full min-h-screen bg-gradient-to-b from-blue-50 to-indigo-100",children:[A.jsxs("header",{className:"p-4 flex items-center justify-between",children:[A.jsxs("div",{className:"flex items-center",children:[A.jsx(dv,{className:"w-7 h-7 text-indigo-600 mr-2"}),A.jsx("h1",{className:"text-2xl sm:text-3xl font-bold text-indigo-800",children:"Yaadein"})]}),A.jsx("button",{onClick:a,className:"flex items-center gap-1 px-3 py-2 rounded-lg bg-white shadow-sm hover:shadow-md transition-all text-sm",children:t?A.jsxs(A.Fragment,{children:[A.jsx(av,{className:"w-4 h-4 text-indigo-600"}),A.jsx("span",{className:"text-indigo-600",children:"Logout"})]}):A.jsxs(A.Fragment,{children:[A.jsx(Sy,{className:"w-4 h-4 text-indigo-600"}),A.jsx("span",{className:"text-indigo-600",children:"Sign In"})]})})]}),A.jsx("div",{className:"text-center mb-2",children:A.jsx("p",{className:"text-gray-600 text-sm",children:"Food Token Management System"})}),A.jsxs("main",{className:"flex flex-col flex-1 items-center justify-center p-4",children:[A.jsxs("div",{className:"w-full max-w-md bg-white rounded-2xl shadow-lg overflow-hidden",children:[A.jsxs("div",{className:"bg-indigo-600 p-5 text-white text-center",children:[A.jsx("h2",{className:"text-xl font-semibold",children:"Welcome to Yaadein"}),A.jsx("p",{className:"text-indigo-100 mt-1 text-sm",children:"Select an option to continue"})]}),A.jsxs("div",{className:"p-5 space-y-4",children:[e&&A.jsxs(A.Fragment,{children:[(e.category==="Admin"||e.category==="CheckIn")&&A.jsx(Zn,{to:"/checkin",className:"block w-full",children:A.jsxs("button",{className:"flex items-center justify-between w-full p-4 bg-blue-600 text-white rounded-xl hover:bg-blue-700 transition-all shadow-sm hover:shadow-md",children:[A.jsx("span",{className:"font-medium",children:"Check In"}),A.jsx(So,{className:"w-5 h-5"})]})}),(e.category==="Admin"||e.category==="Food")&&A.jsx(Zn,{to:"/scanfood",className:"block w-full",children:A.jsxs("button",{className:"flex items-center justify-between w-full p-4 bg-blue-600 text-white rounded-xl hover:bg-blue-700 transition-all shadow-sm hover:shadow-md",children:[A.jsx("span",{className:"font-medium",children:"Scan Food"}),A.jsx(vy,{className:"w-5 h-5"})]})}),(e.category==="Admin"||e.category==="IceCream")&&A.jsx(Zn,{to:"/scanicecream",className:"block w-full",children:A.jsxs("button",{className:"flex items-center justify-between w-full p-4 bg-blue-600 text-white rounded-xl hover:bg-blue-700 transition-all shadow-sm hover:shadow-md",children:[A.jsx("span",{className:"font-medium",children:"Scan Ice Cream"}),A.jsx(by,{className:"w-5 h-5"})]})})]}),A.jsxs("div",{className:"relative",children:[A.jsx("div",{className:"absolute inset-0 flex items-center",children:A.jsx("div",{className:"w-full border-t border-gray-200"})}),A.jsx("div",{className:"relative flex justify-center text-sm",children:A.jsx("span",{className:"px-2 bg-white text-gray-500",children:"or"})})]}),e&&e.category==="Admin"&&A.jsx(Zn,{to:"/adminDashBoard",className:"block w-full",children:A.jsxs("button",{className:"flex items-center justify-between w-full p-4 bg-indigo-600 text-white rounded-xl hover:bg-indigo-700 transition-all shadow-sm hover:shadow-md",children:[A.jsx("span",{className:"font-medium",children:"Admin DashBoard"}),A.jsx(cv,{className:"w-5 h-5"})]})}),A.jsx(Zn,{to:"/dashboard",className:"block w-full",children:A.jsxs("button",{className:"flex items-center justify-between w-full p-4 bg-indigo-600 text-white rounded-xl hover:bg-indigo-700 transition-all shadow-sm hover:shadow-md",children:[A.jsx("span",{className:"font-medium",children:"View Dashboard"}),A.jsx(rv,{className:"w-5 h-5"})]})})]})]}),A.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3 w-full max-w-md mt-5",children:[A.jsxs("div",{className:"bg-white p-4 rounded-lg shadow-md",children:[A.jsx("div",{className:"text-blue-600 text-base font-semibold mb-1",children:"Scanner"}),A.jsx("p",{className:"text-gray-600 text-sm",children:"Scan QR codes to validate food tokens"})]}),A.jsxs("div",{className:"bg-white p-4 rounded-lg shadow-md",children:[A.jsx("div",{className:"text-indigo-600 text-base font-semibold mb-1",children:"Dashboard"}),A.jsx("p",{className:"text-gray-600 text-sm",children:"View statistics and manage tokens"})]})]})]}),A.jsx("footer",{className:"p-4 text-center text-gray-600 text-sm",children:A.jsxs("p",{children:["© ",new Date().getFullYear()," Yaadein Food Token System"]})})]})},cT=()=>{const[e,t]=U.useState(""),[n,r]=U.useState(""),[s,a]=U.useState(""),[c,h]=U.useState("CheckIn"),[p,g]=U.useState(!1);function x(E){if(!E.endsWith("@rguktsklm.ac.in"))return!1;const v=E.split("@")[0],R=/^rs20\d{4}$/,O=/^s19\d{4}$/;return R.test(v)||O.test(v)}const w=async E=>{var S,v;if(E.preventDefault(),n!==s){qn.error("Passwords do not match");return}if(!x(e)){qn.error("Enter Valid email");return}g(!0);try{await Xe.post("/api/auth/signup",{email:e,password:n,category:c},{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}}),t(""),r(""),h("CheckIn"),a(""),qn.success("Successfully Added Verifier!")}catch(R){const O=((v=(S=R.response)==null?void 0:S.data)==null?void 0:v.message)||"Something went wrong. Please try again.";qn.error(O)}finally{g(!1)}};return A.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-100 py-12 px-4 sm:px-6 lg:px-8",children:A.jsxs("div",{className:"max-w-md w-full space-y-8 bg-white p-8 rounded-xl shadow-lg",children:[A.jsxs("div",{children:[A.jsx("div",{className:"flex justify-center",children:A.jsx(uv,{className:"h-12 w-12 text-indigo-600"})}),A.jsx("h2",{className:"mt-6 text-center text-3xl font-extrabold text-gray-900",children:"Add Verifiers"})]}),A.jsxs("form",{className:"mt-8 space-y-6",onSubmit:w,children:[A.jsxs("div",{className:"rounded-md shadow-sm space-y-4",children:[A.jsxs("div",{children:[A.jsx("label",{htmlFor:"email",className:"sr-only",children:"Email address"}),A.jsx("input",{id:"email",name:"email",type:"email",autoComplete:"email",required:!0,className:"appearance-none rounded-lg relative block w-full px-3 py-2 border border-gray-300 placeholder-gray-500 text-gray-900 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 focus:z-10 sm:text-sm",placeholder:"Email address",value:e,onChange:E=>t(E.target.value)})]}),A.jsxs("div",{children:[A.jsx("label",{htmlFor:"category",className:"sr-only",children:"Category"}),A.jsxs("select",{id:"category",name:"category",required:!0,className:"appearance-none rounded-lg relative block w-full px-3 py-2 border border-gray-300 text-gray-900 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 focus:z-10 sm:text-sm",value:c,onChange:E=>h(E.target.value),children:[A.jsx("option",{value:"CheckIn",children:"CheckIn"}),A.jsx("option",{value:"Food",children:"Food"}),A.jsx("option",{value:"IceCream",children:"IceCream"})]})]}),A.jsxs("div",{children:[A.jsx("label",{htmlFor:"password",className:"sr-only",children:"Password"}),A.jsx("input",{id:"password",name:"password",type:"password",autoComplete:"new-password",required:!0,className:"appearance-none rounded-lg relative block w-full px-3 py-2 border border-gray-300 placeholder-gray-500 text-gray-900 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 focus:z-10 sm:text-sm",placeholder:"Password",value:n,onChange:E=>r(E.target.value)})]}),A.jsxs("div",{children:[A.jsx("label",{htmlFor:"confirm-password",className:"sr-only",children:"Confirm Password"}),A.jsx("input",{id:"confirm-password",name:"confirm-password",type:"password",autoComplete:"new-password",required:!0,className:"appearance-none rounded-lg relative block w-full px-3 py-2 border border-gray-300 placeholder-gray-500 text-gray-900 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 focus:z-10 sm:text-sm",placeholder:"Confirm Password",value:s,onChange:E=>a(E.target.value)})]})]}),A.jsx("div",{children:A.jsx("button",{type:"submit",disabled:p,className:"group relative w-full flex justify-center py-2 px-4 border border-transparent text-sm font-medium rounded-md text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 disabled:opacity-50 disabled:cursor-not-allowed",children:p?"Adding Verifiers...":"Add "})})]})]})})};var fe;(function(e){e[e.QR_CODE=0]="QR_CODE",e[e.AZTEC=1]="AZTEC",e[e.CODABAR=2]="CODABAR",e[e.CODE_39=3]="CODE_39",e[e.CODE_93=4]="CODE_93",e[e.CODE_128=5]="CODE_128",e[e.DATA_MATRIX=6]="DATA_MATRIX",e[e.MAXICODE=7]="MAXICODE",e[e.ITF=8]="ITF",e[e.EAN_13=9]="EAN_13",e[e.EAN_8=10]="EAN_8",e[e.PDF_417=11]="PDF_417",e[e.RSS_14=12]="RSS_14",e[e.RSS_EXPANDED=13]="RSS_EXPANDED",e[e.UPC_A=14]="UPC_A",e[e.UPC_E=15]="UPC_E",e[e.UPC_EAN_EXTENSION=16]="UPC_EAN_EXTENSION"})(fe||(fe={}));var hm=new Map([[fe.QR_CODE,"QR_CODE"],[fe.AZTEC,"AZTEC"],[fe.CODABAR,"CODABAR"],[fe.CODE_39,"CODE_39"],[fe.CODE_93,"CODE_93"],[fe.CODE_128,"CODE_128"],[fe.DATA_MATRIX,"DATA_MATRIX"],[fe.MAXICODE,"MAXICODE"],[fe.ITF,"ITF"],[fe.EAN_13,"EAN_13"],[fe.EAN_8,"EAN_8"],[fe.PDF_417,"PDF_417"],[fe.RSS_14,"RSS_14"],[fe.RSS_EXPANDED,"RSS_EXPANDED"],[fe.UPC_A,"UPC_A"],[fe.UPC_E,"UPC_E"],[fe.UPC_EAN_EXTENSION,"UPC_EAN_EXTENSION"]]),gm;(function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.URL=1]="URL"})(gm||(gm={}));function uT(e){return Object.values(fe).includes(e)}var Li;(function(e){e[e.SCAN_TYPE_CAMERA=0]="SCAN_TYPE_CAMERA",e[e.SCAN_TYPE_FILE=1]="SCAN_TYPE_FILE"})(Li||(Li={}));var lr=function(){function e(){}return e.GITHUB_PROJECT_URL="https://github.com/mebjas/html5-qrcode",e.SCAN_DEFAULT_FPS=2,e.DEFAULT_DISABLE_FLIP=!1,e.DEFAULT_REMEMBER_LAST_CAMERA_USED=!0,e.DEFAULT_SUPPORTED_SCAN_TYPE=[Li.SCAN_TYPE_CAMERA,Li.SCAN_TYPE_FILE],e}(),Mw=function(){function e(t,n){this.format=t,this.formatName=n}return e.prototype.toString=function(){return this.formatName},e.create=function(t){if(!hm.has(t))throw"".concat(t," not in html5QrcodeSupportedFormatsTextMap");return new e(t,hm.get(t))},e}(),pm=function(){function e(){}return e.createFromText=function(t){var n={text:t};return{decodedText:t,result:n}},e.createFromQrcodeResult=function(t){return{decodedText:t.text,result:t}},e}(),vh;(function(e){e[e.UNKWOWN_ERROR=0]="UNKWOWN_ERROR",e[e.IMPLEMENTATION_ERROR=1]="IMPLEMENTATION_ERROR",e[e.NO_CODE_FOUND_ERROR=2]="NO_CODE_FOUND_ERROR"})(vh||(vh={}));var Rw=function(){function e(){}return e.createFrom=function(t){return{errorMessage:t,type:vh.UNKWOWN_ERROR}},e}(),Ow=function(){function e(t){this.verbose=t}return e.prototype.log=function(t){this.verbose&&console.log(t)},e.prototype.warn=function(t){this.verbose&&console.warn(t)},e.prototype.logError=function(t,n){(this.verbose||n===!0)&&console.error(t)},e.prototype.logErrors=function(t){if(t.length===0)throw"Logger#logError called without arguments";this.verbose&&console.error(t)},e}();function Mr(e){return typeof e>"u"||e===null}function fT(e,t,n){return e>n?n:e<t?t:e}var $s=function(){function e(){}return e.codeParseError=function(t){return"QR code parse error, error = ".concat(t)},e.errorGettingUserMedia=function(t){return"Error getting userMedia, error = ".concat(t)},e.onlyDeviceSupportedError=function(){return"The device doesn't support navigator.mediaDevices , only supported cameraIdOrConfig in this case is deviceId parameter (string)."},e.cameraStreamingNotSupported=function(){return"Camera streaming not supported by the browser."},e.unableToQuerySupportedDevices=function(){return"Unable to query supported devices, unknown error."},e.insecureContextCameraQueryError=function(){return"Camera access is only supported in secure context like https or localhost."},e.scannerPaused=function(){return"Scanner paused"},e}(),He=function(){function e(){}return e.scanningStatus=function(){return"Scanning"},e.idleStatus=function(){return"Idle"},e.errorStatus=function(){return"Error"},e.permissionStatus=function(){return"Permission"},e.noCameraFoundErrorStatus=function(){return"No Cameras"},e.lastMatch=function(t){return"Last Match: ".concat(t)},e.codeScannerTitle=function(){return"Code Scanner"},e.cameraPermissionTitle=function(){return"Request Camera Permissions"},e.cameraPermissionRequesting=function(){return"Requesting camera permissions..."},e.noCameraFound=function(){return"No camera found"},e.scanButtonStopScanningText=function(){return"Stop Scanning"},e.scanButtonStartScanningText=function(){return"Start Scanning"},e.torchOnButton=function(){return"Switch On Torch"},e.torchOffButton=function(){return"Switch Off Torch"},e.torchOnFailedMessage=function(){return"Failed to turn on torch"},e.torchOffFailedMessage=function(){return"Failed to turn off torch"},e.scanButtonScanningStarting=function(){return"Launching Camera..."},e.textIfCameraScanSelected=function(){return"Scan an Image File"},e.textIfFileScanSelected=function(){return"Scan using camera directly"},e.selectCamera=function(){return"Select Camera"},e.fileSelectionChooseImage=function(){return"Choose Image"},e.fileSelectionChooseAnother=function(){return"Choose Another"},e.fileSelectionNoImageSelected=function(){return"No image choosen"},e.anonymousCameraPrefix=function(){return"Anonymous Camera"},e.dragAndDropMessage=function(){return"Or drop an image to scan"},e.dragAndDropMessageOnlyImages=function(){return"Or drop an image to scan (other files not supported)"},e.zoom=function(){return"zoom"},e.loadingImage=function(){return"Loading image..."},e.cameraScanAltText=function(){return"Camera based scan"},e.fileScanAltText=function(){return"Fule based scan"},e}(),mm=function(){function e(){}return e.poweredBy=function(){return"Powered by "},e.reportIssues=function(){return"Report issues"},e}(),Dw=function(){function e(){}return e.isMediaStreamConstraintsValid=function(t,n){if(typeof t!="object"){var r=typeof t;return n.logError("videoConstraints should be of type object, the "+"object passed is of type ".concat(r,"."),!0),!1}for(var s=["autoGainControl","channelCount","echoCancellation","latency","noiseSuppression","sampleRate","sampleSize","volume"],a=new Set(s),c=Object.keys(t),h=0,p=c;h<p.length;h++){var g=p[h];if(a.has(g))return n.logError("".concat(g," is not supported videoConstaints."),!0),!1}return!0},e}(),_h={exports:{}};(function(e,t){(function(n,r){r(t)})(zo,function(n){function r(_){return _==null}var s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(_,i){_.__proto__=i}||function(_,i){for(var o in i)i.hasOwnProperty(o)&&(_[o]=i[o])};function a(_,i){s(_,i);function o(){this.constructor=_}_.prototype=i===null?Object.create(i):(o.prototype=i.prototype,new o)}function c(_,i){var o=Object.setPrototypeOf;o?o(_,i):_.__proto__=i}function h(_,i){i===void 0&&(i=_.constructor);var o=Error.captureStackTrace;o&&o(_,i)}var p=function(_){a(i,_);function i(o){var l=this.constructor,u=_.call(this,o)||this;return Object.defineProperty(u,"name",{value:l.name,enumerable:!1}),c(u,l.prototype),h(u),u}return i}(Error);class g extends p{constructor(i=void 0){super(i),this.message=i}getKind(){return this.constructor.kind}}g.kind="Exception";class x extends g{}x.kind="ArgumentException";class w extends g{}w.kind="IllegalArgumentException";class E{constructor(i){if(this.binarizer=i,i===null)throw new w("Binarizer must be non-null.")}getWidth(){return this.binarizer.getWidth()}getHeight(){return this.binarizer.getHeight()}getBlackRow(i,o){return this.binarizer.getBlackRow(i,o)}getBlackMatrix(){return(this.matrix===null||this.matrix===void 0)&&(this.matrix=this.binarizer.getBlackMatrix()),this.matrix}isCropSupported(){return this.binarizer.getLuminanceSource().isCropSupported()}crop(i,o,l,u){const f=this.binarizer.getLuminanceSource().crop(i,o,l,u);return new E(this.binarizer.createBinarizer(f))}isRotateSupported(){return this.binarizer.getLuminanceSource().isRotateSupported()}rotateCounterClockwise(){const i=this.binarizer.getLuminanceSource().rotateCounterClockwise();return new E(this.binarizer.createBinarizer(i))}rotateCounterClockwise45(){const i=this.binarizer.getLuminanceSource().rotateCounterClockwise45();return new E(this.binarizer.createBinarizer(i))}toString(){try{return this.getBlackMatrix().toString()}catch{return""}}}class S extends g{static getChecksumInstance(){return new S}}S.kind="ChecksumException";class v{constructor(i){this.source=i}getLuminanceSource(){return this.source}getWidth(){return this.source.getWidth()}getHeight(){return this.source.getHeight()}}class R{static arraycopy(i,o,l,u,f){for(;f--;)l[u++]=i[o++]}static currentTimeMillis(){return Date.now()}}class O extends g{}O.kind="IndexOutOfBoundsException";class M extends O{constructor(i=void 0,o=void 0){super(o),this.index=i,this.message=o}}M.kind="ArrayIndexOutOfBoundsException";class T{static fill(i,o){for(let l=0,u=i.length;l<u;l++)i[l]=o}static fillWithin(i,o,l,u){T.rangeCheck(i.length,o,l);for(let f=o;f<l;f++)i[f]=u}static rangeCheck(i,o,l){if(o>l)throw new w("fromIndex("+o+") > toIndex("+l+")");if(o<0)throw new M(o);if(l>i)throw new M(l)}static asList(...i){return i}static create(i,o,l){return Array.from({length:i}).map(f=>Array.from({length:o}).fill(l))}static createInt32Array(i,o,l){return Array.from({length:i}).map(f=>Int32Array.from({length:o}).fill(l))}static equals(i,o){if(!i||!o||!i.length||!o.length||i.length!==o.length)return!1;for(let l=0,u=i.length;l<u;l++)if(i[l]!==o[l])return!1;return!0}static hashCode(i){if(i===null)return 0;let o=1;for(const l of i)o=31*o+l;return o}static fillUint8Array(i,o){for(let l=0;l!==i.length;l++)i[l]=o}static copyOf(i,o){return i.slice(0,o)}static copyOfUint8Array(i,o){if(i.length<=o){const l=new Uint8Array(o);return l.set(i),l}return i.slice(0,o)}static copyOfRange(i,o,l){const u=l-o,f=new Int32Array(u);return R.arraycopy(i,o,f,0,u),f}static binarySearch(i,o,l){l===void 0&&(l=T.numberComparator);let u=0,f=i.length-1;for(;u<=f;){const d=f+u>>1,m=l(o,i[d]);if(m>0)u=d+1;else if(m<0)f=d-1;else return d}return-u-1}static numberComparator(i,o){return i-o}}class N{static numberOfTrailingZeros(i){let o;if(i===0)return 32;let l=31;return o=i<<16,o!==0&&(l-=16,i=o),o=i<<8,o!==0&&(l-=8,i=o),o=i<<4,o!==0&&(l-=4,i=o),o=i<<2,o!==0&&(l-=2,i=o),l-(i<<1>>>31)}static numberOfLeadingZeros(i){if(i===0)return 32;let o=1;return i>>>16||(o+=16,i<<=16),i>>>24||(o+=8,i<<=8),i>>>28||(o+=4,i<<=4),i>>>30||(o+=2,i<<=2),o-=i>>>31,o}static toHexString(i){return i.toString(16)}static toBinaryString(i){return String(parseInt(String(i),2))}static bitCount(i){return i=i-(i>>>1&1431655765),i=(i&858993459)+(i>>>2&858993459),i=i+(i>>>4)&252645135,i=i+(i>>>8),i=i+(i>>>16),i&63}static truncDivision(i,o){return Math.trunc(i/o)}static parseInt(i,o=void 0){return parseInt(i,o)}}N.MIN_VALUE_32_BITS=-2147483648,N.MAX_VALUE=Number.MAX_SAFE_INTEGER;class L{constructor(i,o){i===void 0?(this.size=0,this.bits=new Int32Array(1)):(this.size=i,o==null?this.bits=L.makeArray(i):this.bits=o)}getSize(){return this.size}getSizeInBytes(){return Math.floor((this.size+7)/8)}ensureCapacity(i){if(i>this.bits.length*32){const o=L.makeArray(i);R.arraycopy(this.bits,0,o,0,this.bits.length),this.bits=o}}get(i){return(this.bits[Math.floor(i/32)]&1<<(i&31))!==0}set(i){this.bits[Math.floor(i/32)]|=1<<(i&31)}flip(i){this.bits[Math.floor(i/32)]^=1<<(i&31)}getNextSet(i){const o=this.size;if(i>=o)return o;const l=this.bits;let u=Math.floor(i/32),f=l[u];f&=~((1<<(i&31))-1);const d=l.length;for(;f===0;){if(++u===d)return o;f=l[u]}const m=u*32+N.numberOfTrailingZeros(f);return m>o?o:m}getNextUnset(i){const o=this.size;if(i>=o)return o;const l=this.bits;let u=Math.floor(i/32),f=~l[u];f&=~((1<<(i&31))-1);const d=l.length;for(;f===0;){if(++u===d)return o;f=~l[u]}const m=u*32+N.numberOfTrailingZeros(f);return m>o?o:m}setBulk(i,o){this.bits[Math.floor(i/32)]=o}setRange(i,o){if(o<i||i<0||o>this.size)throw new w;if(o===i)return;o--;const l=Math.floor(i/32),u=Math.floor(o/32),f=this.bits;for(let d=l;d<=u;d++){const m=d>l?0:i&31,C=(2<<(d<u?31:o&31))-(1<<m);f[d]|=C}}clear(){const i=this.bits.length,o=this.bits;for(let l=0;l<i;l++)o[l]=0}isRange(i,o,l){if(o<i||i<0||o>this.size)throw new w;if(o===i)return!0;o--;const u=Math.floor(i/32),f=Math.floor(o/32),d=this.bits;for(let m=u;m<=f;m++){const y=m>u?0:i&31,b=(2<<(m<f?31:o&31))-(1<<y)&4294967295;if((d[m]&b)!==(l?b:0))return!1}return!0}appendBit(i){this.ensureCapacity(this.size+1),i&&(this.bits[Math.floor(this.size/32)]|=1<<(this.size&31)),this.size++}appendBits(i,o){if(o<0||o>32)throw new w("Num bits must be between 0 and 32");this.ensureCapacity(this.size+o);for(let l=o;l>0;l--)this.appendBit((i>>l-1&1)===1)}appendBitArray(i){const o=i.size;this.ensureCapacity(this.size+o);for(let l=0;l<o;l++)this.appendBit(i.get(l))}xor(i){if(this.size!==i.size)throw new w("Sizes don't match");const o=this.bits;for(let l=0,u=o.length;l<u;l++)o[l]^=i.bits[l]}toBytes(i,o,l,u){for(let f=0;f<u;f++){let d=0;for(let m=0;m<8;m++)this.get(i)&&(d|=1<<7-m),i++;o[l+f]=d}}getBitArray(){return this.bits}reverse(){const i=new Int32Array(this.bits.length),o=Math.floor((this.size-1)/32),l=o+1,u=this.bits;for(let f=0;f<l;f++){let d=u[f];d=d>>1&1431655765|(d&1431655765)<<1,d=d>>2&858993459|(d&858993459)<<2,d=d>>4&252645135|(d&252645135)<<4,d=d>>8&16711935|(d&16711935)<<8,d=d>>16&65535|(d&65535)<<16,i[o-f]=d}if(this.size!==l*32){const f=l*32-this.size;let d=i[0]>>>f;for(let m=1;m<l;m++){const y=i[m];d|=y<<32-f,i[m-1]=d,d=y>>>f}i[l-1]=d}this.bits=i}static makeArray(i){return new Int32Array(Math.floor((i+31)/32))}equals(i){if(!(i instanceof L))return!1;const o=i;return this.size===o.size&&T.equals(this.bits,o.bits)}hashCode(){return 31*this.size+T.hashCode(this.bits)}toString(){let i="";for(let o=0,l=this.size;o<l;o++)o&7||(i+=" "),i+=this.get(o)?"X":".";return i}clone(){return new L(this.size,this.bits.slice())}}var z;(function(_){_[_.OTHER=0]="OTHER",_[_.PURE_BARCODE=1]="PURE_BARCODE",_[_.POSSIBLE_FORMATS=2]="POSSIBLE_FORMATS",_[_.TRY_HARDER=3]="TRY_HARDER",_[_.CHARACTER_SET=4]="CHARACTER_SET",_[_.ALLOWED_LENGTHS=5]="ALLOWED_LENGTHS",_[_.ASSUME_CODE_39_CHECK_DIGIT=6]="ASSUME_CODE_39_CHECK_DIGIT",_[_.ASSUME_GS1=7]="ASSUME_GS1",_[_.RETURN_CODABAR_START_END=8]="RETURN_CODABAR_START_END",_[_.NEED_RESULT_POINT_CALLBACK=9]="NEED_RESULT_POINT_CALLBACK",_[_.ALLOWED_EAN_EXTENSIONS=10]="ALLOWED_EAN_EXTENSIONS"})(z||(z={}));var Y=z;class F extends g{static getFormatInstance(){return new F}}F.kind="FormatException";var H;(function(_){_[_.Cp437=0]="Cp437",_[_.ISO8859_1=1]="ISO8859_1",_[_.ISO8859_2=2]="ISO8859_2",_[_.ISO8859_3=3]="ISO8859_3",_[_.ISO8859_4=4]="ISO8859_4",_[_.ISO8859_5=5]="ISO8859_5",_[_.ISO8859_6=6]="ISO8859_6",_[_.ISO8859_7=7]="ISO8859_7",_[_.ISO8859_8=8]="ISO8859_8",_[_.ISO8859_9=9]="ISO8859_9",_[_.ISO8859_10=10]="ISO8859_10",_[_.ISO8859_11=11]="ISO8859_11",_[_.ISO8859_13=12]="ISO8859_13",_[_.ISO8859_14=13]="ISO8859_14",_[_.ISO8859_15=14]="ISO8859_15",_[_.ISO8859_16=15]="ISO8859_16",_[_.SJIS=16]="SJIS",_[_.Cp1250=17]="Cp1250",_[_.Cp1251=18]="Cp1251",_[_.Cp1252=19]="Cp1252",_[_.Cp1256=20]="Cp1256",_[_.UnicodeBigUnmarked=21]="UnicodeBigUnmarked",_[_.UTF8=22]="UTF8",_[_.ASCII=23]="ASCII",_[_.Big5=24]="Big5",_[_.GB18030=25]="GB18030",_[_.EUC_KR=26]="EUC_KR"})(H||(H={}));class G{constructor(i,o,l,...u){this.valueIdentifier=i,this.name=l,typeof o=="number"?this.values=Int32Array.from([o]):this.values=o,this.otherEncodingNames=u,G.VALUE_IDENTIFIER_TO_ECI.set(i,this),G.NAME_TO_ECI.set(l,this);const f=this.values;for(let d=0,m=f.length;d!==m;d++){const y=f[d];G.VALUES_TO_ECI.set(y,this)}for(const d of u)G.NAME_TO_ECI.set(d,this)}getValueIdentifier(){return this.valueIdentifier}getName(){return this.name}getValue(){return this.values[0]}static getCharacterSetECIByValue(i){if(i<0||i>=900)throw new F("incorect value");const o=G.VALUES_TO_ECI.get(i);if(o===void 0)throw new F("incorect value");return o}static getCharacterSetECIByName(i){const o=G.NAME_TO_ECI.get(i);if(o===void 0)throw new F("incorect value");return o}equals(i){if(!(i instanceof G))return!1;const o=i;return this.getName()===o.getName()}}G.VALUE_IDENTIFIER_TO_ECI=new Map,G.VALUES_TO_ECI=new Map,G.NAME_TO_ECI=new Map,G.Cp437=new G(H.Cp437,Int32Array.from([0,2]),"Cp437"),G.ISO8859_1=new G(H.ISO8859_1,Int32Array.from([1,3]),"ISO-8859-1","ISO88591","ISO8859_1"),G.ISO8859_2=new G(H.ISO8859_2,4,"ISO-8859-2","ISO88592","ISO8859_2"),G.ISO8859_3=new G(H.ISO8859_3,5,"ISO-8859-3","ISO88593","ISO8859_3"),G.ISO8859_4=new G(H.ISO8859_4,6,"ISO-8859-4","ISO88594","ISO8859_4"),G.ISO8859_5=new G(H.ISO8859_5,7,"ISO-8859-5","ISO88595","ISO8859_5"),G.ISO8859_6=new G(H.ISO8859_6,8,"ISO-8859-6","ISO88596","ISO8859_6"),G.ISO8859_7=new G(H.ISO8859_7,9,"ISO-8859-7","ISO88597","ISO8859_7"),G.ISO8859_8=new G(H.ISO8859_8,10,"ISO-8859-8","ISO88598","ISO8859_8"),G.ISO8859_9=new G(H.ISO8859_9,11,"ISO-8859-9","ISO88599","ISO8859_9"),G.ISO8859_10=new G(H.ISO8859_10,12,"ISO-8859-10","ISO885910","ISO8859_10"),G.ISO8859_11=new G(H.ISO8859_11,13,"ISO-8859-11","ISO885911","ISO8859_11"),G.ISO8859_13=new G(H.ISO8859_13,15,"ISO-8859-13","ISO885913","ISO8859_13"),G.ISO8859_14=new G(H.ISO8859_14,16,"ISO-8859-14","ISO885914","ISO8859_14"),G.ISO8859_15=new G(H.ISO8859_15,17,"ISO-8859-15","ISO885915","ISO8859_15"),G.ISO8859_16=new G(H.ISO8859_16,18,"ISO-8859-16","ISO885916","ISO8859_16"),G.SJIS=new G(H.SJIS,20,"SJIS","Shift_JIS"),G.Cp1250=new G(H.Cp1250,21,"Cp1250","windows-1250"),G.Cp1251=new G(H.Cp1251,22,"Cp1251","windows-1251"),G.Cp1252=new G(H.Cp1252,23,"Cp1252","windows-1252"),G.Cp1256=new G(H.Cp1256,24,"Cp1256","windows-1256"),G.UnicodeBigUnmarked=new G(H.UnicodeBigUnmarked,25,"UnicodeBigUnmarked","UTF-16BE","UnicodeBig"),G.UTF8=new G(H.UTF8,26,"UTF8","UTF-8"),G.ASCII=new G(H.ASCII,Int32Array.from([27,170]),"ASCII","US-ASCII"),G.Big5=new G(H.Big5,28,"Big5"),G.GB18030=new G(H.GB18030,29,"GB18030","GB2312","EUC_CN","GBK"),G.EUC_KR=new G(H.EUC_KR,30,"EUC_KR","EUC-KR");class re extends g{}re.kind="UnsupportedOperationException";class oe{static decode(i,o){const l=this.encodingName(o);return this.customDecoder?this.customDecoder(i,l):typeof TextDecoder>"u"||this.shouldDecodeOnFallback(l)?this.decodeFallback(i,l):new TextDecoder(l).decode(i)}static shouldDecodeOnFallback(i){return!oe.isBrowser()&&i==="ISO-8859-1"}static encode(i,o){const l=this.encodingName(o);return this.customEncoder?this.customEncoder(i,l):typeof TextEncoder>"u"?this.encodeFallback(i):new TextEncoder().encode(i)}static isBrowser(){return typeof window<"u"&&{}.toString.call(window)==="[object Window]"}static encodingName(i){return typeof i=="string"?i:i.getName()}static encodingCharacterSet(i){return i instanceof G?i:G.getCharacterSetECIByName(i)}static decodeFallback(i,o){const l=this.encodingCharacterSet(o);if(oe.isDecodeFallbackSupported(l)){let u="";for(let f=0,d=i.length;f<d;f++){let m=i[f].toString(16);m.length<2&&(m="0"+m),u+="%"+m}return decodeURIComponent(u)}if(l.equals(G.UnicodeBigUnmarked))return String.fromCharCode.apply(null,new Uint16Array(i.buffer));throw new re(`Encoding ${this.encodingName(o)} not supported by fallback.`)}static isDecodeFallbackSupported(i){return i.equals(G.UTF8)||i.equals(G.ISO8859_1)||i.equals(G.ASCII)}static encodeFallback(i){const l=btoa(unescape(encodeURIComponent(i))).split(""),u=[];for(let f=0;f<l.length;f++)u.push(l[f].charCodeAt(0));return new Uint8Array(u)}}class te{static castAsNonUtf8Char(i,o=null){const l=o?o.getName():this.ISO88591;return oe.decode(new Uint8Array([i]),l)}static guessEncoding(i,o){if(o!=null&&o.get(Y.CHARACTER_SET)!==void 0)return o.get(Y.CHARACTER_SET).toString();const l=i.length;let u=!0,f=!0,d=!0,m=0,y=0,C=0,b=0,I=0,D=0,P=0,B=0,j=0,V=0,Z=0;const ee=i.length>3&&i[0]===239&&i[1]===187&&i[2]===191;for(let ne=0;ne<l&&(u||f||d);ne++){const $=i[ne]&255;d&&(m>0?$&128?m--:d=!1:$&128&&($&64?(m++,$&32?(m++,$&16?(m++,$&8?d=!1:b++):C++):y++):d=!1)),u&&($>127&&$<160?u=!1:$>159&&($<192||$===215||$===247)&&Z++),f&&(I>0?$<64||$===127||$>252?f=!1:I--:$===128||$===160||$>239?f=!1:$>160&&$<224?(D++,B=0,P++,P>j&&(j=P)):$>127?(I++,P=0,B++,B>V&&(V=B)):(P=0,B=0))}return d&&m>0&&(d=!1),f&&I>0&&(f=!1),d&&(ee||y+C+b>0)?te.UTF8:f&&(te.ASSUME_SHIFT_JIS||j>=3||V>=3)?te.SHIFT_JIS:u&&f?j===2&&D===2||Z*10>=l?te.SHIFT_JIS:te.ISO88591:u?te.ISO88591:f?te.SHIFT_JIS:d?te.UTF8:te.PLATFORM_DEFAULT_ENCODING}static format(i,...o){let l=-1;function u(d,m,y,C,b,I){if(d==="%%")return"%";if(o[++l]===void 0)return;d=C?parseInt(C.substr(1)):void 0;let D=b?parseInt(b.substr(1)):void 0,P;switch(I){case"s":P=o[l];break;case"c":P=o[l][0];break;case"f":P=parseFloat(o[l]).toFixed(d);break;case"p":P=parseFloat(o[l]).toPrecision(d);break;case"e":P=parseFloat(o[l]).toExponential(d);break;case"x":P=parseInt(o[l]).toString(D||16);break;case"d":P=parseFloat(parseInt(o[l],D||10).toPrecision(d)).toFixed(0);break}P=typeof P=="object"?JSON.stringify(P):(+P).toString(D);let B=parseInt(y),j=y&&y[0]+""=="0"?"0":" ";for(;P.length<B;)P=m!==void 0?P+j:j+P;return P}let f=/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g;return i.replace(f,u)}static getBytes(i,o){return oe.encode(i,o)}static getCharCode(i,o=0){return i.charCodeAt(o)}static getCharAt(i){return String.fromCharCode(i)}}te.SHIFT_JIS=G.SJIS.getName(),te.GB2312="GB2312",te.ISO88591=G.ISO8859_1.getName(),te.EUC_JP="EUC_JP",te.UTF8=G.UTF8.getName(),te.PLATFORM_DEFAULT_ENCODING=te.UTF8,te.ASSUME_SHIFT_JIS=!1;class me{constructor(i=""){this.value=i}enableDecoding(i){return this.encoding=i,this}append(i){return typeof i=="string"?this.value+=i.toString():this.encoding?this.value+=te.castAsNonUtf8Char(i,this.encoding):this.value+=String.fromCharCode(i),this}appendChars(i,o,l){for(let u=o;o<o+l;u++)this.append(i[u]);return this}length(){return this.value.length}charAt(i){return this.value.charAt(i)}deleteCharAt(i){this.value=this.value.substr(0,i)+this.value.substring(i+1)}setCharAt(i,o){this.value=this.value.substr(0,i)+o+this.value.substr(i+1)}substring(i,o){return this.value.substring(i,o)}setLengthToZero(){this.value=""}toString(){return this.value}insert(i,o){this.value=this.value.substr(0,i)+o+this.value.substr(i+o.length)}}class Ee{constructor(i,o,l,u){if(this.width=i,this.height=o,this.rowSize=l,this.bits=u,o==null&&(o=i),this.height=o,i<1||o<1)throw new w("Both dimensions must be greater than 0");l==null&&(l=Math.floor((i+31)/32)),this.rowSize=l,u==null&&(this.bits=new Int32Array(this.rowSize*this.height))}static parseFromBooleanArray(i){const o=i.length,l=i[0].length,u=new Ee(l,o);for(let f=0;f<o;f++){const d=i[f];for(let m=0;m<l;m++)d[m]&&u.set(m,f)}return u}static parseFromString(i,o,l){if(i===null)throw new w("stringRepresentation cannot be null");const u=new Array(i.length);let f=0,d=0,m=-1,y=0,C=0;for(;C<i.length;)if(i.charAt(C)===`
`||i.charAt(C)==="\r"){if(f>d){if(m===-1)m=f-d;else if(f-d!==m)throw new w("row lengths do not match");d=f,y++}C++}else if(i.substring(C,C+o.length)===o)C+=o.length,u[f]=!0,f++;else if(i.substring(C,C+l.length)===l)C+=l.length,u[f]=!1,f++;else throw new w("illegal character encountered: "+i.substring(C));if(f>d){if(m===-1)m=f-d;else if(f-d!==m)throw new w("row lengths do not match");y++}const b=new Ee(m,y);for(let I=0;I<f;I++)u[I]&&b.set(Math.floor(I%m),Math.floor(I/m));return b}get(i,o){const l=o*this.rowSize+Math.floor(i/32);return(this.bits[l]>>>(i&31)&1)!==0}set(i,o){const l=o*this.rowSize+Math.floor(i/32);this.bits[l]|=1<<(i&31)&4294967295}unset(i,o){const l=o*this.rowSize+Math.floor(i/32);this.bits[l]&=~(1<<(i&31)&4294967295)}flip(i,o){const l=o*this.rowSize+Math.floor(i/32);this.bits[l]^=1<<(i&31)&4294967295}xor(i){if(this.width!==i.getWidth()||this.height!==i.getHeight()||this.rowSize!==i.getRowSize())throw new w("input matrix dimensions do not match");const o=new L(Math.floor(this.width/32)+1),l=this.rowSize,u=this.bits;for(let f=0,d=this.height;f<d;f++){const m=f*l,y=i.getRow(f,o).getBitArray();for(let C=0;C<l;C++)u[m+C]^=y[C]}}clear(){const i=this.bits,o=i.length;for(let l=0;l<o;l++)i[l]=0}setRegion(i,o,l,u){if(o<0||i<0)throw new w("Left and top must be nonnegative");if(u<1||l<1)throw new w("Height and width must be at least 1");const f=i+l,d=o+u;if(d>this.height||f>this.width)throw new w("The region must fit inside the matrix");const m=this.rowSize,y=this.bits;for(let C=o;C<d;C++){const b=C*m;for(let I=i;I<f;I++)y[b+Math.floor(I/32)]|=1<<(I&31)&4294967295}}getRow(i,o){o==null||o.getSize()<this.width?o=new L(this.width):o.clear();const l=this.rowSize,u=this.bits,f=i*l;for(let d=0;d<l;d++)o.setBulk(d*32,u[f+d]);return o}setRow(i,o){R.arraycopy(o.getBitArray(),0,this.bits,i*this.rowSize,this.rowSize)}rotate180(){const i=this.getWidth(),o=this.getHeight();let l=new L(i),u=new L(i);for(let f=0,d=Math.floor((o+1)/2);f<d;f++)l=this.getRow(f,l),u=this.getRow(o-1-f,u),l.reverse(),u.reverse(),this.setRow(f,u),this.setRow(o-1-f,l)}getEnclosingRectangle(){const i=this.width,o=this.height,l=this.rowSize,u=this.bits;let f=i,d=o,m=-1,y=-1;for(let C=0;C<o;C++)for(let b=0;b<l;b++){const I=u[C*l+b];if(I!==0){if(C<d&&(d=C),C>y&&(y=C),b*32<f){let D=0;for(;!(I<<31-D&4294967295);)D++;b*32+D<f&&(f=b*32+D)}if(b*32+31>m){let D=31;for(;!(I>>>D);)D--;b*32+D>m&&(m=b*32+D)}}}return m<f||y<d?null:Int32Array.from([f,d,m-f+1,y-d+1])}getTopLeftOnBit(){const i=this.rowSize,o=this.bits;let l=0;for(;l<o.length&&o[l]===0;)l++;if(l===o.length)return null;const u=l/i;let f=l%i*32;const d=o[l];let m=0;for(;!(d<<31-m&4294967295);)m++;return f+=m,Int32Array.from([f,u])}getBottomRightOnBit(){const i=this.rowSize,o=this.bits;let l=o.length-1;for(;l>=0&&o[l]===0;)l--;if(l<0)return null;const u=Math.floor(l/i);let f=Math.floor(l%i)*32;const d=o[l];let m=31;for(;!(d>>>m);)m--;return f+=m,Int32Array.from([f,u])}getWidth(){return this.width}getHeight(){return this.height}getRowSize(){return this.rowSize}equals(i){if(!(i instanceof Ee))return!1;const o=i;return this.width===o.width&&this.height===o.height&&this.rowSize===o.rowSize&&T.equals(this.bits,o.bits)}hashCode(){let i=this.width;return i=31*i+this.width,i=31*i+this.height,i=31*i+this.rowSize,i=31*i+T.hashCode(this.bits),i}toString(i="X ",o="  ",l=`
`){return this.buildToString(i,o,l)}buildToString(i,o,l){let u=new me;for(let f=0,d=this.height;f<d;f++){for(let m=0,y=this.width;m<y;m++)u.append(this.get(m,f)?i:o);u.append(l)}return u.toString()}clone(){return new Ee(this.width,this.height,this.rowSize,this.bits.slice())}}class W extends g{static getNotFoundInstance(){return new W}}W.kind="NotFoundException";class we extends v{constructor(i){super(i),this.luminances=we.EMPTY,this.buckets=new Int32Array(we.LUMINANCE_BUCKETS)}getBlackRow(i,o){const l=this.getLuminanceSource(),u=l.getWidth();o==null||o.getSize()<u?o=new L(u):o.clear(),this.initArrays(u);const f=l.getRow(i,this.luminances),d=this.buckets;for(let y=0;y<u;y++)d[(f[y]&255)>>we.LUMINANCE_SHIFT]++;const m=we.estimateBlackPoint(d);if(u<3)for(let y=0;y<u;y++)(f[y]&255)<m&&o.set(y);else{let y=f[0]&255,C=f[1]&255;for(let b=1;b<u-1;b++){const I=f[b+1]&255;(C*4-y-I)/2<m&&o.set(b),y=C,C=I}}return o}getBlackMatrix(){const i=this.getLuminanceSource(),o=i.getWidth(),l=i.getHeight(),u=new Ee(o,l);this.initArrays(o);const f=this.buckets;for(let y=1;y<5;y++){const C=Math.floor(l*y/5),b=i.getRow(C,this.luminances),I=Math.floor(o*4/5);for(let D=Math.floor(o/5);D<I;D++){const P=b[D]&255;f[P>>we.LUMINANCE_SHIFT]++}}const d=we.estimateBlackPoint(f),m=i.getMatrix();for(let y=0;y<l;y++){const C=y*o;for(let b=0;b<o;b++)(m[C+b]&255)<d&&u.set(b,y)}return u}createBinarizer(i){return new we(i)}initArrays(i){this.luminances.length<i&&(this.luminances=new Uint8ClampedArray(i));const o=this.buckets;for(let l=0;l<we.LUMINANCE_BUCKETS;l++)o[l]=0}static estimateBlackPoint(i){const o=i.length;let l=0,u=0,f=0;for(let b=0;b<o;b++)i[b]>f&&(u=b,f=i[b]),i[b]>l&&(l=i[b]);let d=0,m=0;for(let b=0;b<o;b++){const I=b-u,D=i[b]*I*I;D>m&&(d=b,m=D)}if(u>d){const b=u;u=d,d=b}if(d-u<=o/16)throw new W;let y=d-1,C=-1;for(let b=d-1;b>u;b--){const I=b-u,D=I*I*(d-b)*(l-i[b]);D>C&&(y=b,C=D)}return y<<we.LUMINANCE_SHIFT}}we.LUMINANCE_BITS=5,we.LUMINANCE_SHIFT=8-we.LUMINANCE_BITS,we.LUMINANCE_BUCKETS=1<<we.LUMINANCE_BITS,we.EMPTY=Uint8ClampedArray.from([0]);class ae extends we{constructor(i){super(i),this.matrix=null}getBlackMatrix(){if(this.matrix!==null)return this.matrix;const i=this.getLuminanceSource(),o=i.getWidth(),l=i.getHeight();if(o>=ae.MINIMUM_DIMENSION&&l>=ae.MINIMUM_DIMENSION){const u=i.getMatrix();let f=o>>ae.BLOCK_SIZE_POWER;o&ae.BLOCK_SIZE_MASK&&f++;let d=l>>ae.BLOCK_SIZE_POWER;l&ae.BLOCK_SIZE_MASK&&d++;const m=ae.calculateBlackPoints(u,f,d,o,l),y=new Ee(o,l);ae.calculateThresholdForBlock(u,f,d,o,l,m,y),this.matrix=y}else this.matrix=super.getBlackMatrix();return this.matrix}createBinarizer(i){return new ae(i)}static calculateThresholdForBlock(i,o,l,u,f,d,m){const y=f-ae.BLOCK_SIZE,C=u-ae.BLOCK_SIZE;for(let b=0;b<l;b++){let I=b<<ae.BLOCK_SIZE_POWER;I>y&&(I=y);const D=ae.cap(b,2,l-3);for(let P=0;P<o;P++){let B=P<<ae.BLOCK_SIZE_POWER;B>C&&(B=C);const j=ae.cap(P,2,o-3);let V=0;for(let ee=-2;ee<=2;ee++){const ne=d[D+ee];V+=ne[j-2]+ne[j-1]+ne[j]+ne[j+1]+ne[j+2]}const Z=V/25;ae.thresholdBlock(i,B,I,Z,u,m)}}}static cap(i,o,l){return i<o?o:i>l?l:i}static thresholdBlock(i,o,l,u,f,d){for(let m=0,y=l*f+o;m<ae.BLOCK_SIZE;m++,y+=f)for(let C=0;C<ae.BLOCK_SIZE;C++)(i[y+C]&255)<=u&&d.set(o+C,l+m)}static calculateBlackPoints(i,o,l,u,f){const d=f-ae.BLOCK_SIZE,m=u-ae.BLOCK_SIZE,y=new Array(l);for(let C=0;C<l;C++){y[C]=new Int32Array(o);let b=C<<ae.BLOCK_SIZE_POWER;b>d&&(b=d);for(let I=0;I<o;I++){let D=I<<ae.BLOCK_SIZE_POWER;D>m&&(D=m);let P=0,B=255,j=0;for(let Z=0,ee=b*u+D;Z<ae.BLOCK_SIZE;Z++,ee+=u){for(let ne=0;ne<ae.BLOCK_SIZE;ne++){const $=i[ee+ne]&255;P+=$,$<B&&(B=$),$>j&&(j=$)}if(j-B>ae.MIN_DYNAMIC_RANGE)for(Z++,ee+=u;Z<ae.BLOCK_SIZE;Z++,ee+=u)for(let ne=0;ne<ae.BLOCK_SIZE;ne++)P+=i[ee+ne]&255}let V=P>>ae.BLOCK_SIZE_POWER*2;if(j-B<=ae.MIN_DYNAMIC_RANGE&&(V=B/2,C>0&&I>0)){const Z=(y[C-1][I]+2*y[C][I-1]+y[C-1][I-1])/4;B<Z&&(V=Z)}y[C][I]=V}}return y}}ae.BLOCK_SIZE_POWER=3,ae.BLOCK_SIZE=1<<ae.BLOCK_SIZE_POWER,ae.BLOCK_SIZE_MASK=ae.BLOCK_SIZE-1,ae.MINIMUM_DIMENSION=ae.BLOCK_SIZE*5,ae.MIN_DYNAMIC_RANGE=24;class ie{constructor(i,o){this.width=i,this.height=o}getWidth(){return this.width}getHeight(){return this.height}isCropSupported(){return!1}crop(i,o,l,u){throw new re("This luminance source does not support cropping.")}isRotateSupported(){return!1}rotateCounterClockwise(){throw new re("This luminance source does not support rotation by 90 degrees.")}rotateCounterClockwise45(){throw new re("This luminance source does not support rotation by 45 degrees.")}toString(){const i=new Uint8ClampedArray(this.width);let o=new me;for(let l=0;l<this.height;l++){const u=this.getRow(l,i);for(let f=0;f<this.width;f++){const d=u[f]&255;let m;d<64?m="#":d<128?m="+":d<192?m=".":m=" ",o.append(m)}o.append(`
`)}return o.toString()}}class le extends ie{constructor(i){super(i.getWidth(),i.getHeight()),this.delegate=i}getRow(i,o){const l=this.delegate.getRow(i,o),u=this.getWidth();for(let f=0;f<u;f++)l[f]=255-(l[f]&255);return l}getMatrix(){const i=this.delegate.getMatrix(),o=this.getWidth()*this.getHeight(),l=new Uint8ClampedArray(o);for(let u=0;u<o;u++)l[u]=255-(i[u]&255);return l}isCropSupported(){return this.delegate.isCropSupported()}crop(i,o,l,u){return new le(this.delegate.crop(i,o,l,u))}isRotateSupported(){return this.delegate.isRotateSupported()}invert(){return this.delegate}rotateCounterClockwise(){return new le(this.delegate.rotateCounterClockwise())}rotateCounterClockwise45(){return new le(this.delegate.rotateCounterClockwise45())}}class ge extends ie{constructor(i){super(i.width,i.height),this.canvas=i,this.tempCanvasElement=null,this.buffer=ge.makeBufferFromCanvasImageData(i)}static makeBufferFromCanvasImageData(i){const o=i.getContext("2d").getImageData(0,0,i.width,i.height);return ge.toGrayscaleBuffer(o.data,i.width,i.height)}static toGrayscaleBuffer(i,o,l){const u=new Uint8ClampedArray(o*l);for(let f=0,d=0,m=i.length;f<m;f+=4,d++){let y;if(i[f+3]===0)y=255;else{const b=i[f],I=i[f+1],D=i[f+2];y=306*b+601*I+117*D+512>>10}u[d]=y}return u}getRow(i,o){if(i<0||i>=this.getHeight())throw new w("Requested row is outside the image: "+i);const l=this.getWidth(),u=i*l;return o===null?o=this.buffer.slice(u,u+l):(o.length<l&&(o=new Uint8ClampedArray(l)),o.set(this.buffer.slice(u,u+l))),o}getMatrix(){return this.buffer}isCropSupported(){return!0}crop(i,o,l,u){return super.crop(i,o,l,u),this}isRotateSupported(){return!0}rotateCounterClockwise(){return this.rotate(-90),this}rotateCounterClockwise45(){return this.rotate(-45),this}getTempCanvasElement(){if(this.tempCanvasElement===null){const i=this.canvas.ownerDocument.createElement("canvas");i.width=this.canvas.width,i.height=this.canvas.height,this.tempCanvasElement=i}return this.tempCanvasElement}rotate(i){const o=this.getTempCanvasElement(),l=o.getContext("2d"),u=i*ge.DEGREE_TO_RADIANS,f=this.canvas.width,d=this.canvas.height,m=Math.ceil(Math.abs(Math.cos(u))*f+Math.abs(Math.sin(u))*d),y=Math.ceil(Math.abs(Math.sin(u))*f+Math.abs(Math.cos(u))*d);return o.width=m,o.height=y,l.translate(m/2,y/2),l.rotate(u),l.drawImage(this.canvas,f/-2,d/-2),this.buffer=ge.makeBufferFromCanvasImageData(o),this}invert(){return new le(this)}}ge.DEGREE_TO_RADIANS=Math.PI/180;class Be{constructor(i,o,l){this.deviceId=i,this.label=o,this.kind="videoinput",this.groupId=l||void 0}toJSON(){return{kind:this.kind,groupId:this.groupId,deviceId:this.deviceId,label:this.label}}}var be=(globalThis||zo||self||window||void 0)&&(globalThis||zo||self||window||void 0).__awaiter||function(_,i,o,l){function u(f){return f instanceof o?f:new o(function(d){d(f)})}return new(o||(o=Promise))(function(f,d){function m(b){try{C(l.next(b))}catch(I){d(I)}}function y(b){try{C(l.throw(b))}catch(I){d(I)}}function C(b){b.done?f(b.value):u(b.value).then(m,y)}C((l=l.apply(_,i||[])).next())})};class At{constructor(i,o=500,l){this.reader=i,this.timeBetweenScansMillis=o,this._hints=l,this._stopContinuousDecode=!1,this._stopAsyncDecode=!1,this._timeBetweenDecodingAttempts=0}get hasNavigator(){return typeof navigator<"u"}get isMediaDevicesSuported(){return this.hasNavigator&&!!navigator.mediaDevices}get canEnumerateDevices(){return!!(this.isMediaDevicesSuported&&navigator.mediaDevices.enumerateDevices)}get timeBetweenDecodingAttempts(){return this._timeBetweenDecodingAttempts}set timeBetweenDecodingAttempts(i){this._timeBetweenDecodingAttempts=i<0?0:i}set hints(i){this._hints=i||null}get hints(){return this._hints}listVideoInputDevices(){return be(this,void 0,void 0,function*(){if(!this.hasNavigator)throw new Error("Can't enumerate devices, navigator is not present.");if(!this.canEnumerateDevices)throw new Error("Can't enumerate devices, method not supported.");const i=yield navigator.mediaDevices.enumerateDevices(),o=[];for(const l of i){const u=l.kind==="video"?"videoinput":l.kind;if(u!=="videoinput")continue;const f=l.deviceId||l.id,d=l.label||`Video device ${o.length+1}`,m=l.groupId,y={deviceId:f,label:d,kind:u,groupId:m};o.push(y)}return o})}getVideoInputDevices(){return be(this,void 0,void 0,function*(){return(yield this.listVideoInputDevices()).map(o=>new Be(o.deviceId,o.label))})}findDeviceById(i){return be(this,void 0,void 0,function*(){const o=yield this.listVideoInputDevices();return o?o.find(l=>l.deviceId===i):null})}decodeFromInputVideoDevice(i,o){return be(this,void 0,void 0,function*(){return yield this.decodeOnceFromVideoDevice(i,o)})}decodeOnceFromVideoDevice(i,o){return be(this,void 0,void 0,function*(){this.reset();let l;i?l={deviceId:{exact:i}}:l={facingMode:"environment"};const u={video:l};return yield this.decodeOnceFromConstraints(u,o)})}decodeOnceFromConstraints(i,o){return be(this,void 0,void 0,function*(){const l=yield navigator.mediaDevices.getUserMedia(i);return yield this.decodeOnceFromStream(l,o)})}decodeOnceFromStream(i,o){return be(this,void 0,void 0,function*(){this.reset();const l=yield this.attachStreamToVideo(i,o);return yield this.decodeOnce(l)})}decodeFromInputVideoDeviceContinuously(i,o,l){return be(this,void 0,void 0,function*(){return yield this.decodeFromVideoDevice(i,o,l)})}decodeFromVideoDevice(i,o,l){return be(this,void 0,void 0,function*(){let u;i?u={deviceId:{exact:i}}:u={facingMode:"environment"};const f={video:u};return yield this.decodeFromConstraints(f,o,l)})}decodeFromConstraints(i,o,l){return be(this,void 0,void 0,function*(){const u=yield navigator.mediaDevices.getUserMedia(i);return yield this.decodeFromStream(u,o,l)})}decodeFromStream(i,o,l){return be(this,void 0,void 0,function*(){this.reset();const u=yield this.attachStreamToVideo(i,o);return yield this.decodeContinuously(u,l)})}stopAsyncDecode(){this._stopAsyncDecode=!0}stopContinuousDecode(){this._stopContinuousDecode=!0}attachStreamToVideo(i,o){return be(this,void 0,void 0,function*(){const l=this.prepareVideoElement(o);return this.addVideoSource(l,i),this.videoElement=l,this.stream=i,yield this.playVideoOnLoadAsync(l),l})}playVideoOnLoadAsync(i){return new Promise((o,l)=>this.playVideoOnLoad(i,()=>o()))}playVideoOnLoad(i,o){this.videoEndedListener=()=>this.stopStreams(),this.videoCanPlayListener=()=>this.tryPlayVideo(i),i.addEventListener("ended",this.videoEndedListener),i.addEventListener("canplay",this.videoCanPlayListener),i.addEventListener("playing",o),this.tryPlayVideo(i)}isVideoPlaying(i){return i.currentTime>0&&!i.paused&&!i.ended&&i.readyState>2}tryPlayVideo(i){return be(this,void 0,void 0,function*(){if(this.isVideoPlaying(i)){console.warn("Trying to play video that is already playing.");return}try{yield i.play()}catch{console.warn("It was not possible to play the video.")}})}getMediaElement(i,o){const l=document.getElementById(i);if(!l)throw new x(`element with id '${i}' not found`);if(l.nodeName.toLowerCase()!==o.toLowerCase())throw new x(`element with id '${i}' must be an ${o} element`);return l}decodeFromImage(i,o){if(!i&&!o)throw new x("either imageElement with a src set or an url must be provided");return o&&!i?this.decodeFromImageUrl(o):this.decodeFromImageElement(i)}decodeFromVideo(i,o){if(!i&&!o)throw new x("Either an element with a src set or an URL must be provided");return o&&!i?this.decodeFromVideoUrl(o):this.decodeFromVideoElement(i)}decodeFromVideoContinuously(i,o,l){if(i===void 0&&o===void 0)throw new x("Either an element with a src set or an URL must be provided");return o&&!i?this.decodeFromVideoUrlContinuously(o,l):this.decodeFromVideoElementContinuously(i,l)}decodeFromImageElement(i){if(!i)throw new x("An image element must be provided.");this.reset();const o=this.prepareImageElement(i);this.imageElement=o;let l;return this.isImageLoaded(o)?l=this.decodeOnce(o,!1,!0):l=this._decodeOnLoadImage(o),l}decodeFromVideoElement(i){const o=this._decodeFromVideoElementSetup(i);return this._decodeOnLoadVideo(o)}decodeFromVideoElementContinuously(i,o){const l=this._decodeFromVideoElementSetup(i);return this._decodeOnLoadVideoContinuously(l,o)}_decodeFromVideoElementSetup(i){if(!i)throw new x("A video element must be provided.");this.reset();const o=this.prepareVideoElement(i);return this.videoElement=o,o}decodeFromImageUrl(i){if(!i)throw new x("An URL must be provided.");this.reset();const o=this.prepareImageElement();this.imageElement=o;const l=this._decodeOnLoadImage(o);return o.src=i,l}decodeFromVideoUrl(i){if(!i)throw new x("An URL must be provided.");this.reset();const o=this.prepareVideoElement(),l=this.decodeFromVideoElement(o);return o.src=i,l}decodeFromVideoUrlContinuously(i,o){if(!i)throw new x("An URL must be provided.");this.reset();const l=this.prepareVideoElement(),u=this.decodeFromVideoElementContinuously(l,o);return l.src=i,u}_decodeOnLoadImage(i){return new Promise((o,l)=>{this.imageLoadedListener=()=>this.decodeOnce(i,!1,!0).then(o,l),i.addEventListener("load",this.imageLoadedListener)})}_decodeOnLoadVideo(i){return be(this,void 0,void 0,function*(){return yield this.playVideoOnLoadAsync(i),yield this.decodeOnce(i)})}_decodeOnLoadVideoContinuously(i,o){return be(this,void 0,void 0,function*(){yield this.playVideoOnLoadAsync(i),this.decodeContinuously(i,o)})}isImageLoaded(i){return!(!i.complete||i.naturalWidth===0)}prepareImageElement(i){let o;return typeof i>"u"&&(o=document.createElement("img"),o.width=200,o.height=200),typeof i=="string"&&(o=this.getMediaElement(i,"img")),i instanceof HTMLImageElement&&(o=i),o}prepareVideoElement(i){let o;return!i&&typeof document<"u"&&(o=document.createElement("video"),o.width=200,o.height=200),typeof i=="string"&&(o=this.getMediaElement(i,"video")),i instanceof HTMLVideoElement&&(o=i),o.setAttribute("autoplay","true"),o.setAttribute("muted","true"),o.setAttribute("playsinline","true"),o}decodeOnce(i,o=!0,l=!0){this._stopAsyncDecode=!1;const u=(f,d)=>{if(this._stopAsyncDecode){d(new W("Video stream has ended before any code could be detected.")),this._stopAsyncDecode=void 0;return}try{const m=this.decode(i);f(m)}catch(m){const y=o&&m instanceof W,b=(m instanceof S||m instanceof F)&&l;if(y||b)return setTimeout(u,this._timeBetweenDecodingAttempts,f,d);d(m)}};return new Promise((f,d)=>u(f,d))}decodeContinuously(i,o){this._stopContinuousDecode=!1;const l=()=>{if(this._stopContinuousDecode){this._stopContinuousDecode=void 0;return}try{const u=this.decode(i);o(u,null),setTimeout(l,this.timeBetweenScansMillis)}catch(u){o(null,u);const f=u instanceof S||u instanceof F,d=u instanceof W;(f||d)&&setTimeout(l,this._timeBetweenDecodingAttempts)}};l()}decode(i){const o=this.createBinaryBitmap(i);return this.decodeBitmap(o)}_isHTMLVideoElement(i){return i.videoWidth!==0}drawFrameOnCanvas(i,o,l){o||(o={sx:0,sy:0,sWidth:i.videoWidth,sHeight:i.videoHeight,dx:0,dy:0,dWidth:i.videoWidth,dHeight:i.videoHeight}),l||(l=this.captureCanvasContext),l.drawImage(i,o.sx,o.sy,o.sWidth,o.sHeight,o.dx,o.dy,o.dWidth,o.dHeight)}drawImageOnCanvas(i,o,l=this.captureCanvasContext){o||(o={sx:0,sy:0,sWidth:i.naturalWidth,sHeight:i.naturalHeight,dx:0,dy:0,dWidth:i.naturalWidth,dHeight:i.naturalHeight}),l||(l=this.captureCanvasContext),l.drawImage(i,o.sx,o.sy,o.sWidth,o.sHeight,o.dx,o.dy,o.dWidth,o.dHeight)}createBinaryBitmap(i){this.getCaptureCanvasContext(i),this._isHTMLVideoElement(i)?this.drawFrameOnCanvas(i):this.drawImageOnCanvas(i);const o=this.getCaptureCanvas(i),l=new ge(o),u=new ae(l);return new E(u)}getCaptureCanvasContext(i){if(!this.captureCanvasContext){const l=this.getCaptureCanvas(i).getContext("2d");this.captureCanvasContext=l}return this.captureCanvasContext}getCaptureCanvas(i){if(!this.captureCanvas){const o=this.createCaptureCanvas(i);this.captureCanvas=o}return this.captureCanvas}decodeBitmap(i){return this.reader.decode(i,this._hints)}createCaptureCanvas(i){if(typeof document>"u")return this._destroyCaptureCanvas(),null;const o=document.createElement("canvas");let l,u;return typeof i<"u"&&(i instanceof HTMLVideoElement?(l=i.videoWidth,u=i.videoHeight):i instanceof HTMLImageElement&&(l=i.naturalWidth||i.width,u=i.naturalHeight||i.height)),o.style.width=l+"px",o.style.height=u+"px",o.width=l,o.height=u,o}stopStreams(){this.stream&&(this.stream.getVideoTracks().forEach(i=>i.stop()),this.stream=void 0),this._stopAsyncDecode===!1&&this.stopAsyncDecode(),this._stopContinuousDecode===!1&&this.stopContinuousDecode()}reset(){this.stopStreams(),this._destroyVideoElement(),this._destroyImageElement(),this._destroyCaptureCanvas()}_destroyVideoElement(){this.videoElement&&(typeof this.videoEndedListener<"u"&&this.videoElement.removeEventListener("ended",this.videoEndedListener),typeof this.videoPlayingEventListener<"u"&&this.videoElement.removeEventListener("playing",this.videoPlayingEventListener),typeof this.videoCanPlayListener<"u"&&this.videoElement.removeEventListener("loadedmetadata",this.videoCanPlayListener),this.cleanVideoSource(this.videoElement),this.videoElement=void 0)}_destroyImageElement(){this.imageElement&&(this.imageLoadedListener!==void 0&&this.imageElement.removeEventListener("load",this.imageLoadedListener),this.imageElement.src=void 0,this.imageElement.removeAttribute("src"),this.imageElement=void 0)}_destroyCaptureCanvas(){this.captureCanvasContext=void 0,this.captureCanvas=void 0}addVideoSource(i,o){try{i.srcObject=o}catch{i.src=URL.createObjectURL(o)}}cleanVideoSource(i){try{i.srcObject=null}catch{i.src=""}this.videoElement.removeAttribute("src")}}class Oe{constructor(i,o,l=o==null?0:8*o.length,u,f,d=R.currentTimeMillis()){this.text=i,this.rawBytes=o,this.numBits=l,this.resultPoints=u,this.format=f,this.timestamp=d,this.text=i,this.rawBytes=o,l==null?this.numBits=o==null?0:8*o.length:this.numBits=l,this.resultPoints=u,this.format=f,this.resultMetadata=null,d==null?this.timestamp=R.currentTimeMillis():this.timestamp=d}getText(){return this.text}getRawBytes(){return this.rawBytes}getNumBits(){return this.numBits}getResultPoints(){return this.resultPoints}getBarcodeFormat(){return this.format}getResultMetadata(){return this.resultMetadata}putMetadata(i,o){this.resultMetadata===null&&(this.resultMetadata=new Map),this.resultMetadata.set(i,o)}putAllMetadata(i){i!==null&&(this.resultMetadata===null?this.resultMetadata=i:this.resultMetadata=new Map(i))}addResultPoints(i){const o=this.resultPoints;if(o===null)this.resultPoints=i;else if(i!==null&&i.length>0){const l=new Array(o.length+i.length);R.arraycopy(o,0,l,0,o.length),R.arraycopy(i,0,l,o.length,i.length),this.resultPoints=l}}getTimestamp(){return this.timestamp}toString(){return this.text}}var vn;(function(_){_[_.AZTEC=0]="AZTEC",_[_.CODABAR=1]="CODABAR",_[_.CODE_39=2]="CODE_39",_[_.CODE_93=3]="CODE_93",_[_.CODE_128=4]="CODE_128",_[_.DATA_MATRIX=5]="DATA_MATRIX",_[_.EAN_8=6]="EAN_8",_[_.EAN_13=7]="EAN_13",_[_.ITF=8]="ITF",_[_.MAXICODE=9]="MAXICODE",_[_.PDF_417=10]="PDF_417",_[_.QR_CODE=11]="QR_CODE",_[_.RSS_14=12]="RSS_14",_[_.RSS_EXPANDED=13]="RSS_EXPANDED",_[_.UPC_A=14]="UPC_A",_[_.UPC_E=15]="UPC_E",_[_.UPC_EAN_EXTENSION=16]="UPC_EAN_EXTENSION"})(vn||(vn={}));var ce=vn,ti;(function(_){_[_.OTHER=0]="OTHER",_[_.ORIENTATION=1]="ORIENTATION",_[_.BYTE_SEGMENTS=2]="BYTE_SEGMENTS",_[_.ERROR_CORRECTION_LEVEL=3]="ERROR_CORRECTION_LEVEL",_[_.ISSUE_NUMBER=4]="ISSUE_NUMBER",_[_.SUGGESTED_PRICE=5]="SUGGESTED_PRICE",_[_.POSSIBLE_COUNTRY=6]="POSSIBLE_COUNTRY",_[_.UPC_EAN_EXTENSION=7]="UPC_EAN_EXTENSION",_[_.PDF417_EXTRA_METADATA=8]="PDF417_EXTRA_METADATA",_[_.STRUCTURED_APPEND_SEQUENCE=9]="STRUCTURED_APPEND_SEQUENCE",_[_.STRUCTURED_APPEND_PARITY=10]="STRUCTURED_APPEND_PARITY"})(ti||(ti={}));var Dt=ti;class To{constructor(i,o,l,u,f=-1,d=-1){this.rawBytes=i,this.text=o,this.byteSegments=l,this.ecLevel=u,this.structuredAppendSequenceNumber=f,this.structuredAppendParity=d,this.numBits=i==null?0:8*i.length}getRawBytes(){return this.rawBytes}getNumBits(){return this.numBits}setNumBits(i){this.numBits=i}getText(){return this.text}getByteSegments(){return this.byteSegments}getECLevel(){return this.ecLevel}getErrorsCorrected(){return this.errorsCorrected}setErrorsCorrected(i){this.errorsCorrected=i}getErasures(){return this.erasures}setErasures(i){this.erasures=i}getOther(){return this.other}setOther(i){this.other=i}hasStructuredAppend(){return this.structuredAppendParity>=0&&this.structuredAppendSequenceNumber>=0}getStructuredAppendParity(){return this.structuredAppendParity}getStructuredAppendSequenceNumber(){return this.structuredAppendSequenceNumber}}class No{exp(i){return this.expTable[i]}log(i){if(i===0)throw new w;return this.logTable[i]}static addOrSubtract(i,o){return i^o}}class un{constructor(i,o){if(o.length===0)throw new w;this.field=i;const l=o.length;if(l>1&&o[0]===0){let u=1;for(;u<l&&o[u]===0;)u++;u===l?this.coefficients=Int32Array.from([0]):(this.coefficients=new Int32Array(l-u),R.arraycopy(o,u,this.coefficients,0,this.coefficients.length))}else this.coefficients=o}getCoefficients(){return this.coefficients}getDegree(){return this.coefficients.length-1}isZero(){return this.coefficients[0]===0}getCoefficient(i){return this.coefficients[this.coefficients.length-1-i]}evaluateAt(i){if(i===0)return this.getCoefficient(0);const o=this.coefficients;let l;if(i===1){l=0;for(let d=0,m=o.length;d!==m;d++){const y=o[d];l=No.addOrSubtract(l,y)}return l}l=o[0];const u=o.length,f=this.field;for(let d=1;d<u;d++)l=No.addOrSubtract(f.multiply(i,l),o[d]);return l}addOrSubtract(i){if(!this.field.equals(i.field))throw new w("GenericGFPolys do not have same GenericGF field");if(this.isZero())return i;if(i.isZero())return this;let o=this.coefficients,l=i.coefficients;if(o.length>l.length){const d=o;o=l,l=d}let u=new Int32Array(l.length);const f=l.length-o.length;R.arraycopy(l,0,u,0,f);for(let d=f;d<l.length;d++)u[d]=No.addOrSubtract(o[d-f],l[d]);return new un(this.field,u)}multiply(i){if(!this.field.equals(i.field))throw new w("GenericGFPolys do not have same GenericGF field");if(this.isZero()||i.isZero())return this.field.getZero();const o=this.coefficients,l=o.length,u=i.coefficients,f=u.length,d=new Int32Array(l+f-1),m=this.field;for(let y=0;y<l;y++){const C=o[y];for(let b=0;b<f;b++)d[y+b]=No.addOrSubtract(d[y+b],m.multiply(C,u[b]))}return new un(m,d)}multiplyScalar(i){if(i===0)return this.field.getZero();if(i===1)return this;const o=this.coefficients.length,l=this.field,u=new Int32Array(o),f=this.coefficients;for(let d=0;d<o;d++)u[d]=l.multiply(f[d],i);return new un(l,u)}multiplyByMonomial(i,o){if(i<0)throw new w;if(o===0)return this.field.getZero();const l=this.coefficients,u=l.length,f=new Int32Array(u+i),d=this.field;for(let m=0;m<u;m++)f[m]=d.multiply(l[m],o);return new un(d,f)}divide(i){if(!this.field.equals(i.field))throw new w("GenericGFPolys do not have same GenericGF field");if(i.isZero())throw new w("Divide by 0");const o=this.field;let l=o.getZero(),u=this;const f=i.getCoefficient(i.getDegree()),d=o.inverse(f);for(;u.getDegree()>=i.getDegree()&&!u.isZero();){const m=u.getDegree()-i.getDegree(),y=o.multiply(u.getCoefficient(u.getDegree()),d),C=i.multiplyByMonomial(m,y),b=o.buildMonomial(m,y);l=l.addOrSubtract(b),u=u.addOrSubtract(C)}return[l,u]}toString(){let i="";for(let o=this.getDegree();o>=0;o--){let l=this.getCoefficient(o);if(l!==0){if(l<0?(i+=" - ",l=-l):i.length>0&&(i+=" + "),o===0||l!==1){const u=this.field.log(l);u===0?i+="1":u===1?i+="a":(i+="a^",i+=u)}o!==0&&(o===1?i+="x":(i+="x^",i+=o))}}return i}}class hl extends g{}hl.kind="ArithmeticException";class Fe extends No{constructor(i,o,l){super(),this.primitive=i,this.size=o,this.generatorBase=l;const u=new Int32Array(o);let f=1;for(let m=0;m<o;m++)u[m]=f,f*=2,f>=o&&(f^=i,f&=o-1);this.expTable=u;const d=new Int32Array(o);for(let m=0;m<o-1;m++)d[u[m]]=m;this.logTable=d,this.zero=new un(this,Int32Array.from([0])),this.one=new un(this,Int32Array.from([1]))}getZero(){return this.zero}getOne(){return this.one}buildMonomial(i,o){if(i<0)throw new w;if(o===0)return this.zero;const l=new Int32Array(i+1);return l[0]=o,new un(this,l)}inverse(i){if(i===0)throw new hl;return this.expTable[this.size-this.logTable[i]-1]}multiply(i,o){return i===0||o===0?0:this.expTable[(this.logTable[i]+this.logTable[o])%(this.size-1)]}getSize(){return this.size}getGeneratorBase(){return this.generatorBase}toString(){return"GF(0x"+N.toHexString(this.primitive)+","+this.size+")"}equals(i){return i===this}}Fe.AZTEC_DATA_12=new Fe(4201,4096,1),Fe.AZTEC_DATA_10=new Fe(1033,1024,1),Fe.AZTEC_DATA_6=new Fe(67,64,1),Fe.AZTEC_PARAM=new Fe(19,16,1),Fe.QR_CODE_FIELD_256=new Fe(285,256,0),Fe.DATA_MATRIX_FIELD_256=new Fe(301,256,1),Fe.AZTEC_DATA_8=Fe.DATA_MATRIX_FIELD_256,Fe.MAXICODE_FIELD_64=Fe.AZTEC_DATA_6;class Is extends g{}Is.kind="ReedSolomonException";class xr extends g{}xr.kind="IllegalStateException";class Mo{constructor(i){this.field=i}decode(i,o){const l=this.field,u=new un(l,i),f=new Int32Array(o);let d=!0;for(let P=0;P<o;P++){const B=u.evaluateAt(l.exp(P+l.getGeneratorBase()));f[f.length-1-P]=B,B!==0&&(d=!1)}if(d)return;const m=new un(l,f),y=this.runEuclideanAlgorithm(l.buildMonomial(o,1),m,o),C=y[0],b=y[1],I=this.findErrorLocations(C),D=this.findErrorMagnitudes(b,I);for(let P=0;P<I.length;P++){const B=i.length-1-l.log(I[P]);if(B<0)throw new Is("Bad error location");i[B]=Fe.addOrSubtract(i[B],D[P])}}runEuclideanAlgorithm(i,o,l){if(i.getDegree()<o.getDegree()){const P=i;i=o,o=P}const u=this.field;let f=i,d=o,m=u.getZero(),y=u.getOne();for(;d.getDegree()>=(l/2|0);){let P=f,B=m;if(f=d,m=y,f.isZero())throw new Is("r_{i-1} was zero");d=P;let j=u.getZero();const V=f.getCoefficient(f.getDegree()),Z=u.inverse(V);for(;d.getDegree()>=f.getDegree()&&!d.isZero();){const ee=d.getDegree()-f.getDegree(),ne=u.multiply(d.getCoefficient(d.getDegree()),Z);j=j.addOrSubtract(u.buildMonomial(ee,ne)),d=d.addOrSubtract(f.multiplyByMonomial(ee,ne))}if(y=j.multiply(m).addOrSubtract(B),d.getDegree()>=f.getDegree())throw new xr("Division algorithm failed to reduce polynomial?")}const C=y.getCoefficient(0);if(C===0)throw new Is("sigmaTilde(0) was zero");const b=u.inverse(C),I=y.multiplyScalar(b),D=d.multiplyScalar(b);return[I,D]}findErrorLocations(i){const o=i.getDegree();if(o===1)return Int32Array.from([i.getCoefficient(1)]);const l=new Int32Array(o);let u=0;const f=this.field;for(let d=1;d<f.getSize()&&u<o;d++)i.evaluateAt(d)===0&&(l[u]=f.inverse(d),u++);if(u!==o)throw new Is("Error locator degree does not match number of roots");return l}findErrorMagnitudes(i,o){const l=o.length,u=new Int32Array(l),f=this.field;for(let d=0;d<l;d++){const m=f.inverse(o[d]);let y=1;for(let C=0;C<l;C++)if(d!==C){const b=f.multiply(o[C],m),I=b&1?b&-2:b|1;y=f.multiply(y,I)}u[d]=f.multiply(i.evaluateAt(m),f.inverse(y)),f.getGeneratorBase()!==0&&(u[d]=f.multiply(u[d],m))}return u}}var jt;(function(_){_[_.UPPER=0]="UPPER",_[_.LOWER=1]="LOWER",_[_.MIXED=2]="MIXED",_[_.DIGIT=3]="DIGIT",_[_.PUNCT=4]="PUNCT",_[_.BINARY=5]="BINARY"})(jt||(jt={}));class qe{decode(i){this.ddata=i;let o=i.getBits(),l=this.extractBits(o),u=this.correctBits(l),f=qe.convertBoolArrayToByteArray(u),d=qe.getEncodedData(u),m=new To(f,d,null,null);return m.setNumBits(u.length),m}static highLevelDecode(i){return this.getEncodedData(i)}static getEncodedData(i){let o=i.length,l=jt.UPPER,u=jt.UPPER,f="",d=0;for(;d<o;)if(u===jt.BINARY){if(o-d<5)break;let m=qe.readCode(i,d,5);if(d+=5,m===0){if(o-d<11)break;m=qe.readCode(i,d,11)+31,d+=11}for(let y=0;y<m;y++){if(o-d<8){d=o;break}const C=qe.readCode(i,d,8);f+=te.castAsNonUtf8Char(C),d+=8}u=l}else{let m=u===jt.DIGIT?4:5;if(o-d<m)break;let y=qe.readCode(i,d,m);d+=m;let C=qe.getCharacter(u,y);C.startsWith("CTRL_")?(l=u,u=qe.getTable(C.charAt(5)),C.charAt(6)==="L"&&(l=u)):(f+=C,u=l)}return f}static getTable(i){switch(i){case"L":return jt.LOWER;case"P":return jt.PUNCT;case"M":return jt.MIXED;case"D":return jt.DIGIT;case"B":return jt.BINARY;case"U":default:return jt.UPPER}}static getCharacter(i,o){switch(i){case jt.UPPER:return qe.UPPER_TABLE[o];case jt.LOWER:return qe.LOWER_TABLE[o];case jt.MIXED:return qe.MIXED_TABLE[o];case jt.PUNCT:return qe.PUNCT_TABLE[o];case jt.DIGIT:return qe.DIGIT_TABLE[o];default:throw new xr("Bad table")}}correctBits(i){let o,l;this.ddata.getNbLayers()<=2?(l=6,o=Fe.AZTEC_DATA_6):this.ddata.getNbLayers()<=8?(l=8,o=Fe.AZTEC_DATA_8):this.ddata.getNbLayers()<=22?(l=10,o=Fe.AZTEC_DATA_10):(l=12,o=Fe.AZTEC_DATA_12);let u=this.ddata.getNbDatablocks(),f=i.length/l;if(f<u)throw new F;let d=i.length%l,m=new Int32Array(f);for(let D=0;D<f;D++,d+=l)m[D]=qe.readCode(i,d,l);try{new Mo(o).decode(m,f-u)}catch(D){throw new F(D)}let y=(1<<l)-1,C=0;for(let D=0;D<u;D++){let P=m[D];if(P===0||P===y)throw new F;(P===1||P===y-1)&&C++}let b=new Array(u*l-C),I=0;for(let D=0;D<u;D++){let P=m[D];if(P===1||P===y-1)b.fill(P>1,I,I+l-1),I+=l-1;else for(let B=l-1;B>=0;--B)b[I++]=(P&1<<B)!==0}return b}extractBits(i){let o=this.ddata.isCompact(),l=this.ddata.getNbLayers(),u=(o?11:14)+l*4,f=new Int32Array(u),d=new Array(this.totalBitsInLayer(l,o));if(o)for(let m=0;m<f.length;m++)f[m]=m;else{let m=u+1+2*N.truncDivision(N.truncDivision(u,2)-1,15),y=u/2,C=N.truncDivision(m,2);for(let b=0;b<y;b++){let I=b+N.truncDivision(b,15);f[y-b-1]=C-I-1,f[y+b]=C+I+1}}for(let m=0,y=0;m<l;m++){let C=(l-m)*4+(o?9:12),b=m*2,I=u-1-b;for(let D=0;D<C;D++){let P=D*2;for(let B=0;B<2;B++)d[y+P+B]=i.get(f[b+B],f[b+D]),d[y+2*C+P+B]=i.get(f[b+D],f[I-B]),d[y+4*C+P+B]=i.get(f[I-B],f[I-D]),d[y+6*C+P+B]=i.get(f[I-D],f[b+B])}y+=C*8}return d}static readCode(i,o,l){let u=0;for(let f=o;f<o+l;f++)u<<=1,i[f]&&(u|=1);return u}static readByte(i,o){let l=i.length-o;return l>=8?qe.readCode(i,o,8):qe.readCode(i,o,l)<<8-l}static convertBoolArrayToByteArray(i){let o=new Uint8Array((i.length+7)/8);for(let l=0;l<o.length;l++)o[l]=qe.readByte(i,8*l);return o}totalBitsInLayer(i,o){return((o?88:112)+16*i)*i}}qe.UPPER_TABLE=["CTRL_PS"," ","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","CTRL_LL","CTRL_ML","CTRL_DL","CTRL_BS"],qe.LOWER_TABLE=["CTRL_PS"," ","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","CTRL_US","CTRL_ML","CTRL_DL","CTRL_BS"],qe.MIXED_TABLE=["CTRL_PS"," ","\\1","\\2","\\3","\\4","\\5","\\6","\\7","\b","	",`
`,"\\13","\f","\r","\\33","\\34","\\35","\\36","\\37","@","\\","^","_","`","|","~","\\177","CTRL_LL","CTRL_UL","CTRL_PL","CTRL_BS"],qe.PUNCT_TABLE=["","\r",`\r
`,". ",", ",": ","!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}","CTRL_UL"],qe.DIGIT_TABLE=["CTRL_PS"," ","0","1","2","3","4","5","6","7","8","9",",",".","CTRL_UL","CTRL_US"];class De{constructor(){}static round(i){return i===NaN?0:i<=Number.MIN_SAFE_INTEGER?Number.MIN_SAFE_INTEGER:i>=Number.MAX_SAFE_INTEGER?Number.MAX_SAFE_INTEGER:i+(i<0?-.5:.5)|0}static distance(i,o,l,u){const f=i-l,d=o-u;return Math.sqrt(f*f+d*d)}static sum(i){let o=0;for(let l=0,u=i.length;l!==u;l++){const f=i[l];o+=f}return o}}class gl{static floatToIntBits(i){return i}}gl.MAX_VALUE=Number.MAX_SAFE_INTEGER;class he{constructor(i,o){this.x=i,this.y=o}getX(){return this.x}getY(){return this.y}equals(i){if(i instanceof he){const o=i;return this.x===o.x&&this.y===o.y}return!1}hashCode(){return 31*gl.floatToIntBits(this.x)+gl.floatToIntBits(this.y)}toString(){return"("+this.x+","+this.y+")"}static orderBestPatterns(i){const o=this.distance(i[0],i[1]),l=this.distance(i[1],i[2]),u=this.distance(i[0],i[2]);let f,d,m;if(l>=o&&l>=u?(d=i[0],f=i[1],m=i[2]):u>=l&&u>=o?(d=i[1],f=i[0],m=i[2]):(d=i[2],f=i[0],m=i[1]),this.crossProductZ(f,d,m)<0){const y=f;f=m,m=y}i[0]=f,i[1]=d,i[2]=m}static distance(i,o){return De.distance(i.x,i.y,o.x,o.y)}static crossProductZ(i,o,l){const u=o.x,f=o.y;return(l.x-u)*(i.y-f)-(l.y-f)*(i.x-u)}}class pl{constructor(i,o){this.bits=i,this.points=o}getBits(){return this.bits}getPoints(){return this.points}}class J0 extends pl{constructor(i,o,l,u,f){super(i,o),this.compact=l,this.nbDatablocks=u,this.nbLayers=f}getNbLayers(){return this.nbLayers}getNbDatablocks(){return this.nbDatablocks}isCompact(){return this.compact}}class kr{constructor(i,o,l,u){this.image=i,this.height=i.getHeight(),this.width=i.getWidth(),o==null&&(o=kr.INIT_SIZE),l==null&&(l=i.getWidth()/2|0),u==null&&(u=i.getHeight()/2|0);const f=o/2|0;if(this.leftInit=l-f,this.rightInit=l+f,this.upInit=u-f,this.downInit=u+f,this.upInit<0||this.leftInit<0||this.downInit>=this.height||this.rightInit>=this.width)throw new W}detect(){let i=this.leftInit,o=this.rightInit,l=this.upInit,u=this.downInit,f=!1,d=!0,m=!1,y=!1,C=!1,b=!1,I=!1;const D=this.width,P=this.height;for(;d;){d=!1;let B=!0;for(;(B||!y)&&o<D;)B=this.containsBlackPoint(l,u,o,!1),B?(o++,d=!0,y=!0):y||o++;if(o>=D){f=!0;break}let j=!0;for(;(j||!C)&&u<P;)j=this.containsBlackPoint(i,o,u,!0),j?(u++,d=!0,C=!0):C||u++;if(u>=P){f=!0;break}let V=!0;for(;(V||!b)&&i>=0;)V=this.containsBlackPoint(l,u,i,!1),V?(i--,d=!0,b=!0):b||i--;if(i<0){f=!0;break}let Z=!0;for(;(Z||!I)&&l>=0;)Z=this.containsBlackPoint(i,o,l,!0),Z?(l--,d=!0,I=!0):I||l--;if(l<0){f=!0;break}d&&(m=!0)}if(!f&&m){const B=o-i;let j=null;for(let ne=1;j===null&&ne<B;ne++)j=this.getBlackPointOnSegment(i,u-ne,i+ne,u);if(j==null)throw new W;let V=null;for(let ne=1;V===null&&ne<B;ne++)V=this.getBlackPointOnSegment(i,l+ne,i+ne,l);if(V==null)throw new W;let Z=null;for(let ne=1;Z===null&&ne<B;ne++)Z=this.getBlackPointOnSegment(o,l+ne,o-ne,l);if(Z==null)throw new W;let ee=null;for(let ne=1;ee===null&&ne<B;ne++)ee=this.getBlackPointOnSegment(o,u-ne,o-ne,u);if(ee==null)throw new W;return this.centerEdges(ee,j,Z,V)}else throw new W}getBlackPointOnSegment(i,o,l,u){const f=De.round(De.distance(i,o,l,u)),d=(l-i)/f,m=(u-o)/f,y=this.image;for(let C=0;C<f;C++){const b=De.round(i+C*d),I=De.round(o+C*m);if(y.get(b,I))return new he(b,I)}return null}centerEdges(i,o,l,u){const f=i.getX(),d=i.getY(),m=o.getX(),y=o.getY(),C=l.getX(),b=l.getY(),I=u.getX(),D=u.getY(),P=kr.CORR;return f<this.width/2?[new he(I-P,D+P),new he(m+P,y+P),new he(C-P,b-P),new he(f+P,d-P)]:[new he(I+P,D+P),new he(m+P,y-P),new he(C-P,b+P),new he(f-P,d-P)]}containsBlackPoint(i,o,l,u){const f=this.image;if(u){for(let d=i;d<=o;d++)if(f.get(d,l))return!0}else for(let d=i;d<=o;d++)if(f.get(l,d))return!0;return!1}}kr.INIT_SIZE=10,kr.CORR=1;class Ku{static checkAndNudgePoints(i,o){const l=i.getWidth(),u=i.getHeight();let f=!0;for(let d=0;d<o.length&&f;d+=2){const m=Math.floor(o[d]),y=Math.floor(o[d+1]);if(m<-1||m>l||y<-1||y>u)throw new W;f=!1,m===-1?(o[d]=0,f=!0):m===l&&(o[d]=l-1,f=!0),y===-1?(o[d+1]=0,f=!0):y===u&&(o[d+1]=u-1,f=!0)}f=!0;for(let d=o.length-2;d>=0&&f;d-=2){const m=Math.floor(o[d]),y=Math.floor(o[d+1]);if(m<-1||m>l||y<-1||y>u)throw new W;f=!1,m===-1?(o[d]=0,f=!0):m===l&&(o[d]=l-1,f=!0),y===-1?(o[d+1]=0,f=!0):y===u&&(o[d+1]=u-1,f=!0)}}}class nr{constructor(i,o,l,u,f,d,m,y,C){this.a11=i,this.a21=o,this.a31=l,this.a12=u,this.a22=f,this.a32=d,this.a13=m,this.a23=y,this.a33=C}static quadrilateralToQuadrilateral(i,o,l,u,f,d,m,y,C,b,I,D,P,B,j,V){const Z=nr.quadrilateralToSquare(i,o,l,u,f,d,m,y);return nr.squareToQuadrilateral(C,b,I,D,P,B,j,V).times(Z)}transformPoints(i){const o=i.length,l=this.a11,u=this.a12,f=this.a13,d=this.a21,m=this.a22,y=this.a23,C=this.a31,b=this.a32,I=this.a33;for(let D=0;D<o;D+=2){const P=i[D],B=i[D+1],j=f*P+y*B+I;i[D]=(l*P+d*B+C)/j,i[D+1]=(u*P+m*B+b)/j}}transformPointsWithValues(i,o){const l=this.a11,u=this.a12,f=this.a13,d=this.a21,m=this.a22,y=this.a23,C=this.a31,b=this.a32,I=this.a33,D=i.length;for(let P=0;P<D;P++){const B=i[P],j=o[P],V=f*B+y*j+I;i[P]=(l*B+d*j+C)/V,o[P]=(u*B+m*j+b)/V}}static squareToQuadrilateral(i,o,l,u,f,d,m,y){const C=i-l+f-m,b=o-u+d-y;if(C===0&&b===0)return new nr(l-i,f-l,i,u-o,d-u,o,0,0,1);{const I=l-f,D=m-f,P=u-d,B=y-d,j=I*B-D*P,V=(C*B-D*b)/j,Z=(I*b-C*P)/j;return new nr(l-i+V*l,m-i+Z*m,i,u-o+V*u,y-o+Z*y,o,V,Z,1)}}static quadrilateralToSquare(i,o,l,u,f,d,m,y){return nr.squareToQuadrilateral(i,o,l,u,f,d,m,y).buildAdjoint()}buildAdjoint(){return new nr(this.a22*this.a33-this.a23*this.a32,this.a23*this.a31-this.a21*this.a33,this.a21*this.a32-this.a22*this.a31,this.a13*this.a32-this.a12*this.a33,this.a11*this.a33-this.a13*this.a31,this.a12*this.a31-this.a11*this.a32,this.a12*this.a23-this.a13*this.a22,this.a13*this.a21-this.a11*this.a23,this.a11*this.a22-this.a12*this.a21)}times(i){return new nr(this.a11*i.a11+this.a21*i.a12+this.a31*i.a13,this.a11*i.a21+this.a21*i.a22+this.a31*i.a23,this.a11*i.a31+this.a21*i.a32+this.a31*i.a33,this.a12*i.a11+this.a22*i.a12+this.a32*i.a13,this.a12*i.a21+this.a22*i.a22+this.a32*i.a23,this.a12*i.a31+this.a22*i.a32+this.a32*i.a33,this.a13*i.a11+this.a23*i.a12+this.a33*i.a13,this.a13*i.a21+this.a23*i.a22+this.a33*i.a23,this.a13*i.a31+this.a23*i.a32+this.a33*i.a33)}}class e1 extends Ku{sampleGrid(i,o,l,u,f,d,m,y,C,b,I,D,P,B,j,V,Z,ee,ne){const $=nr.quadrilateralToQuadrilateral(u,f,d,m,y,C,b,I,D,P,B,j,V,Z,ee,ne);return this.sampleGridWithTransform(i,o,l,$)}sampleGridWithTransform(i,o,l,u){if(o<=0||l<=0)throw new W;const f=new Ee(o,l),d=new Float32Array(2*o);for(let m=0;m<l;m++){const y=d.length,C=m+.5;for(let b=0;b<y;b+=2)d[b]=b/2+.5,d[b+1]=C;u.transformPoints(d),Ku.checkAndNudgePoints(i,d);try{for(let b=0;b<y;b+=2)i.get(Math.floor(d[b]),Math.floor(d[b+1]))&&f.set(b/2,m)}catch{throw new W}}return f}}class ni{static setGridSampler(i){ni.gridSampler=i}static getInstance(){return ni.gridSampler}}ni.gridSampler=new e1;class rn{constructor(i,o){this.x=i,this.y=o}toResultPoint(){return new he(this.getX(),this.getY())}getX(){return this.x}getY(){return this.y}}class t1{constructor(i){this.EXPECTED_CORNER_BITS=new Int32Array([3808,476,2107,1799]),this.image=i}detect(){return this.detectMirror(!1)}detectMirror(i){let o=this.getMatrixCenter(),l=this.getBullsEyeCorners(o);if(i){let d=l[0];l[0]=l[2],l[2]=d}this.extractParameters(l);let u=this.sampleGrid(this.image,l[this.shift%4],l[(this.shift+1)%4],l[(this.shift+2)%4],l[(this.shift+3)%4]),f=this.getMatrixCornerPoints(l);return new J0(u,f,this.compact,this.nbDataBlocks,this.nbLayers)}extractParameters(i){if(!this.isValidPoint(i[0])||!this.isValidPoint(i[1])||!this.isValidPoint(i[2])||!this.isValidPoint(i[3]))throw new W;let o=2*this.nbCenterLayers,l=new Int32Array([this.sampleLine(i[0],i[1],o),this.sampleLine(i[1],i[2],o),this.sampleLine(i[2],i[3],o),this.sampleLine(i[3],i[0],o)]);this.shift=this.getRotation(l,o);let u=0;for(let d=0;d<4;d++){let m=l[(this.shift+d)%4];this.compact?(u<<=7,u+=m>>1&127):(u<<=10,u+=(m>>2&992)+(m>>1&31))}let f=this.getCorrectedParameterData(u,this.compact);this.compact?(this.nbLayers=(f>>6)+1,this.nbDataBlocks=(f&63)+1):(this.nbLayers=(f>>11)+1,this.nbDataBlocks=(f&2047)+1)}getRotation(i,o){let l=0;i.forEach((u,f,d)=>{let m=(u>>o-2<<1)+(u&1);l=(l<<3)+m}),l=((l&1)<<11)+(l>>1);for(let u=0;u<4;u++)if(N.bitCount(l^this.EXPECTED_CORNER_BITS[u])<=2)return u;throw new W}getCorrectedParameterData(i,o){let l,u;o?(l=7,u=2):(l=10,u=4);let f=l-u,d=new Int32Array(l);for(let y=l-1;y>=0;--y)d[y]=i&15,i>>=4;try{new Mo(Fe.AZTEC_PARAM).decode(d,f)}catch{throw new W}let m=0;for(let y=0;y<u;y++)m=(m<<4)+d[y];return m}getBullsEyeCorners(i){let o=i,l=i,u=i,f=i,d=!0;for(this.nbCenterLayers=1;this.nbCenterLayers<9;this.nbCenterLayers++){let I=this.getFirstDifferent(o,d,1,-1),D=this.getFirstDifferent(l,d,1,1),P=this.getFirstDifferent(u,d,-1,1),B=this.getFirstDifferent(f,d,-1,-1);if(this.nbCenterLayers>2){let j=this.distancePoint(B,I)*this.nbCenterLayers/(this.distancePoint(f,o)*(this.nbCenterLayers+2));if(j<.75||j>1.25||!this.isWhiteOrBlackRectangle(I,D,P,B))break}o=I,l=D,u=P,f=B,d=!d}if(this.nbCenterLayers!==5&&this.nbCenterLayers!==7)throw new W;this.compact=this.nbCenterLayers===5;let m=new he(o.getX()+.5,o.getY()-.5),y=new he(l.getX()+.5,l.getY()+.5),C=new he(u.getX()-.5,u.getY()+.5),b=new he(f.getX()-.5,f.getY()-.5);return this.expandSquare([m,y,C,b],2*this.nbCenterLayers-3,2*this.nbCenterLayers)}getMatrixCenter(){let i,o,l,u;try{let m=new kr(this.image).detect();i=m[0],o=m[1],l=m[2],u=m[3]}catch{let y=this.image.getWidth()/2,C=this.image.getHeight()/2;i=this.getFirstDifferent(new rn(y+7,C-7),!1,1,-1).toResultPoint(),o=this.getFirstDifferent(new rn(y+7,C+7),!1,1,1).toResultPoint(),l=this.getFirstDifferent(new rn(y-7,C+7),!1,-1,1).toResultPoint(),u=this.getFirstDifferent(new rn(y-7,C-7),!1,-1,-1).toResultPoint()}let f=De.round((i.getX()+u.getX()+o.getX()+l.getX())/4),d=De.round((i.getY()+u.getY()+o.getY()+l.getY())/4);try{let m=new kr(this.image,15,f,d).detect();i=m[0],o=m[1],l=m[2],u=m[3]}catch{i=this.getFirstDifferent(new rn(f+7,d-7),!1,1,-1).toResultPoint(),o=this.getFirstDifferent(new rn(f+7,d+7),!1,1,1).toResultPoint(),l=this.getFirstDifferent(new rn(f-7,d+7),!1,-1,1).toResultPoint(),u=this.getFirstDifferent(new rn(f-7,d-7),!1,-1,-1).toResultPoint()}return f=De.round((i.getX()+u.getX()+o.getX()+l.getX())/4),d=De.round((i.getY()+u.getY()+o.getY()+l.getY())/4),new rn(f,d)}getMatrixCornerPoints(i){return this.expandSquare(i,2*this.nbCenterLayers,this.getDimension())}sampleGrid(i,o,l,u,f){let d=ni.getInstance(),m=this.getDimension(),y=m/2-this.nbCenterLayers,C=m/2+this.nbCenterLayers;return d.sampleGrid(i,m,m,y,y,C,y,C,C,y,C,o.getX(),o.getY(),l.getX(),l.getY(),u.getX(),u.getY(),f.getX(),f.getY())}sampleLine(i,o,l){let u=0,f=this.distanceResultPoint(i,o),d=f/l,m=i.getX(),y=i.getY(),C=d*(o.getX()-i.getX())/f,b=d*(o.getY()-i.getY())/f;for(let I=0;I<l;I++)this.image.get(De.round(m+I*C),De.round(y+I*b))&&(u|=1<<l-I-1);return u}isWhiteOrBlackRectangle(i,o,l,u){let f=3;i=new rn(i.getX()-f,i.getY()+f),o=new rn(o.getX()-f,o.getY()-f),l=new rn(l.getX()+f,l.getY()-f),u=new rn(u.getX()+f,u.getY()+f);let d=this.getColor(u,i);if(d===0)return!1;let m=this.getColor(i,o);return m!==d||(m=this.getColor(o,l),m!==d)?!1:(m=this.getColor(l,u),m===d)}getColor(i,o){let l=this.distancePoint(i,o),u=(o.getX()-i.getX())/l,f=(o.getY()-i.getY())/l,d=0,m=i.getX(),y=i.getY(),C=this.image.get(i.getX(),i.getY()),b=Math.ceil(l);for(let D=0;D<b;D++)m+=u,y+=f,this.image.get(De.round(m),De.round(y))!==C&&d++;let I=d/l;return I>.1&&I<.9?0:I<=.1===C?1:-1}getFirstDifferent(i,o,l,u){let f=i.getX()+l,d=i.getY()+u;for(;this.isValid(f,d)&&this.image.get(f,d)===o;)f+=l,d+=u;for(f-=l,d-=u;this.isValid(f,d)&&this.image.get(f,d)===o;)f+=l;for(f-=l;this.isValid(f,d)&&this.image.get(f,d)===o;)d+=u;return d-=u,new rn(f,d)}expandSquare(i,o,l){let u=l/(2*o),f=i[0].getX()-i[2].getX(),d=i[0].getY()-i[2].getY(),m=(i[0].getX()+i[2].getX())/2,y=(i[0].getY()+i[2].getY())/2,C=new he(m+u*f,y+u*d),b=new he(m-u*f,y-u*d);f=i[1].getX()-i[3].getX(),d=i[1].getY()-i[3].getY(),m=(i[1].getX()+i[3].getX())/2,y=(i[1].getY()+i[3].getY())/2;let I=new he(m+u*f,y+u*d),D=new he(m-u*f,y-u*d);return[C,I,b,D]}isValid(i,o){return i>=0&&i<this.image.getWidth()&&o>0&&o<this.image.getHeight()}isValidPoint(i){let o=De.round(i.getX()),l=De.round(i.getY());return this.isValid(o,l)}distancePoint(i,o){return De.distance(i.getX(),i.getY(),o.getX(),o.getY())}distanceResultPoint(i,o){return De.distance(i.getX(),i.getY(),o.getX(),o.getY())}getDimension(){return this.compact?4*this.nbLayers+11:this.nbLayers<=4?4*this.nbLayers+15:4*this.nbLayers+2*(N.truncDivision(this.nbLayers-4,8)+1)+15}}class ml{decode(i,o=null){let l=null,u=new t1(i.getBlackMatrix()),f=null,d=null;try{let b=u.detectMirror(!1);f=b.getPoints(),this.reportFoundResultPoints(o,f),d=new qe().decode(b)}catch(b){l=b}if(d==null)try{let b=u.detectMirror(!0);f=b.getPoints(),this.reportFoundResultPoints(o,f),d=new qe().decode(b)}catch(b){throw l??b}let m=new Oe(d.getText(),d.getRawBytes(),d.getNumBits(),f,ce.AZTEC,R.currentTimeMillis()),y=d.getByteSegments();y!=null&&m.putMetadata(Dt.BYTE_SEGMENTS,y);let C=d.getECLevel();return C!=null&&m.putMetadata(Dt.ERROR_CORRECTION_LEVEL,C),m}reportFoundResultPoints(i,o){if(i!=null){let l=i.get(Y.NEED_RESULT_POINT_CALLBACK);l!=null&&o.forEach((u,f,d)=>{l.foundPossibleResultPoint(u)})}}reset(){}}class Kw extends At{constructor(i=500){super(new ml,i)}}class St{decode(i,o){try{return this.doDecode(i,o)}catch{if(o&&o.get(Y.TRY_HARDER)===!0&&i.isRotateSupported()){const f=i.rotateCounterClockwise(),d=this.doDecode(f,o),m=d.getResultMetadata();let y=270;m!==null&&m.get(Dt.ORIENTATION)===!0&&(y=y+m.get(Dt.ORIENTATION)%360),d.putMetadata(Dt.ORIENTATION,y);const C=d.getResultPoints();if(C!==null){const b=f.getHeight();for(let I=0;I<C.length;I++)C[I]=new he(b-C[I].getY()-1,C[I].getX())}return d}else throw new W}}reset(){}doDecode(i,o){const l=i.getWidth(),u=i.getHeight();let f=new L(l);const d=o&&o.get(Y.TRY_HARDER)===!0,m=Math.max(1,u>>(d?8:5));let y;d?y=u:y=15;const C=Math.trunc(u/2);for(let b=0;b<y;b++){const I=Math.trunc((b+1)/2),D=(b&1)===0,P=C+m*(D?I:-I);if(P<0||P>=u)break;try{f=i.getBlackRow(P,f)}catch{continue}for(let B=0;B<2;B++){if(B===1&&(f.reverse(),o&&o.get(Y.NEED_RESULT_POINT_CALLBACK)===!0)){const j=new Map;o.forEach((V,Z)=>j.set(Z,V)),j.delete(Y.NEED_RESULT_POINT_CALLBACK),o=j}try{const j=this.decodeRow(P,f,o);if(B===1){j.putMetadata(Dt.ORIENTATION,180);const V=j.getResultPoints();V!==null&&(V[0]=new he(l-V[0].getX()-1,V[0].getY()),V[1]=new he(l-V[1].getX()-1,V[1].getY()))}return j}catch{}}}throw new W}static recordPattern(i,o,l){const u=l.length;for(let C=0;C<u;C++)l[C]=0;const f=i.getSize();if(o>=f)throw new W;let d=!i.get(o),m=0,y=o;for(;y<f;){if(i.get(y)!==d)l[m]++;else{if(++m===u)break;l[m]=1,d=!d}y++}if(!(m===u||m===u-1&&y===f))throw new W}static recordPatternInReverse(i,o,l){let u=l.length,f=i.get(o);for(;o>0&&u>=0;)i.get(--o)!==f&&(u--,f=!f);if(u>=0)throw new W;St.recordPattern(i,o+1,l)}static patternMatchVariance(i,o,l){const u=i.length;let f=0,d=0;for(let C=0;C<u;C++)f+=i[C],d+=o[C];if(f<d)return Number.POSITIVE_INFINITY;const m=f/d;l*=m;let y=0;for(let C=0;C<u;C++){const b=i[C],I=o[C]*m,D=b>I?b-I:I-b;if(D>l)return Number.POSITIVE_INFINITY;y+=D}return y/f}}class se extends St{static findStartPattern(i){const o=i.getSize(),l=i.getNextSet(0);let u=0,f=Int32Array.from([0,0,0,0,0,0]),d=l,m=!1;const y=6;for(let C=l;C<o;C++)if(i.get(C)!==m)f[u]++;else{if(u===y-1){let b=se.MAX_AVG_VARIANCE,I=-1;for(let D=se.CODE_START_A;D<=se.CODE_START_C;D++){const P=St.patternMatchVariance(f,se.CODE_PATTERNS[D],se.MAX_INDIVIDUAL_VARIANCE);P<b&&(b=P,I=D)}if(I>=0&&i.isRange(Math.max(0,d-(C-d)/2),d,!1))return Int32Array.from([d,C,I]);d+=f[0]+f[1],f=f.slice(2,f.length-1),f[u-1]=0,f[u]=0,u--}else u++;f[u]=1,m=!m}throw new W}static decodeCode(i,o,l){St.recordPattern(i,l,o);let u=se.MAX_AVG_VARIANCE,f=-1;for(let d=0;d<se.CODE_PATTERNS.length;d++){const m=se.CODE_PATTERNS[d],y=this.patternMatchVariance(o,m,se.MAX_INDIVIDUAL_VARIANCE);y<u&&(u=y,f=d)}if(f>=0)return f;throw new W}decodeRow(i,o,l){const u=l&&l.get(Y.ASSUME_GS1)===!0,f=se.findStartPattern(o),d=f[2];let m=0;const y=new Uint8Array(20);y[m++]=d;let C;switch(d){case se.CODE_START_A:C=se.CODE_CODE_A;break;case se.CODE_START_B:C=se.CODE_CODE_B;break;case se.CODE_START_C:C=se.CODE_CODE_C;break;default:throw new F}let b=!1,I=!1,D="",P=f[0],B=f[1];const j=Int32Array.from([0,0,0,0,0,0]);let V=0,Z=0,ee=d,ne=0,$=!0,Me=!1,Ae=!1;for(;!b;){const Ps=I;switch(I=!1,V=Z,Z=se.decodeCode(o,j,B),y[m++]=Z,Z!==se.CODE_STOP&&($=!0),Z!==se.CODE_STOP&&(ne++,ee+=ne*Z),P=B,B+=j.reduce((vC,_C)=>vC+_C,0),Z){case se.CODE_START_A:case se.CODE_START_B:case se.CODE_START_C:throw new F}switch(C){case se.CODE_CODE_A:if(Z<64)Ae===Me?D+=String.fromCharCode(32+Z):D+=String.fromCharCode(32+Z+128),Ae=!1;else if(Z<96)Ae===Me?D+=String.fromCharCode(Z-64):D+=String.fromCharCode(Z+64),Ae=!1;else switch(Z!==se.CODE_STOP&&($=!1),Z){case se.CODE_FNC_1:u&&(D.length===0?D+="]C1":D+="");break;case se.CODE_FNC_2:case se.CODE_FNC_3:break;case se.CODE_FNC_4_A:!Me&&Ae?(Me=!0,Ae=!1):Me&&Ae?(Me=!1,Ae=!1):Ae=!0;break;case se.CODE_SHIFT:I=!0,C=se.CODE_CODE_B;break;case se.CODE_CODE_B:C=se.CODE_CODE_B;break;case se.CODE_CODE_C:C=se.CODE_CODE_C;break;case se.CODE_STOP:b=!0;break}break;case se.CODE_CODE_B:if(Z<96)Ae===Me?D+=String.fromCharCode(32+Z):D+=String.fromCharCode(32+Z+128),Ae=!1;else switch(Z!==se.CODE_STOP&&($=!1),Z){case se.CODE_FNC_1:u&&(D.length===0?D+="]C1":D+="");break;case se.CODE_FNC_2:case se.CODE_FNC_3:break;case se.CODE_FNC_4_B:!Me&&Ae?(Me=!0,Ae=!1):Me&&Ae?(Me=!1,Ae=!1):Ae=!0;break;case se.CODE_SHIFT:I=!0,C=se.CODE_CODE_A;break;case se.CODE_CODE_A:C=se.CODE_CODE_A;break;case se.CODE_CODE_C:C=se.CODE_CODE_C;break;case se.CODE_STOP:b=!0;break}break;case se.CODE_CODE_C:if(Z<100)Z<10&&(D+="0"),D+=Z;else switch(Z!==se.CODE_STOP&&($=!1),Z){case se.CODE_FNC_1:u&&(D.length===0?D+="]C1":D+="");break;case se.CODE_CODE_A:C=se.CODE_CODE_A;break;case se.CODE_CODE_B:C=se.CODE_CODE_B;break;case se.CODE_STOP:b=!0;break}break}Ps&&(C=C===se.CODE_CODE_A?se.CODE_CODE_B:se.CODE_CODE_A)}const gn=B-P;if(B=o.getNextUnset(B),!o.isRange(B,Math.min(o.getSize(),B+(B-P)/2),!1))throw new W;if(ee-=ne*V,ee%103!==V)throw new S;const ir=D.length;if(ir===0)throw new W;ir>0&&$&&(C===se.CODE_CODE_C?D=D.substring(0,ir-2):D=D.substring(0,ir-1));const pn=(f[1]+f[0])/2,Ke=P+gn/2,Ht=y.length,_n=new Uint8Array(Ht);for(let Ps=0;Ps<Ht;Ps++)_n[Ps]=y[Ps];const Ls=[new he(pn,i),new he(Ke,i)];return new Oe(D,_n,0,Ls,ce.CODE_128,new Date().getTime())}}se.CODE_PATTERNS=[Int32Array.from([2,1,2,2,2,2]),Int32Array.from([2,2,2,1,2,2]),Int32Array.from([2,2,2,2,2,1]),Int32Array.from([1,2,1,2,2,3]),Int32Array.from([1,2,1,3,2,2]),Int32Array.from([1,3,1,2,2,2]),Int32Array.from([1,2,2,2,1,3]),Int32Array.from([1,2,2,3,1,2]),Int32Array.from([1,3,2,2,1,2]),Int32Array.from([2,2,1,2,1,3]),Int32Array.from([2,2,1,3,1,2]),Int32Array.from([2,3,1,2,1,2]),Int32Array.from([1,1,2,2,3,2]),Int32Array.from([1,2,2,1,3,2]),Int32Array.from([1,2,2,2,3,1]),Int32Array.from([1,1,3,2,2,2]),Int32Array.from([1,2,3,1,2,2]),Int32Array.from([1,2,3,2,2,1]),Int32Array.from([2,2,3,2,1,1]),Int32Array.from([2,2,1,1,3,2]),Int32Array.from([2,2,1,2,3,1]),Int32Array.from([2,1,3,2,1,2]),Int32Array.from([2,2,3,1,1,2]),Int32Array.from([3,1,2,1,3,1]),Int32Array.from([3,1,1,2,2,2]),Int32Array.from([3,2,1,1,2,2]),Int32Array.from([3,2,1,2,2,1]),Int32Array.from([3,1,2,2,1,2]),Int32Array.from([3,2,2,1,1,2]),Int32Array.from([3,2,2,2,1,1]),Int32Array.from([2,1,2,1,2,3]),Int32Array.from([2,1,2,3,2,1]),Int32Array.from([2,3,2,1,2,1]),Int32Array.from([1,1,1,3,2,3]),Int32Array.from([1,3,1,1,2,3]),Int32Array.from([1,3,1,3,2,1]),Int32Array.from([1,1,2,3,1,3]),Int32Array.from([1,3,2,1,1,3]),Int32Array.from([1,3,2,3,1,1]),Int32Array.from([2,1,1,3,1,3]),Int32Array.from([2,3,1,1,1,3]),Int32Array.from([2,3,1,3,1,1]),Int32Array.from([1,1,2,1,3,3]),Int32Array.from([1,1,2,3,3,1]),Int32Array.from([1,3,2,1,3,1]),Int32Array.from([1,1,3,1,2,3]),Int32Array.from([1,1,3,3,2,1]),Int32Array.from([1,3,3,1,2,1]),Int32Array.from([3,1,3,1,2,1]),Int32Array.from([2,1,1,3,3,1]),Int32Array.from([2,3,1,1,3,1]),Int32Array.from([2,1,3,1,1,3]),Int32Array.from([2,1,3,3,1,1]),Int32Array.from([2,1,3,1,3,1]),Int32Array.from([3,1,1,1,2,3]),Int32Array.from([3,1,1,3,2,1]),Int32Array.from([3,3,1,1,2,1]),Int32Array.from([3,1,2,1,1,3]),Int32Array.from([3,1,2,3,1,1]),Int32Array.from([3,3,2,1,1,1]),Int32Array.from([3,1,4,1,1,1]),Int32Array.from([2,2,1,4,1,1]),Int32Array.from([4,3,1,1,1,1]),Int32Array.from([1,1,1,2,2,4]),Int32Array.from([1,1,1,4,2,2]),Int32Array.from([1,2,1,1,2,4]),Int32Array.from([1,2,1,4,2,1]),Int32Array.from([1,4,1,1,2,2]),Int32Array.from([1,4,1,2,2,1]),Int32Array.from([1,1,2,2,1,4]),Int32Array.from([1,1,2,4,1,2]),Int32Array.from([1,2,2,1,1,4]),Int32Array.from([1,2,2,4,1,1]),Int32Array.from([1,4,2,1,1,2]),Int32Array.from([1,4,2,2,1,1]),Int32Array.from([2,4,1,2,1,1]),Int32Array.from([2,2,1,1,1,4]),Int32Array.from([4,1,3,1,1,1]),Int32Array.from([2,4,1,1,1,2]),Int32Array.from([1,3,4,1,1,1]),Int32Array.from([1,1,1,2,4,2]),Int32Array.from([1,2,1,1,4,2]),Int32Array.from([1,2,1,2,4,1]),Int32Array.from([1,1,4,2,1,2]),Int32Array.from([1,2,4,1,1,2]),Int32Array.from([1,2,4,2,1,1]),Int32Array.from([4,1,1,2,1,2]),Int32Array.from([4,2,1,1,1,2]),Int32Array.from([4,2,1,2,1,1]),Int32Array.from([2,1,2,1,4,1]),Int32Array.from([2,1,4,1,2,1]),Int32Array.from([4,1,2,1,2,1]),Int32Array.from([1,1,1,1,4,3]),Int32Array.from([1,1,1,3,4,1]),Int32Array.from([1,3,1,1,4,1]),Int32Array.from([1,1,4,1,1,3]),Int32Array.from([1,1,4,3,1,1]),Int32Array.from([4,1,1,1,1,3]),Int32Array.from([4,1,1,3,1,1]),Int32Array.from([1,1,3,1,4,1]),Int32Array.from([1,1,4,1,3,1]),Int32Array.from([3,1,1,1,4,1]),Int32Array.from([4,1,1,1,3,1]),Int32Array.from([2,1,1,4,1,2]),Int32Array.from([2,1,1,2,1,4]),Int32Array.from([2,1,1,2,3,2]),Int32Array.from([2,3,3,1,1,1,2])],se.MAX_AVG_VARIANCE=.25,se.MAX_INDIVIDUAL_VARIANCE=.7,se.CODE_SHIFT=98,se.CODE_CODE_C=99,se.CODE_CODE_B=100,se.CODE_CODE_A=101,se.CODE_FNC_1=102,se.CODE_FNC_2=97,se.CODE_FNC_3=96,se.CODE_FNC_4_A=101,se.CODE_FNC_4_B=100,se.CODE_START_A=103,se.CODE_START_B=104,se.CODE_START_C=105,se.CODE_STOP=106;class It extends St{constructor(i=!1,o=!1){super(),this.usingCheckDigit=i,this.extendedMode=o,this.decodeRowResult="",this.counters=new Int32Array(9)}decodeRow(i,o,l){let u=this.counters;u.fill(0),this.decodeRowResult="";let f=It.findAsteriskPattern(o,u),d=o.getNextSet(f[1]),m=o.getSize(),y,C;do{It.recordPattern(o,d,u);let j=It.toNarrowWidePattern(u);if(j<0)throw new W;y=It.patternToChar(j),this.decodeRowResult+=y,C=d;for(let V of u)d+=V;d=o.getNextSet(d)}while(y!=="*");this.decodeRowResult=this.decodeRowResult.substring(0,this.decodeRowResult.length-1);let b=0;for(let j of u)b+=j;let I=d-C-b;if(d!==m&&I*2<b)throw new W;if(this.usingCheckDigit){let j=this.decodeRowResult.length-1,V=0;for(let Z=0;Z<j;Z++)V+=It.ALPHABET_STRING.indexOf(this.decodeRowResult.charAt(Z));if(this.decodeRowResult.charAt(j)!==It.ALPHABET_STRING.charAt(V%43))throw new S;this.decodeRowResult=this.decodeRowResult.substring(0,j)}if(this.decodeRowResult.length===0)throw new W;let D;this.extendedMode?D=It.decodeExtended(this.decodeRowResult):D=this.decodeRowResult;let P=(f[1]+f[0])/2,B=C+b/2;return new Oe(D,null,0,[new he(P,i),new he(B,i)],ce.CODE_39,new Date().getTime())}static findAsteriskPattern(i,o){let l=i.getSize(),u=i.getNextSet(0),f=0,d=u,m=!1,y=o.length;for(let C=u;C<l;C++)if(i.get(C)!==m)o[f]++;else{if(f===y-1){if(this.toNarrowWidePattern(o)===It.ASTERISK_ENCODING&&i.isRange(Math.max(0,d-Math.floor((C-d)/2)),d,!1))return[d,C];d+=o[0]+o[1],o.copyWithin(0,2,2+f-1),o[f-1]=0,o[f]=0,f--}else f++;o[f]=1,m=!m}throw new W}static toNarrowWidePattern(i){let o=i.length,l=0,u;do{let f=2147483647;for(let y of i)y<f&&y>l&&(f=y);l=f,u=0;let d=0,m=0;for(let y=0;y<o;y++){let C=i[y];C>l&&(m|=1<<o-1-y,u++,d+=C)}if(u===3){for(let y=0;y<o&&u>0;y++){let C=i[y];if(C>l&&(u--,C*2>=d))return-1}return m}}while(u>3);return-1}static patternToChar(i){for(let o=0;o<It.CHARACTER_ENCODINGS.length;o++)if(It.CHARACTER_ENCODINGS[o]===i)return It.ALPHABET_STRING.charAt(o);if(i===It.ASTERISK_ENCODING)return"*";throw new W}static decodeExtended(i){let o=i.length,l="";for(let u=0;u<o;u++){let f=i.charAt(u);if(f==="+"||f==="$"||f==="%"||f==="/"){let d=i.charAt(u+1),m="\0";switch(f){case"+":if(d>="A"&&d<="Z")m=String.fromCharCode(d.charCodeAt(0)+32);else throw new F;break;case"$":if(d>="A"&&d<="Z")m=String.fromCharCode(d.charCodeAt(0)-64);else throw new F;break;case"%":if(d>="A"&&d<="E")m=String.fromCharCode(d.charCodeAt(0)-38);else if(d>="F"&&d<="J")m=String.fromCharCode(d.charCodeAt(0)-11);else if(d>="K"&&d<="O")m=String.fromCharCode(d.charCodeAt(0)+16);else if(d>="P"&&d<="T")m=String.fromCharCode(d.charCodeAt(0)+43);else if(d==="U")m="\0";else if(d==="V")m="@";else if(d==="W")m="`";else if(d==="X"||d==="Y"||d==="Z")m="";else throw new F;break;case"/":if(d>="A"&&d<="O")m=String.fromCharCode(d.charCodeAt(0)-32);else if(d==="Z")m=":";else throw new F;break}l+=m,u++}else l+=f}return l}}It.ALPHABET_STRING="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ-. $/+%",It.CHARACTER_ENCODINGS=[52,289,97,352,49,304,112,37,292,100,265,73,328,25,280,88,13,268,76,28,259,67,322,19,274,82,7,262,70,22,385,193,448,145,400,208,133,388,196,168,162,138,42],It.ASTERISK_ENCODING=148;class Qe extends St{constructor(){super(...arguments),this.narrowLineWidth=-1}decodeRow(i,o,l){let u=this.decodeStart(o),f=this.decodeEnd(o),d=new me;Qe.decodeMiddle(o,u[1],f[0],d);let m=d.toString(),y=null;l!=null&&(y=l.get(Y.ALLOWED_LENGTHS)),y==null&&(y=Qe.DEFAULT_ALLOWED_LENGTHS);let C=m.length,b=!1,I=0;for(let B of y){if(C===B){b=!0;break}B>I&&(I=B)}if(!b&&C>I&&(b=!0),!b)throw new F;const D=[new he(u[1],i),new he(f[0],i)];return new Oe(m,null,0,D,ce.ITF,new Date().getTime())}static decodeMiddle(i,o,l,u){let f=new Int32Array(10),d=new Int32Array(5),m=new Int32Array(5);for(f.fill(0),d.fill(0),m.fill(0);o<l;){St.recordPattern(i,o,f);for(let C=0;C<5;C++){let b=2*C;d[C]=f[b],m[C]=f[b+1]}let y=Qe.decodeDigit(d);u.append(y.toString()),y=this.decodeDigit(m),u.append(y.toString()),f.forEach(function(C){o+=C})}}decodeStart(i){let o=Qe.skipWhiteSpace(i),l=Qe.findGuardPattern(i,o,Qe.START_PATTERN);return this.narrowLineWidth=(l[1]-l[0])/4,this.validateQuietZone(i,l[0]),l}validateQuietZone(i,o){let l=this.narrowLineWidth*10;l=l<o?l:o;for(let u=o-1;l>0&&u>=0&&!i.get(u);u--)l--;if(l!==0)throw new W}static skipWhiteSpace(i){const o=i.getSize(),l=i.getNextSet(0);if(l===o)throw new W;return l}decodeEnd(i){i.reverse();try{let o=Qe.skipWhiteSpace(i),l;try{l=Qe.findGuardPattern(i,o,Qe.END_PATTERN_REVERSED[0])}catch(f){f instanceof W&&(l=Qe.findGuardPattern(i,o,Qe.END_PATTERN_REVERSED[1]))}this.validateQuietZone(i,l[0]);let u=l[0];return l[0]=i.getSize()-l[1],l[1]=i.getSize()-u,l}finally{i.reverse()}}static findGuardPattern(i,o,l){let u=l.length,f=new Int32Array(u),d=i.getSize(),m=!1,y=0,C=o;f.fill(0);for(let b=o;b<d;b++)if(i.get(b)!==m)f[y]++;else{if(y===u-1){if(St.patternMatchVariance(f,l,Qe.MAX_INDIVIDUAL_VARIANCE)<Qe.MAX_AVG_VARIANCE)return[C,b];C+=f[0]+f[1],R.arraycopy(f,2,f,0,y-1),f[y-1]=0,f[y]=0,y--}else y++;f[y]=1,m=!m}throw new W}static decodeDigit(i){let o=Qe.MAX_AVG_VARIANCE,l=-1,u=Qe.PATTERNS.length;for(let f=0;f<u;f++){let d=Qe.PATTERNS[f],m=St.patternMatchVariance(i,d,Qe.MAX_INDIVIDUAL_VARIANCE);m<o?(o=m,l=f):m===o&&(l=-1)}if(l>=0)return l%10;throw new W}}Qe.PATTERNS=[Int32Array.from([1,1,2,2,1]),Int32Array.from([2,1,1,1,2]),Int32Array.from([1,2,1,1,2]),Int32Array.from([2,2,1,1,1]),Int32Array.from([1,1,2,1,2]),Int32Array.from([2,1,2,1,1]),Int32Array.from([1,2,2,1,1]),Int32Array.from([1,1,1,2,2]),Int32Array.from([2,1,1,2,1]),Int32Array.from([1,2,1,2,1]),Int32Array.from([1,1,3,3,1]),Int32Array.from([3,1,1,1,3]),Int32Array.from([1,3,1,1,3]),Int32Array.from([3,3,1,1,1]),Int32Array.from([1,1,3,1,3]),Int32Array.from([3,1,3,1,1]),Int32Array.from([1,3,3,1,1]),Int32Array.from([1,1,1,3,3]),Int32Array.from([3,1,1,3,1]),Int32Array.from([1,3,1,3,1])],Qe.MAX_AVG_VARIANCE=.38,Qe.MAX_INDIVIDUAL_VARIANCE=.5,Qe.DEFAULT_ALLOWED_LENGTHS=[6,8,10,12,14],Qe.START_PATTERN=Int32Array.from([1,1,1,1]),Qe.END_PATTERN_REVERSED=[Int32Array.from([1,1,2]),Int32Array.from([1,1,3])];class dt extends St{constructor(){super(...arguments),this.decodeRowStringBuffer=""}static findStartGuardPattern(i){let o=!1,l,u=0,f=Int32Array.from([0,0,0]);for(;!o;){f=Int32Array.from([0,0,0]),l=dt.findGuardPattern(i,u,!1,this.START_END_PATTERN,f);let d=l[0];u=l[1];let m=d-(u-d);m>=0&&(o=i.isRange(m,d,!1))}return l}static checkChecksum(i){return dt.checkStandardUPCEANChecksum(i)}static checkStandardUPCEANChecksum(i){let o=i.length;if(o===0)return!1;let l=parseInt(i.charAt(o-1),10);return dt.getStandardUPCEANChecksum(i.substring(0,o-1))===l}static getStandardUPCEANChecksum(i){let o=i.length,l=0;for(let u=o-1;u>=0;u-=2){let f=i.charAt(u).charCodeAt(0)-48;if(f<0||f>9)throw new F;l+=f}l*=3;for(let u=o-2;u>=0;u-=2){let f=i.charAt(u).charCodeAt(0)-48;if(f<0||f>9)throw new F;l+=f}return(1e3-l)%10}static decodeEnd(i,o){return dt.findGuardPattern(i,o,!1,dt.START_END_PATTERN,new Int32Array(dt.START_END_PATTERN.length).fill(0))}static findGuardPatternWithoutCounters(i,o,l,u){return this.findGuardPattern(i,o,l,u,new Int32Array(u.length))}static findGuardPattern(i,o,l,u,f){let d=i.getSize();o=l?i.getNextUnset(o):i.getNextSet(o);let m=0,y=o,C=u.length,b=l;for(let I=o;I<d;I++)if(i.get(I)!==b)f[m]++;else{if(m===C-1){if(St.patternMatchVariance(f,u,dt.MAX_INDIVIDUAL_VARIANCE)<dt.MAX_AVG_VARIANCE)return Int32Array.from([y,I]);y+=f[0]+f[1];let D=f.slice(2,f.length-1);for(let P=0;P<m-1;P++)f[P]=D[P];f[m-1]=0,f[m]=0,m--}else m++;f[m]=1,b=!b}throw new W}static decodeDigit(i,o,l,u){this.recordPattern(i,l,o);let f=this.MAX_AVG_VARIANCE,d=-1,m=u.length;for(let y=0;y<m;y++){let C=u[y],b=St.patternMatchVariance(o,C,dt.MAX_INDIVIDUAL_VARIANCE);b<f&&(f=b,d=y)}if(d>=0)return d;throw new W}}dt.MAX_AVG_VARIANCE=.48,dt.MAX_INDIVIDUAL_VARIANCE=.7,dt.START_END_PATTERN=Int32Array.from([1,1,1]),dt.MIDDLE_PATTERN=Int32Array.from([1,1,1,1,1]),dt.END_PATTERN=Int32Array.from([1,1,1,1,1,1]),dt.L_PATTERNS=[Int32Array.from([3,2,1,1]),Int32Array.from([2,2,2,1]),Int32Array.from([2,1,2,2]),Int32Array.from([1,4,1,1]),Int32Array.from([1,1,3,2]),Int32Array.from([1,2,3,1]),Int32Array.from([1,1,1,4]),Int32Array.from([1,3,1,2]),Int32Array.from([1,2,1,3]),Int32Array.from([3,1,1,2])];class Ro{constructor(){this.CHECK_DIGIT_ENCODINGS=[24,20,18,17,12,6,3,10,9,5],this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}decodeRow(i,o,l){let u=this.decodeRowStringBuffer,f=this.decodeMiddle(o,l,u),d=u.toString(),m=Ro.parseExtensionString(d),y=[new he((l[0]+l[1])/2,i),new he(f,i)],C=new Oe(d,null,0,y,ce.UPC_EAN_EXTENSION,new Date().getTime());return m!=null&&C.putAllMetadata(m),C}decodeMiddle(i,o,l){let u=this.decodeMiddleCounters;u[0]=0,u[1]=0,u[2]=0,u[3]=0;let f=i.getSize(),d=o[1],m=0;for(let C=0;C<5&&d<f;C++){let b=dt.decodeDigit(i,u,d,dt.L_AND_G_PATTERNS);l+=String.fromCharCode(48+b%10);for(let I of u)d+=I;b>=10&&(m|=1<<4-C),C!==4&&(d=i.getNextSet(d),d=i.getNextUnset(d))}if(l.length!==5)throw new W;let y=this.determineCheckDigit(m);if(Ro.extensionChecksum(l.toString())!==y)throw new W;return d}static extensionChecksum(i){let o=i.length,l=0;for(let u=o-2;u>=0;u-=2)l+=i.charAt(u).charCodeAt(0)-48;l*=3;for(let u=o-1;u>=0;u-=2)l+=i.charAt(u).charCodeAt(0)-48;return l*=3,l%10}determineCheckDigit(i){for(let o=0;o<10;o++)if(i===this.CHECK_DIGIT_ENCODINGS[o])return o;throw new W}static parseExtensionString(i){if(i.length!==5)return null;let o=Ro.parseExtension5String(i);return o==null?null:new Map([[Dt.SUGGESTED_PRICE,o]])}static parseExtension5String(i){let o;switch(i.charAt(0)){case"0":o="£";break;case"5":o="$";break;case"9":switch(i){case"90000":return null;case"99991":return"0.00";case"99990":return"Used"}o="";break;default:o="";break}let l=parseInt(i.substring(1)),u=(l/100).toString(),f=l%100,d=f<10?"0"+f:f.toString();return o+u+"."+d}}class qu{constructor(){this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}decodeRow(i,o,l){let u=this.decodeRowStringBuffer,f=this.decodeMiddle(o,l,u),d=u.toString(),m=qu.parseExtensionString(d),y=[new he((l[0]+l[1])/2,i),new he(f,i)],C=new Oe(d,null,0,y,ce.UPC_EAN_EXTENSION,new Date().getTime());return m!=null&&C.putAllMetadata(m),C}decodeMiddle(i,o,l){let u=this.decodeMiddleCounters;u[0]=0,u[1]=0,u[2]=0,u[3]=0;let f=i.getSize(),d=o[1],m=0;for(let y=0;y<2&&d<f;y++){let C=dt.decodeDigit(i,u,d,dt.L_AND_G_PATTERNS);l+=String.fromCharCode(48+C%10);for(let b of u)d+=b;C>=10&&(m|=1<<1-y),y!==1&&(d=i.getNextSet(d),d=i.getNextUnset(d))}if(l.length!==2)throw new W;if(parseInt(l.toString())%4!==m)throw new W;return d}static parseExtensionString(i){return i.length!==2?null:new Map([[Dt.ISSUE_NUMBER,parseInt(i)]])}}class n1{static decodeRow(i,o,l){let u=dt.findGuardPattern(o,l,!1,this.EXTENSION_START_PATTERN,new Int32Array(this.EXTENSION_START_PATTERN.length).fill(0));try{return new Ro().decodeRow(i,o,u)}catch{return new qu().decodeRow(i,o,u)}}}n1.EXTENSION_START_PATTERN=Int32Array.from([1,1,2]);class je extends dt{constructor(){super(),this.decodeRowStringBuffer="",je.L_AND_G_PATTERNS=je.L_PATTERNS.map(i=>Int32Array.from(i));for(let i=10;i<20;i++){let o=je.L_PATTERNS[i-10],l=new Int32Array(o.length);for(let u=0;u<o.length;u++)l[u]=o[o.length-u-1];je.L_AND_G_PATTERNS[i]=l}}decodeRow(i,o,l){let u=je.findStartGuardPattern(o),f=l==null?null:l.get(Y.NEED_RESULT_POINT_CALLBACK);if(f!=null){const $=new he((u[0]+u[1])/2,i);f.foundPossibleResultPoint($)}let d=this.decodeMiddle(o,u,this.decodeRowStringBuffer),m=d.rowOffset,y=d.resultString;if(f!=null){const $=new he(m,i);f.foundPossibleResultPoint($)}let C=this.decodeEnd(o,m);if(f!=null){const $=new he((C[0]+C[1])/2,i);f.foundPossibleResultPoint($)}let b=C[1],I=b+(b-C[0]);if(I>=o.getSize()||!o.isRange(b,I,!1))throw new W;let D=y.toString();if(D.length<8)throw new F;if(!je.checkChecksum(D))throw new S;let P=(u[1]+u[0])/2,B=(C[1]+C[0])/2,j=this.getBarcodeFormat(),V=[new he(P,i),new he(B,i)],Z=new Oe(D,null,0,V,j,new Date().getTime()),ee=0;try{let $=n1.decodeRow(i,o,C[1]);Z.putMetadata(Dt.UPC_EAN_EXTENSION,$.getText()),Z.putAllMetadata($.getResultMetadata()),Z.addResultPoints($.getResultPoints()),ee=$.getText().length}catch{}let ne=l==null?null:l.get(Y.ALLOWED_EAN_EXTENSIONS);if(ne!=null){let $=!1;for(let Me in ne)if(ee.toString()===Me){$=!0;break}if(!$)throw new W}return Z}decodeEnd(i,o){return je.findGuardPattern(i,o,!1,je.START_END_PATTERN,new Int32Array(je.START_END_PATTERN.length).fill(0))}static checkChecksum(i){return je.checkStandardUPCEANChecksum(i)}static checkStandardUPCEANChecksum(i){let o=i.length;if(o===0)return!1;let l=parseInt(i.charAt(o-1),10);return je.getStandardUPCEANChecksum(i.substring(0,o-1))===l}static getStandardUPCEANChecksum(i){let o=i.length,l=0;for(let u=o-1;u>=0;u-=2){let f=i.charAt(u).charCodeAt(0)-48;if(f<0||f>9)throw new F;l+=f}l*=3;for(let u=o-2;u>=0;u-=2){let f=i.charAt(u).charCodeAt(0)-48;if(f<0||f>9)throw new F;l+=f}return(1e3-l)%10}}class Wi extends je{constructor(){super(),this.decodeMiddleCounters=Int32Array.from([0,0,0,0])}decodeMiddle(i,o,l){let u=this.decodeMiddleCounters;u[0]=0,u[1]=0,u[2]=0,u[3]=0;let f=i.getSize(),d=o[1],m=0;for(let C=0;C<6&&d<f;C++){let b=je.decodeDigit(i,u,d,je.L_AND_G_PATTERNS);l+=String.fromCharCode(48+b%10);for(let I of u)d+=I;b>=10&&(m|=1<<5-C)}l=Wi.determineFirstDigit(l,m),d=je.findGuardPattern(i,d,!0,je.MIDDLE_PATTERN,new Int32Array(je.MIDDLE_PATTERN.length).fill(0))[1];for(let C=0;C<6&&d<f;C++){let b=je.decodeDigit(i,u,d,je.L_PATTERNS);l+=String.fromCharCode(48+b);for(let I of u)d+=I}return{rowOffset:d,resultString:l}}getBarcodeFormat(){return ce.EAN_13}static determineFirstDigit(i,o){for(let l=0;l<10;l++)if(o===this.FIRST_DIGIT_ENCODINGS[l])return i=String.fromCharCode(48+l)+i,i;throw new W}}Wi.FIRST_DIGIT_ENCODINGS=[0,11,13,14,19,25,28,21,22,26];class r1 extends je{constructor(){super(),this.decodeMiddleCounters=Int32Array.from([0,0,0,0])}decodeMiddle(i,o,l){const u=this.decodeMiddleCounters;u[0]=0,u[1]=0,u[2]=0,u[3]=0;let f=i.getSize(),d=o[1];for(let y=0;y<4&&d<f;y++){let C=je.decodeDigit(i,u,d,je.L_PATTERNS);l+=String.fromCharCode(48+C);for(let b of u)d+=b}d=je.findGuardPattern(i,d,!0,je.MIDDLE_PATTERN,new Int32Array(je.MIDDLE_PATTERN.length).fill(0))[1];for(let y=0;y<4&&d<f;y++){let C=je.decodeDigit(i,u,d,je.L_PATTERNS);l+=String.fromCharCode(48+C);for(let b of u)d+=b}return{rowOffset:d,resultString:l}}getBarcodeFormat(){return ce.EAN_8}}class i1 extends je{constructor(){super(...arguments),this.ean13Reader=new Wi}getBarcodeFormat(){return ce.UPC_A}decode(i,o){return this.maybeReturnResult(this.ean13Reader.decode(i))}decodeRow(i,o,l){return this.maybeReturnResult(this.ean13Reader.decodeRow(i,o,l))}decodeMiddle(i,o,l){return this.ean13Reader.decodeMiddle(i,o,l)}maybeReturnResult(i){let o=i.getText();if(o.charAt(0)==="0"){let l=new Oe(o.substring(1),null,null,i.getResultPoints(),ce.UPC_A);return i.getResultMetadata()!=null&&l.putAllMetadata(i.getResultMetadata()),l}else throw new W}reset(){this.ean13Reader.reset()}}class rr extends je{constructor(){super(),this.decodeMiddleCounters=new Int32Array(4)}decodeMiddle(i,o,l){const u=this.decodeMiddleCounters.map(C=>C);u[0]=0,u[1]=0,u[2]=0,u[3]=0;const f=i.getSize();let d=o[1],m=0;for(let C=0;C<6&&d<f;C++){const b=rr.decodeDigit(i,u,d,rr.L_AND_G_PATTERNS);l+=String.fromCharCode(48+b%10);for(let I of u)d+=I;b>=10&&(m|=1<<5-C)}let y=rr.determineNumSysAndCheckDigit(l,m);return{rowOffset:d,resultString:y}}decodeEnd(i,o){return rr.findGuardPatternWithoutCounters(i,o,!0,rr.MIDDLE_END_PATTERN)}checkChecksum(i){return je.checkChecksum(rr.convertUPCEtoUPCA(i))}static determineNumSysAndCheckDigit(i,o){for(let l=0;l<=1;l++)for(let u=0;u<10;u++)if(o===this.NUMSYS_AND_CHECK_DIGIT_PATTERNS[l][u]){let f=String.fromCharCode(48+l),d=String.fromCharCode(48+u);return f+i+d}throw W.getNotFoundInstance()}getBarcodeFormat(){return ce.UPC_E}static convertUPCEtoUPCA(i){const o=i.slice(1,7).split("").map(f=>f.charCodeAt(0)),l=new me;l.append(i.charAt(0));let u=o[5];switch(u){case 0:case 1:case 2:l.appendChars(o,0,2),l.append(u),l.append("0000"),l.appendChars(o,2,3);break;case 3:l.appendChars(o,0,3),l.append("00000"),l.appendChars(o,3,2);break;case 4:l.appendChars(o,0,4),l.append("00000"),l.append(o[4]);break;default:l.appendChars(o,0,5),l.append("0000"),l.append(u);break}return i.length>=8&&l.append(i.charAt(7)),l.toString()}}rr.MIDDLE_END_PATTERN=Int32Array.from([1,1,1,1,1,1]),rr.NUMSYS_AND_CHECK_DIGIT_PATTERNS=[Int32Array.from([56,52,50,49,44,38,35,42,41,37]),Int32Array.from([7,11,13,14,19,25,28,21,22,26])];class $u extends St{constructor(i){super();let o=i==null?null:i.get(Y.POSSIBLE_FORMATS),l=[];r(o)?(l.push(new Wi),l.push(new i1),l.push(new r1),l.push(new rr)):(o.indexOf(ce.EAN_13)>-1&&l.push(new Wi),o.indexOf(ce.UPC_A)>-1&&l.push(new i1),o.indexOf(ce.EAN_8)>-1&&l.push(new r1),o.indexOf(ce.UPC_E)>-1&&l.push(new rr)),this.readers=l}decodeRow(i,o,l){for(let u of this.readers)try{const f=u.decodeRow(i,o,l),d=f.getBarcodeFormat()===ce.EAN_13&&f.getText().charAt(0)==="0",m=l==null?null:l.get(Y.POSSIBLE_FORMATS),y=m==null||m.includes(ce.UPC_A);if(d&&y){const C=f.getRawBytes(),b=new Oe(f.getText().substring(1),C,C?C.length:null,f.getResultPoints(),ce.UPC_A);return b.putAllMetadata(f.getResultMetadata()),b}return f}catch{}throw new W}reset(){for(let i of this.readers)i.reset()}}class Zt extends St{constructor(){super(),this.decodeFinderCounters=new Int32Array(4),this.dataCharacterCounters=new Int32Array(8),this.oddRoundingErrors=new Array(4),this.evenRoundingErrors=new Array(4),this.oddCounts=new Array(this.dataCharacterCounters.length/2),this.evenCounts=new Array(this.dataCharacterCounters.length/2)}getDecodeFinderCounters(){return this.decodeFinderCounters}getDataCharacterCounters(){return this.dataCharacterCounters}getOddRoundingErrors(){return this.oddRoundingErrors}getEvenRoundingErrors(){return this.evenRoundingErrors}getOddCounts(){return this.oddCounts}getEvenCounts(){return this.evenCounts}parseFinderValue(i,o){for(let l=0;l<o.length;l++)if(St.patternMatchVariance(i,o[l],Zt.MAX_INDIVIDUAL_VARIANCE)<Zt.MAX_AVG_VARIANCE)return l;throw new W}static count(i){return De.sum(new Int32Array(i))}static increment(i,o){let l=0,u=o[0];for(let f=1;f<i.length;f++)o[f]>u&&(u=o[f],l=f);i[l]++}static decrement(i,o){let l=0,u=o[0];for(let f=1;f<i.length;f++)o[f]<u&&(u=o[f],l=f);i[l]--}static isFinderPattern(i){let o=i[0]+i[1],l=o+i[2]+i[3],u=o/l;if(u>=Zt.MIN_FINDER_PATTERN_RATIO&&u<=Zt.MAX_FINDER_PATTERN_RATIO){let f=Number.MAX_SAFE_INTEGER,d=Number.MIN_SAFE_INTEGER;for(let m of i)m>d&&(d=m),m<f&&(f=m);return d<10*f}return!1}}Zt.MAX_AVG_VARIANCE=.2,Zt.MAX_INDIVIDUAL_VARIANCE=.45,Zt.MIN_FINDER_PATTERN_RATIO=9.5/12,Zt.MAX_FINDER_PATTERN_RATIO=12.5/14;class Ts{constructor(i,o){this.value=i,this.checksumPortion=o}getValue(){return this.value}getChecksumPortion(){return this.checksumPortion}toString(){return this.value+"("+this.checksumPortion+")"}equals(i){if(!(i instanceof Ts))return!1;const o=i;return this.value===o.value&&this.checksumPortion===o.checksumPortion}hashCode(){return this.value^this.checksumPortion}}class xl{constructor(i,o,l,u,f){this.value=i,this.startEnd=o,this.value=i,this.startEnd=o,this.resultPoints=new Array,this.resultPoints.push(new he(l,f)),this.resultPoints.push(new he(u,f))}getValue(){return this.value}getStartEnd(){return this.startEnd}getResultPoints(){return this.resultPoints}equals(i){if(!(i instanceof xl))return!1;const o=i;return this.value===o.value}hashCode(){return this.value}}class yr{constructor(){}static getRSSvalue(i,o,l){let u=0;for(let y of i)u+=y;let f=0,d=0,m=i.length;for(let y=0;y<m-1;y++){let C;for(C=1,d|=1<<y;C<i[y];C++,d&=~(1<<y)){let b=yr.combins(u-C-1,m-y-2);if(l&&d===0&&u-C-(m-y-1)>=m-y-1&&(b-=yr.combins(u-C-(m-y),m-y-2)),m-y-1>1){let I=0;for(let D=u-C-(m-y-2);D>o;D--)I+=yr.combins(u-C-D-1,m-y-3);b-=I*(m-1-y)}else u-C>o&&b--;f+=b}u-=C}return f}static combins(i,o){let l,u;i-o>o?(u=o,l=i-o):(u=i-o,l=o);let f=1,d=1;for(let m=i;m>l;m--)f*=m,d<=u&&(f/=d,d++);for(;d<=u;)f/=d,d++;return f}}class qw{static buildBitArray(i){let o=i.length*2-1;i[i.length-1].getRightChar()==null&&(o-=1);let l=12*o,u=new L(l),f=0,m=i[0].getRightChar().getValue();for(let y=11;y>=0;--y)m&1<<y&&u.set(f),f++;for(let y=1;y<i.length;++y){let C=i[y],b=C.getLeftChar().getValue();for(let I=11;I>=0;--I)b&1<<I&&u.set(f),f++;if(C.getRightChar()!=null){let I=C.getRightChar().getValue();for(let D=11;D>=0;--D)I&1<<D&&u.set(f),f++}}return u}}class Vi{constructor(i,o){o?this.decodedInformation=null:(this.finished=i,this.decodedInformation=o)}getDecodedInformation(){return this.decodedInformation}isFinished(){return this.finished}}class Ju{constructor(i){this.newPosition=i}getNewPosition(){return this.newPosition}}class fn extends Ju{constructor(i,o){super(i),this.value=o}getValue(){return this.value}isFNC1(){return this.value===fn.FNC1}}fn.FNC1="$";class Yi extends Ju{constructor(i,o,l){super(i),l?(this.remaining=!0,this.remainingValue=this.remainingValue):(this.remaining=!1,this.remainingValue=0),this.newString=o}getNewString(){return this.newString}isRemaining(){return this.remaining}getRemainingValue(){return this.remainingValue}}class zn extends Ju{constructor(i,o,l){if(super(i),o<0||o>10||l<0||l>10)throw new F;this.firstDigit=o,this.secondDigit=l}getFirstDigit(){return this.firstDigit}getSecondDigit(){return this.secondDigit}getValue(){return this.firstDigit*10+this.secondDigit}isFirstDigitFNC1(){return this.firstDigit===zn.FNC1}isSecondDigitFNC1(){return this.secondDigit===zn.FNC1}isAnyFNC1(){return this.firstDigit===zn.FNC1||this.secondDigit===zn.FNC1}}zn.FNC1=10;class ue{constructor(){}static parseFieldsInGeneralPurpose(i){if(!i)return null;if(i.length<2)throw new W;let o=i.substring(0,2);for(let f of ue.TWO_DIGIT_DATA_LENGTH)if(f[0]===o)return f[1]===ue.VARIABLE_LENGTH?ue.processVariableAI(2,f[2],i):ue.processFixedAI(2,f[1],i);if(i.length<3)throw new W;let l=i.substring(0,3);for(let f of ue.THREE_DIGIT_DATA_LENGTH)if(f[0]===l)return f[1]===ue.VARIABLE_LENGTH?ue.processVariableAI(3,f[2],i):ue.processFixedAI(3,f[1],i);for(let f of ue.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH)if(f[0]===l)return f[1]===ue.VARIABLE_LENGTH?ue.processVariableAI(4,f[2],i):ue.processFixedAI(4,f[1],i);if(i.length<4)throw new W;let u=i.substring(0,4);for(let f of ue.FOUR_DIGIT_DATA_LENGTH)if(f[0]===u)return f[1]===ue.VARIABLE_LENGTH?ue.processVariableAI(4,f[2],i):ue.processFixedAI(4,f[1],i);throw new W}static processFixedAI(i,o,l){if(l.length<i)throw new W;let u=l.substring(0,i);if(l.length<i+o)throw new W;let f=l.substring(i,i+o),d=l.substring(i+o),m="("+u+")"+f,y=ue.parseFieldsInGeneralPurpose(d);return y==null?m:m+y}static processVariableAI(i,o,l){let u=l.substring(0,i),f;l.length<i+o?f=l.length:f=i+o;let d=l.substring(i,f),m=l.substring(f),y="("+u+")"+d,C=ue.parseFieldsInGeneralPurpose(m);return C==null?y:y+C}}ue.VARIABLE_LENGTH=[],ue.TWO_DIGIT_DATA_LENGTH=[["00",18],["01",14],["02",14],["10",ue.VARIABLE_LENGTH,20],["11",6],["12",6],["13",6],["15",6],["17",6],["20",2],["21",ue.VARIABLE_LENGTH,20],["22",ue.VARIABLE_LENGTH,29],["30",ue.VARIABLE_LENGTH,8],["37",ue.VARIABLE_LENGTH,8],["90",ue.VARIABLE_LENGTH,30],["91",ue.VARIABLE_LENGTH,30],["92",ue.VARIABLE_LENGTH,30],["93",ue.VARIABLE_LENGTH,30],["94",ue.VARIABLE_LENGTH,30],["95",ue.VARIABLE_LENGTH,30],["96",ue.VARIABLE_LENGTH,30],["97",ue.VARIABLE_LENGTH,3],["98",ue.VARIABLE_LENGTH,30],["99",ue.VARIABLE_LENGTH,30]],ue.THREE_DIGIT_DATA_LENGTH=[["240",ue.VARIABLE_LENGTH,30],["241",ue.VARIABLE_LENGTH,30],["242",ue.VARIABLE_LENGTH,6],["250",ue.VARIABLE_LENGTH,30],["251",ue.VARIABLE_LENGTH,30],["253",ue.VARIABLE_LENGTH,17],["254",ue.VARIABLE_LENGTH,20],["400",ue.VARIABLE_LENGTH,30],["401",ue.VARIABLE_LENGTH,30],["402",17],["403",ue.VARIABLE_LENGTH,30],["410",13],["411",13],["412",13],["413",13],["414",13],["420",ue.VARIABLE_LENGTH,20],["421",ue.VARIABLE_LENGTH,15],["422",3],["423",ue.VARIABLE_LENGTH,15],["424",3],["425",3],["426",3]],ue.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH=[["310",6],["311",6],["312",6],["313",6],["314",6],["315",6],["316",6],["320",6],["321",6],["322",6],["323",6],["324",6],["325",6],["326",6],["327",6],["328",6],["329",6],["330",6],["331",6],["332",6],["333",6],["334",6],["335",6],["336",6],["340",6],["341",6],["342",6],["343",6],["344",6],["345",6],["346",6],["347",6],["348",6],["349",6],["350",6],["351",6],["352",6],["353",6],["354",6],["355",6],["356",6],["357",6],["360",6],["361",6],["362",6],["363",6],["364",6],["365",6],["366",6],["367",6],["368",6],["369",6],["390",ue.VARIABLE_LENGTH,15],["391",ue.VARIABLE_LENGTH,18],["392",ue.VARIABLE_LENGTH,15],["393",ue.VARIABLE_LENGTH,18],["703",ue.VARIABLE_LENGTH,30]],ue.FOUR_DIGIT_DATA_LENGTH=[["7001",13],["7002",ue.VARIABLE_LENGTH,30],["7003",10],["8001",14],["8002",ue.VARIABLE_LENGTH,20],["8003",ue.VARIABLE_LENGTH,30],["8004",ue.VARIABLE_LENGTH,30],["8005",6],["8006",18],["8007",ue.VARIABLE_LENGTH,30],["8008",ue.VARIABLE_LENGTH,12],["8018",18],["8020",ue.VARIABLE_LENGTH,25],["8100",6],["8101",10],["8102",2],["8110",ue.VARIABLE_LENGTH,70],["8200",ue.VARIABLE_LENGTH,70]];class Ns{constructor(i){this.buffer=new me,this.information=i}decodeAllCodes(i,o){let l=o,u=null;do{let f=this.decodeGeneralPurposeField(l,u),d=ue.parseFieldsInGeneralPurpose(f.getNewString());if(d!=null&&i.append(d),f.isRemaining()?u=""+f.getRemainingValue():u=null,l===f.getNewPosition())break;l=f.getNewPosition()}while(!0);return i.toString()}isStillNumeric(i){if(i+7>this.information.getSize())return i+4<=this.information.getSize();for(let o=i;o<i+3;++o)if(this.information.get(o))return!0;return this.information.get(i+3)}decodeNumeric(i){if(i+7>this.information.getSize()){let f=this.extractNumericValueFromBitArray(i,4);return f===0?new zn(this.information.getSize(),zn.FNC1,zn.FNC1):new zn(this.information.getSize(),f-1,zn.FNC1)}let o=this.extractNumericValueFromBitArray(i,7),l=(o-8)/11,u=(o-8)%11;return new zn(i+7,l,u)}extractNumericValueFromBitArray(i,o){return Ns.extractNumericValueFromBitArray(this.information,i,o)}static extractNumericValueFromBitArray(i,o,l){let u=0;for(let f=0;f<l;++f)i.get(o+f)&&(u|=1<<l-f-1);return u}decodeGeneralPurposeField(i,o){this.buffer.setLengthToZero(),o!=null&&this.buffer.append(o),this.current.setPosition(i);let l=this.parseBlocks();return l!=null&&l.isRemaining()?new Yi(this.current.getPosition(),this.buffer.toString(),l.getRemainingValue()):new Yi(this.current.getPosition(),this.buffer.toString())}parseBlocks(){let i,o;do{let l=this.current.getPosition();if(this.current.isAlpha()?(o=this.parseAlphaBlock(),i=o.isFinished()):this.current.isIsoIec646()?(o=this.parseIsoIec646Block(),i=o.isFinished()):(o=this.parseNumericBlock(),i=o.isFinished()),!(l!==this.current.getPosition())&&!i)break}while(!i);return o.getDecodedInformation()}parseNumericBlock(){for(;this.isStillNumeric(this.current.getPosition());){let i=this.decodeNumeric(this.current.getPosition());if(this.current.setPosition(i.getNewPosition()),i.isFirstDigitFNC1()){let o;return i.isSecondDigitFNC1()?o=new Yi(this.current.getPosition(),this.buffer.toString()):o=new Yi(this.current.getPosition(),this.buffer.toString(),i.getSecondDigit()),new Vi(!0,o)}if(this.buffer.append(i.getFirstDigit()),i.isSecondDigitFNC1()){let o=new Yi(this.current.getPosition(),this.buffer.toString());return new Vi(!0,o)}this.buffer.append(i.getSecondDigit())}return this.isNumericToAlphaNumericLatch(this.current.getPosition())&&(this.current.setAlpha(),this.current.incrementPosition(4)),new Vi(!1)}parseIsoIec646Block(){for(;this.isStillIsoIec646(this.current.getPosition());){let i=this.decodeIsoIec646(this.current.getPosition());if(this.current.setPosition(i.getNewPosition()),i.isFNC1()){let o=new Yi(this.current.getPosition(),this.buffer.toString());return new Vi(!0,o)}this.buffer.append(i.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setAlpha()),new Vi(!1)}parseAlphaBlock(){for(;this.isStillAlpha(this.current.getPosition());){let i=this.decodeAlphanumeric(this.current.getPosition());if(this.current.setPosition(i.getNewPosition()),i.isFNC1()){let o=new Yi(this.current.getPosition(),this.buffer.toString());return new Vi(!0,o)}this.buffer.append(i.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setIsoIec646()),new Vi(!1)}isStillIsoIec646(i){if(i+5>this.information.getSize())return!1;let o=this.extractNumericValueFromBitArray(i,5);if(o>=5&&o<16)return!0;if(i+7>this.information.getSize())return!1;let l=this.extractNumericValueFromBitArray(i,7);if(l>=64&&l<116)return!0;if(i+8>this.information.getSize())return!1;let u=this.extractNumericValueFromBitArray(i,8);return u>=232&&u<253}decodeIsoIec646(i){let o=this.extractNumericValueFromBitArray(i,5);if(o===15)return new fn(i+5,fn.FNC1);if(o>=5&&o<15)return new fn(i+5,"0"+(o-5));let l=this.extractNumericValueFromBitArray(i,7);if(l>=64&&l<90)return new fn(i+7,""+(l+1));if(l>=90&&l<116)return new fn(i+7,""+(l+7));let u=this.extractNumericValueFromBitArray(i,8),f;switch(u){case 232:f="!";break;case 233:f='"';break;case 234:f="%";break;case 235:f="&";break;case 236:f="'";break;case 237:f="(";break;case 238:f=")";break;case 239:f="*";break;case 240:f="+";break;case 241:f=",";break;case 242:f="-";break;case 243:f=".";break;case 244:f="/";break;case 245:f=":";break;case 246:f=";";break;case 247:f="<";break;case 248:f="=";break;case 249:f=">";break;case 250:f="?";break;case 251:f="_";break;case 252:f=" ";break;default:throw new F}return new fn(i+8,f)}isStillAlpha(i){if(i+5>this.information.getSize())return!1;let o=this.extractNumericValueFromBitArray(i,5);if(o>=5&&o<16)return!0;if(i+6>this.information.getSize())return!1;let l=this.extractNumericValueFromBitArray(i,6);return l>=16&&l<63}decodeAlphanumeric(i){let o=this.extractNumericValueFromBitArray(i,5);if(o===15)return new fn(i+5,fn.FNC1);if(o>=5&&o<15)return new fn(i+5,"0"+(o-5));let l=this.extractNumericValueFromBitArray(i,6);if(l>=32&&l<58)return new fn(i+6,""+(l+33));let u;switch(l){case 58:u="*";break;case 59:u=",";break;case 60:u="-";break;case 61:u=".";break;case 62:u="/";break;default:throw new xr("Decoding invalid alphanumeric value: "+l)}return new fn(i+6,u)}isAlphaTo646ToAlphaLatch(i){if(i+1>this.information.getSize())return!1;for(let o=0;o<5&&o+i<this.information.getSize();++o)if(o===2){if(!this.information.get(i+2))return!1}else if(this.information.get(i+o))return!1;return!0}isAlphaOr646ToNumericLatch(i){if(i+3>this.information.getSize())return!1;for(let o=i;o<i+3;++o)if(this.information.get(o))return!1;return!0}isNumericToAlphaNumericLatch(i){if(i+1>this.information.getSize())return!1;for(let o=0;o<4&&o+i<this.information.getSize();++o)if(this.information.get(i+o))return!1;return!0}}class ef{constructor(i){this.information=i,this.generalDecoder=new Ns(i)}getInformation(){return this.information}getGeneralDecoder(){return this.generalDecoder}}class dn extends ef{constructor(i){super(i)}encodeCompressedGtin(i,o){i.append("(01)");let l=i.length();i.append("9"),this.encodeCompressedGtinWithoutAI(i,o,l)}encodeCompressedGtinWithoutAI(i,o,l){for(let u=0;u<4;++u){let f=this.getGeneralDecoder().extractNumericValueFromBitArray(o+10*u,10);f/100===0&&i.append("0"),f/10===0&&i.append("0"),i.append(f)}dn.appendCheckDigit(i,l)}static appendCheckDigit(i,o){let l=0;for(let u=0;u<13;u++){let f=i.charAt(u+o).charCodeAt(0)-48;l+=u&1?f:3*f}l=10-l%10,l===10&&(l=0),i.append(l)}}dn.GTIN_SIZE=40;class Ms extends dn{constructor(i){super(i)}parseInformation(){let i=new me;i.append("(01)");let o=i.length(),l=this.getGeneralDecoder().extractNumericValueFromBitArray(Ms.HEADER_SIZE,4);return i.append(l),this.encodeCompressedGtinWithoutAI(i,Ms.HEADER_SIZE+4,o),this.getGeneralDecoder().decodeAllCodes(i,Ms.HEADER_SIZE+44)}}Ms.HEADER_SIZE=4;class yl extends ef{constructor(i){super(i)}parseInformation(){let i=new me;return this.getGeneralDecoder().decodeAllCodes(i,yl.HEADER_SIZE)}}yl.HEADER_SIZE=5;class wl extends dn{constructor(i){super(i)}encodeCompressedWeight(i,o,l){let u=this.getGeneralDecoder().extractNumericValueFromBitArray(o,l);this.addWeightCode(i,u);let f=this.checkWeight(u),d=1e5;for(let m=0;m<5;++m)f/d===0&&i.append("0"),d/=10;i.append(f)}}class wr extends wl{constructor(i){super(i)}parseInformation(){if(this.getInformation().getSize()!=wr.HEADER_SIZE+wl.GTIN_SIZE+wr.WEIGHT_SIZE)throw new W;let i=new me;return this.encodeCompressedGtin(i,wr.HEADER_SIZE),this.encodeCompressedWeight(i,wr.HEADER_SIZE+wl.GTIN_SIZE,wr.WEIGHT_SIZE),i.toString()}}wr.HEADER_SIZE=5,wr.WEIGHT_SIZE=15;class $w extends wr{constructor(i){super(i)}addWeightCode(i,o){i.append("(3103)")}checkWeight(i){return i}}class Jw extends wr{constructor(i){super(i)}addWeightCode(i,o){o<1e4?i.append("(3202)"):i.append("(3203)")}checkWeight(i){return i<1e4?i:i-1e4}}class Cr extends dn{constructor(i){super(i)}parseInformation(){if(this.getInformation().getSize()<Cr.HEADER_SIZE+dn.GTIN_SIZE)throw new W;let i=new me;this.encodeCompressedGtin(i,Cr.HEADER_SIZE);let o=this.getGeneralDecoder().extractNumericValueFromBitArray(Cr.HEADER_SIZE+dn.GTIN_SIZE,Cr.LAST_DIGIT_SIZE);i.append("(392"),i.append(o),i.append(")");let l=this.getGeneralDecoder().decodeGeneralPurposeField(Cr.HEADER_SIZE+dn.GTIN_SIZE+Cr.LAST_DIGIT_SIZE,null);return i.append(l.getNewString()),i.toString()}}Cr.HEADER_SIZE=8,Cr.LAST_DIGIT_SIZE=2;class sn extends dn{constructor(i){super(i)}parseInformation(){if(this.getInformation().getSize()<sn.HEADER_SIZE+dn.GTIN_SIZE)throw new W;let i=new me;this.encodeCompressedGtin(i,sn.HEADER_SIZE);let o=this.getGeneralDecoder().extractNumericValueFromBitArray(sn.HEADER_SIZE+dn.GTIN_SIZE,sn.LAST_DIGIT_SIZE);i.append("(393"),i.append(o),i.append(")");let l=this.getGeneralDecoder().extractNumericValueFromBitArray(sn.HEADER_SIZE+dn.GTIN_SIZE+sn.LAST_DIGIT_SIZE,sn.FIRST_THREE_DIGITS_SIZE);l/100==0&&i.append("0"),l/10==0&&i.append("0"),i.append(l);let u=this.getGeneralDecoder().decodeGeneralPurposeField(sn.HEADER_SIZE+dn.GTIN_SIZE+sn.LAST_DIGIT_SIZE+sn.FIRST_THREE_DIGITS_SIZE,null);return i.append(u.getNewString()),i.toString()}}sn.HEADER_SIZE=8,sn.LAST_DIGIT_SIZE=2,sn.FIRST_THREE_DIGITS_SIZE=10;class st extends wl{constructor(i,o,l){super(i),this.dateCode=l,this.firstAIdigits=o}parseInformation(){if(this.getInformation().getSize()!=st.HEADER_SIZE+st.GTIN_SIZE+st.WEIGHT_SIZE+st.DATE_SIZE)throw new W;let i=new me;return this.encodeCompressedGtin(i,st.HEADER_SIZE),this.encodeCompressedWeight(i,st.HEADER_SIZE+st.GTIN_SIZE,st.WEIGHT_SIZE),this.encodeCompressedDate(i,st.HEADER_SIZE+st.GTIN_SIZE+st.WEIGHT_SIZE),i.toString()}encodeCompressedDate(i,o){let l=this.getGeneralDecoder().extractNumericValueFromBitArray(o,st.DATE_SIZE);if(l==38400)return;i.append("("),i.append(this.dateCode),i.append(")");let u=l%32;l/=32;let f=l%12+1;l/=12;let d=l;d/10==0&&i.append("0"),i.append(d),f/10==0&&i.append("0"),i.append(f),u/10==0&&i.append("0"),i.append(u)}addWeightCode(i,o){i.append("("),i.append(this.firstAIdigits),i.append(o/1e5),i.append(")")}checkWeight(i){return i%1e5}}st.HEADER_SIZE=8,st.WEIGHT_SIZE=20,st.DATE_SIZE=16;function s1(_){try{if(_.get(1))return new Ms(_);if(!_.get(2))return new yl(_);switch(Ns.extractNumericValueFromBitArray(_,1,4)){case 4:return new $w(_);case 5:return new Jw(_)}switch(Ns.extractNumericValueFromBitArray(_,1,5)){case 12:return new Cr(_);case 13:return new sn(_)}switch(Ns.extractNumericValueFromBitArray(_,1,7)){case 56:return new st(_,"310","11");case 57:return new st(_,"320","11");case 58:return new st(_,"310","13");case 59:return new st(_,"320","13");case 60:return new st(_,"310","15");case 61:return new st(_,"320","15");case 62:return new st(_,"310","17");case 63:return new st(_,"320","17")}}catch(i){throw console.log(i),new xr("unknown decoder: "+_)}}class ri{constructor(i,o,l,u){this.leftchar=i,this.rightchar=o,this.finderpattern=l,this.maybeLast=u}mayBeLast(){return this.maybeLast}getLeftChar(){return this.leftchar}getRightChar(){return this.rightchar}getFinderPattern(){return this.finderpattern}mustBeLast(){return this.rightchar==null}toString(){return"[ "+this.leftchar+", "+this.rightchar+" : "+(this.finderpattern==null?"null":this.finderpattern.getValue())+" ]"}static equals(i,o){return i instanceof ri?ri.equalsOrNull(i.leftchar,o.leftchar)&&ri.equalsOrNull(i.rightchar,o.rightchar)&&ri.equalsOrNull(i.finderpattern,o.finderpattern):!1}static equalsOrNull(i,o){return i===null?o===null:ri.equals(i,o)}hashCode(){return this.leftchar.getValue()^this.rightchar.getValue()^this.finderpattern.getValue()}}class tf{constructor(i,o,l){this.pairs=i,this.rowNumber=o,this.wasReversed=l}getPairs(){return this.pairs}getRowNumber(){return this.rowNumber}isReversed(){return this.wasReversed}isEquivalent(i){return this.checkEqualitity(this,i)}toString(){return"{ "+this.pairs+" }"}equals(i,o){return i instanceof tf?this.checkEqualitity(i,o)&&i.wasReversed===o.wasReversed:!1}checkEqualitity(i,o){if(!i||!o)return;let l;return i.forEach((u,f)=>{o.forEach(d=>{u.getLeftChar().getValue()===d.getLeftChar().getValue()&&u.getRightChar().getValue()===d.getRightChar().getValue()&&u.getFinderPatter().getValue()===d.getFinderPatter().getValue()&&(l=!0)})}),l}}class q extends Zt{constructor(i){super(...arguments),this.pairs=new Array(q.MAX_PAIRS),this.rows=new Array,this.startEnd=[2],this.verbose=i===!0}decodeRow(i,o,l){this.pairs.length=0,this.startFromEven=!1;try{return q.constructResult(this.decodeRow2pairs(i,o))}catch(u){this.verbose&&console.log(u)}return this.pairs.length=0,this.startFromEven=!0,q.constructResult(this.decodeRow2pairs(i,o))}reset(){this.pairs.length=0,this.rows.length=0}decodeRow2pairs(i,o){let l=!1;for(;!l;)try{this.pairs.push(this.retrieveNextPair(o,this.pairs,i))}catch(f){if(f instanceof W){if(!this.pairs.length)throw new W;l=!0}}if(this.checkChecksum())return this.pairs;let u;if(this.rows.length?u=!0:u=!1,this.storeRow(i,!1),u){let f=this.checkRowsBoolean(!1);if(f!=null||(f=this.checkRowsBoolean(!0),f!=null))return f}throw new W}checkRowsBoolean(i){if(this.rows.length>25)return this.rows.length=0,null;this.pairs.length=0,i&&(this.rows=this.rows.reverse());let o=null;try{o=this.checkRows(new Array,0)}catch(l){this.verbose&&console.log(l)}return i&&(this.rows=this.rows.reverse()),o}checkRows(i,o){for(let l=o;l<this.rows.length;l++){let u=this.rows[l];this.pairs.length=0;for(let d of i)this.pairs.push(d.getPairs());if(this.pairs.push(u.getPairs()),!q.isValidSequence(this.pairs))continue;if(this.checkChecksum())return this.pairs;let f=new Array(i);f.push(u);try{return this.checkRows(f,l+1)}catch(d){this.verbose&&console.log(d)}}throw new W}static isValidSequence(i){for(let o of q.FINDER_PATTERN_SEQUENCES){if(i.length>o.length)continue;let l=!0;for(let u=0;u<i.length;u++)if(i[u].getFinderPattern().getValue()!=o[u]){l=!1;break}if(l)return!0}return!1}storeRow(i,o){let l=0,u=!1,f=!1;for(;l<this.rows.length;){let d=this.rows[l];if(d.getRowNumber()>i){f=d.isEquivalent(this.pairs);break}u=d.isEquivalent(this.pairs),l++}f||u||q.isPartialRow(this.pairs,this.rows)||(this.rows.push(l,new tf(this.pairs,i,o)),this.removePartialRows(this.pairs,this.rows))}removePartialRows(i,o){for(let l of o)if(l.getPairs().length!==i.length){for(let u of l.getPairs())for(let f of i)if(ri.equals(u,f))break}}static isPartialRow(i,o){for(let l of o){let u=!0;for(let f of i){let d=!1;for(let m of l.getPairs())if(f.equals(m)){d=!0;break}if(!d){u=!1;break}}if(u)return!0}return!1}getRows(){return this.rows}static constructResult(i){let o=qw.buildBitArray(i),u=s1(o).parseInformation(),f=i[0].getFinderPattern().getResultPoints(),d=i[i.length-1].getFinderPattern().getResultPoints(),m=[f[0],f[1],d[0],d[1]];return new Oe(u,null,null,m,ce.RSS_EXPANDED,null)}checkChecksum(){let i=this.pairs.get(0),o=i.getLeftChar(),l=i.getRightChar();if(l==null)return!1;let u=l.getChecksumPortion(),f=2;for(let m=1;m<this.pairs.size();++m){let y=this.pairs.get(m);u+=y.getLeftChar().getChecksumPortion(),f++;let C=y.getRightChar();C!=null&&(u+=C.getChecksumPortion(),f++)}return u%=211,211*(f-4)+u==o.getValue()}static getNextSecondBar(i,o){let l;return i.get(o)?(l=i.getNextUnset(o),l=i.getNextSet(l)):(l=i.getNextSet(o),l=i.getNextUnset(l)),l}retrieveNextPair(i,o,l){let u=o.length%2==0;this.startFromEven&&(u=!u);let f,d=!0,m=-1;do this.findNextPair(i,o,m),f=this.parseFoundFinderPattern(i,l,u),f==null?m=q.getNextSecondBar(i,this.startEnd[0]):d=!1;while(d);let y=this.decodeDataCharacter(i,f,u,!0);if(!this.isEmptyPair(o)&&o[o.length-1].mustBeLast())throw new W;let C;try{C=this.decodeDataCharacter(i,f,u,!1)}catch(b){C=null,this.verbose&&console.log(b)}return new ri(y,C,f,!0)}isEmptyPair(i){return i.length===0}findNextPair(i,o,l){let u=this.getDecodeFinderCounters();u[0]=0,u[1]=0,u[2]=0,u[3]=0;let f=i.getSize(),d;l>=0?d=l:this.isEmptyPair(o)?d=0:d=o[o.length-1].getFinderPattern().getStartEnd()[1];let m=o.length%2!=0;this.startFromEven&&(m=!m);let y=!1;for(;d<f&&(y=!i.get(d),!!y);)d++;let C=0,b=d;for(let I=d;I<f;I++)if(i.get(I)!=y)u[C]++;else{if(C==3){if(m&&q.reverseCounters(u),q.isFinderPattern(u)){this.startEnd[0]=b,this.startEnd[1]=I;return}m&&q.reverseCounters(u),b+=u[0]+u[1],u[0]=u[2],u[1]=u[3],u[2]=0,u[3]=0,C--}else C++;u[C]=1,y=!y}throw new W}static reverseCounters(i){let o=i.length;for(let l=0;l<o/2;++l){let u=i[l];i[l]=i[o-l-1],i[o-l-1]=u}}parseFoundFinderPattern(i,o,l){let u,f,d;if(l){let C=this.startEnd[0]-1;for(;C>=0&&!i.get(C);)C--;C++,u=this.startEnd[0]-C,f=C,d=this.startEnd[1]}else f=this.startEnd[0],d=i.getNextUnset(this.startEnd[1]+1),u=d-this.startEnd[1];let m=this.getDecodeFinderCounters();R.arraycopy(m,0,m,1,m.length-1),m[0]=u;let y;try{y=this.parseFinderValue(m,q.FINDER_PATTERNS)}catch{return null}return new xl(y,[f,d],f,d,o)}decodeDataCharacter(i,o,l,u){let f=this.getDataCharacterCounters();for(let Ke=0;Ke<f.length;Ke++)f[Ke]=0;if(u)q.recordPatternInReverse(i,o.getStartEnd()[0],f);else{q.recordPattern(i,o.getStartEnd()[1],f);for(let Ke=0,Ht=f.length-1;Ke<Ht;Ke++,Ht--){let _n=f[Ke];f[Ke]=f[Ht],f[Ht]=_n}}let d=17,m=De.sum(new Int32Array(f))/d,y=(o.getStartEnd()[1]-o.getStartEnd()[0])/15;if(Math.abs(m-y)/y>.3)throw new W;let C=this.getOddCounts(),b=this.getEvenCounts(),I=this.getOddRoundingErrors(),D=this.getEvenRoundingErrors();for(let Ke=0;Ke<f.length;Ke++){let Ht=1*f[Ke]/m,_n=Ht+.5;if(_n<1){if(Ht<.3)throw new W;_n=1}else if(_n>8){if(Ht>8.7)throw new W;_n=8}let Ls=Ke/2;Ke&1?(b[Ls]=_n,D[Ls]=Ht-_n):(C[Ls]=_n,I[Ls]=Ht-_n)}this.adjustOddEvenCounts(d);let P=4*o.getValue()+(l?0:2)+(u?0:1)-1,B=0,j=0;for(let Ke=C.length-1;Ke>=0;Ke--){if(q.isNotA1left(o,l,u)){let Ht=q.WEIGHTS[P][2*Ke];j+=C[Ke]*Ht}B+=C[Ke]}let V=0;for(let Ke=b.length-1;Ke>=0;Ke--)if(q.isNotA1left(o,l,u)){let Ht=q.WEIGHTS[P][2*Ke+1];V+=b[Ke]*Ht}let Z=j+V;if(B&1||B>13||B<4)throw new W;let ee=(13-B)/2,ne=q.SYMBOL_WIDEST[ee],$=9-ne,Me=yr.getRSSvalue(C,ne,!0),Ae=yr.getRSSvalue(b,$,!1),gn=q.EVEN_TOTAL_SUBSET[ee],ir=q.GSUM[ee],pn=Me*gn+Ae+ir;return new Ts(pn,Z)}static isNotA1left(i,o,l){return!(i.getValue()==0&&o&&l)}adjustOddEvenCounts(i){let o=De.sum(new Int32Array(this.getOddCounts())),l=De.sum(new Int32Array(this.getEvenCounts())),u=!1,f=!1;o>13?f=!0:o<4&&(u=!0);let d=!1,m=!1;l>13?m=!0:l<4&&(d=!0);let y=o+l-i,C=(o&1)==1,b=(l&1)==0;if(y==1)if(C){if(b)throw new W;f=!0}else{if(!b)throw new W;m=!0}else if(y==-1)if(C){if(b)throw new W;u=!0}else{if(!b)throw new W;d=!0}else if(y==0){if(C){if(!b)throw new W;o<l?(u=!0,m=!0):(f=!0,d=!0)}else if(b)throw new W}else throw new W;if(u){if(f)throw new W;q.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(f&&q.decrement(this.getOddCounts(),this.getOddRoundingErrors()),d){if(m)throw new W;q.increment(this.getEvenCounts(),this.getOddRoundingErrors())}m&&q.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())}}q.SYMBOL_WIDEST=[7,5,4,3,1],q.EVEN_TOTAL_SUBSET=[4,20,52,104,204],q.GSUM=[0,348,1388,2948,3988],q.FINDER_PATTERNS=[Int32Array.from([1,8,4,1]),Int32Array.from([3,6,4,1]),Int32Array.from([3,4,6,1]),Int32Array.from([3,2,8,1]),Int32Array.from([2,6,5,1]),Int32Array.from([2,2,9,1])],q.WEIGHTS=[[1,3,9,27,81,32,96,77],[20,60,180,118,143,7,21,63],[189,145,13,39,117,140,209,205],[193,157,49,147,19,57,171,91],[62,186,136,197,169,85,44,132],[185,133,188,142,4,12,36,108],[113,128,173,97,80,29,87,50],[150,28,84,41,123,158,52,156],[46,138,203,187,139,206,196,166],[76,17,51,153,37,111,122,155],[43,129,176,106,107,110,119,146],[16,48,144,10,30,90,59,177],[109,116,137,200,178,112,125,164],[70,210,208,202,184,130,179,115],[134,191,151,31,93,68,204,190],[148,22,66,198,172,94,71,2],[6,18,54,162,64,192,154,40],[120,149,25,75,14,42,126,167],[79,26,78,23,69,207,199,175],[103,98,83,38,114,131,182,124],[161,61,183,127,170,88,53,159],[55,165,73,8,24,72,5,15],[45,135,194,160,58,174,100,89]],q.FINDER_PAT_A=0,q.FINDER_PAT_B=1,q.FINDER_PAT_C=2,q.FINDER_PAT_D=3,q.FINDER_PAT_E=4,q.FINDER_PAT_F=5,q.FINDER_PATTERN_SEQUENCES=[[q.FINDER_PAT_A,q.FINDER_PAT_A],[q.FINDER_PAT_A,q.FINDER_PAT_B,q.FINDER_PAT_B],[q.FINDER_PAT_A,q.FINDER_PAT_C,q.FINDER_PAT_B,q.FINDER_PAT_D],[q.FINDER_PAT_A,q.FINDER_PAT_E,q.FINDER_PAT_B,q.FINDER_PAT_D,q.FINDER_PAT_C],[q.FINDER_PAT_A,q.FINDER_PAT_E,q.FINDER_PAT_B,q.FINDER_PAT_D,q.FINDER_PAT_D,q.FINDER_PAT_F],[q.FINDER_PAT_A,q.FINDER_PAT_E,q.FINDER_PAT_B,q.FINDER_PAT_D,q.FINDER_PAT_E,q.FINDER_PAT_F,q.FINDER_PAT_F],[q.FINDER_PAT_A,q.FINDER_PAT_A,q.FINDER_PAT_B,q.FINDER_PAT_B,q.FINDER_PAT_C,q.FINDER_PAT_C,q.FINDER_PAT_D,q.FINDER_PAT_D],[q.FINDER_PAT_A,q.FINDER_PAT_A,q.FINDER_PAT_B,q.FINDER_PAT_B,q.FINDER_PAT_C,q.FINDER_PAT_C,q.FINDER_PAT_D,q.FINDER_PAT_E,q.FINDER_PAT_E],[q.FINDER_PAT_A,q.FINDER_PAT_A,q.FINDER_PAT_B,q.FINDER_PAT_B,q.FINDER_PAT_C,q.FINDER_PAT_C,q.FINDER_PAT_D,q.FINDER_PAT_E,q.FINDER_PAT_F,q.FINDER_PAT_F],[q.FINDER_PAT_A,q.FINDER_PAT_A,q.FINDER_PAT_B,q.FINDER_PAT_B,q.FINDER_PAT_C,q.FINDER_PAT_D,q.FINDER_PAT_D,q.FINDER_PAT_E,q.FINDER_PAT_E,q.FINDER_PAT_F,q.FINDER_PAT_F]],q.MAX_PAIRS=11;class eC extends Ts{constructor(i,o,l){super(i,o),this.count=0,this.finderPattern=l}getFinderPattern(){return this.finderPattern}getCount(){return this.count}incrementCount(){this.count++}}class ht extends Zt{constructor(){super(...arguments),this.possibleLeftPairs=[],this.possibleRightPairs=[]}decodeRow(i,o,l){const u=this.decodePair(o,!1,i,l);ht.addOrTally(this.possibleLeftPairs,u),o.reverse();let f=this.decodePair(o,!0,i,l);ht.addOrTally(this.possibleRightPairs,f),o.reverse();for(let d of this.possibleLeftPairs)if(d.getCount()>1){for(let m of this.possibleRightPairs)if(m.getCount()>1&&ht.checkChecksum(d,m))return ht.constructResult(d,m)}throw new W}static addOrTally(i,o){if(o==null)return;let l=!1;for(let u of i)if(u.getValue()===o.getValue()){u.incrementCount(),l=!0;break}l||i.push(o)}reset(){this.possibleLeftPairs.length=0,this.possibleRightPairs.length=0}static constructResult(i,o){let l=4537077*i.getValue()+o.getValue(),u=new String(l).toString(),f=new me;for(let C=13-u.length;C>0;C--)f.append("0");f.append(u);let d=0;for(let C=0;C<13;C++){let b=f.charAt(C).charCodeAt(0)-48;d+=C&1?b:3*b}d=10-d%10,d===10&&(d=0),f.append(d.toString());let m=i.getFinderPattern().getResultPoints(),y=o.getFinderPattern().getResultPoints();return new Oe(f.toString(),null,0,[m[0],m[1],y[0],y[1]],ce.RSS_14,new Date().getTime())}static checkChecksum(i,o){let l=(i.getChecksumPortion()+16*o.getChecksumPortion())%79,u=9*i.getFinderPattern().getValue()+o.getFinderPattern().getValue();return u>72&&u--,u>8&&u--,l===u}decodePair(i,o,l,u){try{let f=this.findFinderPattern(i,o),d=this.parseFoundFinderPattern(i,l,o,f),m=u==null?null:u.get(Y.NEED_RESULT_POINT_CALLBACK);if(m!=null){let b=(f[0]+f[1])/2;o&&(b=i.getSize()-1-b),m.foundPossibleResultPoint(new he(b,l))}let y=this.decodeDataCharacter(i,d,!0),C=this.decodeDataCharacter(i,d,!1);return new eC(1597*y.getValue()+C.getValue(),y.getChecksumPortion()+4*C.getChecksumPortion(),d)}catch{return null}}decodeDataCharacter(i,o,l){let u=this.getDataCharacterCounters();for(let V=0;V<u.length;V++)u[V]=0;if(l)St.recordPatternInReverse(i,o.getStartEnd()[0],u);else{St.recordPattern(i,o.getStartEnd()[1]+1,u);for(let V=0,Z=u.length-1;V<Z;V++,Z--){let ee=u[V];u[V]=u[Z],u[Z]=ee}}let f=l?16:15,d=De.sum(new Int32Array(u))/f,m=this.getOddCounts(),y=this.getEvenCounts(),C=this.getOddRoundingErrors(),b=this.getEvenRoundingErrors();for(let V=0;V<u.length;V++){let Z=u[V]/d,ee=Math.floor(Z+.5);ee<1?ee=1:ee>8&&(ee=8);let ne=Math.floor(V/2);V&1?(y[ne]=ee,b[ne]=Z-ee):(m[ne]=ee,C[ne]=Z-ee)}this.adjustOddEvenCounts(l,f);let I=0,D=0;for(let V=m.length-1;V>=0;V--)D*=9,D+=m[V],I+=m[V];let P=0,B=0;for(let V=y.length-1;V>=0;V--)P*=9,P+=y[V],B+=y[V];let j=D+3*P;if(l){if(I&1||I>12||I<4)throw new W;let V=(12-I)/2,Z=ht.OUTSIDE_ODD_WIDEST[V],ee=9-Z,ne=yr.getRSSvalue(m,Z,!1),$=yr.getRSSvalue(y,ee,!0),Me=ht.OUTSIDE_EVEN_TOTAL_SUBSET[V],Ae=ht.OUTSIDE_GSUM[V];return new Ts(ne*Me+$+Ae,j)}else{if(B&1||B>10||B<4)throw new W;let V=(10-B)/2,Z=ht.INSIDE_ODD_WIDEST[V],ee=9-Z,ne=yr.getRSSvalue(m,Z,!0),$=yr.getRSSvalue(y,ee,!1),Me=ht.INSIDE_ODD_TOTAL_SUBSET[V],Ae=ht.INSIDE_GSUM[V];return new Ts($*Me+ne+Ae,j)}}findFinderPattern(i,o){let l=this.getDecodeFinderCounters();l[0]=0,l[1]=0,l[2]=0,l[3]=0;let u=i.getSize(),f=!1,d=0;for(;d<u&&(f=!i.get(d),o!==f);)d++;let m=0,y=d;for(let C=d;C<u;C++)if(i.get(C)!==f)l[m]++;else{if(m===3){if(Zt.isFinderPattern(l))return[y,C];y+=l[0]+l[1],l[0]=l[2],l[1]=l[3],l[2]=0,l[3]=0,m--}else m++;l[m]=1,f=!f}throw new W}parseFoundFinderPattern(i,o,l,u){let f=i.get(u[0]),d=u[0]-1;for(;d>=0&&f!==i.get(d);)d--;d++;const m=u[0]-d,y=this.getDecodeFinderCounters(),C=new Int32Array(y.length);R.arraycopy(y,0,C,1,y.length-1),C[0]=m;const b=this.parseFinderValue(C,ht.FINDER_PATTERNS);let I=d,D=u[1];return l&&(I=i.getSize()-1-I,D=i.getSize()-1-D),new xl(b,[d,u[1]],I,D,o)}adjustOddEvenCounts(i,o){let l=De.sum(new Int32Array(this.getOddCounts())),u=De.sum(new Int32Array(this.getEvenCounts())),f=!1,d=!1,m=!1,y=!1;i?(l>12?d=!0:l<4&&(f=!0),u>12?y=!0:u<4&&(m=!0)):(l>11?d=!0:l<5&&(f=!0),u>10?y=!0:u<4&&(m=!0));let C=l+u-o,b=(l&1)===(i?1:0),I=(u&1)===1;if(C===1)if(b){if(I)throw new W;d=!0}else{if(!I)throw new W;y=!0}else if(C===-1)if(b){if(I)throw new W;f=!0}else{if(!I)throw new W;m=!0}else if(C===0){if(b){if(!I)throw new W;l<u?(f=!0,y=!0):(d=!0,m=!0)}else if(I)throw new W}else throw new W;if(f){if(d)throw new W;Zt.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(d&&Zt.decrement(this.getOddCounts(),this.getOddRoundingErrors()),m){if(y)throw new W;Zt.increment(this.getEvenCounts(),this.getOddRoundingErrors())}y&&Zt.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())}}ht.OUTSIDE_EVEN_TOTAL_SUBSET=[1,10,34,70,126],ht.INSIDE_ODD_TOTAL_SUBSET=[4,20,48,81],ht.OUTSIDE_GSUM=[0,161,961,2015,2715],ht.INSIDE_GSUM=[0,336,1036,1516],ht.OUTSIDE_ODD_WIDEST=[8,6,4,3,1],ht.INSIDE_ODD_WIDEST=[2,4,6,8],ht.FINDER_PATTERNS=[Int32Array.from([3,8,2,1]),Int32Array.from([3,5,5,1]),Int32Array.from([3,3,7,1]),Int32Array.from([3,1,9,1]),Int32Array.from([2,7,4,1]),Int32Array.from([2,5,6,1]),Int32Array.from([2,3,8,1]),Int32Array.from([1,5,7,1]),Int32Array.from([1,3,9,1])];class Rs extends St{constructor(i,o){super(),this.readers=[],this.verbose=o===!0;const l=i?i.get(Y.POSSIBLE_FORMATS):null,u=i&&i.get(Y.ASSUME_CODE_39_CHECK_DIGIT)!==void 0;l?((l.includes(ce.EAN_13)||l.includes(ce.UPC_A)||l.includes(ce.EAN_8)||l.includes(ce.UPC_E))&&this.readers.push(new $u(i)),l.includes(ce.CODE_39)&&this.readers.push(new It(u)),l.includes(ce.CODE_128)&&this.readers.push(new se),l.includes(ce.ITF)&&this.readers.push(new Qe),l.includes(ce.RSS_14)&&this.readers.push(new ht),l.includes(ce.RSS_EXPANDED)&&this.readers.push(new q(this.verbose))):(this.readers.push(new $u(i)),this.readers.push(new It),this.readers.push(new $u(i)),this.readers.push(new se),this.readers.push(new Qe),this.readers.push(new ht),this.readers.push(new q(this.verbose)))}decodeRow(i,o,l){for(let u=0;u<this.readers.length;u++)try{return this.readers[u].decodeRow(i,o,l)}catch{}throw new W}reset(){this.readers.forEach(i=>i.reset())}}class tC extends At{constructor(i=500,o){super(new Rs(o),i,o)}}class Ue{constructor(i,o,l){this.ecCodewords=i,this.ecBlocks=[o],l&&this.ecBlocks.push(l)}getECCodewords(){return this.ecCodewords}getECBlocks(){return this.ecBlocks}}class ze{constructor(i,o){this.count=i,this.dataCodewords=o}getCount(){return this.count}getDataCodewords(){return this.dataCodewords}}class Re{constructor(i,o,l,u,f,d){this.versionNumber=i,this.symbolSizeRows=o,this.symbolSizeColumns=l,this.dataRegionSizeRows=u,this.dataRegionSizeColumns=f,this.ecBlocks=d;let m=0;const y=d.getECCodewords(),C=d.getECBlocks();for(let b of C)m+=b.getCount()*(b.getDataCodewords()+y);this.totalCodewords=m}getVersionNumber(){return this.versionNumber}getSymbolSizeRows(){return this.symbolSizeRows}getSymbolSizeColumns(){return this.symbolSizeColumns}getDataRegionSizeRows(){return this.dataRegionSizeRows}getDataRegionSizeColumns(){return this.dataRegionSizeColumns}getTotalCodewords(){return this.totalCodewords}getECBlocks(){return this.ecBlocks}static getVersionForDimensions(i,o){if(i&1||o&1)throw new F;for(let l of Re.VERSIONS)if(l.symbolSizeRows===i&&l.symbolSizeColumns===o)return l;throw new F}toString(){return""+this.versionNumber}static buildVersions(){return[new Re(1,10,10,8,8,new Ue(5,new ze(1,3))),new Re(2,12,12,10,10,new Ue(7,new ze(1,5))),new Re(3,14,14,12,12,new Ue(10,new ze(1,8))),new Re(4,16,16,14,14,new Ue(12,new ze(1,12))),new Re(5,18,18,16,16,new Ue(14,new ze(1,18))),new Re(6,20,20,18,18,new Ue(18,new ze(1,22))),new Re(7,22,22,20,20,new Ue(20,new ze(1,30))),new Re(8,24,24,22,22,new Ue(24,new ze(1,36))),new Re(9,26,26,24,24,new Ue(28,new ze(1,44))),new Re(10,32,32,14,14,new Ue(36,new ze(1,62))),new Re(11,36,36,16,16,new Ue(42,new ze(1,86))),new Re(12,40,40,18,18,new Ue(48,new ze(1,114))),new Re(13,44,44,20,20,new Ue(56,new ze(1,144))),new Re(14,48,48,22,22,new Ue(68,new ze(1,174))),new Re(15,52,52,24,24,new Ue(42,new ze(2,102))),new Re(16,64,64,14,14,new Ue(56,new ze(2,140))),new Re(17,72,72,16,16,new Ue(36,new ze(4,92))),new Re(18,80,80,18,18,new Ue(48,new ze(4,114))),new Re(19,88,88,20,20,new Ue(56,new ze(4,144))),new Re(20,96,96,22,22,new Ue(68,new ze(4,174))),new Re(21,104,104,24,24,new Ue(56,new ze(6,136))),new Re(22,120,120,18,18,new Ue(68,new ze(6,175))),new Re(23,132,132,20,20,new Ue(62,new ze(8,163))),new Re(24,144,144,22,22,new Ue(62,new ze(8,156),new ze(2,155))),new Re(25,8,18,6,16,new Ue(7,new ze(1,5))),new Re(26,8,32,6,14,new Ue(11,new ze(1,10))),new Re(27,12,26,10,24,new Ue(14,new ze(1,16))),new Re(28,12,36,10,16,new Ue(18,new ze(1,22))),new Re(29,16,36,14,16,new Ue(24,new ze(1,32))),new Re(30,16,48,14,22,new Ue(28,new ze(1,49)))]}}Re.VERSIONS=Re.buildVersions();class nf{constructor(i){const o=i.getHeight();if(o<8||o>144||o&1)throw new F;this.version=nf.readVersion(i),this.mappingBitMatrix=this.extractDataRegion(i),this.readMappingMatrix=new Ee(this.mappingBitMatrix.getWidth(),this.mappingBitMatrix.getHeight())}getVersion(){return this.version}static readVersion(i){const o=i.getHeight(),l=i.getWidth();return Re.getVersionForDimensions(o,l)}readCodewords(){const i=new Int8Array(this.version.getTotalCodewords());let o=0,l=4,u=0;const f=this.mappingBitMatrix.getHeight(),d=this.mappingBitMatrix.getWidth();let m=!1,y=!1,C=!1,b=!1;do if(l===f&&u===0&&!m)i[o++]=this.readCorner1(f,d)&255,l-=2,u+=2,m=!0;else if(l===f-2&&u===0&&d&3&&!y)i[o++]=this.readCorner2(f,d)&255,l-=2,u+=2,y=!0;else if(l===f+4&&u===2&&!(d&7)&&!C)i[o++]=this.readCorner3(f,d)&255,l-=2,u+=2,C=!0;else if(l===f-2&&u===0&&(d&7)===4&&!b)i[o++]=this.readCorner4(f,d)&255,l-=2,u+=2,b=!0;else{do l<f&&u>=0&&!this.readMappingMatrix.get(u,l)&&(i[o++]=this.readUtah(l,u,f,d)&255),l-=2,u+=2;while(l>=0&&u<d);l+=1,u+=3;do l>=0&&u<d&&!this.readMappingMatrix.get(u,l)&&(i[o++]=this.readUtah(l,u,f,d)&255),l+=2,u-=2;while(l<f&&u>=0);l+=3,u+=1}while(l<f||u<d);if(o!==this.version.getTotalCodewords())throw new F;return i}readModule(i,o,l,u){return i<0&&(i+=l,o+=4-(l+4&7)),o<0&&(o+=u,i+=4-(u+4&7)),this.readMappingMatrix.set(o,i),this.mappingBitMatrix.get(o,i)}readUtah(i,o,l,u){let f=0;return this.readModule(i-2,o-2,l,u)&&(f|=1),f<<=1,this.readModule(i-2,o-1,l,u)&&(f|=1),f<<=1,this.readModule(i-1,o-2,l,u)&&(f|=1),f<<=1,this.readModule(i-1,o-1,l,u)&&(f|=1),f<<=1,this.readModule(i-1,o,l,u)&&(f|=1),f<<=1,this.readModule(i,o-2,l,u)&&(f|=1),f<<=1,this.readModule(i,o-1,l,u)&&(f|=1),f<<=1,this.readModule(i,o,l,u)&&(f|=1),f}readCorner1(i,o){let l=0;return this.readModule(i-1,0,i,o)&&(l|=1),l<<=1,this.readModule(i-1,1,i,o)&&(l|=1),l<<=1,this.readModule(i-1,2,i,o)&&(l|=1),l<<=1,this.readModule(0,o-2,i,o)&&(l|=1),l<<=1,this.readModule(0,o-1,i,o)&&(l|=1),l<<=1,this.readModule(1,o-1,i,o)&&(l|=1),l<<=1,this.readModule(2,o-1,i,o)&&(l|=1),l<<=1,this.readModule(3,o-1,i,o)&&(l|=1),l}readCorner2(i,o){let l=0;return this.readModule(i-3,0,i,o)&&(l|=1),l<<=1,this.readModule(i-2,0,i,o)&&(l|=1),l<<=1,this.readModule(i-1,0,i,o)&&(l|=1),l<<=1,this.readModule(0,o-4,i,o)&&(l|=1),l<<=1,this.readModule(0,o-3,i,o)&&(l|=1),l<<=1,this.readModule(0,o-2,i,o)&&(l|=1),l<<=1,this.readModule(0,o-1,i,o)&&(l|=1),l<<=1,this.readModule(1,o-1,i,o)&&(l|=1),l}readCorner3(i,o){let l=0;return this.readModule(i-1,0,i,o)&&(l|=1),l<<=1,this.readModule(i-1,o-1,i,o)&&(l|=1),l<<=1,this.readModule(0,o-3,i,o)&&(l|=1),l<<=1,this.readModule(0,o-2,i,o)&&(l|=1),l<<=1,this.readModule(0,o-1,i,o)&&(l|=1),l<<=1,this.readModule(1,o-3,i,o)&&(l|=1),l<<=1,this.readModule(1,o-2,i,o)&&(l|=1),l<<=1,this.readModule(1,o-1,i,o)&&(l|=1),l}readCorner4(i,o){let l=0;return this.readModule(i-3,0,i,o)&&(l|=1),l<<=1,this.readModule(i-2,0,i,o)&&(l|=1),l<<=1,this.readModule(i-1,0,i,o)&&(l|=1),l<<=1,this.readModule(0,o-2,i,o)&&(l|=1),l<<=1,this.readModule(0,o-1,i,o)&&(l|=1),l<<=1,this.readModule(1,o-1,i,o)&&(l|=1),l<<=1,this.readModule(2,o-1,i,o)&&(l|=1),l<<=1,this.readModule(3,o-1,i,o)&&(l|=1),l}extractDataRegion(i){const o=this.version.getSymbolSizeRows(),l=this.version.getSymbolSizeColumns();if(i.getHeight()!==o)throw new w("Dimension of bitMatrix must match the version size");const u=this.version.getDataRegionSizeRows(),f=this.version.getDataRegionSizeColumns(),d=o/u|0,m=l/f|0,y=d*u,C=m*f,b=new Ee(C,y);for(let I=0;I<d;++I){const D=I*u;for(let P=0;P<m;++P){const B=P*f;for(let j=0;j<u;++j){const V=I*(u+2)+1+j,Z=D+j;for(let ee=0;ee<f;++ee){const ne=P*(f+2)+1+ee;if(i.get(ne,V)){const $=B+ee;b.set($,Z)}}}}}return b}}class rf{constructor(i,o){this.numDataCodewords=i,this.codewords=o}static getDataBlocks(i,o){const l=o.getECBlocks();let u=0;const f=l.getECBlocks();for(let j of f)u+=j.getCount();const d=new Array(u);let m=0;for(let j of f)for(let V=0;V<j.getCount();V++){const Z=j.getDataCodewords(),ee=l.getECCodewords()+Z;d[m++]=new rf(Z,new Uint8Array(ee))}const C=d[0].codewords.length-l.getECCodewords(),b=C-1;let I=0;for(let j=0;j<b;j++)for(let V=0;V<m;V++)d[V].codewords[j]=i[I++];const D=o.getVersionNumber()===24,P=D?8:m;for(let j=0;j<P;j++)d[j].codewords[C-1]=i[I++];const B=d[0].codewords.length;for(let j=C;j<B;j++)for(let V=0;V<m;V++){const Z=D?(V+8)%m:V,ee=D&&Z>7?j-1:j;d[Z].codewords[ee]=i[I++]}if(I!==i.length)throw new w;return d}getNumDataCodewords(){return this.numDataCodewords}getCodewords(){return this.codewords}}class sf{constructor(i){this.bytes=i,this.byteOffset=0,this.bitOffset=0}getBitOffset(){return this.bitOffset}getByteOffset(){return this.byteOffset}readBits(i){if(i<1||i>32||i>this.available())throw new w(""+i);let o=0,l=this.bitOffset,u=this.byteOffset;const f=this.bytes;if(l>0){const d=8-l,m=i<d?i:d,y=d-m,C=255>>8-m<<y;o=(f[u]&C)>>y,i-=m,l+=m,l===8&&(l=0,u++)}if(i>0){for(;i>=8;)o=o<<8|f[u]&255,u++,i-=8;if(i>0){const d=8-i,m=255>>d<<d;o=o<<i|(f[u]&m)>>d,l+=i}}return this.bitOffset=l,this.byteOffset=u,o}available(){return 8*(this.bytes.length-this.byteOffset)-this.bitOffset}}var Tt;(function(_){_[_.PAD_ENCODE=0]="PAD_ENCODE",_[_.ASCII_ENCODE=1]="ASCII_ENCODE",_[_.C40_ENCODE=2]="C40_ENCODE",_[_.TEXT_ENCODE=3]="TEXT_ENCODE",_[_.ANSIX12_ENCODE=4]="ANSIX12_ENCODE",_[_.EDIFACT_ENCODE=5]="EDIFACT_ENCODE",_[_.BASE256_ENCODE=6]="BASE256_ENCODE"})(Tt||(Tt={}));class ii{static decode(i){const o=new sf(i),l=new me,u=new me,f=new Array;let d=Tt.ASCII_ENCODE;do if(d===Tt.ASCII_ENCODE)d=this.decodeAsciiSegment(o,l,u);else{switch(d){case Tt.C40_ENCODE:this.decodeC40Segment(o,l);break;case Tt.TEXT_ENCODE:this.decodeTextSegment(o,l);break;case Tt.ANSIX12_ENCODE:this.decodeAnsiX12Segment(o,l);break;case Tt.EDIFACT_ENCODE:this.decodeEdifactSegment(o,l);break;case Tt.BASE256_ENCODE:this.decodeBase256Segment(o,l,f);break;default:throw new F}d=Tt.ASCII_ENCODE}while(d!==Tt.PAD_ENCODE&&o.available()>0);return u.length()>0&&l.append(u.toString()),new To(i,l.toString(),f.length===0?null:f,null)}static decodeAsciiSegment(i,o,l){let u=!1;do{let f=i.readBits(8);if(f===0)throw new F;if(f<=128)return u&&(f+=128),o.append(String.fromCharCode(f-1)),Tt.ASCII_ENCODE;if(f===129)return Tt.PAD_ENCODE;if(f<=229){const d=f-130;d<10&&o.append("0"),o.append(""+d)}else switch(f){case 230:return Tt.C40_ENCODE;case 231:return Tt.BASE256_ENCODE;case 232:o.append("");break;case 233:case 234:break;case 235:u=!0;break;case 236:o.append("[)>05"),l.insert(0,"");break;case 237:o.append("[)>06"),l.insert(0,"");break;case 238:return Tt.ANSIX12_ENCODE;case 239:return Tt.TEXT_ENCODE;case 240:return Tt.EDIFACT_ENCODE;case 241:break;default:if(f!==254||i.available()!==0)throw new F;break}}while(i.available()>0);return Tt.ASCII_ENCODE}static decodeC40Segment(i,o){let l=!1;const u=[];let f=0;do{if(i.available()===8)return;const d=i.readBits(8);if(d===254)return;this.parseTwoBytes(d,i.readBits(8),u);for(let m=0;m<3;m++){const y=u[m];switch(f){case 0:if(y<3)f=y+1;else if(y<this.C40_BASIC_SET_CHARS.length){const C=this.C40_BASIC_SET_CHARS[y];l?(o.append(String.fromCharCode(C.charCodeAt(0)+128)),l=!1):o.append(C)}else throw new F;break;case 1:l?(o.append(String.fromCharCode(y+128)),l=!1):o.append(String.fromCharCode(y)),f=0;break;case 2:if(y<this.C40_SHIFT2_SET_CHARS.length){const C=this.C40_SHIFT2_SET_CHARS[y];l?(o.append(String.fromCharCode(C.charCodeAt(0)+128)),l=!1):o.append(C)}else switch(y){case 27:o.append("");break;case 30:l=!0;break;default:throw new F}f=0;break;case 3:l?(o.append(String.fromCharCode(y+224)),l=!1):o.append(String.fromCharCode(y+96)),f=0;break;default:throw new F}}}while(i.available()>0)}static decodeTextSegment(i,o){let l=!1,u=[],f=0;do{if(i.available()===8)return;const d=i.readBits(8);if(d===254)return;this.parseTwoBytes(d,i.readBits(8),u);for(let m=0;m<3;m++){const y=u[m];switch(f){case 0:if(y<3)f=y+1;else if(y<this.TEXT_BASIC_SET_CHARS.length){const C=this.TEXT_BASIC_SET_CHARS[y];l?(o.append(String.fromCharCode(C.charCodeAt(0)+128)),l=!1):o.append(C)}else throw new F;break;case 1:l?(o.append(String.fromCharCode(y+128)),l=!1):o.append(String.fromCharCode(y)),f=0;break;case 2:if(y<this.TEXT_SHIFT2_SET_CHARS.length){const C=this.TEXT_SHIFT2_SET_CHARS[y];l?(o.append(String.fromCharCode(C.charCodeAt(0)+128)),l=!1):o.append(C)}else switch(y){case 27:o.append("");break;case 30:l=!0;break;default:throw new F}f=0;break;case 3:if(y<this.TEXT_SHIFT3_SET_CHARS.length){const C=this.TEXT_SHIFT3_SET_CHARS[y];l?(o.append(String.fromCharCode(C.charCodeAt(0)+128)),l=!1):o.append(C),f=0}else throw new F;break;default:throw new F}}}while(i.available()>0)}static decodeAnsiX12Segment(i,o){const l=[];do{if(i.available()===8)return;const u=i.readBits(8);if(u===254)return;this.parseTwoBytes(u,i.readBits(8),l);for(let f=0;f<3;f++){const d=l[f];switch(d){case 0:o.append("\r");break;case 1:o.append("*");break;case 2:o.append(">");break;case 3:o.append(" ");break;default:if(d<14)o.append(String.fromCharCode(d+44));else if(d<40)o.append(String.fromCharCode(d+51));else throw new F;break}}}while(i.available()>0)}static parseTwoBytes(i,o,l){let u=(i<<8)+o-1,f=Math.floor(u/1600);l[0]=f,u-=f*1600,f=Math.floor(u/40),l[1]=f,l[2]=u-f*40}static decodeEdifactSegment(i,o){do{if(i.available()<=16)return;for(let l=0;l<4;l++){let u=i.readBits(6);if(u===31){const f=8-i.getBitOffset();f!==8&&i.readBits(f);return}u&32||(u|=64),o.append(String.fromCharCode(u))}}while(i.available()>0)}static decodeBase256Segment(i,o,l){let u=1+i.getByteOffset();const f=this.unrandomize255State(i.readBits(8),u++);let d;if(f===0?d=i.available()/8|0:f<250?d=f:d=250*(f-249)+this.unrandomize255State(i.readBits(8),u++),d<0)throw new F;const m=new Uint8Array(d);for(let y=0;y<d;y++){if(i.available()<8)throw new F;m[y]=this.unrandomize255State(i.readBits(8),u++)}l.push(m);try{o.append(oe.decode(m,te.ISO88591))}catch(y){throw new xr("Platform does not support required encoding: "+y.message)}}static unrandomize255State(i,o){const l=149*o%255+1,u=i-l;return u>=0?u:u+256}}ii.C40_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"],ii.C40_SHIFT2_SET_CHARS=["!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","@","[","\\","]","^","_"],ii.TEXT_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z"],ii.TEXT_SHIFT2_SET_CHARS=ii.C40_SHIFT2_SET_CHARS,ii.TEXT_SHIFT3_SET_CHARS=["`","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","{","|","}","~",""];class nC{constructor(){this.rsDecoder=new Mo(Fe.DATA_MATRIX_FIELD_256)}decode(i){const o=new nf(i),l=o.getVersion(),u=o.readCodewords(),f=rf.getDataBlocks(u,l);let d=0;for(let C of f)d+=C.getNumDataCodewords();const m=new Uint8Array(d),y=f.length;for(let C=0;C<y;C++){const b=f[C],I=b.getCodewords(),D=b.getNumDataCodewords();this.correctErrors(I,D);for(let P=0;P<D;P++)m[P*y+C]=I[P]}return ii.decode(m)}correctErrors(i,o){const l=new Int32Array(i);try{this.rsDecoder.decode(l,i.length-o)}catch{throw new S}for(let u=0;u<o;u++)i[u]=l[u]}}class yt{constructor(i){this.image=i,this.rectangleDetector=new kr(this.image)}detect(){const i=this.rectangleDetector.detect();let o=this.detectSolid1(i);if(o=this.detectSolid2(o),o[3]=this.correctTopRight(o),!o[3])throw new W;o=this.shiftToModuleCenter(o);const l=o[0],u=o[1],f=o[2],d=o[3];let m=this.transitionsBetween(l,d)+1,y=this.transitionsBetween(f,d)+1;(m&1)===1&&(m+=1),(y&1)===1&&(y+=1),4*m<7*y&&4*y<7*m&&(m=y=Math.max(m,y));let C=yt.sampleGrid(this.image,l,u,f,d,m,y);return new pl(C,[l,u,f,d])}static shiftPoint(i,o,l){let u=(o.getX()-i.getX())/(l+1),f=(o.getY()-i.getY())/(l+1);return new he(i.getX()+u,i.getY()+f)}static moveAway(i,o,l){let u=i.getX(),f=i.getY();return u<o?u-=1:u+=1,f<l?f-=1:f+=1,new he(u,f)}detectSolid1(i){let o=i[0],l=i[1],u=i[3],f=i[2],d=this.transitionsBetween(o,l),m=this.transitionsBetween(l,u),y=this.transitionsBetween(u,f),C=this.transitionsBetween(f,o),b=d,I=[f,o,l,u];return b>m&&(b=m,I[0]=o,I[1]=l,I[2]=u,I[3]=f),b>y&&(b=y,I[0]=l,I[1]=u,I[2]=f,I[3]=o),b>C&&(I[0]=u,I[1]=f,I[2]=o,I[3]=l),I}detectSolid2(i){let o=i[0],l=i[1],u=i[2],f=i[3],d=this.transitionsBetween(o,f),m=yt.shiftPoint(l,u,(d+1)*4),y=yt.shiftPoint(u,l,(d+1)*4),C=this.transitionsBetween(m,o),b=this.transitionsBetween(y,f);return C<b?(i[0]=o,i[1]=l,i[2]=u,i[3]=f):(i[0]=l,i[1]=u,i[2]=f,i[3]=o),i}correctTopRight(i){let o=i[0],l=i[1],u=i[2],f=i[3],d=this.transitionsBetween(o,f),m=this.transitionsBetween(l,f),y=yt.shiftPoint(o,l,(m+1)*4),C=yt.shiftPoint(u,l,(d+1)*4);d=this.transitionsBetween(y,f),m=this.transitionsBetween(C,f);let b=new he(f.getX()+(u.getX()-l.getX())/(d+1),f.getY()+(u.getY()-l.getY())/(d+1)),I=new he(f.getX()+(o.getX()-l.getX())/(m+1),f.getY()+(o.getY()-l.getY())/(m+1));if(!this.isValid(b))return this.isValid(I)?I:null;if(!this.isValid(I))return b;let D=this.transitionsBetween(y,b)+this.transitionsBetween(C,b),P=this.transitionsBetween(y,I)+this.transitionsBetween(C,I);return D>P?b:I}shiftToModuleCenter(i){let o=i[0],l=i[1],u=i[2],f=i[3],d=this.transitionsBetween(o,f)+1,m=this.transitionsBetween(u,f)+1,y=yt.shiftPoint(o,l,m*4),C=yt.shiftPoint(u,l,d*4);d=this.transitionsBetween(y,f)+1,m=this.transitionsBetween(C,f)+1,(d&1)===1&&(d+=1),(m&1)===1&&(m+=1);let b=(o.getX()+l.getX()+u.getX()+f.getX())/4,I=(o.getY()+l.getY()+u.getY()+f.getY())/4;o=yt.moveAway(o,b,I),l=yt.moveAway(l,b,I),u=yt.moveAway(u,b,I),f=yt.moveAway(f,b,I);let D,P;return y=yt.shiftPoint(o,l,m*4),y=yt.shiftPoint(y,f,d*4),D=yt.shiftPoint(l,o,m*4),D=yt.shiftPoint(D,u,d*4),C=yt.shiftPoint(u,f,m*4),C=yt.shiftPoint(C,l,d*4),P=yt.shiftPoint(f,u,m*4),P=yt.shiftPoint(P,o,d*4),[y,D,C,P]}isValid(i){return i.getX()>=0&&i.getX()<this.image.getWidth()&&i.getY()>0&&i.getY()<this.image.getHeight()}static sampleGrid(i,o,l,u,f,d,m){return ni.getInstance().sampleGrid(i,d,m,.5,.5,d-.5,.5,d-.5,m-.5,.5,m-.5,o.getX(),o.getY(),f.getX(),f.getY(),u.getX(),u.getY(),l.getX(),l.getY())}transitionsBetween(i,o){let l=Math.trunc(i.getX()),u=Math.trunc(i.getY()),f=Math.trunc(o.getX()),d=Math.trunc(o.getY()),m=Math.abs(d-u)>Math.abs(f-l);if(m){let j=l;l=u,u=j,j=f,f=d,d=j}let y=Math.abs(f-l),C=Math.abs(d-u),b=-y/2,I=u<d?1:-1,D=l<f?1:-1,P=0,B=this.image.get(m?u:l,m?l:u);for(let j=l,V=u;j!==f;j+=D){let Z=this.image.get(m?V:j,m?j:V);if(Z!==B&&(P++,B=Z),b+=C,b>0){if(V===d)break;V+=I,b-=y}}return P}}class si{constructor(){this.decoder=new nC}decode(i,o=null){let l,u;if(o!=null&&o.has(Y.PURE_BARCODE)){const C=si.extractPureBits(i.getBlackMatrix());l=this.decoder.decode(C),u=si.NO_POINTS}else{const C=new yt(i.getBlackMatrix()).detect();l=this.decoder.decode(C.getBits()),u=C.getPoints()}const f=l.getRawBytes(),d=new Oe(l.getText(),f,8*f.length,u,ce.DATA_MATRIX,R.currentTimeMillis()),m=l.getByteSegments();m!=null&&d.putMetadata(Dt.BYTE_SEGMENTS,m);const y=l.getECLevel();return y!=null&&d.putMetadata(Dt.ERROR_CORRECTION_LEVEL,y),d}reset(){}static extractPureBits(i){const o=i.getTopLeftOnBit(),l=i.getBottomRightOnBit();if(o==null||l==null)throw new W;const u=this.moduleSize(o,i);let f=o[1];const d=l[1];let m=o[0];const C=(l[0]-m+1)/u,b=(d-f+1)/u;if(C<=0||b<=0)throw new W;const I=u/2;f+=I,m+=I;const D=new Ee(C,b);for(let P=0;P<b;P++){const B=f+P*u;for(let j=0;j<C;j++)i.get(m+j*u,B)&&D.set(j,P)}return D}static moduleSize(i,o){const l=o.getWidth();let u=i[0];const f=i[1];for(;u<l&&o.get(u,f);)u++;if(u===l)throw new W;const d=u-i[0];if(d===0)throw new W;return d}}si.NO_POINTS=[];class rC extends At{constructor(i=500){super(new si,i)}}var Os;(function(_){_[_.L=0]="L",_[_.M=1]="M",_[_.Q=2]="Q",_[_.H=3]="H"})(Os||(Os={}));class $e{constructor(i,o,l){this.value=i,this.stringValue=o,this.bits=l,$e.FOR_BITS.set(l,this),$e.FOR_VALUE.set(i,this)}getValue(){return this.value}getBits(){return this.bits}static fromString(i){switch(i){case"L":return $e.L;case"M":return $e.M;case"Q":return $e.Q;case"H":return $e.H;default:throw new x(i+"not available")}}toString(){return this.stringValue}equals(i){if(!(i instanceof $e))return!1;const o=i;return this.value===o.value}static forBits(i){if(i<0||i>=$e.FOR_BITS.size)throw new w;return $e.FOR_BITS.get(i)}}$e.FOR_BITS=new Map,$e.FOR_VALUE=new Map,$e.L=new $e(Os.L,"L",1),$e.M=new $e(Os.M,"M",0),$e.Q=new $e(Os.Q,"Q",3),$e.H=new $e(Os.H,"H",2);class Kt{constructor(i){this.errorCorrectionLevel=$e.forBits(i>>3&3),this.dataMask=i&7}static numBitsDiffering(i,o){return N.bitCount(i^o)}static decodeFormatInformation(i,o){const l=Kt.doDecodeFormatInformation(i,o);return l!==null?l:Kt.doDecodeFormatInformation(i^Kt.FORMAT_INFO_MASK_QR,o^Kt.FORMAT_INFO_MASK_QR)}static doDecodeFormatInformation(i,o){let l=Number.MAX_SAFE_INTEGER,u=0;for(const f of Kt.FORMAT_INFO_DECODE_LOOKUP){const d=f[0];if(d===i||d===o)return new Kt(f[1]);let m=Kt.numBitsDiffering(i,d);m<l&&(u=f[1],l=m),i!==o&&(m=Kt.numBitsDiffering(o,d),m<l&&(u=f[1],l=m))}return l<=3?new Kt(u):null}getErrorCorrectionLevel(){return this.errorCorrectionLevel}getDataMask(){return this.dataMask}hashCode(){return this.errorCorrectionLevel.getBits()<<3|this.dataMask}equals(i){if(!(i instanceof Kt))return!1;const o=i;return this.errorCorrectionLevel===o.errorCorrectionLevel&&this.dataMask===o.dataMask}}Kt.FORMAT_INFO_MASK_QR=21522,Kt.FORMAT_INFO_DECODE_LOOKUP=[Int32Array.from([21522,0]),Int32Array.from([20773,1]),Int32Array.from([24188,2]),Int32Array.from([23371,3]),Int32Array.from([17913,4]),Int32Array.from([16590,5]),Int32Array.from([20375,6]),Int32Array.from([19104,7]),Int32Array.from([30660,8]),Int32Array.from([29427,9]),Int32Array.from([32170,10]),Int32Array.from([30877,11]),Int32Array.from([26159,12]),Int32Array.from([25368,13]),Int32Array.from([27713,14]),Int32Array.from([26998,15]),Int32Array.from([5769,16]),Int32Array.from([5054,17]),Int32Array.from([7399,18]),Int32Array.from([6608,19]),Int32Array.from([1890,20]),Int32Array.from([597,21]),Int32Array.from([3340,22]),Int32Array.from([2107,23]),Int32Array.from([13663,24]),Int32Array.from([12392,25]),Int32Array.from([16177,26]),Int32Array.from([14854,27]),Int32Array.from([9396,28]),Int32Array.from([8579,29]),Int32Array.from([11994,30]),Int32Array.from([11245,31])];class X{constructor(i,...o){this.ecCodewordsPerBlock=i,this.ecBlocks=o}getECCodewordsPerBlock(){return this.ecCodewordsPerBlock}getNumBlocks(){let i=0;const o=this.ecBlocks;for(const l of o)i+=l.getCount();return i}getTotalECCodewords(){return this.ecCodewordsPerBlock*this.getNumBlocks()}getECBlocks(){return this.ecBlocks}}class k{constructor(i,o){this.count=i,this.dataCodewords=o}getCount(){return this.count}getDataCodewords(){return this.dataCodewords}}class pe{constructor(i,o,...l){this.versionNumber=i,this.alignmentPatternCenters=o,this.ecBlocks=l;let u=0;const f=l[0].getECCodewordsPerBlock(),d=l[0].getECBlocks();for(const m of d)u+=m.getCount()*(m.getDataCodewords()+f);this.totalCodewords=u}getVersionNumber(){return this.versionNumber}getAlignmentPatternCenters(){return this.alignmentPatternCenters}getTotalCodewords(){return this.totalCodewords}getDimensionForVersion(){return 17+4*this.versionNumber}getECBlocksForLevel(i){return this.ecBlocks[i.getValue()]}static getProvisionalVersionForDimension(i){if(i%4!==1)throw new F;try{return this.getVersionForNumber((i-17)/4)}catch{throw new F}}static getVersionForNumber(i){if(i<1||i>40)throw new w;return pe.VERSIONS[i-1]}static decodeVersionInformation(i){let o=Number.MAX_SAFE_INTEGER,l=0;for(let u=0;u<pe.VERSION_DECODE_INFO.length;u++){const f=pe.VERSION_DECODE_INFO[u];if(f===i)return pe.getVersionForNumber(u+7);const d=Kt.numBitsDiffering(i,f);d<o&&(l=u+7,o=d)}return o<=3?pe.getVersionForNumber(l):null}buildFunctionPattern(){const i=this.getDimensionForVersion(),o=new Ee(i);o.setRegion(0,0,9,9),o.setRegion(i-8,0,8,9),o.setRegion(0,i-8,9,8);const l=this.alignmentPatternCenters.length;for(let u=0;u<l;u++){const f=this.alignmentPatternCenters[u]-2;for(let d=0;d<l;d++)u===0&&(d===0||d===l-1)||u===l-1&&d===0||o.setRegion(this.alignmentPatternCenters[d]-2,f,5,5)}return o.setRegion(6,9,1,i-17),o.setRegion(9,6,i-17,1),this.versionNumber>6&&(o.setRegion(i-11,0,3,6),o.setRegion(0,i-11,6,3)),o}toString(){return""+this.versionNumber}}pe.VERSION_DECODE_INFO=Int32Array.from([31892,34236,39577,42195,48118,51042,55367,58893,63784,68472,70749,76311,79154,84390,87683,92361,96236,102084,102881,110507,110734,117786,119615,126325,127568,133589,136944,141498,145311,150283,152622,158308,161089,167017]),pe.VERSIONS=[new pe(1,new Int32Array(0),new X(7,new k(1,19)),new X(10,new k(1,16)),new X(13,new k(1,13)),new X(17,new k(1,9))),new pe(2,Int32Array.from([6,18]),new X(10,new k(1,34)),new X(16,new k(1,28)),new X(22,new k(1,22)),new X(28,new k(1,16))),new pe(3,Int32Array.from([6,22]),new X(15,new k(1,55)),new X(26,new k(1,44)),new X(18,new k(2,17)),new X(22,new k(2,13))),new pe(4,Int32Array.from([6,26]),new X(20,new k(1,80)),new X(18,new k(2,32)),new X(26,new k(2,24)),new X(16,new k(4,9))),new pe(5,Int32Array.from([6,30]),new X(26,new k(1,108)),new X(24,new k(2,43)),new X(18,new k(2,15),new k(2,16)),new X(22,new k(2,11),new k(2,12))),new pe(6,Int32Array.from([6,34]),new X(18,new k(2,68)),new X(16,new k(4,27)),new X(24,new k(4,19)),new X(28,new k(4,15))),new pe(7,Int32Array.from([6,22,38]),new X(20,new k(2,78)),new X(18,new k(4,31)),new X(18,new k(2,14),new k(4,15)),new X(26,new k(4,13),new k(1,14))),new pe(8,Int32Array.from([6,24,42]),new X(24,new k(2,97)),new X(22,new k(2,38),new k(2,39)),new X(22,new k(4,18),new k(2,19)),new X(26,new k(4,14),new k(2,15))),new pe(9,Int32Array.from([6,26,46]),new X(30,new k(2,116)),new X(22,new k(3,36),new k(2,37)),new X(20,new k(4,16),new k(4,17)),new X(24,new k(4,12),new k(4,13))),new pe(10,Int32Array.from([6,28,50]),new X(18,new k(2,68),new k(2,69)),new X(26,new k(4,43),new k(1,44)),new X(24,new k(6,19),new k(2,20)),new X(28,new k(6,15),new k(2,16))),new pe(11,Int32Array.from([6,30,54]),new X(20,new k(4,81)),new X(30,new k(1,50),new k(4,51)),new X(28,new k(4,22),new k(4,23)),new X(24,new k(3,12),new k(8,13))),new pe(12,Int32Array.from([6,32,58]),new X(24,new k(2,92),new k(2,93)),new X(22,new k(6,36),new k(2,37)),new X(26,new k(4,20),new k(6,21)),new X(28,new k(7,14),new k(4,15))),new pe(13,Int32Array.from([6,34,62]),new X(26,new k(4,107)),new X(22,new k(8,37),new k(1,38)),new X(24,new k(8,20),new k(4,21)),new X(22,new k(12,11),new k(4,12))),new pe(14,Int32Array.from([6,26,46,66]),new X(30,new k(3,115),new k(1,116)),new X(24,new k(4,40),new k(5,41)),new X(20,new k(11,16),new k(5,17)),new X(24,new k(11,12),new k(5,13))),new pe(15,Int32Array.from([6,26,48,70]),new X(22,new k(5,87),new k(1,88)),new X(24,new k(5,41),new k(5,42)),new X(30,new k(5,24),new k(7,25)),new X(24,new k(11,12),new k(7,13))),new pe(16,Int32Array.from([6,26,50,74]),new X(24,new k(5,98),new k(1,99)),new X(28,new k(7,45),new k(3,46)),new X(24,new k(15,19),new k(2,20)),new X(30,new k(3,15),new k(13,16))),new pe(17,Int32Array.from([6,30,54,78]),new X(28,new k(1,107),new k(5,108)),new X(28,new k(10,46),new k(1,47)),new X(28,new k(1,22),new k(15,23)),new X(28,new k(2,14),new k(17,15))),new pe(18,Int32Array.from([6,30,56,82]),new X(30,new k(5,120),new k(1,121)),new X(26,new k(9,43),new k(4,44)),new X(28,new k(17,22),new k(1,23)),new X(28,new k(2,14),new k(19,15))),new pe(19,Int32Array.from([6,30,58,86]),new X(28,new k(3,113),new k(4,114)),new X(26,new k(3,44),new k(11,45)),new X(26,new k(17,21),new k(4,22)),new X(26,new k(9,13),new k(16,14))),new pe(20,Int32Array.from([6,34,62,90]),new X(28,new k(3,107),new k(5,108)),new X(26,new k(3,41),new k(13,42)),new X(30,new k(15,24),new k(5,25)),new X(28,new k(15,15),new k(10,16))),new pe(21,Int32Array.from([6,28,50,72,94]),new X(28,new k(4,116),new k(4,117)),new X(26,new k(17,42)),new X(28,new k(17,22),new k(6,23)),new X(30,new k(19,16),new k(6,17))),new pe(22,Int32Array.from([6,26,50,74,98]),new X(28,new k(2,111),new k(7,112)),new X(28,new k(17,46)),new X(30,new k(7,24),new k(16,25)),new X(24,new k(34,13))),new pe(23,Int32Array.from([6,30,54,78,102]),new X(30,new k(4,121),new k(5,122)),new X(28,new k(4,47),new k(14,48)),new X(30,new k(11,24),new k(14,25)),new X(30,new k(16,15),new k(14,16))),new pe(24,Int32Array.from([6,28,54,80,106]),new X(30,new k(6,117),new k(4,118)),new X(28,new k(6,45),new k(14,46)),new X(30,new k(11,24),new k(16,25)),new X(30,new k(30,16),new k(2,17))),new pe(25,Int32Array.from([6,32,58,84,110]),new X(26,new k(8,106),new k(4,107)),new X(28,new k(8,47),new k(13,48)),new X(30,new k(7,24),new k(22,25)),new X(30,new k(22,15),new k(13,16))),new pe(26,Int32Array.from([6,30,58,86,114]),new X(28,new k(10,114),new k(2,115)),new X(28,new k(19,46),new k(4,47)),new X(28,new k(28,22),new k(6,23)),new X(30,new k(33,16),new k(4,17))),new pe(27,Int32Array.from([6,34,62,90,118]),new X(30,new k(8,122),new k(4,123)),new X(28,new k(22,45),new k(3,46)),new X(30,new k(8,23),new k(26,24)),new X(30,new k(12,15),new k(28,16))),new pe(28,Int32Array.from([6,26,50,74,98,122]),new X(30,new k(3,117),new k(10,118)),new X(28,new k(3,45),new k(23,46)),new X(30,new k(4,24),new k(31,25)),new X(30,new k(11,15),new k(31,16))),new pe(29,Int32Array.from([6,30,54,78,102,126]),new X(30,new k(7,116),new k(7,117)),new X(28,new k(21,45),new k(7,46)),new X(30,new k(1,23),new k(37,24)),new X(30,new k(19,15),new k(26,16))),new pe(30,Int32Array.from([6,26,52,78,104,130]),new X(30,new k(5,115),new k(10,116)),new X(28,new k(19,47),new k(10,48)),new X(30,new k(15,24),new k(25,25)),new X(30,new k(23,15),new k(25,16))),new pe(31,Int32Array.from([6,30,56,82,108,134]),new X(30,new k(13,115),new k(3,116)),new X(28,new k(2,46),new k(29,47)),new X(30,new k(42,24),new k(1,25)),new X(30,new k(23,15),new k(28,16))),new pe(32,Int32Array.from([6,34,60,86,112,138]),new X(30,new k(17,115)),new X(28,new k(10,46),new k(23,47)),new X(30,new k(10,24),new k(35,25)),new X(30,new k(19,15),new k(35,16))),new pe(33,Int32Array.from([6,30,58,86,114,142]),new X(30,new k(17,115),new k(1,116)),new X(28,new k(14,46),new k(21,47)),new X(30,new k(29,24),new k(19,25)),new X(30,new k(11,15),new k(46,16))),new pe(34,Int32Array.from([6,34,62,90,118,146]),new X(30,new k(13,115),new k(6,116)),new X(28,new k(14,46),new k(23,47)),new X(30,new k(44,24),new k(7,25)),new X(30,new k(59,16),new k(1,17))),new pe(35,Int32Array.from([6,30,54,78,102,126,150]),new X(30,new k(12,121),new k(7,122)),new X(28,new k(12,47),new k(26,48)),new X(30,new k(39,24),new k(14,25)),new X(30,new k(22,15),new k(41,16))),new pe(36,Int32Array.from([6,24,50,76,102,128,154]),new X(30,new k(6,121),new k(14,122)),new X(28,new k(6,47),new k(34,48)),new X(30,new k(46,24),new k(10,25)),new X(30,new k(2,15),new k(64,16))),new pe(37,Int32Array.from([6,28,54,80,106,132,158]),new X(30,new k(17,122),new k(4,123)),new X(28,new k(29,46),new k(14,47)),new X(30,new k(49,24),new k(10,25)),new X(30,new k(24,15),new k(46,16))),new pe(38,Int32Array.from([6,32,58,84,110,136,162]),new X(30,new k(4,122),new k(18,123)),new X(28,new k(13,46),new k(32,47)),new X(30,new k(48,24),new k(14,25)),new X(30,new k(42,15),new k(32,16))),new pe(39,Int32Array.from([6,26,54,82,110,138,166]),new X(30,new k(20,117),new k(4,118)),new X(28,new k(40,47),new k(7,48)),new X(30,new k(43,24),new k(22,25)),new X(30,new k(10,15),new k(67,16))),new pe(40,Int32Array.from([6,30,58,86,114,142,170]),new X(30,new k(19,118),new k(6,119)),new X(28,new k(18,47),new k(31,48)),new X(30,new k(34,24),new k(34,25)),new X(30,new k(20,15),new k(61,16)))];var kt;(function(_){_[_.DATA_MASK_000=0]="DATA_MASK_000",_[_.DATA_MASK_001=1]="DATA_MASK_001",_[_.DATA_MASK_010=2]="DATA_MASK_010",_[_.DATA_MASK_011=3]="DATA_MASK_011",_[_.DATA_MASK_100=4]="DATA_MASK_100",_[_.DATA_MASK_101=5]="DATA_MASK_101",_[_.DATA_MASK_110=6]="DATA_MASK_110",_[_.DATA_MASK_111=7]="DATA_MASK_111"})(kt||(kt={}));class Un{constructor(i,o){this.value=i,this.isMasked=o}unmaskBitMatrix(i,o){for(let l=0;l<o;l++)for(let u=0;u<o;u++)this.isMasked(l,u)&&i.flip(u,l)}}Un.values=new Map([[kt.DATA_MASK_000,new Un(kt.DATA_MASK_000,(_,i)=>(_+i&1)===0)],[kt.DATA_MASK_001,new Un(kt.DATA_MASK_001,(_,i)=>(_&1)===0)],[kt.DATA_MASK_010,new Un(kt.DATA_MASK_010,(_,i)=>i%3===0)],[kt.DATA_MASK_011,new Un(kt.DATA_MASK_011,(_,i)=>(_+i)%3===0)],[kt.DATA_MASK_100,new Un(kt.DATA_MASK_100,(_,i)=>(Math.floor(_/2)+Math.floor(i/3)&1)===0)],[kt.DATA_MASK_101,new Un(kt.DATA_MASK_101,(_,i)=>_*i%6===0)],[kt.DATA_MASK_110,new Un(kt.DATA_MASK_110,(_,i)=>_*i%6<3)],[kt.DATA_MASK_111,new Un(kt.DATA_MASK_111,(_,i)=>(_+i+_*i%3&1)===0)]]);class iC{constructor(i){const o=i.getHeight();if(o<21||(o&3)!==1)throw new F;this.bitMatrix=i}readFormatInformation(){if(this.parsedFormatInfo!==null&&this.parsedFormatInfo!==void 0)return this.parsedFormatInfo;let i=0;for(let f=0;f<6;f++)i=this.copyBit(f,8,i);i=this.copyBit(7,8,i),i=this.copyBit(8,8,i),i=this.copyBit(8,7,i);for(let f=5;f>=0;f--)i=this.copyBit(8,f,i);const o=this.bitMatrix.getHeight();let l=0;const u=o-7;for(let f=o-1;f>=u;f--)l=this.copyBit(8,f,l);for(let f=o-8;f<o;f++)l=this.copyBit(f,8,l);if(this.parsedFormatInfo=Kt.decodeFormatInformation(i,l),this.parsedFormatInfo!==null)return this.parsedFormatInfo;throw new F}readVersion(){if(this.parsedVersion!==null&&this.parsedVersion!==void 0)return this.parsedVersion;const i=this.bitMatrix.getHeight(),o=Math.floor((i-17)/4);if(o<=6)return pe.getVersionForNumber(o);let l=0;const u=i-11;for(let d=5;d>=0;d--)for(let m=i-9;m>=u;m--)l=this.copyBit(m,d,l);let f=pe.decodeVersionInformation(l);if(f!==null&&f.getDimensionForVersion()===i)return this.parsedVersion=f,f;l=0;for(let d=5;d>=0;d--)for(let m=i-9;m>=u;m--)l=this.copyBit(d,m,l);if(f=pe.decodeVersionInformation(l),f!==null&&f.getDimensionForVersion()===i)return this.parsedVersion=f,f;throw new F}copyBit(i,o,l){return(this.isMirror?this.bitMatrix.get(o,i):this.bitMatrix.get(i,o))?l<<1|1:l<<1}readCodewords(){const i=this.readFormatInformation(),o=this.readVersion(),l=Un.values.get(i.getDataMask()),u=this.bitMatrix.getHeight();l.unmaskBitMatrix(this.bitMatrix,u);const f=o.buildFunctionPattern();let d=!0;const m=new Uint8Array(o.getTotalCodewords());let y=0,C=0,b=0;for(let I=u-1;I>0;I-=2){I===6&&I--;for(let D=0;D<u;D++){const P=d?u-1-D:D;for(let B=0;B<2;B++)f.get(I-B,P)||(b++,C<<=1,this.bitMatrix.get(I-B,P)&&(C|=1),b===8&&(m[y++]=C,b=0,C=0))}d=!d}if(y!==o.getTotalCodewords())throw new F;return m}remask(){if(this.parsedFormatInfo===null)return;const i=Un.values[this.parsedFormatInfo.getDataMask()],o=this.bitMatrix.getHeight();i.unmaskBitMatrix(this.bitMatrix,o)}setMirror(i){this.parsedVersion=null,this.parsedFormatInfo=null,this.isMirror=i}mirror(){const i=this.bitMatrix;for(let o=0,l=i.getWidth();o<l;o++)for(let u=o+1,f=i.getHeight();u<f;u++)i.get(o,u)!==i.get(u,o)&&(i.flip(u,o),i.flip(o,u))}}class of{constructor(i,o){this.numDataCodewords=i,this.codewords=o}static getDataBlocks(i,o,l){if(i.length!==o.getTotalCodewords())throw new w;const u=o.getECBlocksForLevel(l);let f=0;const d=u.getECBlocks();for(const B of d)f+=B.getCount();const m=new Array(f);let y=0;for(const B of d)for(let j=0;j<B.getCount();j++){const V=B.getDataCodewords(),Z=u.getECCodewordsPerBlock()+V;m[y++]=new of(V,new Uint8Array(Z))}const C=m[0].codewords.length;let b=m.length-1;for(;b>=0&&m[b].codewords.length!==C;)b--;b++;const I=C-u.getECCodewordsPerBlock();let D=0;for(let B=0;B<I;B++)for(let j=0;j<y;j++)m[j].codewords[B]=i[D++];for(let B=b;B<y;B++)m[B].codewords[I]=i[D++];const P=m[0].codewords.length;for(let B=I;B<P;B++)for(let j=0;j<y;j++){const V=j<b?B:B+1;m[j].codewords[V]=i[D++]}return m}getNumDataCodewords(){return this.numDataCodewords}getCodewords(){return this.codewords}}var Hn;(function(_){_[_.TERMINATOR=0]="TERMINATOR",_[_.NUMERIC=1]="NUMERIC",_[_.ALPHANUMERIC=2]="ALPHANUMERIC",_[_.STRUCTURED_APPEND=3]="STRUCTURED_APPEND",_[_.BYTE=4]="BYTE",_[_.ECI=5]="ECI",_[_.KANJI=6]="KANJI",_[_.FNC1_FIRST_POSITION=7]="FNC1_FIRST_POSITION",_[_.FNC1_SECOND_POSITION=8]="FNC1_SECOND_POSITION",_[_.HANZI=9]="HANZI"})(Hn||(Hn={}));class xe{constructor(i,o,l,u){this.value=i,this.stringValue=o,this.characterCountBitsForVersions=l,this.bits=u,xe.FOR_BITS.set(u,this),xe.FOR_VALUE.set(i,this)}static forBits(i){const o=xe.FOR_BITS.get(i);if(o===void 0)throw new w;return o}getCharacterCountBits(i){const o=i.getVersionNumber();let l;return o<=9?l=0:o<=26?l=1:l=2,this.characterCountBitsForVersions[l]}getValue(){return this.value}getBits(){return this.bits}equals(i){if(!(i instanceof xe))return!1;const o=i;return this.value===o.value}toString(){return this.stringValue}}xe.FOR_BITS=new Map,xe.FOR_VALUE=new Map,xe.TERMINATOR=new xe(Hn.TERMINATOR,"TERMINATOR",Int32Array.from([0,0,0]),0),xe.NUMERIC=new xe(Hn.NUMERIC,"NUMERIC",Int32Array.from([10,12,14]),1),xe.ALPHANUMERIC=new xe(Hn.ALPHANUMERIC,"ALPHANUMERIC",Int32Array.from([9,11,13]),2),xe.STRUCTURED_APPEND=new xe(Hn.STRUCTURED_APPEND,"STRUCTURED_APPEND",Int32Array.from([0,0,0]),3),xe.BYTE=new xe(Hn.BYTE,"BYTE",Int32Array.from([8,16,16]),4),xe.ECI=new xe(Hn.ECI,"ECI",Int32Array.from([0,0,0]),7),xe.KANJI=new xe(Hn.KANJI,"KANJI",Int32Array.from([8,10,12]),8),xe.FNC1_FIRST_POSITION=new xe(Hn.FNC1_FIRST_POSITION,"FNC1_FIRST_POSITION",Int32Array.from([0,0,0]),5),xe.FNC1_SECOND_POSITION=new xe(Hn.FNC1_SECOND_POSITION,"FNC1_SECOND_POSITION",Int32Array.from([0,0,0]),9),xe.HANZI=new xe(Hn.HANZI,"HANZI",Int32Array.from([8,10,12]),13);class at{static decode(i,o,l,u){const f=new sf(i);let d=new me;const m=new Array;let y=-1,C=-1;try{let b=null,I=!1,D;do{if(f.available()<4)D=xe.TERMINATOR;else{const P=f.readBits(4);D=xe.forBits(P)}switch(D){case xe.TERMINATOR:break;case xe.FNC1_FIRST_POSITION:case xe.FNC1_SECOND_POSITION:I=!0;break;case xe.STRUCTURED_APPEND:if(f.available()<16)throw new F;y=f.readBits(8),C=f.readBits(8);break;case xe.ECI:const P=at.parseECIValue(f);if(b=G.getCharacterSetECIByValue(P),b===null)throw new F;break;case xe.HANZI:const B=f.readBits(4),j=f.readBits(D.getCharacterCountBits(o));B===at.GB2312_SUBSET&&at.decodeHanziSegment(f,d,j);break;default:const V=f.readBits(D.getCharacterCountBits(o));switch(D){case xe.NUMERIC:at.decodeNumericSegment(f,d,V);break;case xe.ALPHANUMERIC:at.decodeAlphanumericSegment(f,d,V,I);break;case xe.BYTE:at.decodeByteSegment(f,d,V,b,m,u);break;case xe.KANJI:at.decodeKanjiSegment(f,d,V);break;default:throw new F}break}}while(D!==xe.TERMINATOR)}catch{throw new F}return new To(i,d.toString(),m.length===0?null:m,l===null?null:l.toString(),y,C)}static decodeHanziSegment(i,o,l){if(l*13>i.available())throw new F;const u=new Uint8Array(2*l);let f=0;for(;l>0;){const d=i.readBits(13);let m=d/96<<8&4294967295|d%96;m<959?m+=41377:m+=42657,u[f]=m>>8&255,u[f+1]=m&255,f+=2,l--}try{o.append(oe.decode(u,te.GB2312))}catch(d){throw new F(d)}}static decodeKanjiSegment(i,o,l){if(l*13>i.available())throw new F;const u=new Uint8Array(2*l);let f=0;for(;l>0;){const d=i.readBits(13);let m=d/192<<8&4294967295|d%192;m<7936?m+=33088:m+=49472,u[f]=m>>8,u[f+1]=m,f+=2,l--}try{o.append(oe.decode(u,te.SHIFT_JIS))}catch(d){throw new F(d)}}static decodeByteSegment(i,o,l,u,f,d){if(8*l>i.available())throw new F;const m=new Uint8Array(l);for(let C=0;C<l;C++)m[C]=i.readBits(8);let y;u===null?y=te.guessEncoding(m,d):y=u.getName();try{o.append(oe.decode(m,y))}catch(C){throw new F(C)}f.push(m)}static toAlphaNumericChar(i){if(i>=at.ALPHANUMERIC_CHARS.length)throw new F;return at.ALPHANUMERIC_CHARS[i]}static decodeAlphanumericSegment(i,o,l,u){const f=o.length();for(;l>1;){if(i.available()<11)throw new F;const d=i.readBits(11);o.append(at.toAlphaNumericChar(Math.floor(d/45))),o.append(at.toAlphaNumericChar(d%45)),l-=2}if(l===1){if(i.available()<6)throw new F;o.append(at.toAlphaNumericChar(i.readBits(6)))}if(u)for(let d=f;d<o.length();d++)o.charAt(d)==="%"&&(d<o.length()-1&&o.charAt(d+1)==="%"?o.deleteCharAt(d+1):o.setCharAt(d,""))}static decodeNumericSegment(i,o,l){for(;l>=3;){if(i.available()<10)throw new F;const u=i.readBits(10);if(u>=1e3)throw new F;o.append(at.toAlphaNumericChar(Math.floor(u/100))),o.append(at.toAlphaNumericChar(Math.floor(u/10)%10)),o.append(at.toAlphaNumericChar(u%10)),l-=3}if(l===2){if(i.available()<7)throw new F;const u=i.readBits(7);if(u>=100)throw new F;o.append(at.toAlphaNumericChar(Math.floor(u/10))),o.append(at.toAlphaNumericChar(u%10))}else if(l===1){if(i.available()<4)throw new F;const u=i.readBits(4);if(u>=10)throw new F;o.append(at.toAlphaNumericChar(u))}}static parseECIValue(i){const o=i.readBits(8);if(!(o&128))return o&127;if((o&192)===128){const l=i.readBits(8);return(o&63)<<8&4294967295|l}if((o&224)===192){const l=i.readBits(16);return(o&31)<<16&4294967295|l}throw new F}}at.ALPHANUMERIC_CHARS="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:",at.GB2312_SUBSET=1;class o1{constructor(i){this.mirrored=i}isMirrored(){return this.mirrored}applyMirroredCorrection(i){if(!this.mirrored||i===null||i.length<3)return;const o=i[0];i[0]=i[2],i[2]=o}}class sC{constructor(){this.rsDecoder=new Mo(Fe.QR_CODE_FIELD_256)}decodeBooleanArray(i,o){return this.decodeBitMatrix(Ee.parseFromBooleanArray(i),o)}decodeBitMatrix(i,o){const l=new iC(i);let u=null;try{return this.decodeBitMatrixParser(l,o)}catch(f){u=f}try{l.remask(),l.setMirror(!0),l.readVersion(),l.readFormatInformation(),l.mirror();const f=this.decodeBitMatrixParser(l,o);return f.setOther(new o1(!0)),f}catch(f){throw u!==null?u:f}}decodeBitMatrixParser(i,o){const l=i.readVersion(),u=i.readFormatInformation().getErrorCorrectionLevel(),f=i.readCodewords(),d=of.getDataBlocks(f,l,u);let m=0;for(const b of d)m+=b.getNumDataCodewords();const y=new Uint8Array(m);let C=0;for(const b of d){const I=b.getCodewords(),D=b.getNumDataCodewords();this.correctErrors(I,D);for(let P=0;P<D;P++)y[C++]=I[P]}return at.decode(y,l,u,o)}correctErrors(i,o){const l=new Int32Array(i);try{this.rsDecoder.decode(l,i.length-o)}catch{throw new S}for(let u=0;u<o;u++)i[u]=l[u]}}class af extends he{constructor(i,o,l){super(i,o),this.estimatedModuleSize=l}aboutEquals(i,o,l){if(Math.abs(o-this.getY())<=i&&Math.abs(l-this.getX())<=i){const u=Math.abs(i-this.estimatedModuleSize);return u<=1||u<=this.estimatedModuleSize}return!1}combineEstimate(i,o,l){const u=(this.getX()+o)/2,f=(this.getY()+i)/2,d=(this.estimatedModuleSize+l)/2;return new af(u,f,d)}}class Cl{constructor(i,o,l,u,f,d,m){this.image=i,this.startX=o,this.startY=l,this.width=u,this.height=f,this.moduleSize=d,this.resultPointCallback=m,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(3)}find(){const i=this.startX,o=this.height,l=this.width,u=i+l,f=this.startY+o/2,d=new Int32Array(3),m=this.image;for(let y=0;y<o;y++){const C=f+(y&1?-Math.floor((y+1)/2):Math.floor((y+1)/2));d[0]=0,d[1]=0,d[2]=0;let b=i;for(;b<u&&!m.get(b,C);)b++;let I=0;for(;b<u;){if(m.get(b,C))if(I===1)d[1]++;else if(I===2){if(this.foundPatternCross(d)){const D=this.handlePossibleCenter(d,C,b);if(D!==null)return D}d[0]=d[2],d[1]=1,d[2]=0,I=1}else d[++I]++;else I===1&&I++,d[I]++;b++}if(this.foundPatternCross(d)){const D=this.handlePossibleCenter(d,C,u);if(D!==null)return D}}if(this.possibleCenters.length!==0)return this.possibleCenters[0];throw new W}static centerFromEnd(i,o){return o-i[2]-i[1]/2}foundPatternCross(i){const o=this.moduleSize,l=o/2;for(let u=0;u<3;u++)if(Math.abs(o-i[u])>=l)return!1;return!0}crossCheckVertical(i,o,l,u){const f=this.image,d=f.getHeight(),m=this.crossCheckStateCount;m[0]=0,m[1]=0,m[2]=0;let y=i;for(;y>=0&&f.get(o,y)&&m[1]<=l;)m[1]++,y--;if(y<0||m[1]>l)return NaN;for(;y>=0&&!f.get(o,y)&&m[0]<=l;)m[0]++,y--;if(m[0]>l)return NaN;for(y=i+1;y<d&&f.get(o,y)&&m[1]<=l;)m[1]++,y++;if(y===d||m[1]>l)return NaN;for(;y<d&&!f.get(o,y)&&m[2]<=l;)m[2]++,y++;if(m[2]>l)return NaN;const C=m[0]+m[1]+m[2];return 5*Math.abs(C-u)>=2*u?NaN:this.foundPatternCross(m)?Cl.centerFromEnd(m,y):NaN}handlePossibleCenter(i,o,l){const u=i[0]+i[1]+i[2],f=Cl.centerFromEnd(i,l),d=this.crossCheckVertical(o,f,2*i[1],u);if(!isNaN(d)){const m=(i[0]+i[1]+i[2])/3;for(const C of this.possibleCenters)if(C.aboutEquals(m,d,f))return C.combineEstimate(d,f,m);const y=new af(f,d,m);this.possibleCenters.push(y),this.resultPointCallback!==null&&this.resultPointCallback!==void 0&&this.resultPointCallback.foundPossibleResultPoint(y)}return null}}class lf extends he{constructor(i,o,l,u){super(i,o),this.estimatedModuleSize=l,this.count=u,u===void 0&&(this.count=1)}getEstimatedModuleSize(){return this.estimatedModuleSize}getCount(){return this.count}aboutEquals(i,o,l){if(Math.abs(o-this.getY())<=i&&Math.abs(l-this.getX())<=i){const u=Math.abs(i-this.estimatedModuleSize);return u<=1||u<=this.estimatedModuleSize}return!1}combineEstimate(i,o,l){const u=this.count+1,f=(this.count*this.getX()+o)/u,d=(this.count*this.getY()+i)/u,m=(this.count*this.estimatedModuleSize+l)/u;return new lf(f,d,m,u)}}class oC{constructor(i){this.bottomLeft=i[0],this.topLeft=i[1],this.topRight=i[2]}getBottomLeft(){return this.bottomLeft}getTopLeft(){return this.topLeft}getTopRight(){return this.topRight}}class Lt{constructor(i,o){this.image=i,this.resultPointCallback=o,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(5),this.resultPointCallback=o}getImage(){return this.image}getPossibleCenters(){return this.possibleCenters}find(i){const o=i!=null&&i.get(Y.TRY_HARDER)!==void 0,l=i!=null&&i.get(Y.PURE_BARCODE)!==void 0,u=this.image,f=u.getHeight(),d=u.getWidth();let m=Math.floor(3*f/(4*Lt.MAX_MODULES));(m<Lt.MIN_SKIP||o)&&(m=Lt.MIN_SKIP);let y=!1;const C=new Int32Array(5);for(let I=m-1;I<f&&!y;I+=m){C[0]=0,C[1]=0,C[2]=0,C[3]=0,C[4]=0;let D=0;for(let P=0;P<d;P++)if(u.get(P,I))(D&1)===1&&D++,C[D]++;else if(D&1)C[D]++;else if(D===4)if(Lt.foundPatternCross(C)){if(this.handlePossibleCenter(C,I,P,l)===!0)if(m=2,this.hasSkipped===!0)y=this.haveMultiplyConfirmedCenters();else{const j=this.findRowSkip();j>C[2]&&(I+=j-C[2]-m,P=d-1)}else{C[0]=C[2],C[1]=C[3],C[2]=C[4],C[3]=1,C[4]=0,D=3;continue}D=0,C[0]=0,C[1]=0,C[2]=0,C[3]=0,C[4]=0}else C[0]=C[2],C[1]=C[3],C[2]=C[4],C[3]=1,C[4]=0,D=3;else C[++D]++;Lt.foundPatternCross(C)&&this.handlePossibleCenter(C,I,d,l)===!0&&(m=C[0],this.hasSkipped&&(y=this.haveMultiplyConfirmedCenters()))}const b=this.selectBestPatterns();return he.orderBestPatterns(b),new oC(b)}static centerFromEnd(i,o){return o-i[4]-i[3]-i[2]/2}static foundPatternCross(i){let o=0;for(let f=0;f<5;f++){const d=i[f];if(d===0)return!1;o+=d}if(o<7)return!1;const l=o/7,u=l/2;return Math.abs(l-i[0])<u&&Math.abs(l-i[1])<u&&Math.abs(3*l-i[2])<3*u&&Math.abs(l-i[3])<u&&Math.abs(l-i[4])<u}getCrossCheckStateCount(){const i=this.crossCheckStateCount;return i[0]=0,i[1]=0,i[2]=0,i[3]=0,i[4]=0,i}crossCheckDiagonal(i,o,l,u){const f=this.getCrossCheckStateCount();let d=0;const m=this.image;for(;i>=d&&o>=d&&m.get(o-d,i-d);)f[2]++,d++;if(i<d||o<d)return!1;for(;i>=d&&o>=d&&!m.get(o-d,i-d)&&f[1]<=l;)f[1]++,d++;if(i<d||o<d||f[1]>l)return!1;for(;i>=d&&o>=d&&m.get(o-d,i-d)&&f[0]<=l;)f[0]++,d++;if(f[0]>l)return!1;const y=m.getHeight(),C=m.getWidth();for(d=1;i+d<y&&o+d<C&&m.get(o+d,i+d);)f[2]++,d++;if(i+d>=y||o+d>=C)return!1;for(;i+d<y&&o+d<C&&!m.get(o+d,i+d)&&f[3]<l;)f[3]++,d++;if(i+d>=y||o+d>=C||f[3]>=l)return!1;for(;i+d<y&&o+d<C&&m.get(o+d,i+d)&&f[4]<l;)f[4]++,d++;if(f[4]>=l)return!1;const b=f[0]+f[1]+f[2]+f[3]+f[4];return Math.abs(b-u)<2*u&&Lt.foundPatternCross(f)}crossCheckVertical(i,o,l,u){const f=this.image,d=f.getHeight(),m=this.getCrossCheckStateCount();let y=i;for(;y>=0&&f.get(o,y);)m[2]++,y--;if(y<0)return NaN;for(;y>=0&&!f.get(o,y)&&m[1]<=l;)m[1]++,y--;if(y<0||m[1]>l)return NaN;for(;y>=0&&f.get(o,y)&&m[0]<=l;)m[0]++,y--;if(m[0]>l)return NaN;for(y=i+1;y<d&&f.get(o,y);)m[2]++,y++;if(y===d)return NaN;for(;y<d&&!f.get(o,y)&&m[3]<l;)m[3]++,y++;if(y===d||m[3]>=l)return NaN;for(;y<d&&f.get(o,y)&&m[4]<l;)m[4]++,y++;if(m[4]>=l)return NaN;const C=m[0]+m[1]+m[2]+m[3]+m[4];return 5*Math.abs(C-u)>=2*u?NaN:Lt.foundPatternCross(m)?Lt.centerFromEnd(m,y):NaN}crossCheckHorizontal(i,o,l,u){const f=this.image,d=f.getWidth(),m=this.getCrossCheckStateCount();let y=i;for(;y>=0&&f.get(y,o);)m[2]++,y--;if(y<0)return NaN;for(;y>=0&&!f.get(y,o)&&m[1]<=l;)m[1]++,y--;if(y<0||m[1]>l)return NaN;for(;y>=0&&f.get(y,o)&&m[0]<=l;)m[0]++,y--;if(m[0]>l)return NaN;for(y=i+1;y<d&&f.get(y,o);)m[2]++,y++;if(y===d)return NaN;for(;y<d&&!f.get(y,o)&&m[3]<l;)m[3]++,y++;if(y===d||m[3]>=l)return NaN;for(;y<d&&f.get(y,o)&&m[4]<l;)m[4]++,y++;if(m[4]>=l)return NaN;const C=m[0]+m[1]+m[2]+m[3]+m[4];return 5*Math.abs(C-u)>=u?NaN:Lt.foundPatternCross(m)?Lt.centerFromEnd(m,y):NaN}handlePossibleCenter(i,o,l,u){const f=i[0]+i[1]+i[2]+i[3]+i[4];let d=Lt.centerFromEnd(i,l),m=this.crossCheckVertical(o,Math.floor(d),i[2],f);if(!isNaN(m)&&(d=this.crossCheckHorizontal(Math.floor(d),Math.floor(m),i[2],f),!isNaN(d)&&(!u||this.crossCheckDiagonal(Math.floor(m),Math.floor(d),i[2],f)))){const y=f/7;let C=!1;const b=this.possibleCenters;for(let I=0,D=b.length;I<D;I++){const P=b[I];if(P.aboutEquals(y,m,d)){b[I]=P.combineEstimate(m,d,y),C=!0;break}}if(!C){const I=new lf(d,m,y);b.push(I),this.resultPointCallback!==null&&this.resultPointCallback!==void 0&&this.resultPointCallback.foundPossibleResultPoint(I)}return!0}return!1}findRowSkip(){if(this.possibleCenters.length<=1)return 0;let o=null;for(const l of this.possibleCenters)if(l.getCount()>=Lt.CENTER_QUORUM)if(o==null)o=l;else return this.hasSkipped=!0,Math.floor((Math.abs(o.getX()-l.getX())-Math.abs(o.getY()-l.getY()))/2);return 0}haveMultiplyConfirmedCenters(){let i=0,o=0;const l=this.possibleCenters.length;for(const d of this.possibleCenters)d.getCount()>=Lt.CENTER_QUORUM&&(i++,o+=d.getEstimatedModuleSize());if(i<3)return!1;const u=o/l;let f=0;for(const d of this.possibleCenters)f+=Math.abs(d.getEstimatedModuleSize()-u);return f<=.05*o}selectBestPatterns(){const i=this.possibleCenters.length;if(i<3)throw new W;const o=this.possibleCenters;let l;if(i>3){let u=0,f=0;for(const y of this.possibleCenters){const C=y.getEstimatedModuleSize();u+=C,f+=C*C}l=u/i;let d=Math.sqrt(f/i-l*l);o.sort((y,C)=>{const b=Math.abs(C.getEstimatedModuleSize()-l),I=Math.abs(y.getEstimatedModuleSize()-l);return b<I?-1:b>I?1:0});const m=Math.max(.2*l,d);for(let y=0;y<o.length&&o.length>3;y++){const C=o[y];Math.abs(C.getEstimatedModuleSize()-l)>m&&(o.splice(y,1),y--)}}if(o.length>3){let u=0;for(const f of o)u+=f.getEstimatedModuleSize();l=u/o.length,o.sort((f,d)=>{if(d.getCount()===f.getCount()){const m=Math.abs(d.getEstimatedModuleSize()-l),y=Math.abs(f.getEstimatedModuleSize()-l);return m<y?1:m>y?-1:0}else return d.getCount()-f.getCount()}),o.splice(3)}return[o[0],o[1],o[2]]}}Lt.CENTER_QUORUM=2,Lt.MIN_SKIP=3,Lt.MAX_MODULES=57;class Oo{constructor(i){this.image=i}getImage(){return this.image}getResultPointCallback(){return this.resultPointCallback}detect(i){this.resultPointCallback=i==null?null:i.get(Y.NEED_RESULT_POINT_CALLBACK);const l=new Lt(this.image,this.resultPointCallback).find(i);return this.processFinderPatternInfo(l)}processFinderPatternInfo(i){const o=i.getTopLeft(),l=i.getTopRight(),u=i.getBottomLeft(),f=this.calculateModuleSize(o,l,u);if(f<1)throw new W("No pattern found in proccess finder.");const d=Oo.computeDimension(o,l,u,f),m=pe.getProvisionalVersionForDimension(d),y=m.getDimensionForVersion()-7;let C=null;if(m.getAlignmentPatternCenters().length>0){const P=l.getX()-o.getX()+u.getX(),B=l.getY()-o.getY()+u.getY(),j=1-3/y,V=Math.floor(o.getX()+j*(P-o.getX())),Z=Math.floor(o.getY()+j*(B-o.getY()));for(let ee=4;ee<=16;ee<<=1)try{C=this.findAlignmentInRegion(f,V,Z,ee);break}catch(ne){if(!(ne instanceof W))throw ne}}const b=Oo.createTransform(o,l,u,C,d),I=Oo.sampleGrid(this.image,b,d);let D;return C===null?D=[u,o,l]:D=[u,o,l,C],new pl(I,D)}static createTransform(i,o,l,u,f){const d=f-3.5;let m,y,C,b;return u!==null?(m=u.getX(),y=u.getY(),C=d-3,b=C):(m=o.getX()-i.getX()+l.getX(),y=o.getY()-i.getY()+l.getY(),C=d,b=d),nr.quadrilateralToQuadrilateral(3.5,3.5,d,3.5,C,b,3.5,d,i.getX(),i.getY(),o.getX(),o.getY(),m,y,l.getX(),l.getY())}static sampleGrid(i,o,l){return ni.getInstance().sampleGridWithTransform(i,l,l,o)}static computeDimension(i,o,l,u){const f=De.round(he.distance(i,o)/u),d=De.round(he.distance(i,l)/u);let m=Math.floor((f+d)/2)+7;switch(m&3){case 0:m++;break;case 2:m--;break;case 3:throw new W("Dimensions could be not found.")}return m}calculateModuleSize(i,o,l){return(this.calculateModuleSizeOneWay(i,o)+this.calculateModuleSizeOneWay(i,l))/2}calculateModuleSizeOneWay(i,o){const l=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(i.getX()),Math.floor(i.getY()),Math.floor(o.getX()),Math.floor(o.getY())),u=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(o.getX()),Math.floor(o.getY()),Math.floor(i.getX()),Math.floor(i.getY()));return isNaN(l)?u/7:isNaN(u)?l/7:(l+u)/14}sizeOfBlackWhiteBlackRunBothWays(i,o,l,u){let f=this.sizeOfBlackWhiteBlackRun(i,o,l,u),d=1,m=i-(l-i);m<0?(d=i/(i-m),m=0):m>=this.image.getWidth()&&(d=(this.image.getWidth()-1-i)/(m-i),m=this.image.getWidth()-1);let y=Math.floor(o-(u-o)*d);return d=1,y<0?(d=o/(o-y),y=0):y>=this.image.getHeight()&&(d=(this.image.getHeight()-1-o)/(y-o),y=this.image.getHeight()-1),m=Math.floor(i+(m-i)*d),f+=this.sizeOfBlackWhiteBlackRun(i,o,m,y),f-1}sizeOfBlackWhiteBlackRun(i,o,l,u){const f=Math.abs(u-o)>Math.abs(l-i);if(f){let P=i;i=o,o=P,P=l,l=u,u=P}const d=Math.abs(l-i),m=Math.abs(u-o);let y=-d/2;const C=i<l?1:-1,b=o<u?1:-1;let I=0;const D=l+C;for(let P=i,B=o;P!==D;P+=C){const j=f?B:P,V=f?P:B;if(I===1===this.image.get(j,V)){if(I===2)return De.distance(P,B,i,o);I++}if(y+=m,y>0){if(B===u)break;B+=b,y-=d}}return I===2?De.distance(l+C,u,i,o):NaN}findAlignmentInRegion(i,o,l,u){const f=Math.floor(u*i),d=Math.max(0,o-f),m=Math.min(this.image.getWidth()-1,o+f);if(m-d<i*3)throw new W("Alignment top exceeds estimated module size.");const y=Math.max(0,l-f),C=Math.min(this.image.getHeight()-1,l+f);if(C-y<i*3)throw new W("Alignment bottom exceeds estimated module size.");return new Cl(this.image,d,y,m-d,C-y,i,this.resultPointCallback).find()}}class oi{constructor(){this.decoder=new sC}getDecoder(){return this.decoder}decode(i,o){let l,u;if(o!=null&&o.get(Y.PURE_BARCODE)!==void 0){const y=oi.extractPureBits(i.getBlackMatrix());l=this.decoder.decodeBitMatrix(y,o),u=oi.NO_POINTS}else{const y=new Oo(i.getBlackMatrix()).detect(o);l=this.decoder.decodeBitMatrix(y.getBits(),o),u=y.getPoints()}l.getOther()instanceof o1&&l.getOther().applyMirroredCorrection(u);const f=new Oe(l.getText(),l.getRawBytes(),void 0,u,ce.QR_CODE,void 0),d=l.getByteSegments();d!==null&&f.putMetadata(Dt.BYTE_SEGMENTS,d);const m=l.getECLevel();return m!==null&&f.putMetadata(Dt.ERROR_CORRECTION_LEVEL,m),l.hasStructuredAppend()&&(f.putMetadata(Dt.STRUCTURED_APPEND_SEQUENCE,l.getStructuredAppendSequenceNumber()),f.putMetadata(Dt.STRUCTURED_APPEND_PARITY,l.getStructuredAppendParity())),f}reset(){}static extractPureBits(i){const o=i.getTopLeftOnBit(),l=i.getBottomRightOnBit();if(o===null||l===null)throw new W;const u=this.moduleSize(o,i);let f=o[1],d=l[1],m=o[0],y=l[0];if(m>=y||f>=d)throw new W;if(d-f!==y-m&&(y=m+(d-f),y>=i.getWidth()))throw new W;const C=Math.round((y-m+1)/u),b=Math.round((d-f+1)/u);if(C<=0||b<=0)throw new W;if(b!==C)throw new W;const I=Math.floor(u/2);f+=I,m+=I;const D=m+Math.floor((C-1)*u)-y;if(D>0){if(D>I)throw new W;m-=D}const P=f+Math.floor((b-1)*u)-d;if(P>0){if(P>I)throw new W;f-=P}const B=new Ee(C,b);for(let j=0;j<b;j++){const V=f+Math.floor(j*u);for(let Z=0;Z<C;Z++)i.get(m+Math.floor(Z*u),V)&&B.set(Z,j)}return B}static moduleSize(i,o){const l=o.getHeight(),u=o.getWidth();let f=i[0],d=i[1],m=!0,y=0;for(;f<u&&d<l;){if(m!==o.get(f,d)){if(++y===5)break;m=!m}f++,d++}if(f===u||d===l)throw new W;return(f-i[0])/7}}oi.NO_POINTS=new Array;class Ce{PDF417Common(){}static getBitCountSum(i){return De.sum(i)}static toIntArray(i){if(i==null||!i.length)return Ce.EMPTY_INT_ARRAY;const o=new Int32Array(i.length);let l=0;for(const u of i)o[l++]=u;return o}static getCodeword(i){const o=T.binarySearch(Ce.SYMBOL_TABLE,i&262143);return o<0?-1:(Ce.CODEWORD_TABLE[o]-1)%Ce.NUMBER_OF_CODEWORDS}}Ce.NUMBER_OF_CODEWORDS=929,Ce.MAX_CODEWORDS_IN_BARCODE=Ce.NUMBER_OF_CODEWORDS-1,Ce.MIN_ROWS_IN_BARCODE=3,Ce.MAX_ROWS_IN_BARCODE=90,Ce.MODULES_IN_CODEWORD=17,Ce.MODULES_IN_STOP_PATTERN=18,Ce.BARS_IN_MODULE=8,Ce.EMPTY_INT_ARRAY=new Int32Array([]),Ce.SYMBOL_TABLE=Int32Array.from([66142,66170,66206,66236,66290,66292,66350,66382,66396,66454,66470,66476,66594,66600,66614,66626,66628,66632,66640,66654,66662,66668,66682,66690,66718,66720,66748,66758,66776,66798,66802,66804,66820,66824,66832,66846,66848,66876,66880,66936,66950,66956,66968,66992,67006,67022,67036,67042,67044,67048,67062,67118,67150,67164,67214,67228,67256,67294,67322,67350,67366,67372,67398,67404,67416,67438,67474,67476,67490,67492,67496,67510,67618,67624,67650,67656,67664,67678,67686,67692,67706,67714,67716,67728,67742,67744,67772,67782,67788,67800,67822,67826,67828,67842,67848,67870,67872,67900,67904,67960,67974,67992,68016,68030,68046,68060,68066,68068,68072,68086,68104,68112,68126,68128,68156,68160,68216,68336,68358,68364,68376,68400,68414,68448,68476,68494,68508,68536,68546,68548,68552,68560,68574,68582,68588,68654,68686,68700,68706,68708,68712,68726,68750,68764,68792,68802,68804,68808,68816,68830,68838,68844,68858,68878,68892,68920,68976,68990,68994,68996,69e3,69008,69022,69024,69052,69062,69068,69080,69102,69106,69108,69142,69158,69164,69190,69208,69230,69254,69260,69272,69296,69310,69326,69340,69386,69394,69396,69410,69416,69430,69442,69444,69448,69456,69470,69478,69484,69554,69556,69666,69672,69698,69704,69712,69726,69754,69762,69764,69776,69790,69792,69820,69830,69836,69848,69870,69874,69876,69890,69918,69920,69948,69952,70008,70022,70040,70064,70078,70094,70108,70114,70116,70120,70134,70152,70174,70176,70264,70384,70412,70448,70462,70496,70524,70542,70556,70584,70594,70600,70608,70622,70630,70636,70664,70672,70686,70688,70716,70720,70776,70896,71136,71180,71192,71216,71230,71264,71292,71360,71416,71452,71480,71536,71550,71554,71556,71560,71568,71582,71584,71612,71622,71628,71640,71662,71726,71732,71758,71772,71778,71780,71784,71798,71822,71836,71864,71874,71880,71888,71902,71910,71916,71930,71950,71964,71992,72048,72062,72066,72068,72080,72094,72096,72124,72134,72140,72152,72174,72178,72180,72206,72220,72248,72304,72318,72416,72444,72456,72464,72478,72480,72508,72512,72568,72588,72600,72624,72638,72654,72668,72674,72676,72680,72694,72726,72742,72748,72774,72780,72792,72814,72838,72856,72880,72894,72910,72924,72930,72932,72936,72950,72966,72972,72984,73008,73022,73056,73084,73102,73116,73144,73156,73160,73168,73182,73190,73196,73210,73226,73234,73236,73250,73252,73256,73270,73282,73284,73296,73310,73318,73324,73346,73348,73352,73360,73374,73376,73404,73414,73420,73432,73454,73498,73518,73522,73524,73550,73564,73570,73572,73576,73590,73800,73822,73858,73860,73872,73886,73888,73916,73944,73970,73972,73992,74014,74016,74044,74048,74104,74118,74136,74160,74174,74210,74212,74216,74230,74244,74256,74270,74272,74360,74480,74502,74508,74544,74558,74592,74620,74638,74652,74680,74690,74696,74704,74726,74732,74782,74784,74812,74992,75232,75288,75326,75360,75388,75456,75512,75576,75632,75646,75650,75652,75664,75678,75680,75708,75718,75724,75736,75758,75808,75836,75840,75896,76016,76256,76736,76824,76848,76862,76896,76924,76992,77048,77296,77340,77368,77424,77438,77536,77564,77572,77576,77584,77600,77628,77632,77688,77702,77708,77720,77744,77758,77774,77788,77870,77902,77916,77922,77928,77966,77980,78008,78018,78024,78032,78046,78060,78074,78094,78136,78192,78206,78210,78212,78224,78238,78240,78268,78278,78284,78296,78322,78324,78350,78364,78448,78462,78560,78588,78600,78622,78624,78652,78656,78712,78726,78744,78768,78782,78798,78812,78818,78820,78824,78838,78862,78876,78904,78960,78974,79072,79100,79296,79352,79368,79376,79390,79392,79420,79424,79480,79600,79628,79640,79664,79678,79712,79740,79772,79800,79810,79812,79816,79824,79838,79846,79852,79894,79910,79916,79942,79948,79960,79982,79988,80006,80024,80048,80062,80078,80092,80098,80100,80104,80134,80140,80176,80190,80224,80252,80270,80284,80312,80328,80336,80350,80358,80364,80378,80390,80396,80408,80432,80446,80480,80508,80576,80632,80654,80668,80696,80752,80766,80776,80784,80798,80800,80828,80844,80856,80878,80882,80884,80914,80916,80930,80932,80936,80950,80962,80968,80976,80990,80998,81004,81026,81028,81040,81054,81056,81084,81094,81100,81112,81134,81154,81156,81160,81168,81182,81184,81212,81216,81272,81286,81292,81304,81328,81342,81358,81372,81380,81384,81398,81434,81454,81458,81460,81486,81500,81506,81508,81512,81526,81550,81564,81592,81602,81604,81608,81616,81630,81638,81644,81702,81708,81722,81734,81740,81752,81774,81778,81780,82050,82078,82080,82108,82180,82184,82192,82206,82208,82236,82240,82296,82316,82328,82352,82366,82402,82404,82408,82440,82448,82462,82464,82492,82496,82552,82672,82694,82700,82712,82736,82750,82784,82812,82830,82882,82884,82888,82896,82918,82924,82952,82960,82974,82976,83004,83008,83064,83184,83424,83468,83480,83504,83518,83552,83580,83648,83704,83740,83768,83824,83838,83842,83844,83848,83856,83872,83900,83910,83916,83928,83950,83984,84e3,84028,84032,84088,84208,84448,84928,85040,85054,85088,85116,85184,85240,85488,85560,85616,85630,85728,85756,85764,85768,85776,85790,85792,85820,85824,85880,85894,85900,85912,85936,85966,85980,86048,86080,86136,86256,86496,86976,88160,88188,88256,88312,88560,89056,89200,89214,89312,89340,89536,89592,89608,89616,89632,89664,89720,89840,89868,89880,89904,89952,89980,89998,90012,90040,90190,90204,90254,90268,90296,90306,90308,90312,90334,90382,90396,90424,90480,90494,90500,90504,90512,90526,90528,90556,90566,90572,90584,90610,90612,90638,90652,90680,90736,90750,90848,90876,90884,90888,90896,90910,90912,90940,90944,91e3,91014,91020,91032,91056,91070,91086,91100,91106,91108,91112,91126,91150,91164,91192,91248,91262,91360,91388,91584,91640,91664,91678,91680,91708,91712,91768,91888,91928,91952,91966,92e3,92028,92046,92060,92088,92098,92100,92104,92112,92126,92134,92140,92188,92216,92272,92384,92412,92608,92664,93168,93200,93214,93216,93244,93248,93304,93424,93664,93720,93744,93758,93792,93820,93888,93944,93980,94008,94064,94078,94084,94088,94096,94110,94112,94140,94150,94156,94168,94246,94252,94278,94284,94296,94318,94342,94348,94360,94384,94398,94414,94428,94440,94470,94476,94488,94512,94526,94560,94588,94606,94620,94648,94658,94660,94664,94672,94686,94694,94700,94714,94726,94732,94744,94768,94782,94816,94844,94912,94968,94990,95004,95032,95088,95102,95112,95120,95134,95136,95164,95180,95192,95214,95218,95220,95244,95256,95280,95294,95328,95356,95424,95480,95728,95758,95772,95800,95856,95870,95968,95996,96008,96016,96030,96032,96060,96064,96120,96152,96176,96190,96220,96226,96228,96232,96290,96292,96296,96310,96322,96324,96328,96336,96350,96358,96364,96386,96388,96392,96400,96414,96416,96444,96454,96460,96472,96494,96498,96500,96514,96516,96520,96528,96542,96544,96572,96576,96632,96646,96652,96664,96688,96702,96718,96732,96738,96740,96744,96758,96772,96776,96784,96798,96800,96828,96832,96888,97008,97030,97036,97048,97072,97086,97120,97148,97166,97180,97208,97220,97224,97232,97246,97254,97260,97326,97330,97332,97358,97372,97378,97380,97384,97398,97422,97436,97464,97474,97476,97480,97488,97502,97510,97516,97550,97564,97592,97648,97666,97668,97672,97680,97694,97696,97724,97734,97740,97752,97774,97830,97836,97850,97862,97868,97880,97902,97906,97908,97926,97932,97944,97968,97998,98012,98018,98020,98024,98038,98618,98674,98676,98838,98854,98874,98892,98904,98926,98930,98932,98968,99006,99042,99044,99048,99062,99166,99194,99246,99286,99350,99366,99372,99386,99398,99416,99438,99442,99444,99462,99504,99518,99534,99548,99554,99556,99560,99574,99590,99596,99608,99632,99646,99680,99708,99726,99740,99768,99778,99780,99784,99792,99806,99814,99820,99834,99858,99860,99874,99880,99894,99906,99920,99934,99962,99970,99972,99976,99984,99998,1e5,100028,100038,100044,100056,100078,100082,100084,100142,100174,100188,100246,100262,100268,100306,100308,100390,100396,100410,100422,100428,100440,100462,100466,100468,100486,100504,100528,100542,100558,100572,100578,100580,100584,100598,100620,100656,100670,100704,100732,100750,100792,100802,100808,100816,100830,100838,100844,100858,100888,100912,100926,100960,100988,101056,101112,101148,101176,101232,101246,101250,101252,101256,101264,101278,101280,101308,101318,101324,101336,101358,101362,101364,101410,101412,101416,101430,101442,101448,101456,101470,101478,101498,101506,101508,101520,101534,101536,101564,101580,101618,101620,101636,101640,101648,101662,101664,101692,101696,101752,101766,101784,101838,101858,101860,101864,101934,101938,101940,101966,101980,101986,101988,101992,102030,102044,102072,102082,102084,102088,102096,102138,102166,102182,102188,102214,102220,102232,102254,102282,102290,102292,102306,102308,102312,102326,102444,102458,102470,102476,102488,102514,102516,102534,102552,102576,102590,102606,102620,102626,102632,102646,102662,102668,102704,102718,102752,102780,102798,102812,102840,102850,102856,102864,102878,102886,102892,102906,102936,102974,103008,103036,103104,103160,103224,103280,103294,103298,103300,103312,103326,103328,103356,103366,103372,103384,103406,103410,103412,103472,103486,103520,103548,103616,103672,103920,103992,104048,104062,104160,104188,104194,104196,104200,104208,104224,104252,104256,104312,104326,104332,104344,104368,104382,104398,104412,104418,104420,104424,104482,104484,104514,104520,104528,104542,104550,104570,104578,104580,104592,104606,104608,104636,104652,104690,104692,104706,104712,104734,104736,104764,104768,104824,104838,104856,104910,104930,104932,104936,104968,104976,104990,104992,105020,105024,105080,105200,105240,105278,105312,105372,105410,105412,105416,105424,105446,105518,105524,105550,105564,105570,105572,105576,105614,105628,105656,105666,105672,105680,105702,105722,105742,105756,105784,105840,105854,105858,105860,105864,105872,105888,105932,105970,105972,106006,106022,106028,106054,106060,106072,106100,106118,106124,106136,106160,106174,106190,106210,106212,106216,106250,106258,106260,106274,106276,106280,106306,106308,106312,106320,106334,106348,106394,106414,106418,106420,106566,106572,106610,106612,106630,106636,106648,106672,106686,106722,106724,106728,106742,106758,106764,106776,106800,106814,106848,106876,106894,106908,106936,106946,106948,106952,106960,106974,106982,106988,107032,107056,107070,107104,107132,107200,107256,107292,107320,107376,107390,107394,107396,107400,107408,107422,107424,107452,107462,107468,107480,107502,107506,107508,107544,107568,107582,107616,107644,107712,107768,108016,108060,108088,108144,108158,108256,108284,108290,108292,108296,108304,108318,108320,108348,108352,108408,108422,108428,108440,108464,108478,108494,108508,108514,108516,108520,108592,108640,108668,108736,108792,109040,109536,109680,109694,109792,109820,110016,110072,110084,110088,110096,110112,110140,110144,110200,110320,110342,110348,110360,110384,110398,110432,110460,110478,110492,110520,110532,110536,110544,110558,110658,110686,110714,110722,110724,110728,110736,110750,110752,110780,110796,110834,110836,110850,110852,110856,110864,110878,110880,110908,110912,110968,110982,111e3,111054,111074,111076,111080,111108,111112,111120,111134,111136,111164,111168,111224,111344,111372,111422,111456,111516,111554,111556,111560,111568,111590,111632,111646,111648,111676,111680,111736,111856,112096,112152,112224,112252,112320,112440,112514,112516,112520,112528,112542,112544,112588,112686,112718,112732,112782,112796,112824,112834,112836,112840,112848,112870,112890,112910,112924,112952,113008,113022,113026,113028,113032,113040,113054,113056,113100,113138,113140,113166,113180,113208,113264,113278,113376,113404,113416,113424,113440,113468,113472,113560,113614,113634,113636,113640,113686,113702,113708,113734,113740,113752,113778,113780,113798,113804,113816,113840,113854,113870,113890,113892,113896,113926,113932,113944,113968,113982,114016,114044,114076,114114,114116,114120,114128,114150,114170,114194,114196,114210,114212,114216,114242,114244,114248,114256,114270,114278,114306,114308,114312,114320,114334,114336,114364,114380,114420,114458,114478,114482,114484,114510,114524,114530,114532,114536,114842,114866,114868,114970,114994,114996,115042,115044,115048,115062,115130,115226,115250,115252,115278,115292,115298,115300,115304,115318,115342,115394,115396,115400,115408,115422,115430,115436,115450,115478,115494,115514,115526,115532,115570,115572,115738,115758,115762,115764,115790,115804,115810,115812,115816,115830,115854,115868,115896,115906,115912,115920,115934,115942,115948,115962,115996,116024,116080,116094,116098,116100,116104,116112,116126,116128,116156,116166,116172,116184,116206,116210,116212,116246,116262,116268,116282,116294,116300,116312,116334,116338,116340,116358,116364,116376,116400,116414,116430,116444,116450,116452,116456,116498,116500,116514,116520,116534,116546,116548,116552,116560,116574,116582,116588,116602,116654,116694,116714,116762,116782,116786,116788,116814,116828,116834,116836,116840,116854,116878,116892,116920,116930,116936,116944,116958,116966,116972,116986,117006,117048,117104,117118,117122,117124,117136,117150,117152,117180,117190,117196,117208,117230,117234,117236,117304,117360,117374,117472,117500,117506,117508,117512,117520,117536,117564,117568,117624,117638,117644,117656,117680,117694,117710,117724,117730,117732,117736,117750,117782,117798,117804,117818,117830,117848,117874,117876,117894,117936,117950,117966,117986,117988,117992,118022,118028,118040,118064,118078,118112,118140,118172,118210,118212,118216,118224,118238,118246,118266,118306,118312,118338,118352,118366,118374,118394,118402,118404,118408,118416,118430,118432,118460,118476,118514,118516,118574,118578,118580,118606,118620,118626,118628,118632,118678,118694,118700,118730,118738,118740,118830,118834,118836,118862,118876,118882,118884,118888,118902,118926,118940,118968,118978,118980,118984,118992,119006,119014,119020,119034,119068,119096,119152,119166,119170,119172,119176,119184,119198,119200,119228,119238,119244,119256,119278,119282,119284,119324,119352,119408,119422,119520,119548,119554,119556,119560,119568,119582,119584,119612,119616,119672,119686,119692,119704,119728,119742,119758,119772,119778,119780,119784,119798,119920,119934,120032,120060,120256,120312,120324,120328,120336,120352,120384,120440,120560,120582,120588,120600,120624,120638,120672,120700,120718,120732,120760,120770,120772,120776,120784,120798,120806,120812,120870,120876,120890,120902,120908,120920,120946,120948,120966,120972,120984,121008,121022,121038,121058,121060,121064,121078,121100,121112,121136,121150,121184,121212,121244,121282,121284,121288,121296,121318,121338,121356,121368,121392,121406,121440,121468,121536,121592,121656,121730,121732,121736,121744,121758,121760,121804,121842,121844,121890,121922,121924,121928,121936,121950,121958,121978,121986,121988,121992,122e3,122014,122016,122044,122060,122098,122100,122116,122120,122128,122142,122144,122172,122176,122232,122246,122264,122318,122338,122340,122344,122414,122418,122420,122446,122460,122466,122468,122472,122510,122524,122552,122562,122564,122568,122576,122598,122618,122646,122662,122668,122694,122700,122712,122738,122740,122762,122770,122772,122786,122788,122792,123018,123026,123028,123042,123044,123048,123062,123098,123146,123154,123156,123170,123172,123176,123190,123202,123204,123208,123216,123238,123244,123258,123290,123314,123316,123402,123410,123412,123426,123428,123432,123446,123458,123464,123472,123486,123494,123500,123514,123522,123524,123528,123536,123552,123580,123590,123596,123608,123630,123634,123636,123674,123698,123700,123740,123746,123748,123752,123834,123914,123922,123924,123938,123944,123958,123970,123976,123984,123998,124006,124012,124026,124034,124036,124048,124062,124064,124092,124102,124108,124120,124142,124146,124148,124162,124164,124168,124176,124190,124192,124220,124224,124280,124294,124300,124312,124336,124350,124366,124380,124386,124388,124392,124406,124442,124462,124466,124468,124494,124508,124514,124520,124558,124572,124600,124610,124612,124616,124624,124646,124666,124694,124710,124716,124730,124742,124748,124760,124786,124788,124818,124820,124834,124836,124840,124854,124946,124948,124962,124964,124968,124982,124994,124996,125e3,125008,125022,125030,125036,125050,125058,125060,125064,125072,125086,125088,125116,125126,125132,125144,125166,125170,125172,125186,125188,125192,125200,125216,125244,125248,125304,125318,125324,125336,125360,125374,125390,125404,125410,125412,125416,125430,125444,125448,125456,125472,125504,125560,125680,125702,125708,125720,125744,125758,125792,125820,125838,125852,125880,125890,125892,125896,125904,125918,125926,125932,125978,125998,126002,126004,126030,126044,126050,126052,126056,126094,126108,126136,126146,126148,126152,126160,126182,126202,126222,126236,126264,126320,126334,126338,126340,126344,126352,126366,126368,126412,126450,126452,126486,126502,126508,126522,126534,126540,126552,126574,126578,126580,126598,126604,126616,126640,126654,126670,126684,126690,126692,126696,126738,126754,126756,126760,126774,126786,126788,126792,126800,126814,126822,126828,126842,126894,126898,126900,126934,127126,127142,127148,127162,127178,127186,127188,127254,127270,127276,127290,127302,127308,127320,127342,127346,127348,127370,127378,127380,127394,127396,127400,127450,127510,127526,127532,127546,127558,127576,127598,127602,127604,127622,127628,127640,127664,127678,127694,127708,127714,127716,127720,127734,127754,127762,127764,127778,127784,127810,127812,127816,127824,127838,127846,127866,127898,127918,127922,127924,128022,128038,128044,128058,128070,128076,128088,128110,128114,128116,128134,128140,128152,128176,128190,128206,128220,128226,128228,128232,128246,128262,128268,128280,128304,128318,128352,128380,128398,128412,128440,128450,128452,128456,128464,128478,128486,128492,128506,128522,128530,128532,128546,128548,128552,128566,128578,128580,128584,128592,128606,128614,128634,128642,128644,128648,128656,128670,128672,128700,128716,128754,128756,128794,128814,128818,128820,128846,128860,128866,128868,128872,128886,128918,128934,128940,128954,128978,128980,129178,129198,129202,129204,129238,129258,129306,129326,129330,129332,129358,129372,129378,129380,129384,129398,129430,129446,129452,129466,129482,129490,129492,129562,129582,129586,129588,129614,129628,129634,129636,129640,129654,129678,129692,129720,129730,129732,129736,129744,129758,129766,129772,129814,129830,129836,129850,129862,129868,129880,129902,129906,129908,129930,129938,129940,129954,129956,129960,129974,130010]),Ce.CODEWORD_TABLE=Int32Array.from([2627,1819,2622,2621,1813,1812,2729,2724,2723,2779,2774,2773,902,896,908,868,865,861,859,2511,873,871,1780,835,2493,825,2491,842,837,844,1764,1762,811,810,809,2483,807,2482,806,2480,815,814,813,812,2484,817,816,1745,1744,1742,1746,2655,2637,2635,2626,2625,2623,2628,1820,2752,2739,2737,2728,2727,2725,2730,2785,2783,2778,2777,2775,2780,787,781,747,739,736,2413,754,752,1719,692,689,681,2371,678,2369,700,697,694,703,1688,1686,642,638,2343,631,2341,627,2338,651,646,643,2345,654,652,1652,1650,1647,1654,601,599,2322,596,2321,594,2319,2317,611,610,608,606,2324,603,2323,615,614,612,1617,1616,1614,1612,616,1619,1618,2575,2538,2536,905,901,898,909,2509,2507,2504,870,867,864,860,2512,875,872,1781,2490,2489,2487,2485,1748,836,834,832,830,2494,827,2492,843,841,839,845,1765,1763,2701,2676,2674,2653,2648,2656,2634,2633,2631,2629,1821,2638,2636,2770,2763,2761,2750,2745,2753,2736,2735,2733,2731,1848,2740,2738,2786,2784,591,588,576,569,566,2296,1590,537,534,526,2276,522,2274,545,542,539,548,1572,1570,481,2245,466,2242,462,2239,492,485,482,2249,496,494,1534,1531,1528,1538,413,2196,406,2191,2188,425,419,2202,415,2199,432,430,427,1472,1467,1464,433,1476,1474,368,367,2160,365,2159,362,2157,2155,2152,378,377,375,2166,372,2165,369,2162,383,381,379,2168,1419,1418,1416,1414,385,1411,384,1423,1422,1420,1424,2461,802,2441,2439,790,786,783,794,2409,2406,2403,750,742,738,2414,756,753,1720,2367,2365,2362,2359,1663,693,691,684,2373,680,2370,702,699,696,704,1690,1687,2337,2336,2334,2332,1624,2329,1622,640,637,2344,634,2342,630,2340,650,648,645,2346,655,653,1653,1651,1649,1655,2612,2597,2595,2571,2568,2565,2576,2534,2529,2526,1787,2540,2537,907,904,900,910,2503,2502,2500,2498,1768,2495,1767,2510,2508,2506,869,866,863,2513,876,874,1782,2720,2713,2711,2697,2694,2691,2702,2672,2670,2664,1828,2678,2675,2647,2646,2644,2642,1823,2639,1822,2654,2652,2650,2657,2771,1855,2765,2762,1850,1849,2751,2749,2747,2754,353,2148,344,342,336,2142,332,2140,345,1375,1373,306,2130,299,2128,295,2125,319,314,311,2132,1354,1352,1349,1356,262,257,2101,253,2096,2093,274,273,267,2107,263,2104,280,278,275,1316,1311,1308,1320,1318,2052,202,2050,2044,2040,219,2063,212,2060,208,2055,224,221,2066,1260,1258,1252,231,1248,229,1266,1264,1261,1268,155,1998,153,1996,1994,1991,1988,165,164,2007,162,2006,159,2003,2e3,172,171,169,2012,166,2010,1186,1184,1182,1179,175,1176,173,1192,1191,1189,1187,176,1194,1193,2313,2307,2305,592,589,2294,2292,2289,578,572,568,2297,580,1591,2272,2267,2264,1547,538,536,529,2278,525,2275,547,544,541,1574,1571,2237,2235,2229,1493,2225,1489,478,2247,470,2244,465,2241,493,488,484,2250,498,495,1536,1533,1530,1539,2187,2186,2184,2182,1432,2179,1430,2176,1427,414,412,2197,409,2195,405,2193,2190,426,424,421,2203,418,2201,431,429,1473,1471,1469,1466,434,1477,1475,2478,2472,2470,2459,2457,2454,2462,803,2437,2432,2429,1726,2443,2440,792,789,785,2401,2399,2393,1702,2389,1699,2411,2408,2405,745,741,2415,758,755,1721,2358,2357,2355,2353,1661,2350,1660,2347,1657,2368,2366,2364,2361,1666,690,687,2374,683,2372,701,698,705,1691,1689,2619,2617,2610,2608,2605,2613,2593,2588,2585,1803,2599,2596,2563,2561,2555,1797,2551,1795,2573,2570,2567,2577,2525,2524,2522,2520,1786,2517,1785,2514,1783,2535,2533,2531,2528,1788,2541,2539,906,903,911,2721,1844,2715,2712,1838,1836,2699,2696,2693,2703,1827,1826,1824,2673,2671,2669,2666,1829,2679,2677,1858,1857,2772,1854,1853,1851,1856,2766,2764,143,1987,139,1986,135,133,131,1984,128,1983,125,1981,138,137,136,1985,1133,1132,1130,112,110,1974,107,1973,104,1971,1969,122,121,119,117,1977,114,1976,124,1115,1114,1112,1110,1117,1116,84,83,1953,81,1952,78,1950,1948,1945,94,93,91,1959,88,1958,85,1955,99,97,95,1961,1086,1085,1083,1081,1078,100,1090,1089,1087,1091,49,47,1917,44,1915,1913,1910,1907,59,1926,56,1925,53,1922,1919,66,64,1931,61,1929,1042,1040,1038,71,1035,70,1032,68,1048,1047,1045,1043,1050,1049,12,10,1869,1867,1864,1861,21,1880,19,1877,1874,1871,28,1888,25,1886,22,1883,982,980,977,974,32,30,991,989,987,984,34,995,994,992,2151,2150,2147,2146,2144,356,355,354,2149,2139,2138,2136,2134,1359,343,341,338,2143,335,2141,348,347,346,1376,1374,2124,2123,2121,2119,1326,2116,1324,310,308,305,2131,302,2129,298,2127,320,318,316,313,2133,322,321,1355,1353,1351,1357,2092,2091,2089,2087,1276,2084,1274,2081,1271,259,2102,256,2100,252,2098,2095,272,269,2108,266,2106,281,279,277,1317,1315,1313,1310,282,1321,1319,2039,2037,2035,2032,1203,2029,1200,1197,207,2053,205,2051,201,2049,2046,2043,220,218,2064,215,2062,211,2059,228,226,223,2069,1259,1257,1254,232,1251,230,1267,1265,1263,2316,2315,2312,2311,2309,2314,2304,2303,2301,2299,1593,2308,2306,590,2288,2287,2285,2283,1578,2280,1577,2295,2293,2291,579,577,574,571,2298,582,581,1592,2263,2262,2260,2258,1545,2255,1544,2252,1541,2273,2271,2269,2266,1550,535,532,2279,528,2277,546,543,549,1575,1573,2224,2222,2220,1486,2217,1485,2214,1482,1479,2238,2236,2234,2231,1496,2228,1492,480,477,2248,473,2246,469,2243,490,487,2251,497,1537,1535,1532,2477,2476,2474,2479,2469,2468,2466,2464,1730,2473,2471,2453,2452,2450,2448,1729,2445,1728,2460,2458,2456,2463,805,804,2428,2427,2425,2423,1725,2420,1724,2417,1722,2438,2436,2434,2431,1727,2444,2442,793,791,788,795,2388,2386,2384,1697,2381,1696,2378,1694,1692,2402,2400,2398,2395,1703,2392,1701,2412,2410,2407,751,748,744,2416,759,757,1807,2620,2618,1806,1805,2611,2609,2607,2614,1802,1801,1799,2594,2592,2590,2587,1804,2600,2598,1794,1793,1791,1789,2564,2562,2560,2557,1798,2554,1796,2574,2572,2569,2578,1847,1846,2722,1843,1842,1840,1845,2716,2714,1835,1834,1832,1830,1839,1837,2700,2698,2695,2704,1817,1811,1810,897,862,1777,829,826,838,1760,1758,808,2481,1741,1740,1738,1743,2624,1818,2726,2776,782,740,737,1715,686,679,695,1682,1680,639,628,2339,647,644,1645,1643,1640,1648,602,600,597,595,2320,593,2318,609,607,604,1611,1610,1608,1606,613,1615,1613,2328,926,924,892,886,899,857,850,2505,1778,824,823,821,819,2488,818,2486,833,831,828,840,1761,1759,2649,2632,2630,2746,2734,2732,2782,2781,570,567,1587,531,527,523,540,1566,1564,476,467,463,2240,486,483,1524,1521,1518,1529,411,403,2192,399,2189,423,416,1462,1457,1454,428,1468,1465,2210,366,363,2158,360,2156,357,2153,376,373,370,2163,1410,1409,1407,1405,382,1402,380,1417,1415,1412,1421,2175,2174,777,774,771,784,732,725,722,2404,743,1716,676,674,668,2363,665,2360,685,1684,1681,626,624,622,2335,620,2333,617,2330,641,635,649,1646,1644,1642,2566,928,925,2530,2527,894,891,888,2501,2499,2496,858,856,854,851,1779,2692,2668,2665,2645,2643,2640,2651,2768,2759,2757,2744,2743,2741,2748,352,1382,340,337,333,1371,1369,307,300,296,2126,315,312,1347,1342,1350,261,258,250,2097,246,2094,271,268,264,1306,1301,1298,276,1312,1309,2115,203,2048,195,2045,191,2041,213,209,2056,1246,1244,1238,225,1234,222,1256,1253,1249,1262,2080,2079,154,1997,150,1995,147,1992,1989,163,160,2004,156,2001,1175,1174,1172,1170,1167,170,1164,167,1185,1183,1180,1177,174,1190,1188,2025,2024,2022,587,586,564,559,556,2290,573,1588,520,518,512,2268,508,2265,530,1568,1565,461,457,2233,450,2230,446,2226,479,471,489,1526,1523,1520,397,395,2185,392,2183,389,2180,2177,410,2194,402,422,1463,1461,1459,1456,1470,2455,799,2433,2430,779,776,773,2397,2394,2390,734,728,724,746,1717,2356,2354,2351,2348,1658,677,675,673,670,667,688,1685,1683,2606,2589,2586,2559,2556,2552,927,2523,2521,2518,2515,1784,2532,895,893,890,2718,2709,2707,2689,2687,2684,2663,2662,2660,2658,1825,2667,2769,1852,2760,2758,142,141,1139,1138,134,132,129,126,1982,1129,1128,1126,1131,113,111,108,105,1972,101,1970,120,118,115,1109,1108,1106,1104,123,1113,1111,82,79,1951,75,1949,72,1946,92,89,86,1956,1077,1076,1074,1072,98,1069,96,1084,1082,1079,1088,1968,1967,48,45,1916,42,1914,39,1911,1908,60,57,54,1923,50,1920,1031,1030,1028,1026,67,1023,65,1020,62,1041,1039,1036,1033,69,1046,1044,1944,1943,1941,11,9,1868,7,1865,1862,1859,20,1878,16,1875,13,1872,970,968,966,963,29,960,26,23,983,981,978,975,33,971,31,990,988,985,1906,1904,1902,993,351,2145,1383,331,330,328,326,2137,323,2135,339,1372,1370,294,293,291,289,2122,286,2120,283,2117,309,303,317,1348,1346,1344,245,244,242,2090,239,2088,236,2085,2082,260,2099,249,270,1307,1305,1303,1300,1314,189,2038,186,2036,183,2033,2030,2026,206,198,2047,194,216,1247,1245,1243,1240,227,1237,1255,2310,2302,2300,2286,2284,2281,565,563,561,558,575,1589,2261,2259,2256,2253,1542,521,519,517,514,2270,511,533,1569,1567,2223,2221,2218,2215,1483,2211,1480,459,456,453,2232,449,474,491,1527,1525,1522,2475,2467,2465,2451,2449,2446,801,800,2426,2424,2421,2418,1723,2435,780,778,775,2387,2385,2382,2379,1695,2375,1693,2396,735,733,730,727,749,1718,2616,2615,2604,2603,2601,2584,2583,2581,2579,1800,2591,2550,2549,2547,2545,1792,2542,1790,2558,929,2719,1841,2710,2708,1833,1831,2690,2688,2686,1815,1809,1808,1774,1756,1754,1737,1736,1734,1739,1816,1711,1676,1674,633,629,1638,1636,1633,1641,598,1605,1604,1602,1600,605,1609,1607,2327,887,853,1775,822,820,1757,1755,1584,524,1560,1558,468,464,1514,1511,1508,1519,408,404,400,1452,1447,1444,417,1458,1455,2208,364,361,358,2154,1401,1400,1398,1396,374,1393,371,1408,1406,1403,1413,2173,2172,772,726,723,1712,672,669,666,682,1678,1675,625,623,621,618,2331,636,632,1639,1637,1635,920,918,884,880,889,849,848,847,846,2497,855,852,1776,2641,2742,2787,1380,334,1367,1365,301,297,1340,1338,1335,1343,255,251,247,1296,1291,1288,265,1302,1299,2113,204,196,192,2042,1232,1230,1224,214,1220,210,1242,1239,1235,1250,2077,2075,151,148,1993,144,1990,1163,1162,1160,1158,1155,161,1152,157,1173,1171,1168,1165,168,1181,1178,2021,2020,2018,2023,585,560,557,1585,516,509,1562,1559,458,447,2227,472,1516,1513,1510,398,396,393,390,2181,386,2178,407,1453,1451,1449,1446,420,1460,2209,769,764,720,712,2391,729,1713,664,663,661,659,2352,656,2349,671,1679,1677,2553,922,919,2519,2516,885,883,881,2685,2661,2659,2767,2756,2755,140,1137,1136,130,127,1125,1124,1122,1127,109,106,102,1103,1102,1100,1098,116,1107,1105,1980,80,76,73,1947,1068,1067,1065,1063,90,1060,87,1075,1073,1070,1080,1966,1965,46,43,40,1912,36,1909,1019,1018,1016,1014,58,1011,55,1008,51,1029,1027,1024,1021,63,1037,1034,1940,1939,1937,1942,8,1866,4,1863,1,1860,956,954,952,949,946,17,14,969,967,964,961,27,957,24,979,976,972,1901,1900,1898,1896,986,1905,1903,350,349,1381,329,327,324,1368,1366,292,290,287,284,2118,304,1341,1339,1337,1345,243,240,237,2086,233,2083,254,1297,1295,1293,1290,1304,2114,190,187,184,2034,180,2031,177,2027,199,1233,1231,1229,1226,217,1223,1241,2078,2076,584,555,554,552,550,2282,562,1586,507,506,504,502,2257,499,2254,515,1563,1561,445,443,441,2219,438,2216,435,2212,460,454,475,1517,1515,1512,2447,798,797,2422,2419,770,768,766,2383,2380,2376,721,719,717,714,731,1714,2602,2582,2580,2548,2546,2543,923,921,2717,2706,2705,2683,2682,2680,1771,1752,1750,1733,1732,1731,1735,1814,1707,1670,1668,1631,1629,1626,1634,1599,1598,1596,1594,1603,1601,2326,1772,1753,1751,1581,1554,1552,1504,1501,1498,1509,1442,1437,1434,401,1448,1445,2206,1392,1391,1389,1387,1384,359,1399,1397,1394,1404,2171,2170,1708,1672,1669,619,1632,1630,1628,1773,1378,1363,1361,1333,1328,1336,1286,1281,1278,248,1292,1289,2111,1218,1216,1210,197,1206,193,1228,1225,1221,1236,2073,2071,1151,1150,1148,1146,152,1143,149,1140,145,1161,1159,1156,1153,158,1169,1166,2017,2016,2014,2019,1582,510,1556,1553,452,448,1506,1500,394,391,387,1443,1441,1439,1436,1450,2207,765,716,713,1709,662,660,657,1673,1671,916,914,879,878,877,882,1135,1134,1121,1120,1118,1123,1097,1096,1094,1092,103,1101,1099,1979,1059,1058,1056,1054,77,1051,74,1066,1064,1061,1071,1964,1963,1007,1006,1004,1002,999,41,996,37,1017,1015,1012,1009,52,1025,1022,1936,1935,1933,1938,942,940,938,935,932,5,2,955,953,950,947,18,943,15,965,962,958,1895,1894,1892,1890,973,1899,1897,1379,325,1364,1362,288,285,1334,1332,1330,241,238,234,1287,1285,1283,1280,1294,2112,188,185,181,178,2028,1219,1217,1215,1212,200,1209,1227,2074,2072,583,553,551,1583,505,503,500,513,1557,1555,444,442,439,436,2213,455,451,1507,1505,1502,796,763,762,760,767,711,710,708,706,2377,718,715,1710,2544,917,915,2681,1627,1597,1595,2325,1769,1749,1747,1499,1438,1435,2204,1390,1388,1385,1395,2169,2167,1704,1665,1662,1625,1623,1620,1770,1329,1282,1279,2109,1214,1207,1222,2068,2065,1149,1147,1144,1141,146,1157,1154,2013,2011,2008,2015,1579,1549,1546,1495,1487,1433,1431,1428,1425,388,1440,2205,1705,658,1667,1664,1119,1095,1093,1978,1057,1055,1052,1062,1962,1960,1005,1003,1e3,997,38,1013,1010,1932,1930,1927,1934,941,939,936,933,6,930,3,951,948,944,1889,1887,1884,1881,959,1893,1891,35,1377,1360,1358,1327,1325,1322,1331,1277,1275,1272,1269,235,1284,2110,1205,1204,1201,1198,182,1195,179,1213,2070,2067,1580,501,1551,1548,440,437,1497,1494,1490,1503,761,709,707,1706,913,912,2198,1386,2164,2161,1621,1766,2103,1208,2058,2054,1145,1142,2005,2002,1999,2009,1488,1429,1426,2200,1698,1659,1656,1975,1053,1957,1954,1001,998,1924,1921,1918,1928,937,934,931,1879,1876,1873,1870,945,1885,1882,1323,1273,1270,2105,1202,1199,1196,1211,2061,2057,1576,1543,1540,1484,1481,1478,1491,1700]);class aC{constructor(i,o){this.bits=i,this.points=o}getBits(){return this.bits}getPoints(){return this.points}}class ve{static detectMultiple(i,o,l){let u=i.getBlackMatrix(),f=ve.detect(l,u);return f.length||(u=u.clone(),u.rotate180(),f=ve.detect(l,u)),new aC(u,f)}static detect(i,o){const l=new Array;let u=0,f=0,d=!1;for(;u<o.getHeight();){const m=ve.findVertices(o,u,f);if(m[0]==null&&m[3]==null){if(!d)break;d=!1,f=0;for(const y of l)y[1]!=null&&(u=Math.trunc(Math.max(u,y[1].getY()))),y[3]!=null&&(u=Math.max(u,Math.trunc(y[3].getY())));u+=ve.ROW_STEP;continue}if(d=!0,l.push(m),!i)break;m[2]!=null?(f=Math.trunc(m[2].getX()),u=Math.trunc(m[2].getY())):(f=Math.trunc(m[4].getX()),u=Math.trunc(m[4].getY()))}return l}static findVertices(i,o,l){const u=i.getHeight(),f=i.getWidth(),d=new Array(8);return ve.copyToResult(d,ve.findRowsWithPattern(i,u,f,o,l,ve.START_PATTERN),ve.INDEXES_START_PATTERN),d[4]!=null&&(l=Math.trunc(d[4].getX()),o=Math.trunc(d[4].getY())),ve.copyToResult(d,ve.findRowsWithPattern(i,u,f,o,l,ve.STOP_PATTERN),ve.INDEXES_STOP_PATTERN),d}static copyToResult(i,o,l){for(let u=0;u<l.length;u++)i[l[u]]=o[u]}static findRowsWithPattern(i,o,l,u,f,d){const m=new Array(4);let y=!1;const C=new Int32Array(d.length);for(;u<o;u+=ve.ROW_STEP){let I=ve.findGuardPattern(i,f,u,l,!1,d,C);if(I!=null){for(;u>0;){const D=ve.findGuardPattern(i,f,--u,l,!1,d,C);if(D!=null)I=D;else{u++;break}}m[0]=new he(I[0],u),m[1]=new he(I[1],u),y=!0;break}}let b=u+1;if(y){let I=0,D=Int32Array.from([Math.trunc(m[0].getX()),Math.trunc(m[1].getX())]);for(;b<o;b++){const P=ve.findGuardPattern(i,D[0],b,l,!1,d,C);if(P!=null&&Math.abs(D[0]-P[0])<ve.MAX_PATTERN_DRIFT&&Math.abs(D[1]-P[1])<ve.MAX_PATTERN_DRIFT)D=P,I=0;else{if(I>ve.SKIPPED_ROW_COUNT_MAX)break;I++}}b-=I+1,m[2]=new he(D[0],b),m[3]=new he(D[1],b)}return b-u<ve.BARCODE_MIN_HEIGHT&&T.fill(m,null),m}static findGuardPattern(i,o,l,u,f,d,m){T.fillWithin(m,0,m.length,0);let y=o,C=0;for(;i.get(y,l)&&y>0&&C++<ve.MAX_PIXEL_DRIFT;)y--;let b=y,I=0,D=d.length;for(let P=f;b<u;b++)if(i.get(b,l)!==P)m[I]++;else{if(I===D-1){if(ve.patternMatchVariance(m,d,ve.MAX_INDIVIDUAL_VARIANCE)<ve.MAX_AVG_VARIANCE)return new Int32Array([y,b]);y+=m[0]+m[1],R.arraycopy(m,2,m,0,I-1),m[I-1]=0,m[I]=0,I--}else I++;m[I]=1,P=!P}return I===D-1&&ve.patternMatchVariance(m,d,ve.MAX_INDIVIDUAL_VARIANCE)<ve.MAX_AVG_VARIANCE?new Int32Array([y,b-1]):null}static patternMatchVariance(i,o,l){let u=i.length,f=0,d=0;for(let C=0;C<u;C++)f+=i[C],d+=o[C];if(f<d)return 1/0;let m=f/d;l*=m;let y=0;for(let C=0;C<u;C++){let b=i[C],I=o[C]*m,D=b>I?b-I:I-b;if(D>l)return 1/0;y+=D}return y/f}}ve.INDEXES_START_PATTERN=Int32Array.from([0,4,1,5]),ve.INDEXES_STOP_PATTERN=Int32Array.from([6,2,7,3]),ve.MAX_AVG_VARIANCE=.42,ve.MAX_INDIVIDUAL_VARIANCE=.8,ve.START_PATTERN=Int32Array.from([8,1,1,1,1,1,1,3]),ve.STOP_PATTERN=Int32Array.from([7,1,1,3,1,1,1,2,1]),ve.MAX_PIXEL_DRIFT=3,ve.MAX_PATTERN_DRIFT=5,ve.SKIPPED_ROW_COUNT_MAX=25,ve.ROW_STEP=5,ve.BARCODE_MIN_HEIGHT=10;class zt{constructor(i,o){if(o.length===0)throw new w;this.field=i;let l=o.length;if(l>1&&o[0]===0){let u=1;for(;u<l&&o[u]===0;)u++;u===l?this.coefficients=new Int32Array([0]):(this.coefficients=new Int32Array(l-u),R.arraycopy(o,u,this.coefficients,0,this.coefficients.length))}else this.coefficients=o}getCoefficients(){return this.coefficients}getDegree(){return this.coefficients.length-1}isZero(){return this.coefficients[0]===0}getCoefficient(i){return this.coefficients[this.coefficients.length-1-i]}evaluateAt(i){if(i===0)return this.getCoefficient(0);if(i===1){let u=0;for(let f of this.coefficients)u=this.field.add(u,f);return u}let o=this.coefficients[0],l=this.coefficients.length;for(let u=1;u<l;u++)o=this.field.add(this.field.multiply(i,o),this.coefficients[u]);return o}add(i){if(!this.field.equals(i.field))throw new w("ModulusPolys do not have same ModulusGF field");if(this.isZero())return i;if(i.isZero())return this;let o=this.coefficients,l=i.coefficients;if(o.length>l.length){let d=o;o=l,l=d}let u=new Int32Array(l.length),f=l.length-o.length;R.arraycopy(l,0,u,0,f);for(let d=f;d<l.length;d++)u[d]=this.field.add(o[d-f],l[d]);return new zt(this.field,u)}subtract(i){if(!this.field.equals(i.field))throw new w("ModulusPolys do not have same ModulusGF field");return i.isZero()?this:this.add(i.negative())}multiply(i){return i instanceof zt?this.multiplyOther(i):this.multiplyScalar(i)}multiplyOther(i){if(!this.field.equals(i.field))throw new w("ModulusPolys do not have same ModulusGF field");if(this.isZero()||i.isZero())return new zt(this.field,new Int32Array([0]));let o=this.coefficients,l=o.length,u=i.coefficients,f=u.length,d=new Int32Array(l+f-1);for(let m=0;m<l;m++){let y=o[m];for(let C=0;C<f;C++)d[m+C]=this.field.add(d[m+C],this.field.multiply(y,u[C]))}return new zt(this.field,d)}negative(){let i=this.coefficients.length,o=new Int32Array(i);for(let l=0;l<i;l++)o[l]=this.field.subtract(0,this.coefficients[l]);return new zt(this.field,o)}multiplyScalar(i){if(i===0)return new zt(this.field,new Int32Array([0]));if(i===1)return this;let o=this.coefficients.length,l=new Int32Array(o);for(let u=0;u<o;u++)l[u]=this.field.multiply(this.coefficients[u],i);return new zt(this.field,l)}multiplyByMonomial(i,o){if(i<0)throw new w;if(o===0)return new zt(this.field,new Int32Array([0]));let l=this.coefficients.length,u=new Int32Array(l+i);for(let f=0;f<l;f++)u[f]=this.field.multiply(this.coefficients[f],o);return new zt(this.field,u)}toString(){let i=new me;for(let o=this.getDegree();o>=0;o--){let l=this.getCoefficient(o);l!==0&&(l<0?(i.append(" - "),l=-l):i.length()>0&&i.append(" + "),(o===0||l!==1)&&i.append(l),o!==0&&(o===1?i.append("x"):(i.append("x^"),i.append(o))))}return i.toString()}}class lC{add(i,o){return(i+o)%this.modulus}subtract(i,o){return(this.modulus+i-o)%this.modulus}exp(i){return this.expTable[i]}log(i){if(i===0)throw new w;return this.logTable[i]}inverse(i){if(i===0)throw new hl;return this.expTable[this.modulus-this.logTable[i]-1]}multiply(i,o){return i===0||o===0?0:this.expTable[(this.logTable[i]+this.logTable[o])%(this.modulus-1)]}getSize(){return this.modulus}equals(i){return i===this}}class cf extends lC{constructor(i,o){super(),this.modulus=i,this.expTable=new Int32Array(i),this.logTable=new Int32Array(i);let l=1;for(let u=0;u<i;u++)this.expTable[u]=l,l=l*o%i;for(let u=0;u<i-1;u++)this.logTable[this.expTable[u]]=u;this.zero=new zt(this,new Int32Array([0])),this.one=new zt(this,new Int32Array([1]))}getZero(){return this.zero}getOne(){return this.one}buildMonomial(i,o){if(i<0)throw new w;if(o===0)return this.zero;let l=new Int32Array(i+1);return l[0]=o,new zt(this,l)}}cf.PDF417_GF=new cf(Ce.NUMBER_OF_CODEWORDS,3);class a1{constructor(){this.field=cf.PDF417_GF}decode(i,o,l){let u=new zt(this.field,i),f=new Int32Array(o),d=!1;for(let B=o;B>0;B--){let j=u.evaluateAt(this.field.exp(B));f[o-B]=j,j!==0&&(d=!0)}if(!d)return 0;let m=this.field.getOne();if(l!=null)for(const B of l){let j=this.field.exp(i.length-1-B),V=new zt(this.field,new Int32Array([this.field.subtract(0,j),1]));m=m.multiply(V)}let y=new zt(this.field,f),C=this.runEuclideanAlgorithm(this.field.buildMonomial(o,1),y,o),b=C[0],I=C[1],D=this.findErrorLocations(b),P=this.findErrorMagnitudes(I,b,D);for(let B=0;B<D.length;B++){let j=i.length-1-this.field.log(D[B]);if(j<0)throw S.getChecksumInstance();i[j]=this.field.subtract(i[j],P[B])}return D.length}runEuclideanAlgorithm(i,o,l){if(i.getDegree()<o.getDegree()){let D=i;i=o,o=D}let u=i,f=o,d=this.field.getZero(),m=this.field.getOne();for(;f.getDegree()>=Math.round(l/2);){let D=u,P=d;if(u=f,d=m,u.isZero())throw S.getChecksumInstance();f=D;let B=this.field.getZero(),j=u.getCoefficient(u.getDegree()),V=this.field.inverse(j);for(;f.getDegree()>=u.getDegree()&&!f.isZero();){let Z=f.getDegree()-u.getDegree(),ee=this.field.multiply(f.getCoefficient(f.getDegree()),V);B=B.add(this.field.buildMonomial(Z,ee)),f=f.subtract(u.multiplyByMonomial(Z,ee))}m=B.multiply(d).subtract(P).negative()}let y=m.getCoefficient(0);if(y===0)throw S.getChecksumInstance();let C=this.field.inverse(y),b=m.multiply(C),I=f.multiply(C);return[b,I]}findErrorLocations(i){let o=i.getDegree(),l=new Int32Array(o),u=0;for(let f=1;f<this.field.getSize()&&u<o;f++)i.evaluateAt(f)===0&&(l[u]=this.field.inverse(f),u++);if(u!==o)throw S.getChecksumInstance();return l}findErrorMagnitudes(i,o,l){let u=o.getDegree(),f=new Int32Array(u);for(let C=1;C<=u;C++)f[u-C]=this.field.multiply(C,o.getCoefficient(C));let d=new zt(this.field,f),m=l.length,y=new Int32Array(m);for(let C=0;C<m;C++){let b=this.field.inverse(l[C]),I=this.field.subtract(0,i.evaluateAt(b)),D=this.field.inverse(d.evaluateAt(b));y[C]=this.field.multiply(I,D)}return y}}class Xi{constructor(i,o,l,u,f){i instanceof Xi?this.constructor_2(i):this.constructor_1(i,o,l,u,f)}constructor_1(i,o,l,u,f){const d=o==null||l==null,m=u==null||f==null;if(d&&m)throw new W;d?(o=new he(0,u.getY()),l=new he(0,f.getY())):m&&(u=new he(i.getWidth()-1,o.getY()),f=new he(i.getWidth()-1,l.getY())),this.image=i,this.topLeft=o,this.bottomLeft=l,this.topRight=u,this.bottomRight=f,this.minX=Math.trunc(Math.min(o.getX(),l.getX())),this.maxX=Math.trunc(Math.max(u.getX(),f.getX())),this.minY=Math.trunc(Math.min(o.getY(),u.getY())),this.maxY=Math.trunc(Math.max(l.getY(),f.getY()))}constructor_2(i){this.image=i.image,this.topLeft=i.getTopLeft(),this.bottomLeft=i.getBottomLeft(),this.topRight=i.getTopRight(),this.bottomRight=i.getBottomRight(),this.minX=i.getMinX(),this.maxX=i.getMaxX(),this.minY=i.getMinY(),this.maxY=i.getMaxY()}static merge(i,o){return i==null?o:o==null?i:new Xi(i.image,i.topLeft,i.bottomLeft,o.topRight,o.bottomRight)}addMissingRows(i,o,l){let u=this.topLeft,f=this.bottomLeft,d=this.topRight,m=this.bottomRight;if(i>0){let y=l?this.topLeft:this.topRight,C=Math.trunc(y.getY()-i);C<0&&(C=0);let b=new he(y.getX(),C);l?u=b:d=b}if(o>0){let y=l?this.bottomLeft:this.bottomRight,C=Math.trunc(y.getY()+o);C>=this.image.getHeight()&&(C=this.image.getHeight()-1);let b=new he(y.getX(),C);l?f=b:m=b}return new Xi(this.image,u,f,d,m)}getMinX(){return this.minX}getMaxX(){return this.maxX}getMinY(){return this.minY}getMaxY(){return this.maxY}getTopLeft(){return this.topLeft}getTopRight(){return this.topRight}getBottomLeft(){return this.bottomLeft}getBottomRight(){return this.bottomRight}}class cC{constructor(i,o,l,u){this.columnCount=i,this.errorCorrectionLevel=u,this.rowCountUpperPart=o,this.rowCountLowerPart=l,this.rowCount=o+l}getColumnCount(){return this.columnCount}getErrorCorrectionLevel(){return this.errorCorrectionLevel}getRowCount(){return this.rowCount}getRowCountUpperPart(){return this.rowCountUpperPart}getRowCountLowerPart(){return this.rowCountLowerPart}}class Do{constructor(){this.buffer=""}static form(i,o){let l=-1;function u(d,m,y,C,b,I){if(d==="%%")return"%";if(o[++l]===void 0)return;d=C?parseInt(C.substr(1)):void 0;let D=b?parseInt(b.substr(1)):void 0,P;switch(I){case"s":P=o[l];break;case"c":P=o[l][0];break;case"f":P=parseFloat(o[l]).toFixed(d);break;case"p":P=parseFloat(o[l]).toPrecision(d);break;case"e":P=parseFloat(o[l]).toExponential(d);break;case"x":P=parseInt(o[l]).toString(D||16);break;case"d":P=parseFloat(parseInt(o[l],D||10).toPrecision(d)).toFixed(0);break}P=typeof P=="object"?JSON.stringify(P):(+P).toString(D);let B=parseInt(y),j=y&&y[0]+""=="0"?"0":" ";for(;P.length<B;)P=m!==void 0?P+j:j+P;return P}let f=/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g;return i.replace(f,u)}format(i,...o){this.buffer+=Do.form(i,o)}toString(){return this.buffer}}class ko{constructor(i){this.boundingBox=new Xi(i),this.codewords=new Array(i.getMaxY()-i.getMinY()+1)}getCodewordNearby(i){let o=this.getCodeword(i);if(o!=null)return o;for(let l=1;l<ko.MAX_NEARBY_DISTANCE;l++){let u=this.imageRowToCodewordIndex(i)-l;if(u>=0&&(o=this.codewords[u],o!=null)||(u=this.imageRowToCodewordIndex(i)+l,u<this.codewords.length&&(o=this.codewords[u],o!=null)))return o}return null}imageRowToCodewordIndex(i){return i-this.boundingBox.getMinY()}setCodeword(i,o){this.codewords[this.imageRowToCodewordIndex(i)]=o}getCodeword(i){return this.codewords[this.imageRowToCodewordIndex(i)]}getBoundingBox(){return this.boundingBox}getCodewords(){return this.codewords}toString(){const i=new Do;let o=0;for(const l of this.codewords){if(l==null){i.format("%3d:    |   %n",o++);continue}i.format("%3d: %3d|%3d%n",o++,l.getRowNumber(),l.getValue())}return i.toString()}}ko.MAX_NEARBY_DISTANCE=5;class Lo{constructor(){this.values=new Map}setValue(i){i=Math.trunc(i);let o=this.values.get(i);o==null&&(o=0),o++,this.values.set(i,o)}getValue(){let i=-1,o=new Array;for(const[l,u]of this.values.entries()){const f={getKey:()=>l,getValue:()=>u};f.getValue()>i?(i=f.getValue(),o=[],o.push(f.getKey())):f.getValue()===i&&o.push(f.getKey())}return Ce.toIntArray(o)}getConfidence(i){return this.values.get(i)}}class l1 extends ko{constructor(i,o){super(i),this._isLeft=o}setRowNumbers(){for(let i of this.getCodewords())i!=null&&i.setRowNumberAsRowIndicatorColumn()}adjustCompleteIndicatorColumnRowNumbers(i){let o=this.getCodewords();this.setRowNumbers(),this.removeIncorrectCodewords(o,i);let l=this.getBoundingBox(),u=this._isLeft?l.getTopLeft():l.getTopRight(),f=this._isLeft?l.getBottomLeft():l.getBottomRight(),d=this.imageRowToCodewordIndex(Math.trunc(u.getY())),m=this.imageRowToCodewordIndex(Math.trunc(f.getY())),y=-1,C=1,b=0;for(let I=d;I<m;I++){if(o[I]==null)continue;let D=o[I],P=D.getRowNumber()-y;if(P===0)b++;else if(P===1)C=Math.max(C,b),b=1,y=D.getRowNumber();else if(P<0||D.getRowNumber()>=i.getRowCount()||P>I)o[I]=null;else{let B;C>2?B=(C-2)*P:B=P;let j=B>=I;for(let V=1;V<=B&&!j;V++)j=o[I-V]!=null;j?o[I]=null:(y=D.getRowNumber(),b=1)}}}getRowHeights(){let i=this.getBarcodeMetadata();if(i==null)return null;this.adjustIncompleteIndicatorColumnRowNumbers(i);let o=new Int32Array(i.getRowCount());for(let l of this.getCodewords())if(l!=null){let u=l.getRowNumber();if(u>=o.length)continue;o[u]++}return o}adjustIncompleteIndicatorColumnRowNumbers(i){let o=this.getBoundingBox(),l=this._isLeft?o.getTopLeft():o.getTopRight(),u=this._isLeft?o.getBottomLeft():o.getBottomRight(),f=this.imageRowToCodewordIndex(Math.trunc(l.getY())),d=this.imageRowToCodewordIndex(Math.trunc(u.getY())),m=this.getCodewords(),y=-1;for(let C=f;C<d;C++){if(m[C]==null)continue;let b=m[C];b.setRowNumberAsRowIndicatorColumn();let I=b.getRowNumber()-y;I===0||(I===1?y=b.getRowNumber():b.getRowNumber()>=i.getRowCount()?m[C]=null:y=b.getRowNumber())}}getBarcodeMetadata(){let i=this.getCodewords(),o=new Lo,l=new Lo,u=new Lo,f=new Lo;for(let m of i){if(m==null)continue;m.setRowNumberAsRowIndicatorColumn();let y=m.getValue()%30,C=m.getRowNumber();switch(this._isLeft||(C+=2),C%3){case 0:l.setValue(y*3+1);break;case 1:f.setValue(y/3),u.setValue(y%3);break;case 2:o.setValue(y+1);break}}if(o.getValue().length===0||l.getValue().length===0||u.getValue().length===0||f.getValue().length===0||o.getValue()[0]<1||l.getValue()[0]+u.getValue()[0]<Ce.MIN_ROWS_IN_BARCODE||l.getValue()[0]+u.getValue()[0]>Ce.MAX_ROWS_IN_BARCODE)return null;let d=new cC(o.getValue()[0],l.getValue()[0],u.getValue()[0],f.getValue()[0]);return this.removeIncorrectCodewords(i,d),d}removeIncorrectCodewords(i,o){for(let l=0;l<i.length;l++){let u=i[l];if(i[l]==null)continue;let f=u.getValue()%30,d=u.getRowNumber();if(d>o.getRowCount()){i[l]=null;continue}switch(this._isLeft||(d+=2),d%3){case 0:f*3+1!==o.getRowCountUpperPart()&&(i[l]=null);break;case 1:(Math.trunc(f/3)!==o.getErrorCorrectionLevel()||f%3!==o.getRowCountLowerPart())&&(i[l]=null);break;case 2:f+1!==o.getColumnCount()&&(i[l]=null);break}}}isLeft(){return this._isLeft}toString(){return"IsLeft: "+this._isLeft+`
`+super.toString()}}class Po{constructor(i,o){this.ADJUST_ROW_NUMBER_SKIP=2,this.barcodeMetadata=i,this.barcodeColumnCount=i.getColumnCount(),this.boundingBox=o,this.detectionResultColumns=new Array(this.barcodeColumnCount+2)}getDetectionResultColumns(){this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[0]),this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[this.barcodeColumnCount+1]);let i=Ce.MAX_CODEWORDS_IN_BARCODE,o;do o=i,i=this.adjustRowNumbersAndGetCount();while(i>0&&i<o);return this.detectionResultColumns}adjustIndicatorColumnRowNumbers(i){i!=null&&i.adjustCompleteIndicatorColumnRowNumbers(this.barcodeMetadata)}adjustRowNumbersAndGetCount(){let i=this.adjustRowNumbersByRow();if(i===0)return 0;for(let o=1;o<this.barcodeColumnCount+1;o++){let l=this.detectionResultColumns[o].getCodewords();for(let u=0;u<l.length;u++)l[u]!=null&&(l[u].hasValidRowNumber()||this.adjustRowNumbers(o,u,l))}return i}adjustRowNumbersByRow(){return this.adjustRowNumbersFromBothRI(),this.adjustRowNumbersFromLRI()+this.adjustRowNumbersFromRRI()}adjustRowNumbersFromBothRI(){if(this.detectionResultColumns[0]==null||this.detectionResultColumns[this.barcodeColumnCount+1]==null)return;let i=this.detectionResultColumns[0].getCodewords(),o=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords();for(let l=0;l<i.length;l++)if(i[l]!=null&&o[l]!=null&&i[l].getRowNumber()===o[l].getRowNumber())for(let u=1;u<=this.barcodeColumnCount;u++){let f=this.detectionResultColumns[u].getCodewords()[l];f!=null&&(f.setRowNumber(i[l].getRowNumber()),f.hasValidRowNumber()||(this.detectionResultColumns[u].getCodewords()[l]=null))}}adjustRowNumbersFromRRI(){if(this.detectionResultColumns[this.barcodeColumnCount+1]==null)return 0;let i=0,o=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords();for(let l=0;l<o.length;l++){if(o[l]==null)continue;let u=o[l].getRowNumber(),f=0;for(let d=this.barcodeColumnCount+1;d>0&&f<this.ADJUST_ROW_NUMBER_SKIP;d--){let m=this.detectionResultColumns[d].getCodewords()[l];m!=null&&(f=Po.adjustRowNumberIfValid(u,f,m),m.hasValidRowNumber()||i++)}}return i}adjustRowNumbersFromLRI(){if(this.detectionResultColumns[0]==null)return 0;let i=0,o=this.detectionResultColumns[0].getCodewords();for(let l=0;l<o.length;l++){if(o[l]==null)continue;let u=o[l].getRowNumber(),f=0;for(let d=1;d<this.barcodeColumnCount+1&&f<this.ADJUST_ROW_NUMBER_SKIP;d++){let m=this.detectionResultColumns[d].getCodewords()[l];m!=null&&(f=Po.adjustRowNumberIfValid(u,f,m),m.hasValidRowNumber()||i++)}}return i}static adjustRowNumberIfValid(i,o,l){return l==null||l.hasValidRowNumber()||(l.isValidRowNumber(i)?(l.setRowNumber(i),o=0):++o),o}adjustRowNumbers(i,o,l){if(!this.detectionResultColumns[i-1])return;let u=l[o],f=this.detectionResultColumns[i-1].getCodewords(),d=f;this.detectionResultColumns[i+1]!=null&&(d=this.detectionResultColumns[i+1].getCodewords());let m=new Array(14);m[2]=f[o],m[3]=d[o],o>0&&(m[0]=l[o-1],m[4]=f[o-1],m[5]=d[o-1]),o>1&&(m[8]=l[o-2],m[10]=f[o-2],m[11]=d[o-2]),o<l.length-1&&(m[1]=l[o+1],m[6]=f[o+1],m[7]=d[o+1]),o<l.length-2&&(m[9]=l[o+2],m[12]=f[o+2],m[13]=d[o+2]);for(let y of m)if(Po.adjustRowNumber(u,y))return}static adjustRowNumber(i,o){return o==null?!1:o.hasValidRowNumber()&&o.getBucket()===i.getBucket()?(i.setRowNumber(o.getRowNumber()),!0):!1}getBarcodeColumnCount(){return this.barcodeColumnCount}getBarcodeRowCount(){return this.barcodeMetadata.getRowCount()}getBarcodeECLevel(){return this.barcodeMetadata.getErrorCorrectionLevel()}setBoundingBox(i){this.boundingBox=i}getBoundingBox(){return this.boundingBox}setDetectionResultColumn(i,o){this.detectionResultColumns[i]=o}getDetectionResultColumn(i){return this.detectionResultColumns[i]}toString(){let i=this.detectionResultColumns[0];i==null&&(i=this.detectionResultColumns[this.barcodeColumnCount+1]);let o=new Do;for(let l=0;l<i.getCodewords().length;l++){o.format("CW %3d:",l);for(let u=0;u<this.barcodeColumnCount+2;u++){if(this.detectionResultColumns[u]==null){o.format("    |   ");continue}let f=this.detectionResultColumns[u].getCodewords()[l];if(f==null){o.format("    |   ");continue}o.format(" %3d|%3d",f.getRowNumber(),f.getValue())}o.format("%n")}return o.toString()}}class Bo{constructor(i,o,l,u){this.rowNumber=Bo.BARCODE_ROW_UNKNOWN,this.startX=Math.trunc(i),this.endX=Math.trunc(o),this.bucket=Math.trunc(l),this.value=Math.trunc(u)}hasValidRowNumber(){return this.isValidRowNumber(this.rowNumber)}isValidRowNumber(i){return i!==Bo.BARCODE_ROW_UNKNOWN&&this.bucket===i%3*3}setRowNumberAsRowIndicatorColumn(){this.rowNumber=Math.trunc(Math.trunc(this.value/30)*3+Math.trunc(this.bucket/3))}getWidth(){return this.endX-this.startX}getStartX(){return this.startX}getEndX(){return this.endX}getBucket(){return this.bucket}getValue(){return this.value}getRowNumber(){return this.rowNumber}setRowNumber(i){this.rowNumber=i}toString(){return this.rowNumber+"|"+this.value}}Bo.BARCODE_ROW_UNKNOWN=-1;class hn{static initialize(){for(let i=0;i<Ce.SYMBOL_TABLE.length;i++){let o=Ce.SYMBOL_TABLE[i],l=o&1;for(let u=0;u<Ce.BARS_IN_MODULE;u++){let f=0;for(;(o&1)===l;)f+=1,o>>=1;l=o&1,hn.RATIOS_TABLE[i]||(hn.RATIOS_TABLE[i]=new Array(Ce.BARS_IN_MODULE)),hn.RATIOS_TABLE[i][Ce.BARS_IN_MODULE-u-1]=Math.fround(f/Ce.MODULES_IN_CODEWORD)}}this.bSymbolTableReady=!0}static getDecodedValue(i){let o=hn.getDecodedCodewordValue(hn.sampleBitCounts(i));return o!==-1?o:hn.getClosestDecodedValue(i)}static sampleBitCounts(i){let o=De.sum(i),l=new Int32Array(Ce.BARS_IN_MODULE),u=0,f=0;for(let d=0;d<Ce.MODULES_IN_CODEWORD;d++){let m=o/(2*Ce.MODULES_IN_CODEWORD)+d*o/Ce.MODULES_IN_CODEWORD;f+i[u]<=m&&(f+=i[u],u++),l[u]++}return l}static getDecodedCodewordValue(i){let o=hn.getBitValue(i);return Ce.getCodeword(o)===-1?-1:o}static getBitValue(i){let o=0;for(let l=0;l<i.length;l++)for(let u=0;u<i[l];u++)o=o<<1|(l%2===0?1:0);return Math.trunc(o)}static getClosestDecodedValue(i){let o=De.sum(i),l=new Array(Ce.BARS_IN_MODULE);if(o>1)for(let d=0;d<l.length;d++)l[d]=Math.fround(i[d]/o);let u=gl.MAX_VALUE,f=-1;this.bSymbolTableReady||hn.initialize();for(let d=0;d<hn.RATIOS_TABLE.length;d++){let m=0,y=hn.RATIOS_TABLE[d];for(let C=0;C<Ce.BARS_IN_MODULE;C++){let b=Math.fround(y[C]-l[C]);if(m+=Math.fround(b*b),m>=u)break}m<u&&(u=m,f=Ce.SYMBOL_TABLE[d])}return f}}hn.bSymbolTableReady=!1,hn.RATIOS_TABLE=new Array(Ce.SYMBOL_TABLE.length).map(_=>new Array(Ce.BARS_IN_MODULE));class c1{constructor(){this.segmentCount=-1,this.fileSize=-1,this.timestamp=-1,this.checksum=-1}getSegmentIndex(){return this.segmentIndex}setSegmentIndex(i){this.segmentIndex=i}getFileId(){return this.fileId}setFileId(i){this.fileId=i}getOptionalData(){return this.optionalData}setOptionalData(i){this.optionalData=i}isLastSegment(){return this.lastSegment}setLastSegment(i){this.lastSegment=i}getSegmentCount(){return this.segmentCount}setSegmentCount(i){this.segmentCount=i}getSender(){return this.sender||null}setSender(i){this.sender=i}getAddressee(){return this.addressee||null}setAddressee(i){this.addressee=i}getFileName(){return this.fileName}setFileName(i){this.fileName=i}getFileSize(){return this.fileSize}setFileSize(i){this.fileSize=i}getChecksum(){return this.checksum}setChecksum(i){this.checksum=i}getTimestamp(){return this.timestamp}setTimestamp(i){this.timestamp=i}}class u1{static parseLong(i,o=void 0){return parseInt(i,o)}}class f1 extends g{}f1.kind="NullPointerException";class uC{writeBytes(i){this.writeBytesOffset(i,0,i.length)}writeBytesOffset(i,o,l){if(i==null)throw new f1;if(o<0||o>i.length||l<0||o+l>i.length||o+l<0)throw new O;if(l===0)return;for(let u=0;u<l;u++)this.write(i[o+u])}flush(){}close(){}}class fC extends g{}class dC extends uC{constructor(i=32){if(super(),this.count=0,i<0)throw new w("Negative initial size: "+i);this.buf=new Uint8Array(i)}ensureCapacity(i){i-this.buf.length>0&&this.grow(i)}grow(i){let l=this.buf.length<<1;if(l-i<0&&(l=i),l<0){if(i<0)throw new fC;l=N.MAX_VALUE}this.buf=T.copyOfUint8Array(this.buf,l)}write(i){this.ensureCapacity(this.count+1),this.buf[this.count]=i,this.count+=1}writeBytesOffset(i,o,l){if(o<0||o>i.length||l<0||o+l-i.length>0)throw new O;this.ensureCapacity(this.count+l),R.arraycopy(i,o,this.buf,this.count,l),this.count+=l}writeTo(i){i.writeBytesOffset(this.buf,0,this.count)}reset(){this.count=0}toByteArray(){return T.copyOfUint8Array(this.buf,this.count)}size(){return this.count}toString(i){return i?typeof i=="string"?this.toString_string(i):this.toString_number(i):this.toString_void()}toString_void(){return new String(this.buf).toString()}toString_string(i){return new String(this.buf).toString()}toString_number(i){return new String(this.buf).toString()}close(){}}var Ge;(function(_){_[_.ALPHA=0]="ALPHA",_[_.LOWER=1]="LOWER",_[_.MIXED=2]="MIXED",_[_.PUNCT=3]="PUNCT",_[_.ALPHA_SHIFT=4]="ALPHA_SHIFT",_[_.PUNCT_SHIFT=5]="PUNCT_SHIFT"})(Ge||(Ge={}));function d1(){if(typeof window<"u")return window.BigInt||null;if(typeof zo<"u")return zo.BigInt||null;if(typeof self<"u")return self.BigInt||null;throw new Error("Can't search globals for BigInt!")}let El;function ai(_){if(typeof El>"u"&&(El=d1()),El===null)throw new Error("BigInt is not supported!");return El(_)}function hC(){let _=[];_[0]=ai(1);let i=ai(900);_[1]=i;for(let o=2;o<16;o++)_[o]=_[o-1]*i;return _}class Q{static decode(i,o){let l=new me(""),u=G.ISO8859_1;l.enableDecoding(u);let f=1,d=i[f++],m=new c1;for(;f<i[0];){switch(d){case Q.TEXT_COMPACTION_MODE_LATCH:f=Q.textCompaction(i,f,l);break;case Q.BYTE_COMPACTION_MODE_LATCH:case Q.BYTE_COMPACTION_MODE_LATCH_6:f=Q.byteCompaction(d,i,u,f,l);break;case Q.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:l.append(i[f++]);break;case Q.NUMERIC_COMPACTION_MODE_LATCH:f=Q.numericCompaction(i,f,l);break;case Q.ECI_CHARSET:G.getCharacterSetECIByValue(i[f++]);break;case Q.ECI_GENERAL_PURPOSE:f+=2;break;case Q.ECI_USER_DEFINED:f++;break;case Q.BEGIN_MACRO_PDF417_CONTROL_BLOCK:f=Q.decodeMacroBlock(i,f,m);break;case Q.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case Q.MACRO_PDF417_TERMINATOR:throw new F;default:f--,f=Q.textCompaction(i,f,l);break}if(f<i.length)d=i[f++];else throw F.getFormatInstance()}if(l.length()===0)throw F.getFormatInstance();let y=new To(null,l.toString(),null,o);return y.setOther(m),y}static decodeMacroBlock(i,o,l){if(o+Q.NUMBER_OF_SEQUENCE_CODEWORDS>i[0])throw F.getFormatInstance();let u=new Int32Array(Q.NUMBER_OF_SEQUENCE_CODEWORDS);for(let m=0;m<Q.NUMBER_OF_SEQUENCE_CODEWORDS;m++,o++)u[m]=i[o];l.setSegmentIndex(N.parseInt(Q.decodeBase900toBase10(u,Q.NUMBER_OF_SEQUENCE_CODEWORDS)));let f=new me;o=Q.textCompaction(i,o,f),l.setFileId(f.toString());let d=-1;for(i[o]===Q.BEGIN_MACRO_PDF417_OPTIONAL_FIELD&&(d=o+1);o<i[0];)switch(i[o]){case Q.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:switch(o++,i[o]){case Q.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME:let m=new me;o=Q.textCompaction(i,o+1,m),l.setFileName(m.toString());break;case Q.MACRO_PDF417_OPTIONAL_FIELD_SENDER:let y=new me;o=Q.textCompaction(i,o+1,y),l.setSender(y.toString());break;case Q.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE:let C=new me;o=Q.textCompaction(i,o+1,C),l.setAddressee(C.toString());break;case Q.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT:let b=new me;o=Q.numericCompaction(i,o+1,b),l.setSegmentCount(N.parseInt(b.toString()));break;case Q.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP:let I=new me;o=Q.numericCompaction(i,o+1,I),l.setTimestamp(u1.parseLong(I.toString()));break;case Q.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM:let D=new me;o=Q.numericCompaction(i,o+1,D),l.setChecksum(N.parseInt(D.toString()));break;case Q.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE:let P=new me;o=Q.numericCompaction(i,o+1,P),l.setFileSize(u1.parseLong(P.toString()));break;default:throw F.getFormatInstance()}break;case Q.MACRO_PDF417_TERMINATOR:o++,l.setLastSegment(!0);break;default:throw F.getFormatInstance()}if(d!==-1){let m=o-d;l.isLastSegment()&&m--,l.setOptionalData(T.copyOfRange(i,d,d+m))}return o}static textCompaction(i,o,l){let u=new Int32Array((i[0]-o)*2),f=new Int32Array((i[0]-o)*2),d=0,m=!1;for(;o<i[0]&&!m;){let y=i[o++];if(y<Q.TEXT_COMPACTION_MODE_LATCH)u[d]=y/30,u[d+1]=y%30,d+=2;else switch(y){case Q.TEXT_COMPACTION_MODE_LATCH:u[d++]=Q.TEXT_COMPACTION_MODE_LATCH;break;case Q.BYTE_COMPACTION_MODE_LATCH:case Q.BYTE_COMPACTION_MODE_LATCH_6:case Q.NUMERIC_COMPACTION_MODE_LATCH:case Q.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case Q.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case Q.MACRO_PDF417_TERMINATOR:o--,m=!0;break;case Q.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:u[d]=Q.MODE_SHIFT_TO_BYTE_COMPACTION_MODE,y=i[o++],f[d]=y,d++;break}}return Q.decodeTextCompaction(u,f,d,l),o}static decodeTextCompaction(i,o,l,u){let f=Ge.ALPHA,d=Ge.ALPHA,m=0;for(;m<l;){let y=i[m],C="";switch(f){case Ge.ALPHA:if(y<26)C=String.fromCharCode(65+y);else switch(y){case 26:C=" ";break;case Q.LL:f=Ge.LOWER;break;case Q.ML:f=Ge.MIXED;break;case Q.PS:d=f,f=Ge.PUNCT_SHIFT;break;case Q.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:u.append(o[m]);break;case Q.TEXT_COMPACTION_MODE_LATCH:f=Ge.ALPHA;break}break;case Ge.LOWER:if(y<26)C=String.fromCharCode(97+y);else switch(y){case 26:C=" ";break;case Q.AS:d=f,f=Ge.ALPHA_SHIFT;break;case Q.ML:f=Ge.MIXED;break;case Q.PS:d=f,f=Ge.PUNCT_SHIFT;break;case Q.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:u.append(o[m]);break;case Q.TEXT_COMPACTION_MODE_LATCH:f=Ge.ALPHA;break}break;case Ge.MIXED:if(y<Q.PL)C=Q.MIXED_CHARS[y];else switch(y){case Q.PL:f=Ge.PUNCT;break;case 26:C=" ";break;case Q.LL:f=Ge.LOWER;break;case Q.AL:f=Ge.ALPHA;break;case Q.PS:d=f,f=Ge.PUNCT_SHIFT;break;case Q.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:u.append(o[m]);break;case Q.TEXT_COMPACTION_MODE_LATCH:f=Ge.ALPHA;break}break;case Ge.PUNCT:if(y<Q.PAL)C=Q.PUNCT_CHARS[y];else switch(y){case Q.PAL:f=Ge.ALPHA;break;case Q.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:u.append(o[m]);break;case Q.TEXT_COMPACTION_MODE_LATCH:f=Ge.ALPHA;break}break;case Ge.ALPHA_SHIFT:if(f=d,y<26)C=String.fromCharCode(65+y);else switch(y){case 26:C=" ";break;case Q.TEXT_COMPACTION_MODE_LATCH:f=Ge.ALPHA;break}break;case Ge.PUNCT_SHIFT:if(f=d,y<Q.PAL)C=Q.PUNCT_CHARS[y];else switch(y){case Q.PAL:f=Ge.ALPHA;break;case Q.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:u.append(o[m]);break;case Q.TEXT_COMPACTION_MODE_LATCH:f=Ge.ALPHA;break}break}C!==""&&u.append(C),m++}}static byteCompaction(i,o,l,u,f){let d=new dC,m=0,y=0,C=!1;switch(i){case Q.BYTE_COMPACTION_MODE_LATCH:let b=new Int32Array(6),I=o[u++];for(;u<o[0]&&!C;)switch(b[m++]=I,y=900*y+I,I=o[u++],I){case Q.TEXT_COMPACTION_MODE_LATCH:case Q.BYTE_COMPACTION_MODE_LATCH:case Q.NUMERIC_COMPACTION_MODE_LATCH:case Q.BYTE_COMPACTION_MODE_LATCH_6:case Q.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case Q.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case Q.MACRO_PDF417_TERMINATOR:u--,C=!0;break;default:if(m%5===0&&m>0){for(let D=0;D<6;++D)d.write(Number(ai(y)>>ai(8*(5-D))));y=0,m=0}break}u===o[0]&&I<Q.TEXT_COMPACTION_MODE_LATCH&&(b[m++]=I);for(let D=0;D<m;D++)d.write(b[D]);break;case Q.BYTE_COMPACTION_MODE_LATCH_6:for(;u<o[0]&&!C;){let D=o[u++];if(D<Q.TEXT_COMPACTION_MODE_LATCH)m++,y=900*y+D;else switch(D){case Q.TEXT_COMPACTION_MODE_LATCH:case Q.BYTE_COMPACTION_MODE_LATCH:case Q.NUMERIC_COMPACTION_MODE_LATCH:case Q.BYTE_COMPACTION_MODE_LATCH_6:case Q.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case Q.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case Q.MACRO_PDF417_TERMINATOR:u--,C=!0;break}if(m%5===0&&m>0){for(let P=0;P<6;++P)d.write(Number(ai(y)>>ai(8*(5-P))));y=0,m=0}}break}return f.append(oe.decode(d.toByteArray(),l)),u}static numericCompaction(i,o,l){let u=0,f=!1,d=new Int32Array(Q.MAX_NUMERIC_CODEWORDS);for(;o<i[0]&&!f;){let m=i[o++];if(o===i[0]&&(f=!0),m<Q.TEXT_COMPACTION_MODE_LATCH)d[u]=m,u++;else switch(m){case Q.TEXT_COMPACTION_MODE_LATCH:case Q.BYTE_COMPACTION_MODE_LATCH:case Q.BYTE_COMPACTION_MODE_LATCH_6:case Q.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case Q.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case Q.MACRO_PDF417_TERMINATOR:o--,f=!0;break}(u%Q.MAX_NUMERIC_CODEWORDS===0||m===Q.NUMERIC_COMPACTION_MODE_LATCH||f)&&u>0&&(l.append(Q.decodeBase900toBase10(d,u)),u=0)}return o}static decodeBase900toBase10(i,o){let l=ai(0);for(let f=0;f<o;f++)l+=Q.EXP900[o-f-1]*ai(i[f]);let u=l.toString();if(u.charAt(0)!=="1")throw new F;return u.substring(1)}}Q.TEXT_COMPACTION_MODE_LATCH=900,Q.BYTE_COMPACTION_MODE_LATCH=901,Q.NUMERIC_COMPACTION_MODE_LATCH=902,Q.BYTE_COMPACTION_MODE_LATCH_6=924,Q.ECI_USER_DEFINED=925,Q.ECI_GENERAL_PURPOSE=926,Q.ECI_CHARSET=927,Q.BEGIN_MACRO_PDF417_CONTROL_BLOCK=928,Q.BEGIN_MACRO_PDF417_OPTIONAL_FIELD=923,Q.MACRO_PDF417_TERMINATOR=922,Q.MODE_SHIFT_TO_BYTE_COMPACTION_MODE=913,Q.MAX_NUMERIC_CODEWORDS=15,Q.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME=0,Q.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT=1,Q.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP=2,Q.MACRO_PDF417_OPTIONAL_FIELD_SENDER=3,Q.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE=4,Q.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE=5,Q.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM=6,Q.PL=25,Q.LL=27,Q.AS=27,Q.ML=28,Q.AL=28,Q.PS=29,Q.PAL=29,Q.PUNCT_CHARS=`;<>@[\\]_\`~!\r	,:
-.$/"|*()?{}'`,Q.MIXED_CHARS="0123456789&\r	,:#-.$/+%*=^",Q.EXP900=d1()?hC():[],Q.NUMBER_OF_SEQUENCE_CODEWORDS=2;class Ie{constructor(){}static decode(i,o,l,u,f,d,m){let y=new Xi(i,o,l,u,f),C=null,b=null,I;for(let B=!0;;B=!1){if(o!=null&&(C=Ie.getRowIndicatorColumn(i,y,o,!0,d,m)),u!=null&&(b=Ie.getRowIndicatorColumn(i,y,u,!1,d,m)),I=Ie.merge(C,b),I==null)throw W.getNotFoundInstance();let j=I.getBoundingBox();if(B&&j!=null&&(j.getMinY()<y.getMinY()||j.getMaxY()>y.getMaxY()))y=j;else break}I.setBoundingBox(y);let D=I.getBarcodeColumnCount()+1;I.setDetectionResultColumn(0,C),I.setDetectionResultColumn(D,b);let P=C!=null;for(let B=1;B<=D;B++){let j=P?B:D-B;if(I.getDetectionResultColumn(j)!==void 0)continue;let V;j===0||j===D?V=new l1(y,j===0):V=new ko(y),I.setDetectionResultColumn(j,V);let Z=-1,ee=Z;for(let ne=y.getMinY();ne<=y.getMaxY();ne++){if(Z=Ie.getStartColumn(I,j,ne,P),Z<0||Z>y.getMaxX()){if(ee===-1)continue;Z=ee}let $=Ie.detectCodeword(i,y.getMinX(),y.getMaxX(),P,Z,ne,d,m);$!=null&&(V.setCodeword(ne,$),ee=Z,d=Math.min(d,$.getWidth()),m=Math.max(m,$.getWidth()))}}return Ie.createDecoderResult(I)}static merge(i,o){if(i==null&&o==null)return null;let l=Ie.getBarcodeMetadata(i,o);if(l==null)return null;let u=Xi.merge(Ie.adjustBoundingBox(i),Ie.adjustBoundingBox(o));return new Po(l,u)}static adjustBoundingBox(i){if(i==null)return null;let o=i.getRowHeights();if(o==null)return null;let l=Ie.getMax(o),u=0;for(let m of o)if(u+=l-m,m>0)break;let f=i.getCodewords();for(let m=0;u>0&&f[m]==null;m++)u--;let d=0;for(let m=o.length-1;m>=0&&(d+=l-o[m],!(o[m]>0));m--);for(let m=f.length-1;d>0&&f[m]==null;m--)d--;return i.getBoundingBox().addMissingRows(u,d,i.isLeft())}static getMax(i){let o=-1;for(let l of i)o=Math.max(o,l);return o}static getBarcodeMetadata(i,o){let l;if(i==null||(l=i.getBarcodeMetadata())==null)return o==null?null:o.getBarcodeMetadata();let u;return o==null||(u=o.getBarcodeMetadata())==null?l:l.getColumnCount()!==u.getColumnCount()&&l.getErrorCorrectionLevel()!==u.getErrorCorrectionLevel()&&l.getRowCount()!==u.getRowCount()?null:l}static getRowIndicatorColumn(i,o,l,u,f,d){let m=new l1(o,u);for(let y=0;y<2;y++){let C=y===0?1:-1,b=Math.trunc(Math.trunc(l.getX()));for(let I=Math.trunc(Math.trunc(l.getY()));I<=o.getMaxY()&&I>=o.getMinY();I+=C){let D=Ie.detectCodeword(i,0,i.getWidth(),u,b,I,f,d);D!=null&&(m.setCodeword(I,D),u?b=D.getStartX():b=D.getEndX())}}return m}static adjustCodewordCount(i,o){let l=o[0][1],u=l.getValue(),f=i.getBarcodeColumnCount()*i.getBarcodeRowCount()-Ie.getNumberOfECCodeWords(i.getBarcodeECLevel());if(u.length===0){if(f<1||f>Ce.MAX_CODEWORDS_IN_BARCODE)throw W.getNotFoundInstance();l.setValue(f)}else u[0]!==f&&l.setValue(f)}static createDecoderResult(i){let o=Ie.createBarcodeMatrix(i);Ie.adjustCodewordCount(i,o);let l=new Array,u=new Int32Array(i.getBarcodeRowCount()*i.getBarcodeColumnCount()),f=[],d=new Array;for(let y=0;y<i.getBarcodeRowCount();y++)for(let C=0;C<i.getBarcodeColumnCount();C++){let b=o[y][C+1].getValue(),I=y*i.getBarcodeColumnCount()+C;b.length===0?l.push(I):b.length===1?u[I]=b[0]:(d.push(I),f.push(b))}let m=new Array(f.length);for(let y=0;y<m.length;y++)m[y]=f[y];return Ie.createDecoderResultFromAmbiguousValues(i.getBarcodeECLevel(),u,Ce.toIntArray(l),Ce.toIntArray(d),m)}static createDecoderResultFromAmbiguousValues(i,o,l,u,f){let d=new Int32Array(u.length),m=100;for(;m-- >0;){for(let y=0;y<d.length;y++)o[u[y]]=f[y][d[y]];try{return Ie.decodeCodewords(o,i,l)}catch(y){if(!(y instanceof S))throw y}if(d.length===0)throw S.getChecksumInstance();for(let y=0;y<d.length;y++)if(d[y]<f[y].length-1){d[y]++;break}else if(d[y]=0,y===d.length-1)throw S.getChecksumInstance()}throw S.getChecksumInstance()}static createBarcodeMatrix(i){let o=Array.from({length:i.getBarcodeRowCount()},()=>new Array(i.getBarcodeColumnCount()+2));for(let u=0;u<o.length;u++)for(let f=0;f<o[u].length;f++)o[u][f]=new Lo;let l=0;for(let u of i.getDetectionResultColumns()){if(u!=null){for(let f of u.getCodewords())if(f!=null){let d=f.getRowNumber();if(d>=0){if(d>=o.length)continue;o[d][l].setValue(f.getValue())}}}l++}return o}static isValidBarcodeColumn(i,o){return o>=0&&o<=i.getBarcodeColumnCount()+1}static getStartColumn(i,o,l,u){let f=u?1:-1,d=null;if(Ie.isValidBarcodeColumn(i,o-f)&&(d=i.getDetectionResultColumn(o-f).getCodeword(l)),d!=null)return u?d.getEndX():d.getStartX();if(d=i.getDetectionResultColumn(o).getCodewordNearby(l),d!=null)return u?d.getStartX():d.getEndX();if(Ie.isValidBarcodeColumn(i,o-f)&&(d=i.getDetectionResultColumn(o-f).getCodewordNearby(l)),d!=null)return u?d.getEndX():d.getStartX();let m=0;for(;Ie.isValidBarcodeColumn(i,o-f);){o-=f;for(let y of i.getDetectionResultColumn(o).getCodewords())if(y!=null)return(u?y.getEndX():y.getStartX())+f*m*(y.getEndX()-y.getStartX());m++}return u?i.getBoundingBox().getMinX():i.getBoundingBox().getMaxX()}static detectCodeword(i,o,l,u,f,d,m,y){f=Ie.adjustCodewordStartColumn(i,o,l,u,f,d);let C=Ie.getModuleBitCount(i,o,l,u,f,d);if(C==null)return null;let b,I=De.sum(C);if(u)b=f+I;else{for(let B=0;B<C.length/2;B++){let j=C[B];C[B]=C[C.length-1-B],C[C.length-1-B]=j}b=f,f=b-I}if(!Ie.checkCodewordSkew(I,m,y))return null;let D=hn.getDecodedValue(C),P=Ce.getCodeword(D);return P===-1?null:new Bo(f,b,Ie.getCodewordBucketNumber(D),P)}static getModuleBitCount(i,o,l,u,f,d){let m=f,y=new Int32Array(8),C=0,b=u?1:-1,I=u;for(;(u?m<l:m>=o)&&C<y.length;)i.get(m,d)===I?(y[C]++,m+=b):(C++,I=!I);return C===y.length||m===(u?l:o)&&C===y.length-1?y:null}static getNumberOfECCodeWords(i){return 2<<i}static adjustCodewordStartColumn(i,o,l,u,f,d){let m=f,y=u?-1:1;for(let C=0;C<2;C++){for(;(u?m>=o:m<l)&&u===i.get(m,d);){if(Math.abs(f-m)>Ie.CODEWORD_SKEW_SIZE)return f;m+=y}y=-y,u=!u}return m}static checkCodewordSkew(i,o,l){return o-Ie.CODEWORD_SKEW_SIZE<=i&&i<=l+Ie.CODEWORD_SKEW_SIZE}static decodeCodewords(i,o,l){if(i.length===0)throw F.getFormatInstance();let u=1<<o+1,f=Ie.correctErrors(i,l,u);Ie.verifyCodewordCount(i,u);let d=Q.decode(i,""+o);return d.setErrorsCorrected(f),d.setErasures(l.length),d}static correctErrors(i,o,l){if(o!=null&&o.length>l/2+Ie.MAX_ERRORS||l<0||l>Ie.MAX_EC_CODEWORDS)throw S.getChecksumInstance();return Ie.errorCorrection.decode(i,l,o)}static verifyCodewordCount(i,o){if(i.length<4)throw F.getFormatInstance();let l=i[0];if(l>i.length)throw F.getFormatInstance();if(l===0)if(o<i.length)i[0]=i.length-o;else throw F.getFormatInstance()}static getBitCountForCodeword(i){let o=new Int32Array(8),l=0,u=o.length-1;for(;!((i&1)!==l&&(l=i&1,u--,u<0));)o[u]++,i>>=1;return o}static getCodewordBucketNumber(i){return i instanceof Int32Array?this.getCodewordBucketNumber_Int32Array(i):this.getCodewordBucketNumber_number(i)}static getCodewordBucketNumber_number(i){return Ie.getCodewordBucketNumber(Ie.getBitCountForCodeword(i))}static getCodewordBucketNumber_Int32Array(i){return(i[0]-i[2]+i[4]-i[6]+9)%9}static toString(i){let o=new Do;for(let l=0;l<i.length;l++){o.format("Row %2d: ",l);for(let u=0;u<i[l].length;u++){let f=i[l][u];f.getValue().length===0?o.format("        ",null):o.format("%4d(%2d)",f.getValue()[0],f.getConfidence(f.getValue()[0]))}o.format("%n")}return o.toString()}}Ie.CODEWORD_SKEW_SIZE=2,Ie.MAX_ERRORS=3,Ie.MAX_EC_CODEWORDS=512,Ie.errorCorrection=new a1;class Ut{decode(i,o=null){let l=Ut.decode(i,o,!1);if(l==null||l.length===0||l[0]==null)throw W.getNotFoundInstance();return l[0]}decodeMultiple(i,o=null){try{return Ut.decode(i,o,!0)}catch(l){throw l instanceof F||l instanceof S?W.getNotFoundInstance():l}}static decode(i,o,l){const u=new Array,f=ve.detectMultiple(i,o,l);for(const d of f.getPoints()){const m=Ie.decode(f.getBits(),d[4],d[5],d[6],d[7],Ut.getMinCodewordWidth(d),Ut.getMaxCodewordWidth(d)),y=new Oe(m.getText(),m.getRawBytes(),void 0,d,ce.PDF_417);y.putMetadata(Dt.ERROR_CORRECTION_LEVEL,m.getECLevel());const C=m.getOther();C!=null&&y.putMetadata(Dt.PDF417_EXTRA_METADATA,C),u.push(y)}return u.map(d=>d)}static getMaxWidth(i,o){return i==null||o==null?0:Math.trunc(Math.abs(i.getX()-o.getX()))}static getMinWidth(i,o){return i==null||o==null?N.MAX_VALUE:Math.trunc(Math.abs(i.getX()-o.getX()))}static getMaxCodewordWidth(i){return Math.floor(Math.max(Math.max(Ut.getMaxWidth(i[0],i[4]),Ut.getMaxWidth(i[6],i[2])*Ce.MODULES_IN_CODEWORD/Ce.MODULES_IN_STOP_PATTERN),Math.max(Ut.getMaxWidth(i[1],i[5]),Ut.getMaxWidth(i[7],i[3])*Ce.MODULES_IN_CODEWORD/Ce.MODULES_IN_STOP_PATTERN)))}static getMinCodewordWidth(i){return Math.floor(Math.min(Math.min(Ut.getMinWidth(i[0],i[4]),Ut.getMinWidth(i[6],i[2])*Ce.MODULES_IN_CODEWORD/Ce.MODULES_IN_STOP_PATTERN),Math.min(Ut.getMinWidth(i[1],i[5]),Ut.getMinWidth(i[7],i[3])*Ce.MODULES_IN_CODEWORD/Ce.MODULES_IN_STOP_PATTERN)))}reset(){}}class bl extends g{}bl.kind="ReaderException";class h1{constructor(i,o){this.verbose=i===!0,o&&this.setHints(o)}decode(i,o){return o&&this.setHints(o),this.decodeInternal(i)}decodeWithState(i){return(this.readers===null||this.readers===void 0)&&this.setHints(null),this.decodeInternal(i)}setHints(i){this.hints=i;const o=!r(i)&&i.get(Y.TRY_HARDER)===!0,l=r(i)?null:i.get(Y.POSSIBLE_FORMATS),u=new Array;if(!r(l)){const f=l.some(d=>d===ce.UPC_A||d===ce.UPC_E||d===ce.EAN_13||d===ce.EAN_8||d===ce.CODABAR||d===ce.CODE_39||d===ce.CODE_93||d===ce.CODE_128||d===ce.ITF||d===ce.RSS_14||d===ce.RSS_EXPANDED);f&&!o&&u.push(new Rs(i,this.verbose)),l.includes(ce.QR_CODE)&&u.push(new oi),l.includes(ce.DATA_MATRIX)&&u.push(new si),l.includes(ce.AZTEC)&&u.push(new ml),l.includes(ce.PDF_417)&&u.push(new Ut),f&&o&&u.push(new Rs(i,this.verbose))}u.length===0&&(o||u.push(new Rs(i,this.verbose)),u.push(new oi),u.push(new si),u.push(new ml),u.push(new Ut),o&&u.push(new Rs(i,this.verbose))),this.readers=u}reset(){if(this.readers!==null)for(const i of this.readers)i.reset()}decodeInternal(i){if(this.readers===null)throw new bl("No readers where selected, nothing can be read.");for(const o of this.readers)try{return o.decode(i,this.hints)}catch(l){if(l instanceof bl)continue}throw new W("No MultiFormat Readers were able to detect the code.")}}class gC extends At{constructor(i=null,o=500){const l=new h1;l.setHints(i),super(l,o)}decodeBitmap(i){return this.reader.decodeWithState(i)}}class pC extends At{constructor(i=500){super(new Ut,i)}}class mC extends At{constructor(i=500){super(new oi,i)}}var uf;(function(_){_[_.ERROR_CORRECTION=0]="ERROR_CORRECTION",_[_.CHARACTER_SET=1]="CHARACTER_SET",_[_.DATA_MATRIX_SHAPE=2]="DATA_MATRIX_SHAPE",_[_.MIN_SIZE=3]="MIN_SIZE",_[_.MAX_SIZE=4]="MAX_SIZE",_[_.MARGIN=5]="MARGIN",_[_.PDF417_COMPACT=6]="PDF417_COMPACT",_[_.PDF417_COMPACTION=7]="PDF417_COMPACTION",_[_.PDF417_DIMENSIONS=8]="PDF417_DIMENSIONS",_[_.AZTEC_LAYERS=9]="AZTEC_LAYERS",_[_.QR_VERSION=10]="QR_VERSION"})(uf||(uf={}));var Nt=uf;class ff{constructor(i){this.field=i,this.cachedGenerators=[],this.cachedGenerators.push(new un(i,Int32Array.from([1])))}buildGenerator(i){const o=this.cachedGenerators;if(i>=o.length){let l=o[o.length-1];const u=this.field;for(let f=o.length;f<=i;f++){const d=l.multiply(new un(u,Int32Array.from([1,u.exp(f-1+u.getGeneratorBase())])));o.push(d),l=d}}return o[i]}encode(i,o){if(o===0)throw new w("No error correction bytes");const l=i.length-o;if(l<=0)throw new w("No data bytes provided");const u=this.buildGenerator(o),f=new Int32Array(l);R.arraycopy(i,0,f,0,l);let d=new un(this.field,f);d=d.multiplyByMonomial(o,1);const y=d.divide(u)[1].getCoefficients(),C=o-y.length;for(let b=0;b<C;b++)i[l+b]=0;R.arraycopy(y,0,i,l+C,y.length)}}class gt{constructor(){}static applyMaskPenaltyRule1(i){return gt.applyMaskPenaltyRule1Internal(i,!0)+gt.applyMaskPenaltyRule1Internal(i,!1)}static applyMaskPenaltyRule2(i){let o=0;const l=i.getArray(),u=i.getWidth(),f=i.getHeight();for(let d=0;d<f-1;d++){const m=l[d];for(let y=0;y<u-1;y++){const C=m[y];C===m[y+1]&&C===l[d+1][y]&&C===l[d+1][y+1]&&o++}}return gt.N2*o}static applyMaskPenaltyRule3(i){let o=0;const l=i.getArray(),u=i.getWidth(),f=i.getHeight();for(let d=0;d<f;d++)for(let m=0;m<u;m++){const y=l[d];m+6<u&&y[m]===1&&y[m+1]===0&&y[m+2]===1&&y[m+3]===1&&y[m+4]===1&&y[m+5]===0&&y[m+6]===1&&(gt.isWhiteHorizontal(y,m-4,m)||gt.isWhiteHorizontal(y,m+7,m+11))&&o++,d+6<f&&l[d][m]===1&&l[d+1][m]===0&&l[d+2][m]===1&&l[d+3][m]===1&&l[d+4][m]===1&&l[d+5][m]===0&&l[d+6][m]===1&&(gt.isWhiteVertical(l,m,d-4,d)||gt.isWhiteVertical(l,m,d+7,d+11))&&o++}return o*gt.N3}static isWhiteHorizontal(i,o,l){o=Math.max(o,0),l=Math.min(l,i.length);for(let u=o;u<l;u++)if(i[u]===1)return!1;return!0}static isWhiteVertical(i,o,l,u){l=Math.max(l,0),u=Math.min(u,i.length);for(let f=l;f<u;f++)if(i[f][o]===1)return!1;return!0}static applyMaskPenaltyRule4(i){let o=0;const l=i.getArray(),u=i.getWidth(),f=i.getHeight();for(let y=0;y<f;y++){const C=l[y];for(let b=0;b<u;b++)C[b]===1&&o++}const d=i.getHeight()*i.getWidth();return Math.floor(Math.abs(o*2-d)*10/d)*gt.N4}static getDataMaskBit(i,o,l){let u,f;switch(i){case 0:u=l+o&1;break;case 1:u=l&1;break;case 2:u=o%3;break;case 3:u=(l+o)%3;break;case 4:u=Math.floor(l/2)+Math.floor(o/3)&1;break;case 5:f=l*o,u=(f&1)+f%3;break;case 6:f=l*o,u=(f&1)+f%3&1;break;case 7:f=l*o,u=f%3+(l+o&1)&1;break;default:throw new w("Invalid mask pattern: "+i)}return u===0}static applyMaskPenaltyRule1Internal(i,o){let l=0;const u=o?i.getHeight():i.getWidth(),f=o?i.getWidth():i.getHeight(),d=i.getArray();for(let m=0;m<u;m++){let y=0,C=-1;for(let b=0;b<f;b++){const I=o?d[m][b]:d[b][m];I===C?y++:(y>=5&&(l+=gt.N1+(y-5)),y=1,C=I)}y>=5&&(l+=gt.N1+(y-5))}return l}}gt.N1=3,gt.N2=3,gt.N3=40,gt.N4=10;class Al{constructor(i,o){this.width=i,this.height=o;const l=new Array(o);for(let u=0;u!==o;u++)l[u]=new Uint8Array(i);this.bytes=l}getHeight(){return this.height}getWidth(){return this.width}get(i,o){return this.bytes[o][i]}getArray(){return this.bytes}setNumber(i,o,l){this.bytes[o][i]=l}setBoolean(i,o,l){this.bytes[o][i]=l?1:0}clear(i){for(const o of this.bytes)T.fill(o,i)}equals(i){if(!(i instanceof Al))return!1;const o=i;if(this.width!==o.width||this.height!==o.height)return!1;for(let l=0,u=this.height;l<u;++l){const f=this.bytes[l],d=o.bytes[l];for(let m=0,y=this.width;m<y;++m)if(f[m]!==d[m])return!1}return!0}toString(){const i=new me;for(let o=0,l=this.height;o<l;++o){const u=this.bytes[o];for(let f=0,d=this.width;f<d;++f)switch(u[f]){case 0:i.append(" 0");break;case 1:i.append(" 1");break;default:i.append("  ");break}i.append(`
`)}return i.toString()}}class Gi{constructor(){this.maskPattern=-1}getMode(){return this.mode}getECLevel(){return this.ecLevel}getVersion(){return this.version}getMaskPattern(){return this.maskPattern}getMatrix(){return this.matrix}toString(){const i=new me;return i.append(`<<
`),i.append(" mode: "),i.append(this.mode?this.mode.toString():"null"),i.append(`
 ecLevel: `),i.append(this.ecLevel?this.ecLevel.toString():"null"),i.append(`
 version: `),i.append(this.version?this.version.toString():"null"),i.append(`
 maskPattern: `),i.append(this.maskPattern.toString()),this.matrix?(i.append(`
 matrix:
`),i.append(this.matrix.toString())):i.append(`
 matrix: null
`),i.append(`>>
`),i.toString()}setMode(i){this.mode=i}setECLevel(i){this.ecLevel=i}setVersion(i){this.version=i}setMaskPattern(i){this.maskPattern=i}setMatrix(i){this.matrix=i}static isValidMaskPattern(i){return i>=0&&i<Gi.NUM_MASK_PATTERNS}}Gi.NUM_MASK_PATTERNS=8;class Ze extends g{}Ze.kind="WriterException";class ye{constructor(){}static clearMatrix(i){i.clear(255)}static buildMatrix(i,o,l,u,f){ye.clearMatrix(f),ye.embedBasicPatterns(l,f),ye.embedTypeInfo(o,u,f),ye.maybeEmbedVersionInfo(l,f),ye.embedDataBits(i,u,f)}static embedBasicPatterns(i,o){ye.embedPositionDetectionPatternsAndSeparators(o),ye.embedDarkDotAtLeftBottomCorner(o),ye.maybeEmbedPositionAdjustmentPatterns(i,o),ye.embedTimingPatterns(o)}static embedTypeInfo(i,o,l){const u=new L;ye.makeTypeInfoBits(i,o,u);for(let f=0,d=u.getSize();f<d;++f){const m=u.get(u.getSize()-1-f),y=ye.TYPE_INFO_COORDINATES[f],C=y[0],b=y[1];if(l.setBoolean(C,b,m),f<8){const I=l.getWidth()-f-1;l.setBoolean(I,8,m)}else{const D=l.getHeight()-7+(f-8);l.setBoolean(8,D,m)}}}static maybeEmbedVersionInfo(i,o){if(i.getVersionNumber()<7)return;const l=new L;ye.makeVersionInfoBits(i,l);let u=6*3-1;for(let f=0;f<6;++f)for(let d=0;d<3;++d){const m=l.get(u);u--,o.setBoolean(f,o.getHeight()-11+d,m),o.setBoolean(o.getHeight()-11+d,f,m)}}static embedDataBits(i,o,l){let u=0,f=-1,d=l.getWidth()-1,m=l.getHeight()-1;for(;d>0;){for(d===6&&(d-=1);m>=0&&m<l.getHeight();){for(let y=0;y<2;++y){const C=d-y;if(!ye.isEmpty(l.get(C,m)))continue;let b;u<i.getSize()?(b=i.get(u),++u):b=!1,o!==255&&gt.getDataMaskBit(o,C,m)&&(b=!b),l.setBoolean(C,m,b)}m+=f}f=-f,m+=f,d-=2}if(u!==i.getSize())throw new Ze("Not all bits consumed: "+u+"/"+i.getSize())}static findMSBSet(i){return 32-N.numberOfLeadingZeros(i)}static calculateBCHCode(i,o){if(o===0)throw new w("0 polynomial");const l=ye.findMSBSet(o);for(i<<=l-1;ye.findMSBSet(i)>=l;)i^=o<<ye.findMSBSet(i)-l;return i}static makeTypeInfoBits(i,o,l){if(!Gi.isValidMaskPattern(o))throw new Ze("Invalid mask pattern");const u=i.getBits()<<3|o;l.appendBits(u,5);const f=ye.calculateBCHCode(u,ye.TYPE_INFO_POLY);l.appendBits(f,10);const d=new L;if(d.appendBits(ye.TYPE_INFO_MASK_PATTERN,15),l.xor(d),l.getSize()!==15)throw new Ze("should not happen but we got: "+l.getSize())}static makeVersionInfoBits(i,o){o.appendBits(i.getVersionNumber(),6);const l=ye.calculateBCHCode(i.getVersionNumber(),ye.VERSION_INFO_POLY);if(o.appendBits(l,12),o.getSize()!==18)throw new Ze("should not happen but we got: "+o.getSize())}static isEmpty(i){return i===255}static embedTimingPatterns(i){for(let o=8;o<i.getWidth()-8;++o){const l=(o+1)%2;ye.isEmpty(i.get(o,6))&&i.setNumber(o,6,l),ye.isEmpty(i.get(6,o))&&i.setNumber(6,o,l)}}static embedDarkDotAtLeftBottomCorner(i){if(i.get(8,i.getHeight()-8)===0)throw new Ze;i.setNumber(8,i.getHeight()-8,1)}static embedHorizontalSeparationPattern(i,o,l){for(let u=0;u<8;++u){if(!ye.isEmpty(l.get(i+u,o)))throw new Ze;l.setNumber(i+u,o,0)}}static embedVerticalSeparationPattern(i,o,l){for(let u=0;u<7;++u){if(!ye.isEmpty(l.get(i,o+u)))throw new Ze;l.setNumber(i,o+u,0)}}static embedPositionAdjustmentPattern(i,o,l){for(let u=0;u<5;++u){const f=ye.POSITION_ADJUSTMENT_PATTERN[u];for(let d=0;d<5;++d)l.setNumber(i+d,o+u,f[d])}}static embedPositionDetectionPattern(i,o,l){for(let u=0;u<7;++u){const f=ye.POSITION_DETECTION_PATTERN[u];for(let d=0;d<7;++d)l.setNumber(i+d,o+u,f[d])}}static embedPositionDetectionPatternsAndSeparators(i){const o=ye.POSITION_DETECTION_PATTERN[0].length;ye.embedPositionDetectionPattern(0,0,i),ye.embedPositionDetectionPattern(i.getWidth()-o,0,i),ye.embedPositionDetectionPattern(0,i.getWidth()-o,i);const l=8;ye.embedHorizontalSeparationPattern(0,l-1,i),ye.embedHorizontalSeparationPattern(i.getWidth()-l,l-1,i),ye.embedHorizontalSeparationPattern(0,i.getWidth()-l,i);const u=7;ye.embedVerticalSeparationPattern(u,0,i),ye.embedVerticalSeparationPattern(i.getHeight()-u-1,0,i),ye.embedVerticalSeparationPattern(u,i.getHeight()-u,i)}static maybeEmbedPositionAdjustmentPatterns(i,o){if(i.getVersionNumber()<2)return;const l=i.getVersionNumber()-1,u=ye.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE[l];for(let f=0,d=u.length;f!==d;f++){const m=u[f];if(m>=0)for(let y=0;y!==d;y++){const C=u[y];C>=0&&ye.isEmpty(o.get(C,m))&&ye.embedPositionAdjustmentPattern(C-2,m-2,o)}}}}ye.POSITION_DETECTION_PATTERN=Array.from([Int32Array.from([1,1,1,1,1,1,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,1,1,1,1,1,1])]),ye.POSITION_ADJUSTMENT_PATTERN=Array.from([Int32Array.from([1,1,1,1,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,0,1,0,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,1,1,1,1])]),ye.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE=Array.from([Int32Array.from([-1,-1,-1,-1,-1,-1,-1]),Int32Array.from([6,18,-1,-1,-1,-1,-1]),Int32Array.from([6,22,-1,-1,-1,-1,-1]),Int32Array.from([6,26,-1,-1,-1,-1,-1]),Int32Array.from([6,30,-1,-1,-1,-1,-1]),Int32Array.from([6,34,-1,-1,-1,-1,-1]),Int32Array.from([6,22,38,-1,-1,-1,-1]),Int32Array.from([6,24,42,-1,-1,-1,-1]),Int32Array.from([6,26,46,-1,-1,-1,-1]),Int32Array.from([6,28,50,-1,-1,-1,-1]),Int32Array.from([6,30,54,-1,-1,-1,-1]),Int32Array.from([6,32,58,-1,-1,-1,-1]),Int32Array.from([6,34,62,-1,-1,-1,-1]),Int32Array.from([6,26,46,66,-1,-1,-1]),Int32Array.from([6,26,48,70,-1,-1,-1]),Int32Array.from([6,26,50,74,-1,-1,-1]),Int32Array.from([6,30,54,78,-1,-1,-1]),Int32Array.from([6,30,56,82,-1,-1,-1]),Int32Array.from([6,30,58,86,-1,-1,-1]),Int32Array.from([6,34,62,90,-1,-1,-1]),Int32Array.from([6,28,50,72,94,-1,-1]),Int32Array.from([6,26,50,74,98,-1,-1]),Int32Array.from([6,30,54,78,102,-1,-1]),Int32Array.from([6,28,54,80,106,-1,-1]),Int32Array.from([6,32,58,84,110,-1,-1]),Int32Array.from([6,30,58,86,114,-1,-1]),Int32Array.from([6,34,62,90,118,-1,-1]),Int32Array.from([6,26,50,74,98,122,-1]),Int32Array.from([6,30,54,78,102,126,-1]),Int32Array.from([6,26,52,78,104,130,-1]),Int32Array.from([6,30,56,82,108,134,-1]),Int32Array.from([6,34,60,86,112,138,-1]),Int32Array.from([6,30,58,86,114,142,-1]),Int32Array.from([6,34,62,90,118,146,-1]),Int32Array.from([6,30,54,78,102,126,150]),Int32Array.from([6,24,50,76,102,128,154]),Int32Array.from([6,28,54,80,106,132,158]),Int32Array.from([6,32,58,84,110,136,162]),Int32Array.from([6,26,54,82,110,138,166]),Int32Array.from([6,30,58,86,114,142,170])]),ye.TYPE_INFO_COORDINATES=Array.from([Int32Array.from([8,0]),Int32Array.from([8,1]),Int32Array.from([8,2]),Int32Array.from([8,3]),Int32Array.from([8,4]),Int32Array.from([8,5]),Int32Array.from([8,7]),Int32Array.from([8,8]),Int32Array.from([7,8]),Int32Array.from([5,8]),Int32Array.from([4,8]),Int32Array.from([3,8]),Int32Array.from([2,8]),Int32Array.from([1,8]),Int32Array.from([0,8])]),ye.VERSION_INFO_POLY=7973,ye.TYPE_INFO_POLY=1335,ye.TYPE_INFO_MASK_PATTERN=21522;class xC{constructor(i,o){this.dataBytes=i,this.errorCorrectionBytes=o}getDataBytes(){return this.dataBytes}getErrorCorrectionBytes(){return this.errorCorrectionBytes}}class et{constructor(){}static calculateMaskPenalty(i){return gt.applyMaskPenaltyRule1(i)+gt.applyMaskPenaltyRule2(i)+gt.applyMaskPenaltyRule3(i)+gt.applyMaskPenaltyRule4(i)}static encode(i,o,l=null){let u=et.DEFAULT_BYTE_MODE_ENCODING;const f=l!==null&&l.get(Nt.CHARACTER_SET)!==void 0;f&&(u=l.get(Nt.CHARACTER_SET).toString());const d=this.chooseMode(i,u),m=new L;if(d===xe.BYTE&&(f||et.DEFAULT_BYTE_MODE_ENCODING!==u)){const ne=G.getCharacterSetECIByName(u);ne!==void 0&&this.appendECI(ne,m)}this.appendModeInfo(d,m);const y=new L;this.appendBytes(i,d,y,u);let C;if(l!==null&&l.get(Nt.QR_VERSION)!==void 0){const ne=Number.parseInt(l.get(Nt.QR_VERSION).toString(),10);C=pe.getVersionForNumber(ne);const $=this.calculateBitsNeeded(d,m,y,C);if(!this.willFit($,C,o))throw new Ze("Data too big for requested version")}else C=this.recommendVersion(o,d,m,y);const b=new L;b.appendBitArray(m);const I=d===xe.BYTE?y.getSizeInBytes():i.length;this.appendLengthInfo(I,C,d,b),b.appendBitArray(y);const D=C.getECBlocksForLevel(o),P=C.getTotalCodewords()-D.getTotalECCodewords();this.terminateBits(P,b);const B=this.interleaveWithECBytes(b,C.getTotalCodewords(),P,D.getNumBlocks()),j=new Gi;j.setECLevel(o),j.setMode(d),j.setVersion(C);const V=C.getDimensionForVersion(),Z=new Al(V,V),ee=this.chooseMaskPattern(B,o,C,Z);return j.setMaskPattern(ee),ye.buildMatrix(B,o,C,ee,Z),j.setMatrix(Z),j}static recommendVersion(i,o,l,u){const f=this.calculateBitsNeeded(o,l,u,pe.getVersionForNumber(1)),d=this.chooseVersion(f,i),m=this.calculateBitsNeeded(o,l,u,d);return this.chooseVersion(m,i)}static calculateBitsNeeded(i,o,l,u){return o.getSize()+i.getCharacterCountBits(u)+l.getSize()}static getAlphanumericCode(i){return i<et.ALPHANUMERIC_TABLE.length?et.ALPHANUMERIC_TABLE[i]:-1}static chooseMode(i,o=null){if(G.SJIS.getName()===o&&this.isOnlyDoubleByteKanji(i))return xe.KANJI;let l=!1,u=!1;for(let f=0,d=i.length;f<d;++f){const m=i.charAt(f);if(et.isDigit(m))l=!0;else if(this.getAlphanumericCode(m.charCodeAt(0))!==-1)u=!0;else return xe.BYTE}return u?xe.ALPHANUMERIC:l?xe.NUMERIC:xe.BYTE}static isOnlyDoubleByteKanji(i){let o;try{o=oe.encode(i,G.SJIS)}catch{return!1}const l=o.length;if(l%2!==0)return!1;for(let u=0;u<l;u+=2){const f=o[u]&255;if((f<129||f>159)&&(f<224||f>235))return!1}return!0}static chooseMaskPattern(i,o,l,u){let f=Number.MAX_SAFE_INTEGER,d=-1;for(let m=0;m<Gi.NUM_MASK_PATTERNS;m++){ye.buildMatrix(i,o,l,m,u);let y=this.calculateMaskPenalty(u);y<f&&(f=y,d=m)}return d}static chooseVersion(i,o){for(let l=1;l<=40;l++){const u=pe.getVersionForNumber(l);if(et.willFit(i,u,o))return u}throw new Ze("Data too big")}static willFit(i,o,l){const u=o.getTotalCodewords(),d=o.getECBlocksForLevel(l).getTotalECCodewords(),m=u-d,y=(i+7)/8;return m>=y}static terminateBits(i,o){const l=i*8;if(o.getSize()>l)throw new Ze("data bits cannot fit in the QR Code"+o.getSize()+" > "+l);for(let d=0;d<4&&o.getSize()<l;++d)o.appendBit(!1);const u=o.getSize()&7;if(u>0)for(let d=u;d<8;d++)o.appendBit(!1);const f=i-o.getSizeInBytes();for(let d=0;d<f;++d)o.appendBits(d&1?17:236,8);if(o.getSize()!==l)throw new Ze("Bits size does not equal capacity")}static getNumDataBytesAndNumECBytesForBlockID(i,o,l,u,f,d){if(u>=l)throw new Ze("Block ID too large");const m=i%l,y=l-m,C=Math.floor(i/l),b=C+1,I=Math.floor(o/l),D=I+1,P=C-I,B=b-D;if(P!==B)throw new Ze("EC bytes mismatch");if(l!==y+m)throw new Ze("RS blocks mismatch");if(i!==(I+P)*y+(D+B)*m)throw new Ze("Total bytes mismatch");u<y?(f[0]=I,d[0]=P):(f[0]=D,d[0]=B)}static interleaveWithECBytes(i,o,l,u){if(i.getSizeInBytes()!==l)throw new Ze("Number of bits and data bytes does not match");let f=0,d=0,m=0;const y=new Array;for(let b=0;b<u;++b){const I=new Int32Array(1),D=new Int32Array(1);et.getNumDataBytesAndNumECBytesForBlockID(o,l,u,b,I,D);const P=I[0],B=new Uint8Array(P);i.toBytes(8*f,B,0,P);const j=et.generateECBytes(B,D[0]);y.push(new xC(B,j)),d=Math.max(d,P),m=Math.max(m,j.length),f+=I[0]}if(l!==f)throw new Ze("Data bytes does not match offset");const C=new L;for(let b=0;b<d;++b)for(const I of y){const D=I.getDataBytes();b<D.length&&C.appendBits(D[b],8)}for(let b=0;b<m;++b)for(const I of y){const D=I.getErrorCorrectionBytes();b<D.length&&C.appendBits(D[b],8)}if(o!==C.getSizeInBytes())throw new Ze("Interleaving error: "+o+" and "+C.getSizeInBytes()+" differ.");return C}static generateECBytes(i,o){const l=i.length,u=new Int32Array(l+o);for(let d=0;d<l;d++)u[d]=i[d]&255;new ff(Fe.QR_CODE_FIELD_256).encode(u,o);const f=new Uint8Array(o);for(let d=0;d<o;d++)f[d]=u[l+d];return f}static appendModeInfo(i,o){o.appendBits(i.getBits(),4)}static appendLengthInfo(i,o,l,u){const f=l.getCharacterCountBits(o);if(i>=1<<f)throw new Ze(i+" is bigger than "+((1<<f)-1));u.appendBits(i,f)}static appendBytes(i,o,l,u){switch(o){case xe.NUMERIC:et.appendNumericBytes(i,l);break;case xe.ALPHANUMERIC:et.appendAlphanumericBytes(i,l);break;case xe.BYTE:et.append8BitBytes(i,l,u);break;case xe.KANJI:et.appendKanjiBytes(i,l);break;default:throw new Ze("Invalid mode: "+o)}}static getDigit(i){return i.charCodeAt(0)-48}static isDigit(i){const o=et.getDigit(i);return o>=0&&o<=9}static appendNumericBytes(i,o){const l=i.length;let u=0;for(;u<l;){const f=et.getDigit(i.charAt(u));if(u+2<l){const d=et.getDigit(i.charAt(u+1)),m=et.getDigit(i.charAt(u+2));o.appendBits(f*100+d*10+m,10),u+=3}else if(u+1<l){const d=et.getDigit(i.charAt(u+1));o.appendBits(f*10+d,7),u+=2}else o.appendBits(f,4),u++}}static appendAlphanumericBytes(i,o){const l=i.length;let u=0;for(;u<l;){const f=et.getAlphanumericCode(i.charCodeAt(u));if(f===-1)throw new Ze;if(u+1<l){const d=et.getAlphanumericCode(i.charCodeAt(u+1));if(d===-1)throw new Ze;o.appendBits(f*45+d,11),u+=2}else o.appendBits(f,6),u++}}static append8BitBytes(i,o,l){let u;try{u=oe.encode(i,l)}catch(f){throw new Ze(f)}for(let f=0,d=u.length;f!==d;f++){const m=u[f];o.appendBits(m,8)}}static appendKanjiBytes(i,o){let l;try{l=oe.encode(i,G.SJIS)}catch(f){throw new Ze(f)}const u=l.length;for(let f=0;f<u;f+=2){const d=l[f]&255,m=l[f+1]&255,y=d<<8&4294967295|m;let C=-1;if(y>=33088&&y<=40956?C=y-33088:y>=57408&&y<=60351&&(C=y-49472),C===-1)throw new Ze("Invalid byte sequence");const b=(C>>8)*192+(C&255);o.appendBits(b,13)}}static appendECI(i,o){o.appendBits(xe.ECI.getBits(),4),o.appendBits(i.getValue(),8)}}et.ALPHANUMERIC_TABLE=Int32Array.from([-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,36,-1,-1,-1,37,38,-1,-1,-1,-1,39,40,-1,41,42,43,0,1,2,3,4,5,6,7,8,9,44,-1,-1,-1,-1,-1,-1,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,-1,-1,-1,-1,-1]),et.DEFAULT_BYTE_MODE_ENCODING=G.UTF8.getName();class Qi{write(i,o,l,u=null){if(i.length===0)throw new w("Found empty contents");if(o<0||l<0)throw new w("Requested dimensions are too small: "+o+"x"+l);let f=$e.L,d=Qi.QUIET_ZONE_SIZE;u!==null&&(u.get(Nt.ERROR_CORRECTION)!==void 0&&(f=$e.fromString(u.get(Nt.ERROR_CORRECTION).toString())),u.get(Nt.MARGIN)!==void 0&&(d=Number.parseInt(u.get(Nt.MARGIN).toString(),10)));const m=et.encode(i,f,u);return this.renderResult(m,o,l,d)}writeToDom(i,o,l,u,f=null){typeof i=="string"&&(i=document.querySelector(i));const d=this.write(o,l,u,f);i&&i.appendChild(d)}renderResult(i,o,l,u){const f=i.getMatrix();if(f===null)throw new xr;const d=f.getWidth(),m=f.getHeight(),y=d+u*2,C=m+u*2,b=Math.max(o,y),I=Math.max(l,C),D=Math.min(Math.floor(b/y),Math.floor(I/C)),P=Math.floor((b-d*D)/2),B=Math.floor((I-m*D)/2),j=this.createSVGElement(b,I);for(let V=0,Z=B;V<m;V++,Z+=D)for(let ee=0,ne=P;ee<d;ee++,ne+=D)if(f.get(ee,V)===1){const $=this.createSvgRectElement(ne,Z,D,D);j.appendChild($)}return j}createSVGElement(i,o){const l=document.createElementNS(Qi.SVG_NS,"svg");return l.setAttributeNS(null,"height",i.toString()),l.setAttributeNS(null,"width",o.toString()),l}createSvgRectElement(i,o,l,u){const f=document.createElementNS(Qi.SVG_NS,"rect");return f.setAttributeNS(null,"x",i.toString()),f.setAttributeNS(null,"y",o.toString()),f.setAttributeNS(null,"height",l.toString()),f.setAttributeNS(null,"width",u.toString()),f.setAttributeNS(null,"fill","#000000"),f}}Qi.QUIET_ZONE_SIZE=4,Qi.SVG_NS="http://www.w3.org/2000/svg";class Ds{encode(i,o,l,u,f){if(i.length===0)throw new w("Found empty contents");if(o!==ce.QR_CODE)throw new w("Can only encode QR_CODE, but got "+o);if(l<0||u<0)throw new w(`Requested dimensions are too small: ${l}x${u}`);let d=$e.L,m=Ds.QUIET_ZONE_SIZE;f!==null&&(f.get(Nt.ERROR_CORRECTION)!==void 0&&(d=$e.fromString(f.get(Nt.ERROR_CORRECTION).toString())),f.get(Nt.MARGIN)!==void 0&&(m=Number.parseInt(f.get(Nt.MARGIN).toString(),10)));const y=et.encode(i,d,f);return Ds.renderResult(y,l,u,m)}static renderResult(i,o,l,u){const f=i.getMatrix();if(f===null)throw new xr;const d=f.getWidth(),m=f.getHeight(),y=d+u*2,C=m+u*2,b=Math.max(o,y),I=Math.max(l,C),D=Math.min(Math.floor(b/y),Math.floor(I/C)),P=Math.floor((b-d*D)/2),B=Math.floor((I-m*D)/2),j=new Ee(b,I);for(let V=0,Z=B;V<m;V++,Z+=D)for(let ee=0,ne=P;ee<d;ee++,ne+=D)f.get(ee,V)===1&&j.setRegion(ne,Z,D,D);return j}}Ds.QUIET_ZONE_SIZE=4;class yC{encode(i,o,l,u,f){let d;switch(o){case ce.QR_CODE:d=new Ds;break;default:throw new w("No encoder available for format "+o)}return d.encode(i,o,l,u,f)}}class Er extends ie{constructor(i,o,l,u,f,d,m,y){if(super(d,m),this.yuvData=i,this.dataWidth=o,this.dataHeight=l,this.left=u,this.top=f,u+d>o||f+m>l)throw new w("Crop rectangle does not fit within image data.");y&&this.reverseHorizontal(d,m)}getRow(i,o){if(i<0||i>=this.getHeight())throw new w("Requested row is outside the image: "+i);const l=this.getWidth();(o==null||o.length<l)&&(o=new Uint8ClampedArray(l));const u=(i+this.top)*this.dataWidth+this.left;return R.arraycopy(this.yuvData,u,o,0,l),o}getMatrix(){const i=this.getWidth(),o=this.getHeight();if(i===this.dataWidth&&o===this.dataHeight)return this.yuvData;const l=i*o,u=new Uint8ClampedArray(l);let f=this.top*this.dataWidth+this.left;if(i===this.dataWidth)return R.arraycopy(this.yuvData,f,u,0,l),u;for(let d=0;d<o;d++){const m=d*i;R.arraycopy(this.yuvData,f,u,m,i),f+=this.dataWidth}return u}isCropSupported(){return!0}crop(i,o,l,u){return new Er(this.yuvData,this.dataWidth,this.dataHeight,this.left+i,this.top+o,l,u,!1)}renderThumbnail(){const i=this.getWidth()/Er.THUMBNAIL_SCALE_FACTOR,o=this.getHeight()/Er.THUMBNAIL_SCALE_FACTOR,l=new Int32Array(i*o),u=this.yuvData;let f=this.top*this.dataWidth+this.left;for(let d=0;d<o;d++){const m=d*i;for(let y=0;y<i;y++){const C=u[f+y*Er.THUMBNAIL_SCALE_FACTOR]&255;l[m+y]=4278190080|C*65793}f+=this.dataWidth*Er.THUMBNAIL_SCALE_FACTOR}return l}getThumbnailWidth(){return this.getWidth()/Er.THUMBNAIL_SCALE_FACTOR}getThumbnailHeight(){return this.getHeight()/Er.THUMBNAIL_SCALE_FACTOR}reverseHorizontal(i,o){const l=this.yuvData;for(let u=0,f=this.top*this.dataWidth+this.left;u<o;u++,f+=this.dataWidth){const d=f+i/2;for(let m=f,y=f+i-1;m<d;m++,y--){const C=l[m];l[m]=l[y],l[y]=C}}}invert(){return new le(this)}}Er.THUMBNAIL_SCALE_FACTOR=2;class df extends ie{constructor(i,o,l,u,f,d,m){if(super(o,l),this.dataWidth=u,this.dataHeight=f,this.left=d,this.top=m,i.BYTES_PER_ELEMENT===4){const y=o*l,C=new Uint8ClampedArray(y);for(let b=0;b<y;b++){const I=i[b],D=I>>16&255,P=I>>7&510,B=I&255;C[b]=(D+P+B)/4&255}this.luminances=C}else this.luminances=i;if(u===void 0&&(this.dataWidth=o),f===void 0&&(this.dataHeight=l),d===void 0&&(this.left=0),m===void 0&&(this.top=0),this.left+o>this.dataWidth||this.top+l>this.dataHeight)throw new w("Crop rectangle does not fit within image data.")}getRow(i,o){if(i<0||i>=this.getHeight())throw new w("Requested row is outside the image: "+i);const l=this.getWidth();(o==null||o.length<l)&&(o=new Uint8ClampedArray(l));const u=(i+this.top)*this.dataWidth+this.left;return R.arraycopy(this.luminances,u,o,0,l),o}getMatrix(){const i=this.getWidth(),o=this.getHeight();if(i===this.dataWidth&&o===this.dataHeight)return this.luminances;const l=i*o,u=new Uint8ClampedArray(l);let f=this.top*this.dataWidth+this.left;if(i===this.dataWidth)return R.arraycopy(this.luminances,f,u,0,l),u;for(let d=0;d<o;d++){const m=d*i;R.arraycopy(this.luminances,f,u,m,i),f+=this.dataWidth}return u}isCropSupported(){return!0}crop(i,o,l,u){return new df(this.luminances,l,u,this.dataWidth,this.dataHeight,this.left+i,this.top+o)}invert(){return new le(this)}}class g1 extends G{static forName(i){return this.getCharacterSetECIByName(i)}}class hf{}hf.ISO_8859_1=G.ISO8859_1;class p1{isCompact(){return this.compact}setCompact(i){this.compact=i}getSize(){return this.size}setSize(i){this.size=i}getLayers(){return this.layers}setLayers(i){this.layers=i}getCodeWords(){return this.codeWords}setCodeWords(i){this.codeWords=i}getMatrix(){return this.matrix}setMatrix(i){this.matrix=i}}class m1{static singletonList(i){return[i]}static min(i,o){return i.sort(o)[0]}}class wC{constructor(i){this.previous=i}getPrevious(){return this.previous}}class ks extends wC{constructor(i,o,l){super(i),this.value=o,this.bitCount=l}appendTo(i,o){i.appendBits(this.value,this.bitCount)}add(i,o){return new ks(this,i,o)}addBinaryShift(i,o){return console.warn("addBinaryShift on SimpleToken, this simply returns a copy of this token"),new ks(this,i,o)}toString(){let i=this.value&(1<<this.bitCount)-1;return i|=1<<this.bitCount,"<"+N.toBinaryString(i|1<<this.bitCount).substring(1)+">"}}class gf extends ks{constructor(i,o,l){super(i,0,0),this.binaryShiftStart=o,this.binaryShiftByteCount=l}appendTo(i,o){for(let l=0;l<this.binaryShiftByteCount;l++)(l===0||l===31&&this.binaryShiftByteCount<=62)&&(i.appendBits(31,5),this.binaryShiftByteCount>62?i.appendBits(this.binaryShiftByteCount-31,16):l===0?i.appendBits(Math.min(this.binaryShiftByteCount,31),5):i.appendBits(this.binaryShiftByteCount-31,5)),i.appendBits(o[this.binaryShiftStart+l],8)}addBinaryShift(i,o){return new gf(this,i,o)}toString(){return"<"+this.binaryShiftStart+"::"+(this.binaryShiftStart+this.binaryShiftByteCount-1)+">"}}function CC(_,i,o){return new gf(_,i,o)}function Fo(_,i,o){return new ks(_,i,o)}const EC=["UPPER","LOWER","DIGIT","MIXED","PUNCT"],li=0,Sl=1,Wn=2,x1=3,br=4,bC=new ks(null,0,0),pf=[Int32Array.from([0,(5<<16)+28,(5<<16)+30,(5<<16)+29,656318]),Int32Array.from([(9<<16)+480+14,0,(5<<16)+30,(5<<16)+29,656318]),Int32Array.from([(4<<16)+14,(9<<16)+448+28,0,(9<<16)+448+29,932798]),Int32Array.from([(5<<16)+29,(5<<16)+28,656318,0,(5<<16)+30]),Int32Array.from([(5<<16)+31,656380,656382,656381,0])];function AC(_){for(let i of _)T.fill(i,-1);return _[li][br]=0,_[Sl][br]=0,_[Sl][li]=28,_[x1][br]=0,_[Wn][br]=0,_[Wn][li]=15,_}const y1=AC(T.createInt32Array(6,6));class Ar{constructor(i,o,l,u){this.token=i,this.mode=o,this.binaryShiftByteCount=l,this.bitCount=u}getMode(){return this.mode}getToken(){return this.token}getBinaryShiftByteCount(){return this.binaryShiftByteCount}getBitCount(){return this.bitCount}latchAndAppend(i,o){let l=this.bitCount,u=this.token;if(i!==this.mode){let d=pf[this.mode][i];u=Fo(u,d&65535,d>>16),l+=d>>16}let f=i===Wn?4:5;return u=Fo(u,o,f),new Ar(u,i,0,l+f)}shiftAndAppend(i,o){let l=this.token,u=this.mode===Wn?4:5;return l=Fo(l,y1[this.mode][i],u),l=Fo(l,o,5),new Ar(l,this.mode,0,this.bitCount+u+5)}addBinaryShiftChar(i){let o=this.token,l=this.mode,u=this.bitCount;if(this.mode===br||this.mode===Wn){let m=pf[l][li];o=Fo(o,m&65535,m>>16),u+=m>>16,l=li}let f=this.binaryShiftByteCount===0||this.binaryShiftByteCount===31?18:this.binaryShiftByteCount===62?9:8,d=new Ar(o,l,this.binaryShiftByteCount+1,u+f);return d.binaryShiftByteCount===2078&&(d=d.endBinaryShift(i+1)),d}endBinaryShift(i){if(this.binaryShiftByteCount===0)return this;let o=this.token;return o=CC(o,i-this.binaryShiftByteCount,this.binaryShiftByteCount),new Ar(o,this.mode,0,this.bitCount)}isBetterThanOrEqualTo(i){let o=this.bitCount+(pf[this.mode][i.mode]>>16);return this.binaryShiftByteCount<i.binaryShiftByteCount?o+=Ar.calculateBinaryShiftCost(i)-Ar.calculateBinaryShiftCost(this):this.binaryShiftByteCount>i.binaryShiftByteCount&&i.binaryShiftByteCount>0&&(o+=10),o<=i.bitCount}toBitArray(i){let o=[];for(let u=this.endBinaryShift(i.length).token;u!==null;u=u.getPrevious())o.unshift(u);let l=new L;for(const u of o)u.appendTo(l,i);return l}toString(){return te.format("%s bits=%d bytes=%d",EC[this.mode],this.bitCount,this.binaryShiftByteCount)}static calculateBinaryShiftCost(i){return i.binaryShiftByteCount>62?21:i.binaryShiftByteCount>31?20:i.binaryShiftByteCount>0?10:0}}Ar.INITIAL_STATE=new Ar(bC,li,0,0);function SC(_){const i=te.getCharCode(" "),o=te.getCharCode("."),l=te.getCharCode(",");_[li][i]=1;const u=te.getCharCode("Z"),f=te.getCharCode("A");for(let D=f;D<=u;D++)_[li][D]=D-f+2;_[Sl][i]=1;const d=te.getCharCode("z"),m=te.getCharCode("a");for(let D=m;D<=d;D++)_[Sl][D]=D-m+2;_[Wn][i]=1;const y=te.getCharCode("9"),C=te.getCharCode("0");for(let D=C;D<=y;D++)_[Wn][D]=D-C+2;_[Wn][l]=12,_[Wn][o]=13;const b=["\0"," ","","","","","","","\x07","\b","	",`
`,"\v","\f","\r","\x1B","","","","","@","\\","^","_","`","|","~",""];for(let D=0;D<b.length;D++)_[x1][te.getCharCode(b[D])]=D;const I=["\0","\r","\0","\0","\0","\0","!","'","#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}"];for(let D=0;D<I.length;D++)te.getCharCode(I[D])>0&&(_[br][te.getCharCode(I[D])]=D);return _}const mf=SC(T.createInt32Array(5,256));class jo{constructor(i){this.text=i}encode(){const i=te.getCharCode(" "),o=te.getCharCode(`
`);let l=m1.singletonList(Ar.INITIAL_STATE);for(let f=0;f<this.text.length;f++){let d,m=f+1<this.text.length?this.text[f+1]:0;switch(this.text[f]){case te.getCharCode("\r"):d=m===o?2:0;break;case te.getCharCode("."):d=m===i?3:0;break;case te.getCharCode(","):d=m===i?4:0;break;case te.getCharCode(":"):d=m===i?5:0;break;default:d=0}d>0?(l=jo.updateStateListForPair(l,f,d),f++):l=this.updateStateListForChar(l,f)}return m1.min(l,(f,d)=>f.getBitCount()-d.getBitCount()).toBitArray(this.text)}updateStateListForChar(i,o){const l=[];for(let u of i)this.updateStateForChar(u,o,l);return jo.simplifyStates(l)}updateStateForChar(i,o,l){let u=this.text[o]&255,f=mf[i.getMode()][u]>0,d=null;for(let m=0;m<=br;m++){let y=mf[m][u];if(y>0){if(d==null&&(d=i.endBinaryShift(o)),!f||m===i.getMode()||m===Wn){const C=d.latchAndAppend(m,y);l.push(C)}if(!f&&y1[i.getMode()][m]>=0){const C=d.shiftAndAppend(m,y);l.push(C)}}}if(i.getBinaryShiftByteCount()>0||mf[i.getMode()][u]===0){let m=i.addBinaryShiftChar(o);l.push(m)}}static updateStateListForPair(i,o,l){const u=[];for(let f of i)this.updateStateForPair(f,o,l,u);return this.simplifyStates(u)}static updateStateForPair(i,o,l,u){let f=i.endBinaryShift(o);if(u.push(f.latchAndAppend(br,l)),i.getMode()!==br&&u.push(f.shiftAndAppend(br,l)),l===3||l===4){let d=f.latchAndAppend(Wn,16-l).latchAndAppend(Wn,1);u.push(d)}if(i.getBinaryShiftByteCount()>0){let d=i.addBinaryShiftChar(o).addBinaryShiftChar(o+1);u.push(d)}}static simplifyStates(i){let o=[];for(const l of i){let u=!0;for(const f of o){if(f.isBetterThanOrEqualTo(l)){u=!1;break}l.isBetterThanOrEqualTo(f)&&(o=o.filter(d=>d!==f))}u&&o.push(l)}return o}}class ke{constructor(){}static encodeBytes(i){return ke.encode(i,ke.DEFAULT_EC_PERCENT,ke.DEFAULT_AZTEC_LAYERS)}static encode(i,o,l){let u=new jo(i).encode(),f=N.truncDivision(u.getSize()*o,100)+11,d=u.getSize()+f,m,y,C,b,I;if(l!==ke.DEFAULT_AZTEC_LAYERS){if(m=l<0,y=Math.abs(l),y>(m?ke.MAX_NB_BITS_COMPACT:ke.MAX_NB_BITS))throw new w(te.format("Illegal value %s for layers",l));C=ke.totalBitsInLayer(y,m),b=ke.WORD_SIZE[y];let $=C-C%b;if(I=ke.stuffBits(u,b),I.getSize()+f>$)throw new w("Data to large for user specified layer");if(m&&I.getSize()>b*64)throw new w("Data to large for user specified layer")}else{b=0,I=null;for(let $=0;;$++){if($>ke.MAX_NB_BITS)throw new w("Data too large for an Aztec code");if(m=$<=3,y=m?$+1:$,C=ke.totalBitsInLayer(y,m),d>C)continue;(I==null||b!==ke.WORD_SIZE[y])&&(b=ke.WORD_SIZE[y],I=ke.stuffBits(u,b));let Me=C-C%b;if(!(m&&I.getSize()>b*64)&&I.getSize()+f<=Me)break}}let D=ke.generateCheckWords(I,C,b),P=I.getSize()/b,B=ke.generateModeMessage(m,y,P),j=(m?11:14)+y*4,V=new Int32Array(j),Z;if(m){Z=j;for(let $=0;$<V.length;$++)V[$]=$}else{Z=j+1+2*N.truncDivision(N.truncDivision(j,2)-1,15);let $=N.truncDivision(j,2),Me=N.truncDivision(Z,2);for(let Ae=0;Ae<$;Ae++){let gn=Ae+N.truncDivision(Ae,15);V[$-Ae-1]=Me-gn-1,V[$+Ae]=Me+gn+1}}let ee=new Ee(Z);for(let $=0,Me=0;$<y;$++){let Ae=(y-$)*4+(m?9:12);for(let gn=0;gn<Ae;gn++){let ir=gn*2;for(let pn=0;pn<2;pn++)D.get(Me+ir+pn)&&ee.set(V[$*2+pn],V[$*2+gn]),D.get(Me+Ae*2+ir+pn)&&ee.set(V[$*2+gn],V[j-1-$*2-pn]),D.get(Me+Ae*4+ir+pn)&&ee.set(V[j-1-$*2-pn],V[j-1-$*2-gn]),D.get(Me+Ae*6+ir+pn)&&ee.set(V[j-1-$*2-gn],V[$*2+pn])}Me+=Ae*8}if(ke.drawModeMessage(ee,m,Z,B),m)ke.drawBullsEye(ee,N.truncDivision(Z,2),5);else{ke.drawBullsEye(ee,N.truncDivision(Z,2),7);for(let $=0,Me=0;$<N.truncDivision(j,2)-1;$+=15,Me+=16)for(let Ae=N.truncDivision(Z,2)&1;Ae<Z;Ae+=2)ee.set(N.truncDivision(Z,2)-Me,Ae),ee.set(N.truncDivision(Z,2)+Me,Ae),ee.set(Ae,N.truncDivision(Z,2)-Me),ee.set(Ae,N.truncDivision(Z,2)+Me)}let ne=new p1;return ne.setCompact(m),ne.setSize(Z),ne.setLayers(y),ne.setCodeWords(P),ne.setMatrix(ee),ne}static drawBullsEye(i,o,l){for(let u=0;u<l;u+=2)for(let f=o-u;f<=o+u;f++)i.set(f,o-u),i.set(f,o+u),i.set(o-u,f),i.set(o+u,f);i.set(o-l,o-l),i.set(o-l+1,o-l),i.set(o-l,o-l+1),i.set(o+l,o-l),i.set(o+l,o-l+1),i.set(o+l,o+l-1)}static generateModeMessage(i,o,l){let u=new L;return i?(u.appendBits(o-1,2),u.appendBits(l-1,6),u=ke.generateCheckWords(u,28,4)):(u.appendBits(o-1,5),u.appendBits(l-1,11),u=ke.generateCheckWords(u,40,4)),u}static drawModeMessage(i,o,l,u){let f=N.truncDivision(l,2);if(o)for(let d=0;d<7;d++){let m=f-3+d;u.get(d)&&i.set(m,f-5),u.get(d+7)&&i.set(f+5,m),u.get(20-d)&&i.set(m,f+5),u.get(27-d)&&i.set(f-5,m)}else for(let d=0;d<10;d++){let m=f-5+d+N.truncDivision(d,5);u.get(d)&&i.set(m,f-7),u.get(d+10)&&i.set(f+7,m),u.get(29-d)&&i.set(m,f+7),u.get(39-d)&&i.set(f-7,m)}}static generateCheckWords(i,o,l){let u=i.getSize()/l,f=new ff(ke.getGF(l)),d=N.truncDivision(o,l),m=ke.bitsToWords(i,l,d);f.encode(m,d-u);let y=o%l,C=new L;C.appendBits(0,y);for(const b of Array.from(m))C.appendBits(b,l);return C}static bitsToWords(i,o,l){let u=new Int32Array(l),f,d;for(f=0,d=i.getSize()/o;f<d;f++){let m=0;for(let y=0;y<o;y++)m|=i.get(f*o+y)?1<<o-y-1:0;u[f]=m}return u}static getGF(i){switch(i){case 4:return Fe.AZTEC_PARAM;case 6:return Fe.AZTEC_DATA_6;case 8:return Fe.AZTEC_DATA_8;case 10:return Fe.AZTEC_DATA_10;case 12:return Fe.AZTEC_DATA_12;default:throw new w("Unsupported word size "+i)}}static stuffBits(i,o){let l=new L,u=i.getSize(),f=(1<<o)-2;for(let d=0;d<u;d+=o){let m=0;for(let y=0;y<o;y++)(d+y>=u||i.get(d+y))&&(m|=1<<o-1-y);(m&f)===f?(l.appendBits(m&f,o),d--):m&f?l.appendBits(m,o):(l.appendBits(m|1,o),d--)}return l}static totalBitsInLayer(i,o){return((o?88:112)+16*i)*i}}ke.DEFAULT_EC_PERCENT=33,ke.DEFAULT_AZTEC_LAYERS=0,ke.MAX_NB_BITS=32,ke.MAX_NB_BITS_COMPACT=4,ke.WORD_SIZE=Int32Array.from([4,6,6,8,8,8,8,8,8,10,10,10,10,10,10,10,10,10,10,10,10,10,10,12,12,12,12,12,12,12,12,12,12]);class vl{encode(i,o,l,u){return this.encodeWithHints(i,o,l,u,null)}encodeWithHints(i,o,l,u,f){let d=hf.ISO_8859_1,m=ke.DEFAULT_EC_PERCENT,y=ke.DEFAULT_AZTEC_LAYERS;return f!=null&&(f.has(Nt.CHARACTER_SET)&&(d=g1.forName(f.get(Nt.CHARACTER_SET).toString())),f.has(Nt.ERROR_CORRECTION)&&(m=N.parseInt(f.get(Nt.ERROR_CORRECTION).toString())),f.has(Nt.AZTEC_LAYERS)&&(y=N.parseInt(f.get(Nt.AZTEC_LAYERS).toString()))),vl.encodeLayers(i,o,l,u,d,m,y)}static encodeLayers(i,o,l,u,f,d,m){if(o!==ce.AZTEC)throw new w("Can only encode AZTEC, but got "+o);let y=ke.encode(te.getBytes(i,f),d,m);return vl.renderResult(y,l,u)}static renderResult(i,o,l){let u=i.getMatrix();if(u==null)throw new xr;let f=u.getWidth(),d=u.getHeight(),m=Math.max(o,f),y=Math.max(l,d),C=Math.min(m/f,y/d),b=(m-f*C)/2,I=(y-d*C)/2,D=new Ee(m,y);for(let P=0,B=I;P<d;P++,B+=C)for(let j=0,V=b;j<f;j++,V+=C)u.get(j,P)&&D.setRegion(V,B,C,C);return D}}n.AbstractExpandedDecoder=ef,n.ArgumentException=x,n.ArithmeticException=hl,n.AztecCode=p1,n.AztecCodeReader=ml,n.AztecCodeWriter=vl,n.AztecDecoder=qe,n.AztecDetector=t1,n.AztecDetectorResult=J0,n.AztecEncoder=ke,n.AztecHighLevelEncoder=jo,n.AztecPoint=rn,n.BarcodeFormat=ce,n.Binarizer=v,n.BinaryBitmap=E,n.BitArray=L,n.BitMatrix=Ee,n.BitSource=sf,n.BrowserAztecCodeReader=Kw,n.BrowserBarcodeReader=tC,n.BrowserCodeReader=At,n.BrowserDatamatrixCodeReader=rC,n.BrowserMultiFormatReader=gC,n.BrowserPDF417Reader=pC,n.BrowserQRCodeReader=mC,n.BrowserQRCodeSvgWriter=Qi,n.CharacterSetECI=G,n.ChecksumException=S,n.Code128Reader=se,n.Code39Reader=It,n.DataMatrixDecodedBitStreamParser=ii,n.DataMatrixReader=si,n.DecodeHintType=Y,n.DecoderResult=To,n.DefaultGridSampler=e1,n.DetectorResult=pl,n.EAN13Reader=Wi,n.EncodeHintType=Nt,n.Exception=g,n.FormatException=F,n.GenericGF=Fe,n.GenericGFPoly=un,n.GlobalHistogramBinarizer=we,n.GridSampler=Ku,n.GridSamplerInstance=ni,n.HTMLCanvasElementLuminanceSource=ge,n.HybridBinarizer=ae,n.ITFReader=Qe,n.IllegalArgumentException=w,n.IllegalStateException=xr,n.InvertedLuminanceSource=le,n.LuminanceSource=ie,n.MathUtils=De,n.MultiFormatOneDReader=Rs,n.MultiFormatReader=h1,n.MultiFormatWriter=yC,n.NotFoundException=W,n.OneDReader=St,n.PDF417DecodedBitStreamParser=Q,n.PDF417DecoderErrorCorrection=a1,n.PDF417Reader=Ut,n.PDF417ResultMetadata=c1,n.PerspectiveTransform=nr,n.PlanarYUVLuminanceSource=Er,n.QRCodeByteMatrix=Al,n.QRCodeDataMask=Un,n.QRCodeDecodedBitStreamParser=at,n.QRCodeDecoderErrorCorrectionLevel=$e,n.QRCodeDecoderFormatInformation=Kt,n.QRCodeEncoder=et,n.QRCodeEncoderQRCode=Gi,n.QRCodeMaskUtil=gt,n.QRCodeMatrixUtil=ye,n.QRCodeMode=xe,n.QRCodeReader=oi,n.QRCodeVersion=pe,n.QRCodeWriter=Ds,n.RGBLuminanceSource=df,n.RSS14Reader=ht,n.RSSExpandedReader=q,n.ReaderException=bl,n.ReedSolomonDecoder=Mo,n.ReedSolomonEncoder=ff,n.ReedSolomonException=Is,n.Result=Oe,n.ResultMetadataType=Dt,n.ResultPoint=he,n.StringUtils=te,n.UnsupportedOperationException=re,n.VideoInputDevice=Be,n.WhiteRectangleDetector=kr,n.WriterException=Ze,n.ZXingArrays=T,n.ZXingCharset=g1,n.ZXingInteger=N,n.ZXingStandardCharsets=hf,n.ZXingStringBuilder=me,n.ZXingStringEncoding=oe,n.ZXingSystem=R,n.createAbstractExpandedDecoder=s1,Object.defineProperty(n,"__esModule",{value:!0})})})(_h,_h.exports);var nt=_h.exports;const dT=Mm(nt),hT=Nm({__proto__:null,default:dT},[nt]);var xm=function(){function e(t,n,r){if(this.formatMap=new Map([[fe.QR_CODE,nt.BarcodeFormat.QR_CODE],[fe.AZTEC,nt.BarcodeFormat.AZTEC],[fe.CODABAR,nt.BarcodeFormat.CODABAR],[fe.CODE_39,nt.BarcodeFormat.CODE_39],[fe.CODE_93,nt.BarcodeFormat.CODE_93],[fe.CODE_128,nt.BarcodeFormat.CODE_128],[fe.DATA_MATRIX,nt.BarcodeFormat.DATA_MATRIX],[fe.MAXICODE,nt.BarcodeFormat.MAXICODE],[fe.ITF,nt.BarcodeFormat.ITF],[fe.EAN_13,nt.BarcodeFormat.EAN_13],[fe.EAN_8,nt.BarcodeFormat.EAN_8],[fe.PDF_417,nt.BarcodeFormat.PDF_417],[fe.RSS_14,nt.BarcodeFormat.RSS_14],[fe.RSS_EXPANDED,nt.BarcodeFormat.RSS_EXPANDED],[fe.UPC_A,nt.BarcodeFormat.UPC_A],[fe.UPC_E,nt.BarcodeFormat.UPC_E],[fe.UPC_EAN_EXTENSION,nt.BarcodeFormat.UPC_EAN_EXTENSION]]),this.reverseFormatMap=this.createReverseFormatMap(),!hT)throw"Use html5qrcode.min.js without edit, ZXing not found.";this.verbose=n,this.logger=r;var s=this.createZXingFormats(t),a=new Map;a.set(nt.DecodeHintType.POSSIBLE_FORMATS,s),a.set(nt.DecodeHintType.TRY_HARDER,!1),this.hints=a}return e.prototype.decodeAsync=function(t){var n=this;return new Promise(function(r,s){try{r(n.decode(t))}catch(a){s(a)}})},e.prototype.decode=function(t){var n=new nt.MultiFormatReader(this.verbose,this.hints),r=new nt.HTMLCanvasElementLuminanceSource(t),s=new nt.BinaryBitmap(new nt.HybridBinarizer(r)),a=n.decode(s);return{text:a.text,format:Mw.create(this.toHtml5QrcodeSupportedFormats(a.format)),debugData:this.createDebugData()}},e.prototype.createReverseFormatMap=function(){var t=new Map;return this.formatMap.forEach(function(n,r,s){t.set(n,r)}),t},e.prototype.toHtml5QrcodeSupportedFormats=function(t){if(!this.reverseFormatMap.has(t))throw"reverseFormatMap doesn't have ".concat(t);return this.reverseFormatMap.get(t)},e.prototype.createZXingFormats=function(t){for(var n=[],r=0,s=t;r<s.length;r++){var a=s[r];this.formatMap.has(a)?n.push(this.formatMap.get(a)):this.logger.logError("".concat(a," is not supported by")+"ZXingHtml5QrcodeShim")}return n},e.prototype.createDebugData=function(){return{decoderName:"zxing-js"}},e}(),gT=function(e,t,n,r){function s(a){return a instanceof n?a:new n(function(c){c(a)})}return new(n||(n=Promise))(function(a,c){function h(x){try{g(r.next(x))}catch(w){c(w)}}function p(x){try{g(r.throw(x))}catch(w){c(w)}}function g(x){x.done?a(x.value):s(x.value).then(h,p)}g((r=r.apply(e,t||[])).next())})},pT=function(e,t){var n={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},r,s,a,c;return c={next:h(0),throw:h(1),return:h(2)},typeof Symbol=="function"&&(c[Symbol.iterator]=function(){return this}),c;function h(g){return function(x){return p([g,x])}}function p(g){if(r)throw new TypeError("Generator is already executing.");for(;c&&(c=0,g[0]&&(n=0)),n;)try{if(r=1,s&&(a=g[0]&2?s.return:g[0]?s.throw||((a=s.return)&&a.call(s),0):s.next)&&!(a=a.call(s,g[1])).done)return a;switch(s=0,a&&(g=[g[0]&2,a.value]),g[0]){case 0:case 1:a=g;break;case 4:return n.label++,{value:g[1],done:!1};case 5:n.label++,s=g[1],g=[0];continue;case 7:g=n.ops.pop(),n.trys.pop();continue;default:if(a=n.trys,!(a=a.length>0&&a[a.length-1])&&(g[0]===6||g[0]===2)){n=0;continue}if(g[0]===3&&(!a||g[1]>a[0]&&g[1]<a[3])){n.label=g[1];break}if(g[0]===6&&n.label<a[1]){n.label=a[1],a=g;break}if(a&&n.label<a[2]){n.label=a[2],n.ops.push(g);break}a[2]&&n.ops.pop(),n.trys.pop();continue}g=t.call(e,n)}catch(x){g=[6,x],s=0}finally{r=a=0}if(g[0]&5)throw g[1];return{value:g[0]?g[1]:void 0,done:!0}}},ym=function(){function e(t,n,r){if(this.formatMap=new Map([[fe.QR_CODE,"qr_code"],[fe.AZTEC,"aztec"],[fe.CODABAR,"codabar"],[fe.CODE_39,"code_39"],[fe.CODE_93,"code_93"],[fe.CODE_128,"code_128"],[fe.DATA_MATRIX,"data_matrix"],[fe.ITF,"itf"],[fe.EAN_13,"ean_13"],[fe.EAN_8,"ean_8"],[fe.PDF_417,"pdf417"],[fe.UPC_A,"upc_a"],[fe.UPC_E,"upc_e"]]),this.reverseFormatMap=this.createReverseFormatMap(),!e.isSupported())throw"Use html5qrcode.min.js without edit, Use BarcodeDetectorDelegate only if it isSupported();";this.verbose=n,this.logger=r;var s=this.createBarcodeDetectorFormats(t);if(this.detector=new BarcodeDetector(s),!this.detector)throw"BarcodeDetector detector not supported"}return e.isSupported=function(){if(!("BarcodeDetector"in window))return!1;var t=new BarcodeDetector({formats:["qr_code"]});return typeof t<"u"},e.prototype.decodeAsync=function(t){return gT(this,void 0,void 0,function(){var n,r;return pT(this,function(s){switch(s.label){case 0:return[4,this.detector.detect(t)];case 1:if(n=s.sent(),!n||n.length===0)throw"No barcode or QR code detected.";return r=this.selectLargestBarcode(n),[2,{text:r.rawValue,format:Mw.create(this.toHtml5QrcodeSupportedFormats(r.format)),debugData:this.createDebugData()}]}})})},e.prototype.selectLargestBarcode=function(t){for(var n=null,r=0,s=0,a=t;s<a.length;s++){var c=a[s],h=c.boundingBox.width*c.boundingBox.height;h>r&&(r=h,n=c)}if(!n)throw"No largest barcode found";return n},e.prototype.createBarcodeDetectorFormats=function(t){for(var n=[],r=0,s=t;r<s.length;r++){var a=s[r];this.formatMap.has(a)?n.push(this.formatMap.get(a)):this.logger.warn("".concat(a," is not supported by")+"BarcodeDetectorDelegate")}return{formats:n}},e.prototype.toHtml5QrcodeSupportedFormats=function(t){if(!this.reverseFormatMap.has(t))throw"reverseFormatMap doesn't have ".concat(t);return this.reverseFormatMap.get(t)},e.prototype.createReverseFormatMap=function(){var t=new Map;return this.formatMap.forEach(function(n,r,s){t.set(n,r)}),t},e.prototype.createDebugData=function(){return{decoderName:"BarcodeDetector"}},e}(),wm=function(e,t,n,r){function s(a){return a instanceof n?a:new n(function(c){c(a)})}return new(n||(n=Promise))(function(a,c){function h(x){try{g(r.next(x))}catch(w){c(w)}}function p(x){try{g(r.throw(x))}catch(w){c(w)}}function g(x){x.done?a(x.value):s(x.value).then(h,p)}g((r=r.apply(e,t||[])).next())})},Cm=function(e,t){var n={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},r,s,a,c;return c={next:h(0),throw:h(1),return:h(2)},typeof Symbol=="function"&&(c[Symbol.iterator]=function(){return this}),c;function h(g){return function(x){return p([g,x])}}function p(g){if(r)throw new TypeError("Generator is already executing.");for(;c&&(c=0,g[0]&&(n=0)),n;)try{if(r=1,s&&(a=g[0]&2?s.return:g[0]?s.throw||((a=s.return)&&a.call(s),0):s.next)&&!(a=a.call(s,g[1])).done)return a;switch(s=0,a&&(g=[g[0]&2,a.value]),g[0]){case 0:case 1:a=g;break;case 4:return n.label++,{value:g[1],done:!1};case 5:n.label++,s=g[1],g=[0];continue;case 7:g=n.ops.pop(),n.trys.pop();continue;default:if(a=n.trys,!(a=a.length>0&&a[a.length-1])&&(g[0]===6||g[0]===2)){n=0;continue}if(g[0]===3&&(!a||g[1]>a[0]&&g[1]<a[3])){n.label=g[1];break}if(g[0]===6&&n.label<a[1]){n.label=a[1],a=g;break}if(a&&n.label<a[2]){n.label=a[2],n.ops.push(g);break}a[2]&&n.ops.pop(),n.trys.pop();continue}g=t.call(e,n)}catch(x){g=[6,x],s=0}finally{r=a=0}if(g[0]&5)throw g[1];return{value:g[0]?g[1]:void 0,done:!0}}},mT=function(){function e(t,n,r,s){this.EXECUTIONS_TO_REPORT_PERFORMANCE=100,this.executions=0,this.executionResults=[],this.wasPrimaryDecoderUsedInLastDecode=!1,this.verbose=r,n&&ym.isSupported()?(this.primaryDecoder=new ym(t,r,s),this.secondaryDecoder=new xm(t,r,s)):this.primaryDecoder=new xm(t,r,s)}return e.prototype.decodeAsync=function(t){return wm(this,void 0,void 0,function(){var n;return Cm(this,function(r){switch(r.label){case 0:n=performance.now(),r.label=1;case 1:return r.trys.push([1,,3,4]),[4,this.getDecoder().decodeAsync(t)];case 2:return[2,r.sent()];case 3:return this.possiblyLogPerformance(n),[7];case 4:return[2]}})})},e.prototype.decodeRobustlyAsync=function(t){return wm(this,void 0,void 0,function(){var n,r;return Cm(this,function(s){switch(s.label){case 0:n=performance.now(),s.label=1;case 1:return s.trys.push([1,3,4,5]),[4,this.primaryDecoder.decodeAsync(t)];case 2:return[2,s.sent()];case 3:if(r=s.sent(),this.secondaryDecoder)return[2,this.secondaryDecoder.decodeAsync(t)];throw r;case 4:return this.possiblyLogPerformance(n),[7];case 5:return[2]}})})},e.prototype.getDecoder=function(){return this.secondaryDecoder?this.wasPrimaryDecoderUsedInLastDecode===!1?(this.wasPrimaryDecoderUsedInLastDecode=!0,this.primaryDecoder):(this.wasPrimaryDecoderUsedInLastDecode=!1,this.secondaryDecoder):this.primaryDecoder},e.prototype.possiblyLogPerformance=function(t){if(this.verbose){var n=performance.now()-t;this.executionResults.push(n),this.executions++,this.possiblyFlushPerformanceReport()}},e.prototype.possiblyFlushPerformanceReport=function(){if(!(this.executions<this.EXECUTIONS_TO_REPORT_PERFORMANCE)){for(var t=0,n=0,r=this.executionResults;n<r.length;n++){var s=r[n];t+=s}var a=t/this.executionResults.length;console.log("".concat(a," ms for ").concat(this.executionResults.length," last runs.")),this.executions=0,this.executionResults=[]}},e}(),q0=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,s){r.__proto__=s}||function(r,s){for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(r[a]=s[a])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),gu=function(e,t,n,r){function s(a){return a instanceof n?a:new n(function(c){c(a)})}return new(n||(n=Promise))(function(a,c){function h(x){try{g(r.next(x))}catch(w){c(w)}}function p(x){try{g(r.throw(x))}catch(w){c(w)}}function g(x){x.done?a(x.value):s(x.value).then(h,p)}g((r=r.apply(e,t||[])).next())})},pu=function(e,t){var n={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},r,s,a,c;return c={next:h(0),throw:h(1),return:h(2)},typeof Symbol=="function"&&(c[Symbol.iterator]=function(){return this}),c;function h(g){return function(x){return p([g,x])}}function p(g){if(r)throw new TypeError("Generator is already executing.");for(;c&&(c=0,g[0]&&(n=0)),n;)try{if(r=1,s&&(a=g[0]&2?s.return:g[0]?s.throw||((a=s.return)&&a.call(s),0):s.next)&&!(a=a.call(s,g[1])).done)return a;switch(s=0,a&&(g=[g[0]&2,a.value]),g[0]){case 0:case 1:a=g;break;case 4:return n.label++,{value:g[1],done:!1};case 5:n.label++,s=g[1],g=[0];continue;case 7:g=n.ops.pop(),n.trys.pop();continue;default:if(a=n.trys,!(a=a.length>0&&a[a.length-1])&&(g[0]===6||g[0]===2)){n=0;continue}if(g[0]===3&&(!a||g[1]>a[0]&&g[1]<a[3])){n.label=g[1];break}if(g[0]===6&&n.label<a[1]){n.label=a[1],a=g;break}if(a&&n.label<a[2]){n.label=a[2],n.ops.push(g);break}a[2]&&n.ops.pop(),n.trys.pop();continue}g=t.call(e,n)}catch(x){g=[6,x],s=0}finally{r=a=0}if(g[0]&5)throw g[1];return{value:g[0]?g[1]:void 0,done:!0}}},kw=function(){function e(t,n){this.name=t,this.track=n}return e.prototype.isSupported=function(){return this.track.getCapabilities?this.name in this.track.getCapabilities():!1},e.prototype.apply=function(t){var n={};n[this.name]=t;var r={advanced:[n]};return this.track.applyConstraints(r)},e.prototype.value=function(){var t=this.track.getSettings();if(this.name in t){var n=t[this.name];return n}return null},e}(),xT=function(e){q0(t,e);function t(n,r){return e.call(this,n,r)||this}return t.prototype.min=function(){return this.getCapabilities().min},t.prototype.max=function(){return this.getCapabilities().max},t.prototype.step=function(){return this.getCapabilities().step},t.prototype.apply=function(n){var r={};r[this.name]=n;var s={advanced:[r]};return this.track.applyConstraints(s)},t.prototype.getCapabilities=function(){this.failIfNotSupported();var n=this.track.getCapabilities(),r=n[this.name];return{min:r.min,max:r.max,step:r.step}},t.prototype.failIfNotSupported=function(){if(!this.isSupported())throw new Error("".concat(this.name," capability not supported"))},t}(kw),yT=function(e){q0(t,e);function t(n){return e.call(this,"zoom",n)||this}return t}(xT),wT=function(e){q0(t,e);function t(n){return e.call(this,"torch",n)||this}return t}(kw),CT=function(){function e(t){this.track=t}return e.prototype.zoomFeature=function(){return new yT(this.track)},e.prototype.torchFeature=function(){return new wT(this.track)},e}(),ET=function(){function e(t,n,r){this.isClosed=!1,this.parentElement=t,this.mediaStream=n,this.callbacks=r,this.surface=this.createVideoElement(this.parentElement.clientWidth),t.append(this.surface)}return e.prototype.createVideoElement=function(t){var n=document.createElement("video");return n.style.width="".concat(t,"px"),n.style.display="block",n.muted=!0,n.setAttribute("muted","true"),n.playsInline=!0,n},e.prototype.setupSurface=function(){var t=this;this.surface.onabort=function(){throw"RenderedCameraImpl video surface onabort() called"},this.surface.onerror=function(){throw"RenderedCameraImpl video surface onerror() called"};var n=function(){var r=t.surface.clientWidth,s=t.surface.clientHeight;t.callbacks.onRenderSurfaceReady(r,s),t.surface.removeEventListener("playing",n)};this.surface.addEventListener("playing",n),this.surface.srcObject=this.mediaStream,this.surface.play()},e.create=function(t,n,r,s){return gu(this,void 0,void 0,function(){var a,c;return pu(this,function(h){switch(h.label){case 0:return a=new e(t,n,s),r.aspectRatio?(c={aspectRatio:r.aspectRatio},[4,a.getFirstTrackOrFail().applyConstraints(c)]):[3,2];case 1:h.sent(),h.label=2;case 2:return a.setupSurface(),[2,a]}})})},e.prototype.failIfClosed=function(){if(this.isClosed)throw"The RenderedCamera has already been closed."},e.prototype.getFirstTrackOrFail=function(){if(this.failIfClosed(),this.mediaStream.getVideoTracks().length===0)throw"No video tracks found";return this.mediaStream.getVideoTracks()[0]},e.prototype.pause=function(){this.failIfClosed(),this.surface.pause()},e.prototype.resume=function(t){this.failIfClosed();var n=this,r=function(){setTimeout(t,200),n.surface.removeEventListener("playing",r)};this.surface.addEventListener("playing",r),this.surface.play()},e.prototype.isPaused=function(){return this.failIfClosed(),this.surface.paused},e.prototype.getSurface=function(){return this.failIfClosed(),this.surface},e.prototype.getRunningTrackCapabilities=function(){return this.getFirstTrackOrFail().getCapabilities()},e.prototype.getRunningTrackSettings=function(){return this.getFirstTrackOrFail().getSettings()},e.prototype.applyVideoConstraints=function(t){return gu(this,void 0,void 0,function(){return pu(this,function(n){if("aspectRatio"in t)throw"Changing 'aspectRatio' in run-time is not yet supported.";return[2,this.getFirstTrackOrFail().applyConstraints(t)]})})},e.prototype.close=function(){if(this.isClosed)return Promise.resolve();var t=this;return new Promise(function(n,r){var s=t.mediaStream.getVideoTracks(),a=s.length,c=0;t.mediaStream.getVideoTracks().forEach(function(h){t.mediaStream.removeTrack(h),h.stop(),++c,c>=a&&(t.isClosed=!0,t.parentElement.removeChild(t.surface),n())})})},e.prototype.getCapabilities=function(){return new CT(this.getFirstTrackOrFail())},e}(),bT=function(){function e(t){this.mediaStream=t}return e.prototype.render=function(t,n,r){return gu(this,void 0,void 0,function(){return pu(this,function(s){return[2,ET.create(t,this.mediaStream,n,r)]})})},e.create=function(t){return gu(this,void 0,void 0,function(){var n,r;return pu(this,function(s){switch(s.label){case 0:if(!navigator.mediaDevices)throw"navigator.mediaDevices not supported";return n={audio:!1,video:t},[4,navigator.mediaDevices.getUserMedia(n)];case 1:return r=s.sent(),[2,new e(r)]}})})},e}(),Em=function(e,t,n,r){function s(a){return a instanceof n?a:new n(function(c){c(a)})}return new(n||(n=Promise))(function(a,c){function h(x){try{g(r.next(x))}catch(w){c(w)}}function p(x){try{g(r.throw(x))}catch(w){c(w)}}function g(x){x.done?a(x.value):s(x.value).then(h,p)}g((r=r.apply(e,t||[])).next())})},bm=function(e,t){var n={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},r,s,a,c;return c={next:h(0),throw:h(1),return:h(2)},typeof Symbol=="function"&&(c[Symbol.iterator]=function(){return this}),c;function h(g){return function(x){return p([g,x])}}function p(g){if(r)throw new TypeError("Generator is already executing.");for(;c&&(c=0,g[0]&&(n=0)),n;)try{if(r=1,s&&(a=g[0]&2?s.return:g[0]?s.throw||((a=s.return)&&a.call(s),0):s.next)&&!(a=a.call(s,g[1])).done)return a;switch(s=0,a&&(g=[g[0]&2,a.value]),g[0]){case 0:case 1:a=g;break;case 4:return n.label++,{value:g[1],done:!1};case 5:n.label++,s=g[1],g=[0];continue;case 7:g=n.ops.pop(),n.trys.pop();continue;default:if(a=n.trys,!(a=a.length>0&&a[a.length-1])&&(g[0]===6||g[0]===2)){n=0;continue}if(g[0]===3&&(!a||g[1]>a[0]&&g[1]<a[3])){n.label=g[1];break}if(g[0]===6&&n.label<a[1]){n.label=a[1],a=g;break}if(a&&n.label<a[2]){n.label=a[2],n.ops.push(g);break}a[2]&&n.ops.pop(),n.trys.pop();continue}g=t.call(e,n)}catch(x){g=[6,x],s=0}finally{r=a=0}if(g[0]&5)throw g[1];return{value:g[0]?g[1]:void 0,done:!0}}},AT=function(){function e(){}return e.failIfNotSupported=function(){return Em(this,void 0,void 0,function(){return bm(this,function(t){if(!navigator.mediaDevices)throw"navigator.mediaDevices not supported";return[2,new e]})})},e.prototype.create=function(t){return Em(this,void 0,void 0,function(){return bm(this,function(n){return[2,bT.create(t)]})})},e}(),ST=function(e,t,n,r){function s(a){return a instanceof n?a:new n(function(c){c(a)})}return new(n||(n=Promise))(function(a,c){function h(x){try{g(r.next(x))}catch(w){c(w)}}function p(x){try{g(r.throw(x))}catch(w){c(w)}}function g(x){x.done?a(x.value):s(x.value).then(h,p)}g((r=r.apply(e,t||[])).next())})},vT=function(e,t){var n={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},r,s,a,c;return c={next:h(0),throw:h(1),return:h(2)},typeof Symbol=="function"&&(c[Symbol.iterator]=function(){return this}),c;function h(g){return function(x){return p([g,x])}}function p(g){if(r)throw new TypeError("Generator is already executing.");for(;c&&(c=0,g[0]&&(n=0)),n;)try{if(r=1,s&&(a=g[0]&2?s.return:g[0]?s.throw||((a=s.return)&&a.call(s),0):s.next)&&!(a=a.call(s,g[1])).done)return a;switch(s=0,a&&(g=[g[0]&2,a.value]),g[0]){case 0:case 1:a=g;break;case 4:return n.label++,{value:g[1],done:!1};case 5:n.label++,s=g[1],g=[0];continue;case 7:g=n.ops.pop(),n.trys.pop();continue;default:if(a=n.trys,!(a=a.length>0&&a[a.length-1])&&(g[0]===6||g[0]===2)){n=0;continue}if(g[0]===3&&(!a||g[1]>a[0]&&g[1]<a[3])){n.label=g[1];break}if(g[0]===6&&n.label<a[1]){n.label=a[1],a=g;break}if(a&&n.label<a[2]){n.label=a[2],n.ops.push(g);break}a[2]&&n.ops.pop(),n.trys.pop();continue}g=t.call(e,n)}catch(x){g=[6,x],s=0}finally{r=a=0}if(g[0]&5)throw g[1];return{value:g[0]?g[1]:void 0,done:!0}}},_T=function(){function e(){}return e.retrieve=function(){if(navigator.mediaDevices)return e.getCamerasFromMediaDevices();var t=MediaStreamTrack;return MediaStreamTrack&&t.getSources?e.getCamerasFromMediaStreamTrack():e.rejectWithError()},e.rejectWithError=function(){var t=$s.unableToQuerySupportedDevices();return e.isHttpsOrLocalhost()||(t=$s.insecureContextCameraQueryError()),Promise.reject(t)},e.isHttpsOrLocalhost=function(){if(location.protocol==="https:")return!0;var t=location.host.split(":")[0];return t==="127.0.0.1"||t==="localhost"},e.getCamerasFromMediaDevices=function(){return ST(this,void 0,void 0,function(){var t,n,r,s,a,c,h;return vT(this,function(p){switch(p.label){case 0:return t=function(g){for(var x=g.getVideoTracks(),w=0,E=x;w<E.length;w++){var S=E[w];S.enabled=!1,S.stop(),g.removeTrack(S)}},[4,navigator.mediaDevices.getUserMedia({audio:!1,video:!0})];case 1:return n=p.sent(),[4,navigator.mediaDevices.enumerateDevices()];case 2:for(r=p.sent(),s=[],a=0,c=r;a<c.length;a++)h=c[a],h.kind==="videoinput"&&s.push({id:h.deviceId,label:h.label});return t(n),[2,s]}})})},e.getCamerasFromMediaStreamTrack=function(){return new Promise(function(t,n){var r=function(a){for(var c=[],h=0,p=a;h<p.length;h++){var g=p[h];g.kind==="video"&&c.push({id:g.id,label:g.label})}t(c)},s=MediaStreamTrack;s.getSources(r)})},e}(),mt;(function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.NOT_STARTED=1]="NOT_STARTED",e[e.SCANNING=2]="SCANNING",e[e.PAUSED=3]="PAUSED"})(mt||(mt={}));var IT=function(){function e(){this.state=mt.NOT_STARTED,this.onGoingTransactionNewState=mt.UNKNOWN}return e.prototype.directTransition=function(t){this.failIfTransitionOngoing(),this.validateTransition(t),this.state=t},e.prototype.startTransition=function(t){return this.failIfTransitionOngoing(),this.validateTransition(t),this.onGoingTransactionNewState=t,this},e.prototype.execute=function(){if(this.onGoingTransactionNewState===mt.UNKNOWN)throw"Transaction is already cancelled, cannot execute().";var t=this.onGoingTransactionNewState;this.onGoingTransactionNewState=mt.UNKNOWN,this.directTransition(t)},e.prototype.cancel=function(){if(this.onGoingTransactionNewState===mt.UNKNOWN)throw"Transaction is already cancelled, cannot cancel().";this.onGoingTransactionNewState=mt.UNKNOWN},e.prototype.getState=function(){return this.state},e.prototype.failIfTransitionOngoing=function(){if(this.onGoingTransactionNewState!==mt.UNKNOWN)throw"Cannot transition to a new state, already under transition"},e.prototype.validateTransition=function(t){switch(this.state){case mt.UNKNOWN:throw"Transition from unknown is not allowed";case mt.NOT_STARTED:this.failIfNewStateIs(t,[mt.PAUSED]);break;case mt.SCANNING:break;case mt.PAUSED:break}},e.prototype.failIfNewStateIs=function(t,n){for(var r=0,s=n;r<s.length;r++){var a=s[r];if(t===a)throw"Cannot transition from ".concat(this.state," to ").concat(t)}},e}(),TT=function(){function e(t){this.stateManager=t}return e.prototype.startTransition=function(t){return this.stateManager.startTransition(t)},e.prototype.directTransition=function(t){this.stateManager.directTransition(t)},e.prototype.getState=function(){return this.stateManager.getState()},e.prototype.canScanFile=function(){return this.stateManager.getState()===mt.NOT_STARTED},e.prototype.isScanning=function(){return this.stateManager.getState()!==mt.NOT_STARTED},e.prototype.isStrictlyScanning=function(){return this.stateManager.getState()===mt.SCANNING},e.prototype.isPaused=function(){return this.stateManager.getState()===mt.PAUSED},e}(),NT=function(){function e(){}return e.create=function(){return new TT(new IT)},e}(),MT=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,s){r.__proto__=s}||function(r,s){for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(r[a]=s[a])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),Tn=function(e){MT(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.DEFAULT_WIDTH=300,t.DEFAULT_WIDTH_OFFSET=2,t.FILE_SCAN_MIN_HEIGHT=300,t.FILE_SCAN_HIDDEN_CANVAS_PADDING=100,t.MIN_QR_BOX_SIZE=50,t.SHADED_LEFT=1,t.SHADED_RIGHT=2,t.SHADED_TOP=3,t.SHADED_BOTTOM=4,t.SHADED_REGION_ELEMENT_ID="qr-shaded-region",t.VERBOSE=!1,t.BORDER_SHADER_DEFAULT_COLOR="#ffffff",t.BORDER_SHADER_MATCH_COLOR="rgb(90, 193, 56)",t}(lr),RT=function(){function e(t,n){this.logger=n,this.fps=Tn.SCAN_DEFAULT_FPS,t?(t.fps&&(this.fps=t.fps),this.disableFlip=t.disableFlip===!0,this.qrbox=t.qrbox,this.aspectRatio=t.aspectRatio,this.videoConstraints=t.videoConstraints):this.disableFlip=Tn.DEFAULT_DISABLE_FLIP}return e.prototype.isMediaStreamConstraintsValid=function(){return this.videoConstraints?Dw.isMediaStreamConstraintsValid(this.videoConstraints,this.logger):(this.logger.logError("Empty videoConstraints",!0),!1)},e.prototype.isShadedBoxEnabled=function(){return!Mr(this.qrbox)},e.create=function(t,n){return new e(t,n)},e}(),Am=function(){function e(t,n){if(this.element=null,this.canvasElement=null,this.scannerPausedUiElement=null,this.hasBorderShaders=null,this.borderShaders=null,this.qrMatch=null,this.renderedCamera=null,this.qrRegion=null,this.context=null,this.lastScanImageFile=null,this.isScanning=!1,!document.getElementById(t))throw"HTML Element with id=".concat(t," not found");this.elementId=t,this.verbose=!1;var r;typeof n=="boolean"?this.verbose=n===!0:n&&(r=n,this.verbose=r.verbose===!0,r.experimentalFeatures),this.logger=new Ow(this.verbose),this.qrcode=new mT(this.getSupportedFormats(n),this.getUseBarCodeDetectorIfSupported(r),this.verbose,this.logger),this.foreverScanTimeout,this.shouldScan=!0,this.stateManagerProxy=NT.create()}return e.prototype.start=function(t,n,r,s){var a=this;if(!t)throw"cameraIdOrConfig is required";if(!r||typeof r!="function")throw"qrCodeSuccessCallback is required and should be a function.";var c;s?c=s:c=this.verbose?this.logger.log:function(){};var h=RT.create(n,this.logger);this.clearElement();var p=!1;h.videoConstraints&&(h.isMediaStreamConstraintsValid()?p=!0:this.logger.logError("'videoConstraints' is not valid 'MediaStreamConstraints, it will be ignored.'",!0));var g=p,x=document.getElementById(this.elementId);x.clientWidth?x.clientWidth:Tn.DEFAULT_WIDTH,x.style.position="relative",this.shouldScan=!0,this.element=x;var w=this,E=this.stateManagerProxy.startTransition(mt.SCANNING);return new Promise(function(S,v){var R=g?h.videoConstraints:w.createVideoConstraints(t);if(!R){E.cancel(),v("videoConstraints should be defined");return}var O={};(!g||h.aspectRatio)&&(O.aspectRatio=h.aspectRatio);var M={onRenderSurfaceReady:function(T,N){w.setupUi(T,N,h),w.isScanning=!0,w.foreverScan(h,r,c)}};AT.failIfNotSupported().then(function(T){T.create(R).then(function(N){return N.render(a.element,O,M).then(function(L){w.renderedCamera=L,E.execute(),S(null)}).catch(function(L){E.cancel(),v(L)})}).catch(function(N){E.cancel(),v($s.errorGettingUserMedia(N))})}).catch(function(T){E.cancel(),v($s.cameraStreamingNotSupported())})})},e.prototype.pause=function(t){if(!this.stateManagerProxy.isStrictlyScanning())throw"Cannot pause, scanner is not scanning.";this.stateManagerProxy.directTransition(mt.PAUSED),this.showPausedState(),(Mr(t)||t!==!0)&&(t=!1),t&&this.renderedCamera&&this.renderedCamera.pause()},e.prototype.resume=function(){if(!this.stateManagerProxy.isPaused())throw"Cannot result, scanner is not paused.";if(!this.renderedCamera)throw"renderedCamera doesn't exist while trying resume()";var t=this,n=function(){t.stateManagerProxy.directTransition(mt.SCANNING),t.hidePausedState()};if(!this.renderedCamera.isPaused()){n();return}this.renderedCamera.resume(function(){n()})},e.prototype.getState=function(){return this.stateManagerProxy.getState()},e.prototype.stop=function(){var t=this;if(!this.stateManagerProxy.isScanning())throw"Cannot stop, scanner is not running or paused.";var n=this.stateManagerProxy.startTransition(mt.NOT_STARTED);this.shouldScan=!1,this.foreverScanTimeout&&clearTimeout(this.foreverScanTimeout);var r=function(){if(t.element){var a=document.getElementById(Tn.SHADED_REGION_ELEMENT_ID);a&&t.element.removeChild(a)}},s=this;return this.renderedCamera.close().then(function(){return s.renderedCamera=null,s.element&&(s.element.removeChild(s.canvasElement),s.canvasElement=null),r(),s.qrRegion&&(s.qrRegion=null),s.context&&(s.context=null),n.execute(),s.hidePausedState(),s.isScanning=!1,Promise.resolve()})},e.prototype.scanFile=function(t,n){return this.scanFileV2(t,n).then(function(r){return r.decodedText})},e.prototype.scanFileV2=function(t,n){var r=this;if(!t||!(t instanceof File))throw"imageFile argument is mandatory and should be instance of File. Use 'event.target.files[0]'.";if(Mr(n)&&(n=!0),!this.stateManagerProxy.canScanFile())throw"Cannot start file scan - ongoing camera scan";return new Promise(function(s,a){r.possiblyCloseLastScanImageFile(),r.clearElement(),r.lastScanImageFile=URL.createObjectURL(t);var c=new Image;c.onload=function(){var h=c.width,p=c.height,g=document.getElementById(r.elementId),x=g.clientWidth?g.clientWidth:Tn.DEFAULT_WIDTH,w=Math.max(g.clientHeight?g.clientHeight:p,Tn.FILE_SCAN_MIN_HEIGHT),E=r.computeCanvasDrawConfig(h,p,x,w);if(n){var S=r.createCanvasElement(x,w,"qr-canvas-visible");S.style.display="inline-block",g.appendChild(S);var v=S.getContext("2d");if(!v)throw"Unable to get 2d context from canvas";v.canvas.width=x,v.canvas.height=w,v.drawImage(c,0,0,h,p,E.x,E.y,E.width,E.height)}var R=Tn.FILE_SCAN_HIDDEN_CANVAS_PADDING,O=Math.max(c.width,E.width),M=Math.max(c.height,E.height),T=O+2*R,N=M+2*R,L=r.createCanvasElement(T,N);g.appendChild(L);var z=L.getContext("2d");if(!z)throw"Unable to get 2d context from canvas";z.canvas.width=T,z.canvas.height=N,z.drawImage(c,0,0,h,p,R,R,O,M);try{r.qrcode.decodeRobustlyAsync(L).then(function(Y){s(pm.createFromQrcodeResult(Y))}).catch(a)}catch(Y){a("QR code parse error, error = ".concat(Y))}},c.onerror=a,c.onabort=a,c.onstalled=a,c.onsuspend=a,c.src=URL.createObjectURL(t)})},e.prototype.clear=function(){this.clearElement()},e.getCameras=function(){return _T.retrieve()},e.prototype.getRunningTrackCapabilities=function(){return this.getRenderedCameraOrFail().getRunningTrackCapabilities()},e.prototype.getRunningTrackSettings=function(){return this.getRenderedCameraOrFail().getRunningTrackSettings()},e.prototype.getRunningTrackCameraCapabilities=function(){return this.getRenderedCameraOrFail().getCapabilities()},e.prototype.applyVideoConstraints=function(t){if(t){if(!Dw.isMediaStreamConstraintsValid(t,this.logger))throw"invalid videoConstaints passed, check logs for more details"}else throw"videoConstaints is required argument.";return this.getRenderedCameraOrFail().applyVideoConstraints(t)},e.prototype.getRenderedCameraOrFail=function(){if(this.renderedCamera==null)throw"Scanning is not in running state, call this API only when QR code scanning using camera is in running state.";return this.renderedCamera},e.prototype.getSupportedFormats=function(t){var n=[fe.QR_CODE,fe.AZTEC,fe.CODABAR,fe.CODE_39,fe.CODE_93,fe.CODE_128,fe.DATA_MATRIX,fe.MAXICODE,fe.ITF,fe.EAN_13,fe.EAN_8,fe.PDF_417,fe.RSS_14,fe.RSS_EXPANDED,fe.UPC_A,fe.UPC_E,fe.UPC_EAN_EXTENSION];if(!t||typeof t=="boolean"||!t.formatsToSupport)return n;if(!Array.isArray(t.formatsToSupport))throw"configOrVerbosityFlag.formatsToSupport should be undefined or an array.";if(t.formatsToSupport.length===0)throw"Atleast 1 formatsToSupport is needed.";for(var r=[],s=0,a=t.formatsToSupport;s<a.length;s++){var c=a[s];uT(c)?r.push(c):this.logger.warn("Invalid format: ".concat(c," passed in config, ignoring."))}if(r.length===0)throw"None of formatsToSupport match supported values.";return r},e.prototype.getUseBarCodeDetectorIfSupported=function(t){if(Mr(t))return!0;if(!Mr(t.useBarCodeDetectorIfSupported))return t.useBarCodeDetectorIfSupported!==!1;if(Mr(t.experimentalFeatures))return!0;var n=t.experimentalFeatures;return Mr(n.useBarCodeDetectorIfSupported)?!0:n.useBarCodeDetectorIfSupported!==!1},e.prototype.validateQrboxSize=function(t,n,r){var s=this,a=r.qrbox;this.validateQrboxConfig(a);var c=this.toQrdimensions(t,n,a),h=function(g){if(g<Tn.MIN_QR_BOX_SIZE)throw"minimum size of 'config.qrbox' dimension value is"+" ".concat(Tn.MIN_QR_BOX_SIZE,"px.")},p=function(g){return g>t&&(s.logger.warn("`qrbox.width` or `qrbox` is larger than the width of the root element. The width will be truncated to the width of root element."),g=t),g};h(c.width),h(c.height),c.width=p(c.width)},e.prototype.validateQrboxConfig=function(t){if(typeof t!="number"&&typeof t!="function"&&(t.width===void 0||t.height===void 0))throw"Invalid instance of QrDimensions passed for 'config.qrbox'. Both 'width' and 'height' should be set."},e.prototype.toQrdimensions=function(t,n,r){if(typeof r=="number")return{width:r,height:r};if(typeof r=="function")try{return r(t,n)}catch(s){throw new Error("qrbox config was passed as a function but it failed with unknown error"+s)}return r},e.prototype.setupUi=function(t,n,r){r.isShadedBoxEnabled()&&this.validateQrboxSize(t,n,r);var s=Mr(r.qrbox)?{width:t,height:n}:r.qrbox;this.validateQrboxConfig(s);var a=this.toQrdimensions(t,n,s);a.height>n&&this.logger.warn("[Html5Qrcode] config.qrbox has height that isgreater than the height of the video stream. Shading will be ignored");var c=r.isShadedBoxEnabled()&&a.height<=n,h={x:0,y:0,width:t,height:n},p=c?this.getShadedRegionBounds(t,n,a):h,g=this.createCanvasElement(p.width,p.height),x={willReadFrequently:!0},w=g.getContext("2d",x);w.canvas.width=p.width,w.canvas.height=p.height,this.element.append(g),c&&this.possiblyInsertShadingElement(this.element,t,n,a),this.createScannerPausedUiElement(this.element),this.qrRegion=p,this.context=w,this.canvasElement=g},e.prototype.createScannerPausedUiElement=function(t){var n=document.createElement("div");n.innerText=$s.scannerPaused(),n.style.display="none",n.style.position="absolute",n.style.top="0px",n.style.zIndex="1",n.style.background="rgba(9, 9, 9, 0.46)",n.style.color="#FFECEC",n.style.textAlign="center",n.style.width="100%",t.appendChild(n),this.scannerPausedUiElement=n},e.prototype.scanContext=function(t,n){var r=this;return this.stateManagerProxy.isPaused()?Promise.resolve(!1):this.qrcode.decodeAsync(this.canvasElement).then(function(s){return t(s.text,pm.createFromQrcodeResult(s)),r.possiblyUpdateShaders(!0),!0}).catch(function(s){r.possiblyUpdateShaders(!1);var a=$s.codeParseError(s);return n(a,Rw.createFrom(a)),!1})},e.prototype.foreverScan=function(t,n,r){var s=this;if(this.shouldScan&&this.renderedCamera){var a=this.renderedCamera.getSurface(),c=a.videoWidth/a.clientWidth,h=a.videoHeight/a.clientHeight;if(!this.qrRegion)throw"qrRegion undefined when localMediaStream is ready.";var p=this.qrRegion.width*c,g=this.qrRegion.height*h,x=this.qrRegion.x*c,w=this.qrRegion.y*h;this.context.drawImage(a,x,w,p,g,0,0,this.qrRegion.width,this.qrRegion.height);var E=function(){s.foreverScanTimeout=setTimeout(function(){s.foreverScan(t,n,r)},s.getTimeoutFps(t.fps))};this.scanContext(n,r).then(function(S){!S&&t.disableFlip!==!0?(s.context.translate(s.context.canvas.width,0),s.context.scale(-1,1),s.scanContext(n,r).finally(function(){E()})):E()}).catch(function(S){s.logger.logError("Error happend while scanning context",S),E()})}},e.prototype.createVideoConstraints=function(t){if(typeof t=="string")return{deviceId:{exact:t}};if(typeof t=="object"){var n="facingMode",r="deviceId",s={user:!0,environment:!0},a="exact",c=function(v){if(v in s)return!0;throw"config has invalid 'facingMode' value = "+"'".concat(v,"'")},h=Object.keys(t);if(h.length!==1)throw"'cameraIdOrConfig' object should have exactly 1 key,"+" if passed as an object, found ".concat(h.length," keys");var p=Object.keys(t)[0];if(p!==n&&p!==r)throw"Only '".concat(n,"' and '").concat(r,"' ")+" are supported for 'cameraIdOrConfig'";if(p===n){var g=t.facingMode;if(typeof g=="string"){if(c(g))return{facingMode:g}}else if(typeof g=="object")if(a in g){if(c(g["".concat(a)]))return{facingMode:{exact:g["".concat(a)]}}}else throw"'facingMode' should be string or object with"+" ".concat(a," as key.");else{var x=typeof g;throw"Invalid type of 'facingMode' = ".concat(x)}}else{var w=t.deviceId;if(typeof w=="string")return{deviceId:w};if(typeof w=="object"){if(a in w)return{deviceId:{exact:w["".concat(a)]}};throw"'deviceId' should be string or object with"+" ".concat(a," as key.")}else{var E=typeof w;throw"Invalid type of 'deviceId' = ".concat(E)}}}var S=typeof t;throw"Invalid type of 'cameraIdOrConfig' = ".concat(S)},e.prototype.computeCanvasDrawConfig=function(t,n,r,s){if(t<=r&&n<=s){var a=(r-t)/2,c=(s-n)/2;return{x:a,y:c,width:t,height:n}}else{var h=t,p=n;return t>r&&(n=r/t*n,t=r),n>s&&(t=s/n*t,n=s),this.logger.log("Image downsampled from "+"".concat(h,"X").concat(p)+" to ".concat(t,"X").concat(n,".")),this.computeCanvasDrawConfig(t,n,r,s)}},e.prototype.clearElement=function(){if(this.stateManagerProxy.isScanning())throw"Cannot clear while scan is ongoing, close it first.";var t=document.getElementById(this.elementId);t&&(t.innerHTML="")},e.prototype.possiblyUpdateShaders=function(t){this.qrMatch!==t&&(this.hasBorderShaders&&this.borderShaders&&this.borderShaders.length&&this.borderShaders.forEach(function(n){n.style.backgroundColor=t?Tn.BORDER_SHADER_MATCH_COLOR:Tn.BORDER_SHADER_DEFAULT_COLOR}),this.qrMatch=t)},e.prototype.possiblyCloseLastScanImageFile=function(){this.lastScanImageFile&&(URL.revokeObjectURL(this.lastScanImageFile),this.lastScanImageFile=null)},e.prototype.createCanvasElement=function(t,n,r){var s=t,a=n,c=document.createElement("canvas");return c.style.width="".concat(s,"px"),c.style.height="".concat(a,"px"),c.style.display="none",c.id=Mr(r)?"qr-canvas":r,c},e.prototype.getShadedRegionBounds=function(t,n,r){if(r.width>t||r.height>n)throw"'config.qrbox' dimensions should not be greater than the dimensions of the root HTML element.";return{x:(t-r.width)/2,y:(n-r.height)/2,width:r.width,height:r.height}},e.prototype.possiblyInsertShadingElement=function(t,n,r,s){if(!(n-s.width<1||r-s.height<1)){var a=document.createElement("div");a.style.position="absolute";var c=(n-s.width)/2,h=(r-s.height)/2;if(a.style.borderLeft="".concat(c,"px solid rgba(0, 0, 0, 0.48)"),a.style.borderRight="".concat(c,"px solid rgba(0, 0, 0, 0.48)"),a.style.borderTop="".concat(h,"px solid rgba(0, 0, 0, 0.48)"),a.style.borderBottom="".concat(h,"px solid rgba(0, 0, 0, 0.48)"),a.style.boxSizing="border-box",a.style.top="0px",a.style.bottom="0px",a.style.left="0px",a.style.right="0px",a.id="".concat(Tn.SHADED_REGION_ELEMENT_ID),n-s.width<11||r-s.height<11)this.hasBorderShaders=!1;else{var p=5,g=40;this.insertShaderBorders(a,g,p,-p,null,0,!0),this.insertShaderBorders(a,g,p,-p,null,0,!1),this.insertShaderBorders(a,g,p,null,-p,0,!0),this.insertShaderBorders(a,g,p,null,-p,0,!1),this.insertShaderBorders(a,p,g+p,-p,null,-p,!0),this.insertShaderBorders(a,p,g+p,null,-p,-p,!0),this.insertShaderBorders(a,p,g+p,-p,null,-p,!1),this.insertShaderBorders(a,p,g+p,null,-p,-p,!1),this.hasBorderShaders=!0}t.append(a)}},e.prototype.insertShaderBorders=function(t,n,r,s,a,c,h){var p=document.createElement("div");p.style.position="absolute",p.style.backgroundColor=Tn.BORDER_SHADER_DEFAULT_COLOR,p.style.width="".concat(n,"px"),p.style.height="".concat(r,"px"),s!==null&&(p.style.top="".concat(s,"px")),a!==null&&(p.style.bottom="".concat(a,"px")),h?p.style.left="".concat(c,"px"):p.style.right="".concat(c,"px"),this.borderShaders||(this.borderShaders=[]),this.borderShaders.push(p),t.appendChild(p)},e.prototype.showPausedState=function(){if(!this.scannerPausedUiElement)throw"[internal error] scanner paused UI element not found";this.scannerPausedUiElement.style.display="block"},e.prototype.hidePausedState=function(){if(!this.scannerPausedUiElement)throw"[internal error] scanner paused UI element not found";this.scannerPausedUiElement.style.display="none"},e.prototype.getTimeoutFps=function(t){return 1e3/t},e}(),$0="data:image/svg+xml;base64,",OT=$0+"PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAzNzEuNjQzIDM3MS42NDMiIHN0eWxlPSJlbmFibGUtYmFja2dyb3VuZDpuZXcgMCAwIDM3MS42NDMgMzcxLjY0MyIgeG1sOnNwYWNlPSJwcmVzZXJ2ZSI+PHBhdGggZD0iTTEwNS4wODQgMzguMjcxaDE2My43Njh2MjBIMTA1LjA4NHoiLz48cGF0aCBkPSJNMzExLjU5NiAxOTAuMTg5Yy03LjQ0MS05LjM0Ny0xOC40MDMtMTYuMjA2LTMyLjc0My0yMC41MjJWMzBjMC0xNi41NDItMTMuNDU4LTMwLTMwLTMwSDEyNS4wODRjLTE2LjU0MiAwLTMwIDEzLjQ1OC0zMCAzMHYxMjAuMTQzaC04LjI5NmMtMTYuNTQyIDAtMzAgMTMuNDU4LTMwIDMwdjEuMzMzYTI5LjgwNCAyOS44MDQgMCAwIDAgNC42MDMgMTUuOTM5Yy03LjM0IDUuNDc0LTEyLjEwMyAxNC4yMjEtMTIuMTAzIDI0LjA2MXYxLjMzM2MwIDkuODQgNC43NjMgMTguNTg3IDEyLjEwMyAyNC4wNjJhMjkuODEgMjkuODEgMCAwIDAtNC42MDMgMTUuOTM4djEuMzMzYzAgMTYuNTQyIDEzLjQ1OCAzMCAzMCAzMGg4LjMyNGMuNDI3IDExLjYzMSA3LjUwMyAyMS41ODcgMTcuNTM0IDI2LjE3Ny45MzEgMTAuNTAzIDQuMDg0IDMwLjE4NyAxNC43NjggNDUuNTM3YTkuOTg4IDkuOTg4IDAgMCAwIDguMjE2IDQuMjg4IDkuOTU4IDkuOTU4IDAgMCAwIDUuNzA0LTEuNzkzYzQuNTMzLTMuMTU1IDUuNjUtOS4zODggMi40OTUtMTMuOTIxLTYuNzk4LTkuNzY3LTkuNjAyLTIyLjYwOC0xMC43Ni0zMS40aDgyLjY4NWMuMjcyLjQxNC41NDUuODE4LjgxNSAxLjIxIDMuMTQyIDQuNTQxIDkuMzcyIDUuNjc5IDEzLjkxMyAyLjUzNCA0LjU0Mi0zLjE0MiA1LjY3Ny05LjM3MSAyLjUzNS0xMy45MTMtMTEuOTE5LTE3LjIyOS04Ljc4Ny0zNS44ODQgOS41ODEtNTcuMDEyIDMuMDY3LTIuNjUyIDEyLjMwNy0xMS43MzIgMTEuMjE3LTI0LjAzMy0uODI4LTkuMzQzLTcuMTA5LTE3LjE5NC0xOC42NjktMjMuMzM3YTkuODU3IDkuODU3IDAgMCAwLTEuMDYxLS40ODZjLS40NjYtLjE4Mi0xMS40MDMtNC41NzktOS43NDEtMTUuNzA2IDEuMDA3LTYuNzM3IDE0Ljc2OC04LjI3MyAyMy43NjYtNy42NjYgMjMuMTU2IDEuNTY5IDM5LjY5OCA3LjgwMyA0Ny44MzYgMTguMDI2IDUuNzUyIDcuMjI1IDcuNjA3IDE2LjYyMyA1LjY3MyAyOC43MzMtLjQxMyAyLjU4NS0uODI0IDUuMjQxLTEuMjQ1IDcuOTU5LTUuNzU2IDM3LjE5NC0xMi45MTkgODMuNDgzLTQ5Ljg3IDExNC42NjEtNC4yMjEgMy41NjEtNC43NTYgOS44Ny0xLjE5NCAxNC4wOTJhOS45OCA5Ljk4IDAgMCAwIDcuNjQ4IDMuNTUxIDkuOTU1IDkuOTU1IDAgMCAwIDYuNDQ0LTIuMzU4YzQyLjY3Mi0zNi4wMDUgNTAuODAyLTg4LjUzMyA1Ni43MzctMTI2Ljg4OC40MTUtMi42ODQuODIxLTUuMzA5IDEuMjI5LTcuODYzIDIuODM0LTE3LjcyMS0uNDU1LTMyLjY0MS05Ljc3Mi00NC4zNDV6bS0yMzIuMzA4IDQyLjYyYy01LjUxNCAwLTEwLTQuNDg2LTEwLTEwdi0xLjMzM2MwLTUuNTE0IDQuNDg2LTEwIDEwLTEwaDE1djIxLjMzM2gtMTV6bS0yLjUtNTIuNjY2YzAtNS41MTQgNC40ODYtMTAgMTAtMTBoNy41djIxLjMzM2gtNy41Yy01LjUxNCAwLTEwLTQuNDg2LTEwLTEwdi0xLjMzM3ptMTcuNSA5My45OTloLTcuNWMtNS41MTQgMC0xMC00LjQ4Ni0xMC0xMHYtMS4zMzNjMC01LjUxNCA0LjQ4Ni0xMCAxMC0xMGg3LjV2MjEuMzMzem0zMC43OTYgMjguODg3Yy01LjUxNCAwLTEwLTQuNDg2LTEwLTEwdi04LjI3MWg5MS40NTdjLS44NTEgNi42NjgtLjQzNyAxMi43ODcuNzMxIDE4LjI3MWgtODIuMTg4em03OS40ODItMTEzLjY5OGMtMy4xMjQgMjAuOTA2IDEyLjQyNyAzMy4xODQgMjEuNjI1IDM3LjA0IDUuNDQxIDIuOTY4IDcuNTUxIDUuNjQ3IDcuNzAxIDcuMTg4LjIxIDIuMTUtMi41NTMgNS42ODQtNC40NzcgNy4yNTEtLjQ4Mi4zNzgtLjkyOS44LTEuMzM1IDEuMjYxLTYuOTg3IDcuOTM2LTExLjk4MiAxNS41Mi0xNS40MzIgMjIuNjg4aC05Ny41NjRWMzBjMC01LjUxNCA0LjQ4Ni0xMCAxMC0xMGgxMjMuNzY5YzUuNTE0IDAgMTAgNC40ODYgMTAgMTB2MTM1LjU3OWMtMy4wMzItLjM4MS02LjE1LS42OTQtOS4zODktLjkxNC0yNS4xNTktMS42OTQtNDIuMzcgNy43NDgtNDQuODk4IDI0LjY2NnoiLz48cGF0aCBkPSJNMTc5LjEyOSA4My4xNjdoLTI0LjA2YTUgNSAwIDAgMC01IDV2MjQuMDYxYTUgNSAwIDAgMCA1IDVoMjQuMDZhNSA1IDAgMCAwIDUtNVY4OC4xNjdhNSA1IDAgMCAwLTUtNXpNMTcyLjYyOSAxNDIuODZoLTEyLjU2VjEzMC44YTUgNSAwIDEgMC0xMCAwdjE3LjA2MWE1IDUgMCAwIDAgNSA1aDE3LjU2YTUgNSAwIDEgMCAwLTEwLjAwMXpNMjE2LjU2OCA4My4xNjdoLTI0LjA2YTUgNSAwIDAgMC01IDV2MjQuMDYxYTUgNSAwIDAgMCA1IDVoMjQuMDZhNSA1IDAgMCAwIDUtNVY4OC4xNjdhNSA1IDAgMCAwLTUtNXptLTUgMjQuMDYxaC0xNC4wNlY5My4xNjdoMTQuMDZ2MTQuMDYxek0yMTEuNjY5IDEyNS45MzZIMTk3LjQxYTUgNSAwIDAgMC01IDV2MTQuMjU3YTUgNSAwIDAgMCA1IDVoMTQuMjU5YTUgNSAwIDAgMCA1LTV2LTE0LjI1N2E1IDUgMCAwIDAtNS01eiIvPjwvc3ZnPg==",DT=$0+"PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA1OS4wMTggNTkuMDE4IiBzdHlsZT0iZW5hYmxlLWJhY2tncm91bmQ6bmV3IDAgMCA1OS4wMTggNTkuMDE4IiB4bWw6c3BhY2U9InByZXNlcnZlIj48cGF0aCBkPSJtNTguNzQxIDU0LjgwOS01Ljk2OS02LjI0NGExMC43NCAxMC43NCAwIDAgMCAyLjgyLTcuMjVjMC01Ljk1My00Ljg0My0xMC43OTYtMTAuNzk2LTEwLjc5NlMzNCAzNS4zNjEgMzQgNDEuMzE0IDM4Ljg0MyA1Mi4xMSA0NC43OTYgNTIuMTFjMi40NDEgMCA0LjY4OC0uODI0IDYuNDk5LTIuMTk2bDYuMDAxIDYuMjc3YS45OTguOTk4IDAgMCAwIDEuNDE0LjAzMiAxIDEgMCAwIDAgLjAzMS0xLjQxNHpNMzYgNDEuMzE0YzAtNC44NSAzLjk0Ni04Ljc5NiA4Ljc5Ni04Ljc5NnM4Ljc5NiAzLjk0NiA4Ljc5NiA4Ljc5Ni0zLjk0NiA4Ljc5Ni04Ljc5NiA4Ljc5NlMzNiA0Ni4xNjQgMzYgNDEuMzE0ek0xMC40MzEgMTYuMDg4YzAgMy4wNyAyLjQ5OCA1LjU2OCA1LjU2OSA1LjU2OHM1LjU2OS0yLjQ5OCA1LjU2OS01LjU2OGMwLTMuMDcxLTIuNDk4LTUuNTY5LTUuNTY5LTUuNTY5cy01LjU2OSAyLjQ5OC01LjU2OSA1LjU2OXptOS4xMzggMGMwIDEuOTY4LTEuNjAyIDMuNTY4LTMuNTY5IDMuNTY4cy0zLjU2OS0xLjYwMS0zLjU2OS0zLjU2OCAxLjYwMi0zLjU2OSAzLjU2OS0zLjU2OSAzLjU2OSAxLjYwMSAzLjU2OSAzLjU2OXoiLz48cGF0aCBkPSJtMzAuODgyIDI4Ljk4NyA5LjE4LTEwLjA1NCAxMS4yNjIgMTAuMzIzYTEgMSAwIDAgMCAxLjM1MS0xLjQ3NWwtMTItMTFhMSAxIDAgMCAwLTEuNDE0LjA2M2wtOS43OTQgMTAuNzI3LTQuNzQzLTQuNzQzYTEuMDAzIDEuMDAzIDAgMCAwLTEuMzY4LS4wNDRMNi4zMzkgMzcuNzY4YTEgMSAwIDEgMCAxLjMyMiAxLjUwMWwxNi4zMTMtMTQuMzYyIDcuMzE5IDcuMzE4YS45OTkuOTk5IDAgMSAwIDEuNDE0LTEuNDE0bC0xLjgyNS0xLjgyNHoiLz48cGF0aCBkPSJNMzAgNDYuNTE4SDJ2LTQyaDU0djI4YTEgMSAwIDEgMCAyIDB2LTI5YTEgMSAwIDAgMC0xLTFIMWExIDEgMCAwIDAtMSAxdjQ0YTEgMSAwIDAgMCAxIDFoMjlhMSAxIDAgMSAwIDAtMnoiLz48L3N2Zz4=",Sm=$0+"PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA0NjAgNDYwIiBzdHlsZT0iZW5hYmxlLWJhY2tncm91bmQ6bmV3IDAgMCA0NjAgNDYwIiB4bWw6c3BhY2U9InByZXNlcnZlIj48cGF0aCBkPSJNMjMwIDBDMTAyLjk3NSAwIDAgMTAyLjk3NSAwIDIzMHMxMDIuOTc1IDIzMCAyMzAgMjMwIDIzMC0xMDIuOTc0IDIzMC0yMzBTMzU3LjAyNSAwIDIzMCAwem0zOC4zMzMgMzc3LjM2YzAgOC42NzYtNy4wMzQgMTUuNzEtMTUuNzEgMTUuNzFoLTQzLjEwMWMtOC42NzYgMC0xNS43MS03LjAzNC0xNS43MS0xNS43MVYyMDIuNDc3YzAtOC42NzYgNy4wMzMtMTUuNzEgMTUuNzEtMTUuNzFoNDMuMTAxYzguNjc2IDAgMTUuNzEgNy4wMzMgMTUuNzEgMTUuNzFWMzc3LjM2ek0yMzAgMTU3Yy0yMS41MzkgMC0zOS0xNy40NjEtMzktMzlzMTcuNDYxLTM5IDM5LTM5IDM5IDE3LjQ2MSAzOSAzOS0xNy40NjEgMzktMzkgMzl6Ii8+PC9zdmc+",kT="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAAAQgAAAEIBarqQRAAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAAE1SURBVDiNfdI7S0NBEAXgLya1otFgpbYSbISAgpXYi6CmiH9KCAiChaVga6OiWPgfRDQ+0itaGVNosXtluWwcuMzePfM4M3sq8lbHBubwg1dc4m1E/J/N4ghDPOIsfk/4xiEao5KX0McFljN4C9d4QTPXuY99jP3DsIoDPGM6BY5i5yI5R7O4q+ImFkJY2DCh3cAH2klyB+9J1xUMMAG7eCh1a+Mr+k48b5diXrFVwwLuS+BJ9MfR7+G0FHOHhTHhnXNWS87VDF4pcnfQK4Ep7XScNLmPTZgURNKKYENYWDpzW1BhscS1WHS8CDgURFJQrWcoF3c13KKbgg1BYQfy8xZWEzTTw1QZbAoKu8FqJnktdu5hcVSHmchiILzzuaDQvjBzV2m8yohCE1jHfPx/xhU+y4G/D75ELlRJsSYAAAAASUVORK5CYII=",vm=function(){function e(){}return e.createDefault=function(){return{hasPermission:!1,lastUsedCameraId:null}},e}(),LT=function(){function e(){this.data=vm.createDefault();var t=localStorage.getItem(e.LOCAL_STORAGE_KEY);t?this.data=JSON.parse(t):this.reset()}return e.prototype.hasCameraPermissions=function(){return this.data.hasPermission},e.prototype.getLastUsedCameraId=function(){return this.data.lastUsedCameraId},e.prototype.setHasPermission=function(t){this.data.hasPermission=t,this.flush()},e.prototype.setLastUsedCameraId=function(t){this.data.lastUsedCameraId=t,this.flush()},e.prototype.resetLastUsedCameraId=function(){this.data.lastUsedCameraId=null,this.flush()},e.prototype.reset=function(){this.data=vm.createDefault(),this.flush()},e.prototype.flush=function(){localStorage.setItem(e.LOCAL_STORAGE_KEY,JSON.stringify(this.data))},e.LOCAL_STORAGE_KEY="HTML5_QRCODE_DATA",e}(),PT=function(){function e(){this.infoDiv=document.createElement("div")}return e.prototype.renderInto=function(t){this.infoDiv.style.position="absolute",this.infoDiv.style.top="10px",this.infoDiv.style.right="10px",this.infoDiv.style.zIndex="2",this.infoDiv.style.display="none",this.infoDiv.style.padding="5pt",this.infoDiv.style.border="1px solid #171717",this.infoDiv.style.fontSize="10pt",this.infoDiv.style.background="rgb(0 0 0 / 69%)",this.infoDiv.style.borderRadius="5px",this.infoDiv.style.textAlign="center",this.infoDiv.style.fontWeight="400",this.infoDiv.style.color="white",this.infoDiv.innerText=mm.poweredBy();var n=document.createElement("a");n.innerText="ScanApp",n.href="https://scanapp.org",n.target="new",n.style.color="white",this.infoDiv.appendChild(n);var r=document.createElement("br"),s=document.createElement("br");this.infoDiv.appendChild(r),this.infoDiv.appendChild(s);var a=document.createElement("a");a.innerText=mm.reportIssues(),a.href="https://github.com/mebjas/html5-qrcode/issues",a.target="new",a.style.color="white",this.infoDiv.appendChild(a),t.appendChild(this.infoDiv)},e.prototype.show=function(){this.infoDiv.style.display="block"},e.prototype.hide=function(){this.infoDiv.style.display="none"},e}(),BT=function(){function e(t,n){this.isShowingInfoIcon=!0,this.onTapIn=t,this.onTapOut=n,this.infoIcon=document.createElement("img")}return e.prototype.renderInto=function(t){var n=this;this.infoIcon.alt="Info icon",this.infoIcon.src=Sm,this.infoIcon.style.position="absolute",this.infoIcon.style.top="4px",this.infoIcon.style.right="4px",this.infoIcon.style.opacity="0.6",this.infoIcon.style.cursor="pointer",this.infoIcon.style.zIndex="2",this.infoIcon.style.width="16px",this.infoIcon.style.height="16px",this.infoIcon.onmouseover=function(r){return n.onHoverIn()},this.infoIcon.onmouseout=function(r){return n.onHoverOut()},this.infoIcon.onclick=function(r){return n.onClick()},t.appendChild(this.infoIcon)},e.prototype.onHoverIn=function(){this.isShowingInfoIcon&&(this.infoIcon.style.opacity="1")},e.prototype.onHoverOut=function(){this.isShowingInfoIcon&&(this.infoIcon.style.opacity="0.6")},e.prototype.onClick=function(){this.isShowingInfoIcon?(this.isShowingInfoIcon=!1,this.onTapIn(),this.infoIcon.src=kT,this.infoIcon.style.opacity="1"):(this.isShowingInfoIcon=!0,this.onTapOut(),this.infoIcon.src=Sm,this.infoIcon.style.opacity="0.6")},e}(),FT=function(){function e(){var t=this;this.infoDiv=new PT,this.infoIcon=new BT(function(){t.infoDiv.show()},function(){t.infoDiv.hide()})}return e.prototype.renderInto=function(t){this.infoDiv.renderInto(t),this.infoIcon.renderInto(t)},e}(),jT=function(e,t,n,r){function s(a){return a instanceof n?a:new n(function(c){c(a)})}return new(n||(n=Promise))(function(a,c){function h(x){try{g(r.next(x))}catch(w){c(w)}}function p(x){try{g(r.throw(x))}catch(w){c(w)}}function g(x){x.done?a(x.value):s(x.value).then(h,p)}g((r=r.apply(e,t||[])).next())})},zT=function(e,t){var n={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},r,s,a,c;return c={next:h(0),throw:h(1),return:h(2)},typeof Symbol=="function"&&(c[Symbol.iterator]=function(){return this}),c;function h(g){return function(x){return p([g,x])}}function p(g){if(r)throw new TypeError("Generator is already executing.");for(;c&&(c=0,g[0]&&(n=0)),n;)try{if(r=1,s&&(a=g[0]&2?s.return:g[0]?s.throw||((a=s.return)&&a.call(s),0):s.next)&&!(a=a.call(s,g[1])).done)return a;switch(s=0,a&&(g=[g[0]&2,a.value]),g[0]){case 0:case 1:a=g;break;case 4:return n.label++,{value:g[1],done:!1};case 5:n.label++,s=g[1],g=[0];continue;case 7:g=n.ops.pop(),n.trys.pop();continue;default:if(a=n.trys,!(a=a.length>0&&a[a.length-1])&&(g[0]===6||g[0]===2)){n=0;continue}if(g[0]===3&&(!a||g[1]>a[0]&&g[1]<a[3])){n.label=g[1];break}if(g[0]===6&&n.label<a[1]){n.label=a[1],a=g;break}if(a&&n.label<a[2]){n.label=a[2],n.ops.push(g);break}a[2]&&n.ops.pop(),n.trys.pop();continue}g=t.call(e,n)}catch(x){g=[6,x],s=0}finally{r=a=0}if(g[0]&5)throw g[1];return{value:g[0]?g[1]:void 0,done:!0}}},_m=function(){function e(){}return e.hasPermissions=function(){return jT(this,void 0,void 0,function(){var t,n,r,s;return zT(this,function(a){switch(a.label){case 0:return[4,navigator.mediaDevices.enumerateDevices()];case 1:for(t=a.sent(),n=0,r=t;n<r.length;n++)if(s=r[n],s.kind==="videoinput"&&s.label)return[2,!0];return[2,!1]}})})},e}(),ui=function(){function e(t){this.supportedScanTypes=this.validateAndReturnScanTypes(t)}return e.prototype.getDefaultScanType=function(){return this.supportedScanTypes[0]},e.prototype.hasMoreThanOneScanType=function(){return this.supportedScanTypes.length>1},e.prototype.isCameraScanRequired=function(){for(var t=0,n=this.supportedScanTypes;t<n.length;t++){var r=n[t];if(e.isCameraScanType(r))return!0}return!1},e.isCameraScanType=function(t){return t===Li.SCAN_TYPE_CAMERA},e.isFileScanType=function(t){return t===Li.SCAN_TYPE_FILE},e.prototype.validateAndReturnScanTypes=function(t){if(!t||t.length===0)return lr.DEFAULT_SUPPORTED_SCAN_TYPE;var n=lr.DEFAULT_SUPPORTED_SCAN_TYPE.length;if(t.length>n)throw"Max ".concat(n," values expected for ")+"supportedScanTypes";for(var r=0,s=t;r<s.length;r++){var a=s[r];if(!lr.DEFAULT_SUPPORTED_SCAN_TYPE.includes(a))throw"Unsupported scan type ".concat(a)}return t},e}(),Rn=function(){function e(){}return e.ALL_ELEMENT_CLASS="html5-qrcode-element",e.CAMERA_PERMISSION_BUTTON_ID="html5-qrcode-button-camera-permission",e.CAMERA_START_BUTTON_ID="html5-qrcode-button-camera-start",e.CAMERA_STOP_BUTTON_ID="html5-qrcode-button-camera-stop",e.TORCH_BUTTON_ID="html5-qrcode-button-torch",e.CAMERA_SELECTION_SELECT_ID="html5-qrcode-select-camera",e.FILE_SELECTION_BUTTON_ID="html5-qrcode-button-file-selection",e.ZOOM_SLIDER_ID="html5-qrcode-input-range-zoom",e.SCAN_TYPE_CHANGE_ANCHOR_ID="html5-qrcode-anchor-scan-type-change",e.TORCH_BUTTON_CLASS_TORCH_ON="html5-qrcode-button-torch-on",e.TORCH_BUTTON_CLASS_TORCH_OFF="html5-qrcode-button-torch-off",e}(),Vr=function(){function e(){}return e.createElement=function(t,n){var r=document.createElement(t);return r.id=n,r.classList.add(Rn.ALL_ELEMENT_CLASS),t==="button"&&r.setAttribute("type","button"),r},e}(),Lw=function(e,t,n,r){function s(a){return a instanceof n?a:new n(function(c){c(a)})}return new(n||(n=Promise))(function(a,c){function h(x){try{g(r.next(x))}catch(w){c(w)}}function p(x){try{g(r.throw(x))}catch(w){c(w)}}function g(x){x.done?a(x.value):s(x.value).then(h,p)}g((r=r.apply(e,t||[])).next())})},Pw=function(e,t){var n={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},r,s,a,c;return c={next:h(0),throw:h(1),return:h(2)},typeof Symbol=="function"&&(c[Symbol.iterator]=function(){return this}),c;function h(g){return function(x){return p([g,x])}}function p(g){if(r)throw new TypeError("Generator is already executing.");for(;c&&(c=0,g[0]&&(n=0)),n;)try{if(r=1,s&&(a=g[0]&2?s.return:g[0]?s.throw||((a=s.return)&&a.call(s),0):s.next)&&!(a=a.call(s,g[1])).done)return a;switch(s=0,a&&(g=[g[0]&2,a.value]),g[0]){case 0:case 1:a=g;break;case 4:return n.label++,{value:g[1],done:!1};case 5:n.label++,s=g[1],g=[0];continue;case 7:g=n.ops.pop(),n.trys.pop();continue;default:if(a=n.trys,!(a=a.length>0&&a[a.length-1])&&(g[0]===6||g[0]===2)){n=0;continue}if(g[0]===3&&(!a||g[1]>a[0]&&g[1]<a[3])){n.label=g[1];break}if(g[0]===6&&n.label<a[1]){n.label=a[1],a=g;break}if(a&&n.label<a[2]){n.label=a[2],n.ops.push(g);break}a[2]&&n.ops.pop(),n.trys.pop();continue}g=t.call(e,n)}catch(x){g=[6,x],s=0}finally{r=a=0}if(g[0]&5)throw g[1];return{value:g[0]?g[1]:void 0,done:!0}}},Im=function(){function e(t,n,r){this.isTorchOn=!1,this.torchCapability=t,this.buttonController=n,this.onTorchActionFailureCallback=r}return e.prototype.isTorchEnabled=function(){return this.isTorchOn},e.prototype.flipState=function(){return Lw(this,void 0,void 0,function(){var t,n;return Pw(this,function(r){switch(r.label){case 0:this.buttonController.disable(),t=!this.isTorchOn,r.label=1;case 1:return r.trys.push([1,3,,4]),[4,this.torchCapability.apply(t)];case 2:return r.sent(),this.updateUiBasedOnLatestSettings(this.torchCapability.value(),t),[3,4];case 3:return n=r.sent(),this.propagateFailure(t,n),this.buttonController.enable(),[3,4];case 4:return[2]}})})},e.prototype.updateUiBasedOnLatestSettings=function(t,n){t===n?(this.buttonController.setText(n?He.torchOffButton():He.torchOnButton()),this.isTorchOn=n):this.propagateFailure(n),this.buttonController.enable()},e.prototype.propagateFailure=function(t,n){var r=t?He.torchOnFailedMessage():He.torchOffFailedMessage();n&&(r+="; Error = "+n),this.onTorchActionFailureCallback(r)},e.prototype.reset=function(){this.isTorchOn=!1},e}(),UT=function(){function e(t,n){this.onTorchActionFailureCallback=n,this.torchButton=Vr.createElement("button",Rn.TORCH_BUTTON_ID),this.torchController=new Im(t,this,n)}return e.prototype.render=function(t,n){var r=this;this.torchButton.innerText=He.torchOnButton(),this.torchButton.style.display=n.display,this.torchButton.style.marginLeft=n.marginLeft;var s=this;this.torchButton.addEventListener("click",function(a){return Lw(r,void 0,void 0,function(){return Pw(this,function(c){switch(c.label){case 0:return[4,s.torchController.flipState()];case 1:return c.sent(),s.torchController.isTorchEnabled()?(s.torchButton.classList.remove(Rn.TORCH_BUTTON_CLASS_TORCH_OFF),s.torchButton.classList.add(Rn.TORCH_BUTTON_CLASS_TORCH_ON)):(s.torchButton.classList.remove(Rn.TORCH_BUTTON_CLASS_TORCH_ON),s.torchButton.classList.add(Rn.TORCH_BUTTON_CLASS_TORCH_OFF)),[2]}})})}),t.appendChild(this.torchButton)},e.prototype.updateTorchCapability=function(t){this.torchController=new Im(t,this,this.onTorchActionFailureCallback)},e.prototype.getTorchButton=function(){return this.torchButton},e.prototype.hide=function(){this.torchButton.style.display="none"},e.prototype.show=function(){this.torchButton.style.display="inline-block"},e.prototype.disable=function(){this.torchButton.disabled=!0},e.prototype.enable=function(){this.torchButton.disabled=!1},e.prototype.setText=function(t){this.torchButton.innerText=t},e.prototype.reset=function(){this.torchButton.innerText=He.torchOnButton(),this.torchController.reset()},e.create=function(t,n,r,s){var a=new e(n,s);return a.render(t,r),a},e}(),HT=function(){function e(t,n,r){this.fileBasedScanRegion=this.createFileBasedScanRegion(),this.fileBasedScanRegion.style.display=n?"block":"none",t.appendChild(this.fileBasedScanRegion);var s=document.createElement("label");s.setAttribute("for",this.getFileScanInputId()),s.style.display="inline-block",this.fileBasedScanRegion.appendChild(s),this.fileSelectionButton=Vr.createElement("button",Rn.FILE_SELECTION_BUTTON_ID),this.setInitialValueToButton(),this.fileSelectionButton.addEventListener("click",function(h){s.click()}),s.append(this.fileSelectionButton),this.fileScanInput=Vr.createElement("input",this.getFileScanInputId()),this.fileScanInput.type="file",this.fileScanInput.accept="image/*",this.fileScanInput.style.display="none",s.appendChild(this.fileScanInput);var a=this;this.fileScanInput.addEventListener("change",function(h){if(!(h==null||h.target==null)){var p=h.target;if(!(p.files&&p.files.length===0)){var g=p.files,x=g[0],w=x.name;a.setImageNameToButton(w),r(x)}}});var c=this.createDragAndDropMessage();this.fileBasedScanRegion.appendChild(c),this.fileBasedScanRegion.addEventListener("dragenter",function(h){a.fileBasedScanRegion.style.border=a.fileBasedScanRegionActiveBorder(),h.stopPropagation(),h.preventDefault()}),this.fileBasedScanRegion.addEventListener("dragleave",function(h){a.fileBasedScanRegion.style.border=a.fileBasedScanRegionDefaultBorder(),h.stopPropagation(),h.preventDefault()}),this.fileBasedScanRegion.addEventListener("dragover",function(h){a.fileBasedScanRegion.style.border=a.fileBasedScanRegionActiveBorder(),h.stopPropagation(),h.preventDefault()}),this.fileBasedScanRegion.addEventListener("drop",function(h){h.stopPropagation(),h.preventDefault(),a.fileBasedScanRegion.style.border=a.fileBasedScanRegionDefaultBorder();var p=h.dataTransfer;if(p){var g=p.files;if(!g||g.length===0)return;for(var x=!1,w=0;w<g.length;++w){var E=g.item(w);if(E){var S=/image.*/;if(E.type.match(S)){x=!0;var v=E.name;a.setImageNameToButton(v),r(E),c.innerText=He.dragAndDropMessage();break}}}x||(c.innerText=He.dragAndDropMessageOnlyImages())}})}return e.prototype.hide=function(){this.fileBasedScanRegion.style.display="none",this.fileScanInput.disabled=!0},e.prototype.show=function(){this.fileBasedScanRegion.style.display="block",this.fileScanInput.disabled=!1},e.prototype.isShowing=function(){return this.fileBasedScanRegion.style.display==="block"},e.prototype.resetValue=function(){this.fileScanInput.value="",this.setInitialValueToButton()},e.prototype.createFileBasedScanRegion=function(){var t=document.createElement("div");return t.style.textAlign="center",t.style.margin="auto",t.style.width="80%",t.style.maxWidth="600px",t.style.border=this.fileBasedScanRegionDefaultBorder(),t.style.padding="10px",t.style.marginBottom="10px",t},e.prototype.fileBasedScanRegionDefaultBorder=function(){return"6px dashed #ebebeb"},e.prototype.fileBasedScanRegionActiveBorder=function(){return"6px dashed rgb(153 151 151)"},e.prototype.createDragAndDropMessage=function(){var t=document.createElement("div");return t.innerText=He.dragAndDropMessage(),t.style.fontWeight="400",t},e.prototype.setImageNameToButton=function(t){var n=20;if(t.length>n){var r=t.substring(0,8),s=t.length,a=t.substring(s-8,s);t="".concat(r,"....").concat(a)}var c=He.fileSelectionChooseAnother()+" - "+t;this.fileSelectionButton.innerText=c},e.prototype.setInitialValueToButton=function(){var t=He.fileSelectionChooseImage()+" - "+He.fileSelectionNoImageSelected();this.fileSelectionButton.innerText=t},e.prototype.getFileScanInputId=function(){return"html5-qrcode-private-filescan-input"},e.create=function(t,n,r){var s=new e(t,n,r);return s},e}(),WT=function(){function e(t){this.selectElement=Vr.createElement("select",Rn.CAMERA_SELECTION_SELECT_ID),this.cameras=t,this.options=[]}return e.prototype.render=function(t){var n=document.createElement("span");n.style.marginRight="10px";var r=this.cameras.length;if(r===0)throw new Error("No cameras found");if(r===1)n.style.display="none";else{var s=He.selectCamera();n.innerText="".concat(s," (").concat(this.cameras.length,")  ")}for(var a=1,c=0,h=this.cameras;c<h.length;c++){var p=h[c],g=p.id,x=p.label==null?g:p.label;(!x||x==="")&&(x=[He.anonymousCameraPrefix(),a++].join(" "));var w=document.createElement("option");w.value=g,w.innerText=x,this.options.push(w),this.selectElement.appendChild(w)}n.appendChild(this.selectElement),t.appendChild(n)},e.prototype.disable=function(){this.selectElement.disabled=!0},e.prototype.isDisabled=function(){return this.selectElement.disabled===!0},e.prototype.enable=function(){this.selectElement.disabled=!1},e.prototype.getValue=function(){return this.selectElement.value},e.prototype.hasValue=function(t){for(var n=0,r=this.options;n<r.length;n++){var s=r[n];if(s.value===t)return!0}return!1},e.prototype.setValue=function(t){if(!this.hasValue(t))throw new Error("".concat(t," is not present in the camera list."));this.selectElement.value=t},e.prototype.hasSingleItem=function(){return this.cameras.length===1},e.prototype.numCameras=function(){return this.cameras.length},e.create=function(t,n){var r=new e(n);return r.render(t),r},e}(),VT=function(){function e(){this.onChangeCallback=null,this.zoomElementContainer=document.createElement("div"),this.rangeInput=Vr.createElement("input",Rn.ZOOM_SLIDER_ID),this.rangeInput.type="range",this.rangeText=document.createElement("span"),this.rangeInput.min="1",this.rangeInput.max="5",this.rangeInput.value="1",this.rangeInput.step="0.1"}return e.prototype.render=function(t,n){this.zoomElementContainer.style.display=n?"block":"none",this.zoomElementContainer.style.padding="5px 10px",this.zoomElementContainer.style.textAlign="center",t.appendChild(this.zoomElementContainer),this.rangeInput.style.display="inline-block",this.rangeInput.style.width="50%",this.rangeInput.style.height="5px",this.rangeInput.style.background="#d3d3d3",this.rangeInput.style.outline="none",this.rangeInput.style.opacity="0.7";var r=He.zoom();this.rangeText.innerText="".concat(this.rangeInput.value,"x ").concat(r),this.rangeText.style.marginRight="10px";var s=this;this.rangeInput.addEventListener("input",function(){return s.onValueChange()}),this.rangeInput.addEventListener("change",function(){return s.onValueChange()}),this.zoomElementContainer.appendChild(this.rangeInput),this.zoomElementContainer.appendChild(this.rangeText)},e.prototype.onValueChange=function(){var t=He.zoom();this.rangeText.innerText="".concat(this.rangeInput.value,"x ").concat(t),this.onChangeCallback&&this.onChangeCallback(parseFloat(this.rangeInput.value))},e.prototype.setValues=function(t,n,r,s){this.rangeInput.min=t.toString(),this.rangeInput.max=n.toString(),this.rangeInput.step=s.toString(),this.rangeInput.value=r.toString(),this.onValueChange()},e.prototype.show=function(){this.zoomElementContainer.style.display="block"},e.prototype.hide=function(){this.zoomElementContainer.style.display="none"},e.prototype.setOnCameraZoomValueChangeCallback=function(t){this.onChangeCallback=t},e.prototype.removeOnCameraZoomValueChangeCallback=function(){this.onChangeCallback=null},e.create=function(t,n){var r=new e;return r.render(t,n),r},e}(),Nn;(function(e){e[e.STATUS_DEFAULT=0]="STATUS_DEFAULT",e[e.STATUS_SUCCESS=1]="STATUS_SUCCESS",e[e.STATUS_WARNING=2]="STATUS_WARNING",e[e.STATUS_REQUESTING_PERMISSION=3]="STATUS_REQUESTING_PERMISSION"})(Nn||(Nn={}));function YT(e){return{fps:e.fps,qrbox:e.qrbox,aspectRatio:e.aspectRatio,disableFlip:e.disableFlip,videoConstraints:e.videoConstraints}}function XT(e,t){return{formatsToSupport:e.formatsToSupport,useBarCodeDetectorIfSupported:e.useBarCodeDetectorIfSupported,experimentalFeatures:e.experimentalFeatures,verbose:t}}var Zu=function(){function e(t,n,r){if(this.lastMatchFound=null,this.cameraScanImage=null,this.fileScanImage=null,this.fileSelectionUi=null,this.elementId=t,this.config=this.createConfig(n),this.verbose=r===!0,!document.getElementById(t))throw"HTML Element with id=".concat(t," not found");this.scanTypeSelector=new ui(this.config.supportedScanTypes),this.currentScanType=this.scanTypeSelector.getDefaultScanType(),this.sectionSwapAllowed=!0,this.logger=new Ow(this.verbose),this.persistedDataManager=new LT,n.rememberLastUsedCamera!==!0&&this.persistedDataManager.reset()}return e.prototype.render=function(t,n){var r=this;this.lastMatchFound=null,this.qrCodeSuccessCallback=function(a,c){if(t)t(a,c);else{if(r.lastMatchFound===a)return;r.lastMatchFound=a,r.setHeaderMessage(He.lastMatch(a),Nn.STATUS_SUCCESS)}},this.qrCodeErrorCallback=function(a,c){n&&n(a,c)};var s=document.getElementById(this.elementId);if(!s)throw"HTML Element with id=".concat(this.elementId," not found");s.innerHTML="",this.createBasicLayout(s),this.html5Qrcode=new Am(this.getScanRegionId(),XT(this.config,this.verbose))},e.prototype.pause=function(t){(Mr(t)||t!==!0)&&(t=!1),this.getHtml5QrcodeOrFail().pause(t)},e.prototype.resume=function(){this.getHtml5QrcodeOrFail().resume()},e.prototype.getState=function(){return this.getHtml5QrcodeOrFail().getState()},e.prototype.clear=function(){var t=this,n=function(){var r=document.getElementById(t.elementId);r&&(r.innerHTML="",t.resetBasicLayout(r))};return this.html5Qrcode?new Promise(function(r,s){if(!t.html5Qrcode){r();return}t.html5Qrcode.isScanning?t.html5Qrcode.stop().then(function(a){if(!t.html5Qrcode){r();return}t.html5Qrcode.clear(),n(),r()}).catch(function(a){t.verbose&&t.logger.logError("Unable to stop qrcode scanner",a),s(a)}):(t.html5Qrcode.clear(),n(),r())}):Promise.resolve()},e.prototype.getRunningTrackCapabilities=function(){return this.getHtml5QrcodeOrFail().getRunningTrackCapabilities()},e.prototype.getRunningTrackSettings=function(){return this.getHtml5QrcodeOrFail().getRunningTrackSettings()},e.prototype.applyVideoConstraints=function(t){return this.getHtml5QrcodeOrFail().applyVideoConstraints(t)},e.prototype.getHtml5QrcodeOrFail=function(){if(!this.html5Qrcode)throw"Code scanner not initialized.";return this.html5Qrcode},e.prototype.createConfig=function(t){return t?(t.fps||(t.fps=lr.SCAN_DEFAULT_FPS),t.rememberLastUsedCamera!==!lr.DEFAULT_REMEMBER_LAST_CAMERA_USED&&(t.rememberLastUsedCamera=lr.DEFAULT_REMEMBER_LAST_CAMERA_USED),t.supportedScanTypes||(t.supportedScanTypes=lr.DEFAULT_SUPPORTED_SCAN_TYPE),t):{fps:lr.SCAN_DEFAULT_FPS,rememberLastUsedCamera:lr.DEFAULT_REMEMBER_LAST_CAMERA_USED,supportedScanTypes:lr.DEFAULT_SUPPORTED_SCAN_TYPE}},e.prototype.createBasicLayout=function(t){t.style.position="relative",t.style.padding="0px",t.style.border="1px solid silver",this.createHeader(t);var n=document.createElement("div"),r=this.getScanRegionId();n.id=r,n.style.width="100%",n.style.minHeight="100px",n.style.textAlign="center",t.appendChild(n),ui.isCameraScanType(this.currentScanType)?this.insertCameraScanImageToScanRegion():this.insertFileScanImageToScanRegion();var s=document.createElement("div"),a=this.getDashboardId();s.id=a,s.style.width="100%",t.appendChild(s),this.setupInitialDashboard(s)},e.prototype.resetBasicLayout=function(t){t.style.border="none"},e.prototype.setupInitialDashboard=function(t){this.createSection(t),this.createSectionControlPanel(),this.scanTypeSelector.hasMoreThanOneScanType()&&this.createSectionSwap()},e.prototype.createHeader=function(t){var n=document.createElement("div");n.style.textAlign="left",n.style.margin="0px",t.appendChild(n);var r=new FT;r.renderInto(n);var s=document.createElement("div");s.id=this.getHeaderMessageContainerId(),s.style.display="none",s.style.textAlign="center",s.style.fontSize="14px",s.style.padding="2px 10px",s.style.margin="4px",s.style.borderTop="1px solid #f6f6f6",n.appendChild(s)},e.prototype.createSection=function(t){var n=document.createElement("div");n.id=this.getDashboardSectionId(),n.style.width="100%",n.style.padding="10px 0px 10px 0px",n.style.textAlign="left",t.appendChild(n)},e.prototype.createCameraListUi=function(t,n,r){var s=this;s.showHideScanTypeSwapLink(!1),s.setHeaderMessage(He.cameraPermissionRequesting());var a=function(){r||s.createPermissionButton(t,n)};Am.getCameras().then(function(c){s.persistedDataManager.setHasPermission(!0),s.showHideScanTypeSwapLink(!0),s.resetHeaderMessage(),c&&c.length>0?(t.removeChild(n),s.renderCameraSelection(c)):(s.setHeaderMessage(He.noCameraFound(),Nn.STATUS_WARNING),a())}).catch(function(c){s.persistedDataManager.setHasPermission(!1),r?r.disabled=!1:a(),s.setHeaderMessage(c,Nn.STATUS_WARNING),s.showHideScanTypeSwapLink(!0)})},e.prototype.createPermissionButton=function(t,n){var r=this,s=Vr.createElement("button",this.getCameraPermissionButtonId());s.innerText=He.cameraPermissionTitle(),s.addEventListener("click",function(){s.disabled=!0,r.createCameraListUi(t,n,s)}),n.appendChild(s)},e.prototype.createPermissionsUi=function(t,n){var r=this;if(ui.isCameraScanType(this.currentScanType)&&this.persistedDataManager.hasCameraPermissions()){_m.hasPermissions().then(function(s){s?r.createCameraListUi(t,n):(r.persistedDataManager.setHasPermission(!1),r.createPermissionButton(t,n))}).catch(function(s){r.persistedDataManager.setHasPermission(!1),r.createPermissionButton(t,n)});return}this.createPermissionButton(t,n)},e.prototype.createSectionControlPanel=function(){var t=document.getElementById(this.getDashboardSectionId()),n=document.createElement("div");t.appendChild(n);var r=document.createElement("div");r.id=this.getDashboardSectionCameraScanRegionId(),r.style.display=ui.isCameraScanType(this.currentScanType)?"block":"none",n.appendChild(r);var s=document.createElement("div");s.style.textAlign="center",r.appendChild(s),this.scanTypeSelector.isCameraScanRequired()&&this.createPermissionsUi(r,s),this.renderFileScanUi(n)},e.prototype.renderFileScanUi=function(t){var n=ui.isFileScanType(this.currentScanType),r=this,s=function(a){if(!r.html5Qrcode)throw"html5Qrcode not defined";ui.isFileScanType(r.currentScanType)&&(r.setHeaderMessage(He.loadingImage()),r.html5Qrcode.scanFileV2(a,!0).then(function(c){r.resetHeaderMessage(),r.qrCodeSuccessCallback(c.decodedText,c)}).catch(function(c){r.setHeaderMessage(c,Nn.STATUS_WARNING),r.qrCodeErrorCallback(c,Rw.createFrom(c))}))};this.fileSelectionUi=HT.create(t,n,s)},e.prototype.renderCameraSelection=function(t){var n=this,r=this,s=document.getElementById(this.getDashboardSectionCameraScanRegionId());s.style.textAlign="center";var a=VT.create(s,!1),c=function(R){var O=R.zoomFeature();if(O.isSupported()){a.setOnCameraZoomValueChangeCallback(function(T){O.apply(T)});var M=1;n.config.defaultZoomValueIfSupported&&(M=n.config.defaultZoomValueIfSupported),M=fT(M,O.min(),O.max()),a.setValues(O.min(),O.max(),M,O.step()),a.show()}},h=WT.create(s,t),p=document.createElement("span"),g=Vr.createElement("button",Rn.CAMERA_START_BUTTON_ID);g.innerText=He.scanButtonStartScanningText(),p.appendChild(g);var x=Vr.createElement("button",Rn.CAMERA_STOP_BUTTON_ID);x.innerText=He.scanButtonStopScanningText(),x.style.display="none",x.disabled=!0,p.appendChild(x);var w,E=function(R){if(!R.torchFeature().isSupported()){w&&w.hide();return}w?w.updateTorchCapability(R.torchFeature()):w=UT.create(p,R.torchFeature(),{display:"none",marginLeft:"5px"},function(O){r.setHeaderMessage(O,Nn.STATUS_WARNING)}),w.show()};s.appendChild(p);var S=function(R){R||(g.style.display="none"),g.innerText=He.scanButtonStartScanningText(),g.style.opacity="1",g.disabled=!1,R&&(g.style.display="inline-block")};if(g.addEventListener("click",function(R){g.innerText=He.scanButtonScanningStarting(),h.disable(),g.disabled=!0,g.style.opacity="0.5",n.scanTypeSelector.hasMoreThanOneScanType()&&r.showHideScanTypeSwapLink(!1),r.resetHeaderMessage();var O=h.getValue();r.persistedDataManager.setLastUsedCameraId(O),r.html5Qrcode.start(O,YT(r.config),r.qrCodeSuccessCallback,r.qrCodeErrorCallback).then(function(M){x.disabled=!1,x.style.display="inline-block",S(!1);var T=r.html5Qrcode.getRunningTrackCameraCapabilities();n.config.showTorchButtonIfSupported===!0&&E(T),n.config.showZoomSliderIfSupported===!0&&c(T)}).catch(function(M){r.showHideScanTypeSwapLink(!0),h.enable(),S(!0),r.setHeaderMessage(M,Nn.STATUS_WARNING)})}),h.hasSingleItem()&&g.click(),x.addEventListener("click",function(R){if(!r.html5Qrcode)throw"html5Qrcode not defined";x.disabled=!0,r.html5Qrcode.stop().then(function(O){n.scanTypeSelector.hasMoreThanOneScanType()&&r.showHideScanTypeSwapLink(!0),h.enable(),g.disabled=!1,x.style.display="none",g.style.display="inline-block",w&&(w.reset(),w.hide()),a.removeOnCameraZoomValueChangeCallback(),a.hide(),r.insertCameraScanImageToScanRegion()}).catch(function(O){x.disabled=!1,r.setHeaderMessage(O,Nn.STATUS_WARNING)})}),r.persistedDataManager.getLastUsedCameraId()){var v=r.persistedDataManager.getLastUsedCameraId();h.hasValue(v)?(h.setValue(v),g.click()):r.persistedDataManager.resetLastUsedCameraId()}},e.prototype.createSectionSwap=function(){var t=this,n=He.textIfCameraScanSelected(),r=He.textIfFileScanSelected(),s=document.getElementById(this.getDashboardSectionId()),a=document.createElement("div");a.style.textAlign="center";var c=Vr.createElement("span",this.getDashboardSectionSwapLinkId());c.style.textDecoration="underline",c.style.cursor="pointer",c.innerText=ui.isCameraScanType(this.currentScanType)?n:r,c.addEventListener("click",function(){if(!t.sectionSwapAllowed){t.verbose&&t.logger.logError("Section swap called when not allowed");return}t.resetHeaderMessage(),t.fileSelectionUi.resetValue(),t.sectionSwapAllowed=!1,ui.isCameraScanType(t.currentScanType)?(t.clearScanRegion(),t.getCameraScanRegion().style.display="none",t.fileSelectionUi.show(),c.innerText=r,t.currentScanType=Li.SCAN_TYPE_FILE,t.insertFileScanImageToScanRegion()):(t.clearScanRegion(),t.getCameraScanRegion().style.display="block",t.fileSelectionUi.hide(),c.innerText=n,t.currentScanType=Li.SCAN_TYPE_CAMERA,t.insertCameraScanImageToScanRegion(),t.startCameraScanIfPermissionExistsOnSwap()),t.sectionSwapAllowed=!0}),a.appendChild(c),s.appendChild(a)},e.prototype.startCameraScanIfPermissionExistsOnSwap=function(){var t=this,n=this;if(this.persistedDataManager.hasCameraPermissions()){_m.hasPermissions().then(function(r){if(r){var s=document.getElementById(n.getCameraPermissionButtonId());if(!s)throw t.logger.logError("Permission button not found, fail;"),"Permission button not found";s.click()}else n.persistedDataManager.setHasPermission(!1)}).catch(function(r){n.persistedDataManager.setHasPermission(!1)});return}},e.prototype.resetHeaderMessage=function(){var t=document.getElementById(this.getHeaderMessageContainerId());t.style.display="none"},e.prototype.setHeaderMessage=function(t,n){n||(n=Nn.STATUS_DEFAULT);var r=this.getHeaderMessageDiv();switch(r.innerText=t,r.style.display="block",n){case Nn.STATUS_SUCCESS:r.style.background="rgba(106, 175, 80, 0.26)",r.style.color="#477735";break;case Nn.STATUS_WARNING:r.style.background="rgba(203, 36, 49, 0.14)",r.style.color="#cb2431";break;case Nn.STATUS_DEFAULT:default:r.style.background="rgba(0, 0, 0, 0)",r.style.color="rgb(17, 17, 17)";break}},e.prototype.showHideScanTypeSwapLink=function(t){this.scanTypeSelector.hasMoreThanOneScanType()&&(t!==!0&&(t=!1),this.sectionSwapAllowed=t,this.getDashboardSectionSwapLink().style.display=t?"inline-block":"none")},e.prototype.insertCameraScanImageToScanRegion=function(){var t=this,n=document.getElementById(this.getScanRegionId());if(this.cameraScanImage){n.innerHTML="<br>",n.appendChild(this.cameraScanImage);return}this.cameraScanImage=new Image,this.cameraScanImage.onload=function(r){n.innerHTML="<br>",n.appendChild(t.cameraScanImage)},this.cameraScanImage.width=64,this.cameraScanImage.style.opacity="0.8",this.cameraScanImage.src=OT,this.cameraScanImage.alt=He.cameraScanAltText()},e.prototype.insertFileScanImageToScanRegion=function(){var t=this,n=document.getElementById(this.getScanRegionId());if(this.fileScanImage){n.innerHTML="<br>",n.appendChild(this.fileScanImage);return}this.fileScanImage=new Image,this.fileScanImage.onload=function(r){n.innerHTML="<br>",n.appendChild(t.fileScanImage)},this.fileScanImage.width=64,this.fileScanImage.style.opacity="0.8",this.fileScanImage.src=DT,this.fileScanImage.alt=He.fileScanAltText()},e.prototype.clearScanRegion=function(){var t=document.getElementById(this.getScanRegionId());t.innerHTML=""},e.prototype.getDashboardSectionId=function(){return"".concat(this.elementId,"__dashboard_section")},e.prototype.getDashboardSectionCameraScanRegionId=function(){return"".concat(this.elementId,"__dashboard_section_csr")},e.prototype.getDashboardSectionSwapLinkId=function(){return Rn.SCAN_TYPE_CHANGE_ANCHOR_ID},e.prototype.getScanRegionId=function(){return"".concat(this.elementId,"__scan_region")},e.prototype.getDashboardId=function(){return"".concat(this.elementId,"__dashboard")},e.prototype.getHeaderMessageContainerId=function(){return"".concat(this.elementId,"__header_message")},e.prototype.getCameraPermissionButtonId=function(){return Rn.CAMERA_PERMISSION_BUTTON_ID},e.prototype.getCameraScanRegion=function(){return document.getElementById(this.getDashboardSectionCameraScanRegionId())},e.prototype.getDashboardSectionSwapLink=function(){return document.getElementById(this.getDashboardSectionSwapLinkId())},e.prototype.getHeaderMessageDiv=function(){return document.getElementById(this.getHeaderMessageContainerId())},e}();function GT(){const[e,t]=U.useState(!1),[n,r]=U.useState(null),s=U.useRef(null),a=U.useRef(null),c=()=>{var S;s.current&&(s.current.clear().catch(v=>console.error("Error clearing scanner:",v)),s.current=null),r(null);const p=((S=a.current)==null?void 0:S.clientWidth)||300,g=Math.min(p-40,250),x=new Zu("qr-reader",{fps:10,qrbox:{width:g,height:g},rememberLastUsedCamera:!0,aspectRatio:1},!1);s.current=x;const w=async v=>{var R,O;await x.pause(),t(!0);try{const M=await Xe.patch("api/scanner/checkIn",{token:v},{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}});r({text:v,success:!0,message:M.data.message}),await x.clear(),s.current=null}catch(M){const T=((O=(R=M.response)==null?void 0:R.data)==null?void 0:O.message)||"Scanning failed, please try again";r({text:v,success:!1,message:T}),await x.clear(),s.current=null}finally{t(!1)}},E=v=>{console.error("Scan error:",v)};x.render(w,E)};U.useEffect(()=>{c();const p=()=>{s.current&&c()};return window.addEventListener("resize",p),()=>{window.removeEventListener("resize",p),s.current&&(s.current.clear().catch(g=>console.error("Cleanup error:",g)),s.current=null)}},[]);const h=()=>{r(null),setTimeout(()=>{c()},300)};return A.jsx("div",{className:"min-h-screen bg-gradient-to-b from-blue-50 to-indigo-100 p-4 sm:p-8",children:A.jsxs("div",{className:"max-w-lg mx-auto",children:[A.jsxs("div",{className:"flex items-center justify-between mb-6",children:[A.jsxs("div",{className:"flex items-center",children:[A.jsx(Zn,{to:"/",className:"mr-3 lg:hidden",children:A.jsx(Ao,{className:"h-6 w-6 text-blue-700"})}),A.jsxs("div",{className:"flex items-center",children:[A.jsx(So,{className:"h-6 w-6 sm:h-8 sm:w-8 text-blue-700 mr-2"}),A.jsx("h1",{className:"text-2xl sm:text-3xl font-bold text-gray-900",children:"Check In Student"})]})]}),A.jsxs("button",{onClick:h,className:"flex items-center px-3 py-1.5 sm:px-4 sm:py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors text-sm sm:text-base",children:[A.jsx(hr,{className:"h-4 w-4 sm:h-5 sm:w-5 mr-1 sm:mr-2"}),A.jsx("span",{children:"Reset"})]})]}),A.jsx("div",{className:"bg-white rounded-2xl shadow-lg overflow-hidden",children:n?A.jsxs("div",{className:"p-5 sm:p-8",children:[A.jsxs("div",{className:"flex items-center mb-4",children:[n.success?A.jsx(ju,{className:"h-8 w-8 text-green-500 mr-3"}):A.jsx(O0,{className:"h-8 w-8 text-red-500 mr-3"}),A.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:n.success?"Scan Successful":"Scan Failed"})]}),A.jsx("div",{className:`p-4 rounded-lg mb-4 ${n.success?"bg-green-50 text-green-800":"bg-red-50 text-red-800"}`,children:A.jsx("p",{className:"font-medium",children:n.message})}),A.jsxs("div",{className:"flex flex-col sm:flex-row gap-3",children:[A.jsxs("button",{onClick:h,className:"flex-1 flex items-center justify-center px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:[A.jsx(hr,{className:"h-5 w-5 mr-2"}),"Scan Again"]}),A.jsx(Zn,{to:"/",className:"flex-1",children:A.jsx("button",{className:"w-full px-4 py-2 border border-blue-600 text-blue-600 rounded-lg hover:bg-blue-50 transition-colors",children:"Back to Home"})})]})]}):A.jsxs(A.Fragment,{children:[A.jsx("div",{className:"p-4 bg-blue-700 text-white text-center",children:A.jsx("p",{className:"font-medium",children:"Position the QR code within the frame"})}),A.jsxs("div",{className:"p-4 sm:p-6",ref:a,children:[A.jsx("div",{id:"qr-reader",className:"overflow-hidden rounded-lg"}),e&&A.jsxs("div",{className:"flex items-center justify-center mt-4 p-4 bg-blue-50 rounded-lg",children:[A.jsx(hr,{className:"h-5 w-5 text-blue-600 animate-spin mr-2"}),A.jsx("p",{className:"text-blue-600 font-medium",children:"Processing scan..."})]})]})]})}),!n&&A.jsxs("div",{className:"mt-5 bg-white p-4 rounded-lg shadow text-gray-600 text-sm",children:[A.jsx("h3",{className:"font-medium text-gray-800 mb-2",children:"Tips for scanning:"}),A.jsxs("ul",{className:"list-disc pl-5 space-y-1",children:[A.jsx("li",{children:"Ensure good lighting on the QR code"}),A.jsx("li",{children:"Hold the camera steady"}),A.jsx("li",{children:"Position the entire QR code within the frame"}),A.jsx("li",{children:"If scanning fails, try resetting the scanner"})]})]})]})})}function QT(){const[e,t]=U.useState(!1),[n,r]=U.useState(null),s=U.useRef(null),a=U.useRef(null),c=()=>{var S;s.current&&(s.current.clear().catch(v=>console.error("Error clearing scanner:",v)),s.current=null),r(null);const p=((S=a.current)==null?void 0:S.clientWidth)||300,g=Math.min(p-40,250),x=new Zu("qr-reader",{fps:10,qrbox:{width:g,height:g},rememberLastUsedCamera:!0,aspectRatio:1},!1);s.current=x;const w=async v=>{var R,O;await x.pause(),t(!0);try{const M=await Xe.patch("api/scanner/scanfood",{token:v},{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}});r({text:v,success:!0,message:M.data.message}),await x.clear(),s.current=null}catch(M){const T=((O=(R=M.response)==null?void 0:R.data)==null?void 0:O.message)||"Scanning failed, please try again";r({text:v,success:!1,message:T}),await x.clear(),s.current=null}finally{t(!1)}},E=v=>{console.error("Scan error:",v)};x.render(w,E)};U.useEffect(()=>{c();const p=()=>{s.current&&c()};return window.addEventListener("resize",p),()=>{window.removeEventListener("resize",p),s.current&&(s.current.clear().catch(g=>console.error("Cleanup error:",g)),s.current=null)}},[]);const h=()=>{r(null),setTimeout(()=>{c()},300)};return A.jsx("div",{className:"min-h-screen bg-gradient-to-b from-blue-50 to-indigo-100 p-4 sm:p-8",children:A.jsxs("div",{className:"max-w-lg mx-auto",children:[A.jsxs("div",{className:"flex items-center justify-between mb-6",children:[A.jsxs("div",{className:"flex items-center",children:[A.jsx(Zn,{to:"/",className:"mr-3 lg:hidden",children:A.jsx(Ao,{className:"h-6 w-6 text-blue-700"})}),A.jsxs("div",{className:"flex items-center",children:[A.jsx(So,{className:"h-6 w-6 sm:h-8 sm:w-8 text-blue-700 mr-2"}),A.jsx("h1",{className:"text-2xl sm:text-3xl font-bold text-gray-900",children:"Scan Food"})]})]}),A.jsxs("button",{onClick:h,className:"flex items-center px-3 py-1.5 sm:px-4 sm:py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors text-sm sm:text-base",children:[A.jsx(hr,{className:"h-4 w-4 sm:h-5 sm:w-5 mr-1 sm:mr-2"}),A.jsx("span",{children:"Reset"})]})]}),A.jsx("div",{className:"bg-white rounded-2xl shadow-lg overflow-hidden",children:n?A.jsxs("div",{className:"p-5 sm:p-8",children:[A.jsxs("div",{className:"flex items-center mb-4",children:[n.success?A.jsx(ju,{className:"h-8 w-8 text-green-500 mr-3"}):A.jsx(O0,{className:"h-8 w-8 text-red-500 mr-3"}),A.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:n.success?"Scan Successful":"Scan Failed"})]}),A.jsx("div",{className:`p-4 rounded-lg mb-4 ${n.success?"bg-green-50 text-green-800":"bg-red-50 text-red-800"}`,children:A.jsx("p",{className:"font-medium",children:n.message})}),A.jsxs("div",{className:"flex flex-col sm:flex-row gap-3",children:[A.jsxs("button",{onClick:h,className:"flex-1 flex items-center justify-center px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:[A.jsx(hr,{className:"h-5 w-5 mr-2"}),"Scan Again"]}),A.jsx(Zn,{to:"/",className:"flex-1",children:A.jsx("button",{className:"w-full px-4 py-2 border border-blue-600 text-blue-600 rounded-lg hover:bg-blue-50 transition-colors",children:"Back to Home"})})]})]}):A.jsxs(A.Fragment,{children:[A.jsx("div",{className:"p-4 bg-blue-700 text-white text-center",children:A.jsx("p",{className:"font-medium",children:"Position the QR code within the frame"})}),A.jsxs("div",{className:"p-4 sm:p-6",ref:a,children:[A.jsx("div",{id:"qr-reader",className:"overflow-hidden rounded-lg"}),e&&A.jsxs("div",{className:"flex items-center justify-center mt-4 p-4 bg-blue-50 rounded-lg",children:[A.jsx(hr,{className:"h-5 w-5 text-blue-600 animate-spin mr-2"}),A.jsx("p",{className:"text-blue-600 font-medium",children:"Processing scan..."})]})]})]})}),!n&&A.jsxs("div",{className:"mt-5 bg-white p-4 rounded-lg shadow text-gray-600 text-sm",children:[A.jsx("h3",{className:"font-medium text-gray-800 mb-2",children:"Tips for scanning:"}),A.jsxs("ul",{className:"list-disc pl-5 space-y-1",children:[A.jsx("li",{children:"Ensure good lighting on the QR code"}),A.jsx("li",{children:"Hold the camera steady"}),A.jsx("li",{children:"Position the entire QR code within the frame"}),A.jsx("li",{children:"If scanning fails, try resetting the scanner"})]})]})]})})}function ZT(){const[e,t]=U.useState(!1),[n,r]=U.useState(null),s=U.useRef(null),a=U.useRef(null),c=()=>{var S;s.current&&(s.current.clear().catch(v=>console.error("Error clearing scanner:",v)),s.current=null),r(null);const p=((S=a.current)==null?void 0:S.clientWidth)||300,g=Math.min(p-40,250),x=new Zu("qr-reader",{fps:10,qrbox:{width:g,height:g},rememberLastUsedCamera:!0,aspectRatio:1},!1);s.current=x;const w=async v=>{var R,O;await x.pause(),t(!0);try{const M=await Xe.patch("api/scanner/scanicecream",{token:v},{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}});r({text:v,success:!0,message:M.data.message}),await x.clear(),s.current=null}catch(M){const T=((O=(R=M.response)==null?void 0:R.data)==null?void 0:O.message)||"Scanning failed, please try again";r({text:v,success:!1,message:T}),await x.clear(),s.current=null}finally{t(!1)}},E=v=>{console.error("Scan error:",v)};x.render(w,E)};U.useEffect(()=>{c();const p=()=>{s.current&&c()};return window.addEventListener("resize",p),()=>{window.removeEventListener("resize",p),s.current&&(s.current.clear().catch(g=>console.error("Cleanup error:",g)),s.current=null)}},[]);const h=()=>{r(null),setTimeout(()=>{c()},300)};return A.jsx("div",{className:"min-h-screen bg-gradient-to-b from-blue-50 to-indigo-100 p-4 sm:p-8",children:A.jsxs("div",{className:"max-w-lg mx-auto",children:[A.jsxs("div",{className:"flex items-center justify-between mb-6",children:[A.jsxs("div",{className:"flex items-center",children:[A.jsx(Zn,{to:"/",className:"mr-3 lg:hidden",children:A.jsx(Ao,{className:"h-6 w-6 text-blue-700"})}),A.jsxs("div",{className:"flex items-center",children:[A.jsx(So,{className:"h-6 w-6 sm:h-8 sm:w-8 text-blue-700 mr-2"}),A.jsx("h1",{className:"text-2xl sm:text-3xl font-bold text-gray-900",children:"Scan IceCream"})]})]}),A.jsxs("button",{onClick:h,className:"flex items-center px-3 py-1.5 sm:px-4 sm:py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors text-sm sm:text-base",children:[A.jsx(hr,{className:"h-4 w-4 sm:h-5 sm:w-5 mr-1 sm:mr-2"}),A.jsx("span",{children:"Reset"})]})]}),A.jsx("div",{className:"bg-white rounded-2xl shadow-lg overflow-hidden",children:n?A.jsxs("div",{className:"p-5 sm:p-8",children:[A.jsxs("div",{className:"flex items-center mb-4",children:[n.success?A.jsx(ju,{className:"h-8 w-8 text-green-500 mr-3"}):A.jsx(O0,{className:"h-8 w-8 text-red-500 mr-3"}),A.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:n.success?"Scan Successful":"Scan Failed"})]}),A.jsx("div",{className:`p-4 rounded-lg mb-4 ${n.success?"bg-green-50 text-green-800":"bg-red-50 text-red-800"}`,children:A.jsx("p",{className:"font-medium",children:n.message})}),A.jsxs("div",{className:"flex flex-col sm:flex-row gap-3",children:[A.jsxs("button",{onClick:h,className:"flex-1 flex items-center justify-center px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:[A.jsx(hr,{className:"h-5 w-5 mr-2"}),"Scan Again"]}),A.jsx(Zn,{to:"/",className:"flex-1",children:A.jsx("button",{className:"w-full px-4 py-2 border border-blue-600 text-blue-600 rounded-lg hover:bg-blue-50 transition-colors",children:"Back to Home"})})]})]}):A.jsxs(A.Fragment,{children:[A.jsx("div",{className:"p-4 bg-blue-700 text-white text-center",children:A.jsx("p",{className:"font-medium",children:"Position the QR code within the frame"})}),A.jsxs("div",{className:"p-4 sm:p-6",ref:a,children:[A.jsx("div",{id:"qr-reader",className:"overflow-hidden rounded-lg"}),e&&A.jsxs("div",{className:"flex items-center justify-center mt-4 p-4 bg-blue-50 rounded-lg",children:[A.jsx(hr,{className:"h-5 w-5 text-blue-600 animate-spin mr-2"}),A.jsx("p",{className:"text-blue-600 font-medium",children:"Processing scan..."})]})]})]})}),!n&&A.jsxs("div",{className:"mt-5 bg-white p-4 rounded-lg shadow text-gray-600 text-sm",children:[A.jsx("h3",{className:"font-medium text-gray-800 mb-2",children:"Tips for scanning:"}),A.jsxs("ul",{className:"list-disc pl-5 space-y-1",children:[A.jsx("li",{children:"Ensure good lighting on the QR code"}),A.jsx("li",{children:"Hold the camera steady"}),A.jsx("li",{children:"Position the entire QR code within the frame"}),A.jsx("li",{children:"If scanning fails, try resetting the scanner"})]})]})]})})}const KT=()=>{var R,O,M;const e=Ui(),[t,n]=U.useState(null),[r,s]=U.useState(!1),[a,c]=U.useState(null),[h,p]=U.useState(!1),g=U.useRef(null),x=U.useRef(null),w=()=>{var F;g.current&&(g.current.clear().catch(H=>console.error("Error clearing scanner:",H)),g.current=null),n(null),c(null);const T=((F=x.current)==null?void 0:F.clientWidth)||300,N=Math.min(T-20,250),L=new Zu("qr-reader",{fps:10,qrbox:{width:N,height:N},rememberLastUsedCamera:!0,aspectRatio:1,showTorchButtonIfSupported:!0,showZoomSliderIfSupported:!0,defaultZoomValueIfSupported:2},!1);g.current=L;const z=async H=>{var G,re;await L.pause(),p(!0),s(!0);try{const te=await(await Xe.get(`/api/student/${H}`,{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}})).data;n(te),navigator.vibrate&&navigator.vibrate(100),await L.clear(),g.current=null}catch(oe){const te=((re=(G=oe.response)==null?void 0:G.data)==null?void 0:re.message)||"Scanning failed, please try again";qn.error(te),n(null),c(te),await L.clear(),g.current=null}finally{p(!1),s(!1)}},Y=H=>{console.error("Scan error:",H)};L.render(z,Y),setTimeout(()=>{const H=document.querySelector("#qr-reader select");H&&(H.style.height="40px",H.style.fontSize="16px",H.style.padding="8px"),document.querySelectorAll("#qr-reader button").forEach(re=>{re.style.minHeight="44px",re.style.padding="10px 15px",re.style.fontSize="16px"})},500)};U.useEffect(()=>{w();const T=()=>{g.current&&w()};return window.addEventListener("resize",T),window.addEventListener("orientationchange",T),()=>{window.removeEventListener("resize",T),window.removeEventListener("orientationchange",T),g.current&&(g.current.clear().catch(N=>console.error("Cleanup error:",N)),g.current=null)}},[]);const E=()=>{n(null),c(null),setTimeout(()=>{w()},300)},S=()=>{e(-1)},v=T=>T?new Date(T).toLocaleString():"N/A";return A.jsxs("div",{className:"min-h-screen bg-blue-50 flex flex-col",children:[A.jsxs("div",{className:"sticky top-0 bg-white shadow-md z-10 p-3 flex items-center border-b border-gray-200",children:[A.jsx("button",{onClick:S,className:"mr-2 p-2 hover:bg-gray-100 rounded-full transition duration-200 focus:outline-none focus:ring-2 focus:ring-blue-500","aria-label":"Go back",children:A.jsx(Ao,{size:20,className:"text-blue-600"})}),A.jsxs("h1",{className:"text-base font-semibold text-blue-800 flex items-center truncate",children:[A.jsx(So,{className:"h-5 w-5 text-blue-700 mr-2 flex-shrink-0"}),A.jsx("span",{className:"truncate",children:"Student QR Search"})]}),A.jsxs("button",{onClick:E,className:"ml-auto flex items-center px-2 py-1.5 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors text-sm",children:[A.jsx(hr,{className:"h-4 w-4 mr-1"}),A.jsx("span",{className:"hidden sm:inline",children:"Reset"})]})]}),A.jsxs("div",{className:"p-3 flex-grow max-w-xl mx-auto w-full",children:[!t&&A.jsxs("div",{className:"bg-white rounded-xl shadow-md overflow-hidden mb-4",children:[A.jsx("div",{className:"p-3 bg-blue-700 text-white text-center",children:A.jsxs("p",{className:"font-medium text-sm sm:text-base flex items-center justify-center",children:[A.jsx(iv,{className:"h-4 w-4 mr-2"}),"Scan Student QR Code"]})}),A.jsxs("div",{className:"p-3 sm:p-4",ref:x,children:[A.jsx("div",{id:"qr-reader",className:"overflow-hidden rounded-lg mx-auto",style:{maxWidth:"100%"}}),h&&A.jsxs("div",{className:"flex items-center justify-center mt-3 p-3 bg-blue-50 rounded-lg",children:[A.jsx(Ay,{className:"h-4 w-4 text-blue-600 animate-spin mr-2"}),A.jsx("p",{className:"text-blue-600 font-medium text-sm",children:"Processing..."})]})]}),A.jsxs("div",{className:"p-3 bg-blue-50 text-gray-600 text-xs sm:text-sm border-t border-blue-100",children:[A.jsx("h3",{className:"font-medium text-gray-800 mb-1",children:"Tips for scanning:"}),A.jsxs("ul",{className:"list-disc pl-4 space-y-0.5",children:[A.jsx("li",{children:"Ensure good lighting"}),A.jsx("li",{children:"Hold camera steady"}),A.jsx("li",{children:"Position QR code in frame"})]})]})]}),a&&A.jsxs("div",{className:"bg-red-50 text-red-700 p-3 rounded-lg mb-4 border border-red-200 flex items-center text-sm",children:[A.jsx(nv,{size:16,className:"mr-2 flex-shrink-0"}),A.jsx("span",{children:a})]}),t&&A.jsxs("div",{className:"bg-white rounded-xl p-3 sm:p-4 border border-gray-200 shadow-md transition-all duration-300 ease-in-out",children:[A.jsxs("h2",{className:"text-base sm:text-lg font-semibold text-blue-800 mb-3 flex items-center",children:[A.jsx(ba,{size:18,className:"mr-2 text-blue-600 flex-shrink-0"}),"Student Information"]}),A.jsxs("div",{className:"space-y-3",children:[A.jsxs("div",{className:"bg-blue-50 rounded-lg p-3 border border-blue-100",children:[A.jsx("h3",{className:"text-xs uppercase text-blue-700 font-medium mb-2",children:"Basic Details"}),A.jsx(qT,{label:"ID Number",value:t.idNumber,icon:A.jsx(ba,{size:14})})]}),A.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-3 mt-3",children:[A.jsx(ad,{title:"Check-in",icon:A.jsx(ba,{size:16}),isCompleted:t.isCheckIn,completedTime:t.checkInTime?v(t.checkInTime):null,completedBy:(R=t.checkInScannedBy)==null?void 0:R.email}),A.jsx(ad,{title:"Food",icon:A.jsx(vy,{size:16}),isCompleted:t.isTakenFood,completedTime:t.foodTakenAt?v(t.foodTakenAt):null,completedBy:(O=t.foodScannedBy)==null?void 0:O.email}),A.jsx(ad,{title:"Ice Cream",icon:A.jsx(by,{size:16}),isCompleted:t.isTakenIcecream,completedTime:t.iceCreamTakenAt?v(t.iceCreamTakenAt):null,completedBy:(M=t.iceCreamScannedBy)==null?void 0:M.email})]})]}),A.jsx("div",{className:"mt-4",children:A.jsxs("button",{onClick:E,className:"w-full flex items-center justify-center px-4 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors text-base",children:[A.jsx(hr,{className:"h-5 w-5 mr-2"}),"Scan Another QR Code"]})})]})]})]})},qT=({label:e,value:t,icon:n=null,noBorder:r=!1})=>A.jsxs("div",{className:`flex flex-col sm:flex-row sm:justify-between py-2 ${r?"":"border-b border-blue-100"}`,children:[A.jsxs("span",{className:"font-medium text-gray-700 flex items-center mb-1 sm:mb-0 text-sm",children:[n&&A.jsx("span",{className:"mr-2 text-blue-600",children:n}),e]}),A.jsx("span",{className:"text-gray-800 break-all sm:text-right text-sm",children:t})]}),ad=({title:e,icon:t,isCompleted:n,completedTime:r,completedBy:s})=>A.jsxs("div",{className:`p-3 rounded-xl ${n?"bg-green-50 border border-green-200":"bg-gray-50 border border-gray-200"} transition-all duration-300 hover:shadow-md`,children:[A.jsxs("div",{className:"flex items-center justify-between mb-2",children:[A.jsxs("h3",{className:"font-semibold flex items-center text-gray-800 text-sm",children:[A.jsx("span",{className:`mr-2 ${n?"text-green-600":"text-gray-600"}`,children:t}),e]}),A.jsx("span",{className:`text-xs font-medium px-1.5 py-0.5 rounded-full ${n?"bg-green-100 text-green-700":"bg-red-100 text-red-700"} flex items-center`,children:n?A.jsxs(A.Fragment,{children:[A.jsx(sv,{size:12,className:"mr-0.5"}),"Completed"]}):A.jsxs(A.Fragment,{children:[A.jsx(_y,{size:12,className:"mr-0.5"}),"Pending"]})})]}),n?A.jsxs("div",{className:"space-y-1 text-xs",children:[r&&A.jsxs("div",{className:"flex items-center text-gray-700",children:[A.jsx(ov,{size:12,className:"text-blue-500 mr-1 flex-shrink-0"}),A.jsxs("div",{children:[A.jsx("span",{className:"font-medium mr-1",children:"Time:"}),A.jsx("span",{className:"break-all",children:r})]})]}),s&&A.jsxs("div",{className:"flex items-center text-gray-700",children:[A.jsx(ba,{size:12,className:"text-blue-500 mr-1 flex-shrink-0"}),A.jsxs("div",{children:[A.jsx("span",{className:"font-medium mr-1",children:"By:"}),A.jsx("span",{className:"break-all",children:s})]})]})]}):A.jsx("div",{className:"text-xs text-gray-500 italic",children:"No data available"})]}),$T=({element:e})=>{const t=bo(n=>n.auth.user);if(t)return t&&(t.category==="Admin"||t.category==="CheckIn")?e:A.jsx(ol,{to:"/",replace:!0})},JT=({element:e})=>{const t=bo(n=>n.auth.user);if(t)return t&&(t.category==="Admin"||t.category==="Food")?e:A.jsx(ol,{to:"/",replace:!0})},eN=({element:e})=>{const t=bo(n=>n.auth.user);if(t)return t&&(t.category==="Admin"||t.category==="Food")?e:A.jsx(ol,{to:"/",replace:!0})},ic=({element:e})=>{const t=bo(n=>n.auth.user);if(t)return t&&t.category==="Admin"||qn.error("You are not Admin"),t&&t.category==="Admin"?e:A.jsx(ol,{to:"/",replace:!0})},tN=()=>{U.useState(!1);const e=[{id:"1",title:"Add Students",description:"Register new students and generate QR codes",icon:A.jsx(fv,{size:24}),path:"/add-student"},{id:"2",title:"Add Verifiers",description:"Register new verifiers to the system",icon:A.jsx(ba,{size:24}),path:"/add-verifier"},{id:"3",title:"Generate QR Codes",description:"Generate QR codes for existing students",icon:A.jsx(So,{size:24}),path:"/generate-qr"}];return A.jsxs("div",{className:"min-h-screen bg-gray-50 text-gray-800",children:[A.jsx("header",{className:"bg-blue-600 text-white p-4 flex justify-start items-center shadow-md",children:A.jsx("h1",{className:"text-xl font-bold",children:"Admin Dashboard"})}),A.jsxs("main",{className:"p-4 max-w-7xl mx-auto",children:[A.jsxs("div",{className:"mb-6",children:[A.jsx("h2",{className:"text-2xl font-semibold mb-2",children:"Welcome, Admin"}),A.jsx("p",{className:"text-gray-600",children:"Manage students, verifiers, and QR codes from your dashboard"})]}),A.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 mt-8",children:e.map(t=>A.jsxs(Zn,{to:t.path,className:"bg-white rounded-lg shadow-md p-6 transition-transform transform hover:scale-105 hover:shadow-lg",children:[A.jsx("div",{className:"flex items-center justify-center w-12 h-12 bg-blue-100 text-blue-600 rounded-full mb-4",children:t.icon}),A.jsx("h3",{className:"text-lg font-semibold mb-2",children:t.title}),A.jsx("p",{className:"text-gray-600",children:t.description})]},t.id))})]})]})};var nN=Object.defineProperty,mu=Object.getOwnPropertySymbols,Bw=Object.prototype.hasOwnProperty,Fw=Object.prototype.propertyIsEnumerable,Tm=(e,t,n)=>t in e?nN(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Ih=(e,t)=>{for(var n in t||(t={}))Bw.call(t,n)&&Tm(e,n,t[n]);if(mu)for(var n of mu(t))Fw.call(t,n)&&Tm(e,n,t[n]);return e},Th=(e,t)=>{var n={};for(var r in e)Bw.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&mu)for(var r of mu(e))t.indexOf(r)<0&&Fw.call(e,r)&&(n[r]=e[r]);return n};/**
 * @license QR Code generator library (TypeScript)
 * Copyright (c) Project Nayuki.
 * SPDX-License-Identifier: MIT
 */var As;(e=>{const t=class Te{constructor(p,g,x,w){if(this.version=p,this.errorCorrectionLevel=g,this.modules=[],this.isFunction=[],p<Te.MIN_VERSION||p>Te.MAX_VERSION)throw new RangeError("Version value out of range");if(w<-1||w>7)throw new RangeError("Mask value out of range");this.size=p*4+17;let E=[];for(let v=0;v<this.size;v++)E.push(!1);for(let v=0;v<this.size;v++)this.modules.push(E.slice()),this.isFunction.push(E.slice());this.drawFunctionPatterns();const S=this.addEccAndInterleave(x);if(this.drawCodewords(S),w==-1){let v=1e9;for(let R=0;R<8;R++){this.applyMask(R),this.drawFormatBits(R);const O=this.getPenaltyScore();O<v&&(w=R,v=O),this.applyMask(R)}}s(0<=w&&w<=7),this.mask=w,this.applyMask(w),this.drawFormatBits(w),this.isFunction=[]}static encodeText(p,g){const x=e.QrSegment.makeSegments(p);return Te.encodeSegments(x,g)}static encodeBinary(p,g){const x=e.QrSegment.makeBytes(p);return Te.encodeSegments([x],g)}static encodeSegments(p,g,x=1,w=40,E=-1,S=!0){if(!(Te.MIN_VERSION<=x&&x<=w&&w<=Te.MAX_VERSION)||E<-1||E>7)throw new RangeError("Invalid value");let v,R;for(v=x;;v++){const N=Te.getNumDataCodewords(v,g)*8,L=c.getTotalBits(p,v);if(L<=N){R=L;break}if(v>=w)throw new RangeError("Data too long")}for(const N of[Te.Ecc.MEDIUM,Te.Ecc.QUARTILE,Te.Ecc.HIGH])S&&R<=Te.getNumDataCodewords(v,N)*8&&(g=N);let O=[];for(const N of p){n(N.mode.modeBits,4,O),n(N.numChars,N.mode.numCharCountBits(v),O);for(const L of N.getData())O.push(L)}s(O.length==R);const M=Te.getNumDataCodewords(v,g)*8;s(O.length<=M),n(0,Math.min(4,M-O.length),O),n(0,(8-O.length%8)%8,O),s(O.length%8==0);for(let N=236;O.length<M;N^=253)n(N,8,O);let T=[];for(;T.length*8<O.length;)T.push(0);return O.forEach((N,L)=>T[L>>>3]|=N<<7-(L&7)),new Te(v,g,T,E)}getModule(p,g){return 0<=p&&p<this.size&&0<=g&&g<this.size&&this.modules[g][p]}getModules(){return this.modules}drawFunctionPatterns(){for(let x=0;x<this.size;x++)this.setFunctionModule(6,x,x%2==0),this.setFunctionModule(x,6,x%2==0);this.drawFinderPattern(3,3),this.drawFinderPattern(this.size-4,3),this.drawFinderPattern(3,this.size-4);const p=this.getAlignmentPatternPositions(),g=p.length;for(let x=0;x<g;x++)for(let w=0;w<g;w++)x==0&&w==0||x==0&&w==g-1||x==g-1&&w==0||this.drawAlignmentPattern(p[x],p[w]);this.drawFormatBits(0),this.drawVersion()}drawFormatBits(p){const g=this.errorCorrectionLevel.formatBits<<3|p;let x=g;for(let E=0;E<10;E++)x=x<<1^(x>>>9)*1335;const w=(g<<10|x)^21522;s(w>>>15==0);for(let E=0;E<=5;E++)this.setFunctionModule(8,E,r(w,E));this.setFunctionModule(8,7,r(w,6)),this.setFunctionModule(8,8,r(w,7)),this.setFunctionModule(7,8,r(w,8));for(let E=9;E<15;E++)this.setFunctionModule(14-E,8,r(w,E));for(let E=0;E<8;E++)this.setFunctionModule(this.size-1-E,8,r(w,E));for(let E=8;E<15;E++)this.setFunctionModule(8,this.size-15+E,r(w,E));this.setFunctionModule(8,this.size-8,!0)}drawVersion(){if(this.version<7)return;let p=this.version;for(let x=0;x<12;x++)p=p<<1^(p>>>11)*7973;const g=this.version<<12|p;s(g>>>18==0);for(let x=0;x<18;x++){const w=r(g,x),E=this.size-11+x%3,S=Math.floor(x/3);this.setFunctionModule(E,S,w),this.setFunctionModule(S,E,w)}}drawFinderPattern(p,g){for(let x=-4;x<=4;x++)for(let w=-4;w<=4;w++){const E=Math.max(Math.abs(w),Math.abs(x)),S=p+w,v=g+x;0<=S&&S<this.size&&0<=v&&v<this.size&&this.setFunctionModule(S,v,E!=2&&E!=4)}}drawAlignmentPattern(p,g){for(let x=-2;x<=2;x++)for(let w=-2;w<=2;w++)this.setFunctionModule(p+w,g+x,Math.max(Math.abs(w),Math.abs(x))!=1)}setFunctionModule(p,g,x){this.modules[g][p]=x,this.isFunction[g][p]=!0}addEccAndInterleave(p){const g=this.version,x=this.errorCorrectionLevel;if(p.length!=Te.getNumDataCodewords(g,x))throw new RangeError("Invalid argument");const w=Te.NUM_ERROR_CORRECTION_BLOCKS[x.ordinal][g],E=Te.ECC_CODEWORDS_PER_BLOCK[x.ordinal][g],S=Math.floor(Te.getNumRawDataModules(g)/8),v=w-S%w,R=Math.floor(S/w);let O=[];const M=Te.reedSolomonComputeDivisor(E);for(let N=0,L=0;N<w;N++){let z=p.slice(L,L+R-E+(N<v?0:1));L+=z.length;const Y=Te.reedSolomonComputeRemainder(z,M);N<v&&z.push(0),O.push(z.concat(Y))}let T=[];for(let N=0;N<O[0].length;N++)O.forEach((L,z)=>{(N!=R-E||z>=v)&&T.push(L[N])});return s(T.length==S),T}drawCodewords(p){if(p.length!=Math.floor(Te.getNumRawDataModules(this.version)/8))throw new RangeError("Invalid argument");let g=0;for(let x=this.size-1;x>=1;x-=2){x==6&&(x=5);for(let w=0;w<this.size;w++)for(let E=0;E<2;E++){const S=x-E,R=(x+1&2)==0?this.size-1-w:w;!this.isFunction[R][S]&&g<p.length*8&&(this.modules[R][S]=r(p[g>>>3],7-(g&7)),g++)}}s(g==p.length*8)}applyMask(p){if(p<0||p>7)throw new RangeError("Mask value out of range");for(let g=0;g<this.size;g++)for(let x=0;x<this.size;x++){let w;switch(p){case 0:w=(x+g)%2==0;break;case 1:w=g%2==0;break;case 2:w=x%3==0;break;case 3:w=(x+g)%3==0;break;case 4:w=(Math.floor(x/3)+Math.floor(g/2))%2==0;break;case 5:w=x*g%2+x*g%3==0;break;case 6:w=(x*g%2+x*g%3)%2==0;break;case 7:w=((x+g)%2+x*g%3)%2==0;break;default:throw new Error("Unreachable")}!this.isFunction[g][x]&&w&&(this.modules[g][x]=!this.modules[g][x])}}getPenaltyScore(){let p=0;for(let E=0;E<this.size;E++){let S=!1,v=0,R=[0,0,0,0,0,0,0];for(let O=0;O<this.size;O++)this.modules[E][O]==S?(v++,v==5?p+=Te.PENALTY_N1:v>5&&p++):(this.finderPenaltyAddHistory(v,R),S||(p+=this.finderPenaltyCountPatterns(R)*Te.PENALTY_N3),S=this.modules[E][O],v=1);p+=this.finderPenaltyTerminateAndCount(S,v,R)*Te.PENALTY_N3}for(let E=0;E<this.size;E++){let S=!1,v=0,R=[0,0,0,0,0,0,0];for(let O=0;O<this.size;O++)this.modules[O][E]==S?(v++,v==5?p+=Te.PENALTY_N1:v>5&&p++):(this.finderPenaltyAddHistory(v,R),S||(p+=this.finderPenaltyCountPatterns(R)*Te.PENALTY_N3),S=this.modules[O][E],v=1);p+=this.finderPenaltyTerminateAndCount(S,v,R)*Te.PENALTY_N3}for(let E=0;E<this.size-1;E++)for(let S=0;S<this.size-1;S++){const v=this.modules[E][S];v==this.modules[E][S+1]&&v==this.modules[E+1][S]&&v==this.modules[E+1][S+1]&&(p+=Te.PENALTY_N2)}let g=0;for(const E of this.modules)g=E.reduce((S,v)=>S+(v?1:0),g);const x=this.size*this.size,w=Math.ceil(Math.abs(g*20-x*10)/x)-1;return s(0<=w&&w<=9),p+=w*Te.PENALTY_N4,s(0<=p&&p<=2568888),p}getAlignmentPatternPositions(){if(this.version==1)return[];{const p=Math.floor(this.version/7)+2,g=this.version==32?26:Math.ceil((this.version*4+4)/(p*2-2))*2;let x=[6];for(let w=this.size-7;x.length<p;w-=g)x.splice(1,0,w);return x}}static getNumRawDataModules(p){if(p<Te.MIN_VERSION||p>Te.MAX_VERSION)throw new RangeError("Version number out of range");let g=(16*p+128)*p+64;if(p>=2){const x=Math.floor(p/7)+2;g-=(25*x-10)*x-55,p>=7&&(g-=36)}return s(208<=g&&g<=29648),g}static getNumDataCodewords(p,g){return Math.floor(Te.getNumRawDataModules(p)/8)-Te.ECC_CODEWORDS_PER_BLOCK[g.ordinal][p]*Te.NUM_ERROR_CORRECTION_BLOCKS[g.ordinal][p]}static reedSolomonComputeDivisor(p){if(p<1||p>255)throw new RangeError("Degree out of range");let g=[];for(let w=0;w<p-1;w++)g.push(0);g.push(1);let x=1;for(let w=0;w<p;w++){for(let E=0;E<g.length;E++)g[E]=Te.reedSolomonMultiply(g[E],x),E+1<g.length&&(g[E]^=g[E+1]);x=Te.reedSolomonMultiply(x,2)}return g}static reedSolomonComputeRemainder(p,g){let x=g.map(w=>0);for(const w of p){const E=w^x.shift();x.push(0),g.forEach((S,v)=>x[v]^=Te.reedSolomonMultiply(S,E))}return x}static reedSolomonMultiply(p,g){if(p>>>8||g>>>8)throw new RangeError("Byte out of range");let x=0;for(let w=7;w>=0;w--)x=x<<1^(x>>>7)*285,x^=(g>>>w&1)*p;return s(x>>>8==0),x}finderPenaltyCountPatterns(p){const g=p[1];s(g<=this.size*3);const x=g>0&&p[2]==g&&p[3]==g*3&&p[4]==g&&p[5]==g;return(x&&p[0]>=g*4&&p[6]>=g?1:0)+(x&&p[6]>=g*4&&p[0]>=g?1:0)}finderPenaltyTerminateAndCount(p,g,x){return p&&(this.finderPenaltyAddHistory(g,x),g=0),g+=this.size,this.finderPenaltyAddHistory(g,x),this.finderPenaltyCountPatterns(x)}finderPenaltyAddHistory(p,g){g[0]==0&&(p+=this.size),g.pop(),g.unshift(p)}};t.MIN_VERSION=1,t.MAX_VERSION=40,t.PENALTY_N1=3,t.PENALTY_N2=3,t.PENALTY_N3=40,t.PENALTY_N4=10,t.ECC_CODEWORDS_PER_BLOCK=[[-1,7,10,15,20,26,18,20,24,30,18,20,24,26,30,22,24,28,30,28,28,28,28,30,30,26,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],[-1,10,16,26,18,24,16,18,22,22,26,30,22,22,24,24,28,28,26,26,26,26,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28],[-1,13,22,18,26,18,24,18,22,20,24,28,26,24,20,30,24,28,28,26,30,28,30,30,30,30,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],[-1,17,28,22,16,22,28,26,26,24,28,24,28,22,24,24,30,28,28,26,28,30,24,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30]],t.NUM_ERROR_CORRECTION_BLOCKS=[[-1,1,1,1,1,1,2,2,2,2,4,4,4,4,4,6,6,6,6,7,8,8,9,9,10,12,12,12,13,14,15,16,17,18,19,19,20,21,22,24,25],[-1,1,1,1,2,2,4,4,4,5,5,5,8,9,9,10,10,11,13,14,16,17,17,18,20,21,23,25,26,28,29,31,33,35,37,38,40,43,45,47,49],[-1,1,1,2,2,4,4,6,6,8,8,8,10,12,16,12,17,16,18,21,20,23,23,25,27,29,34,34,35,38,40,43,45,48,51,53,56,59,62,65,68],[-1,1,1,2,4,4,4,5,6,8,8,11,11,16,16,18,16,19,21,25,25,25,34,30,32,35,37,40,42,45,48,51,54,57,60,63,66,70,74,77,81]],e.QrCode=t;function n(h,p,g){if(p<0||p>31||h>>>p)throw new RangeError("Value out of range");for(let x=p-1;x>=0;x--)g.push(h>>>x&1)}function r(h,p){return(h>>>p&1)!=0}function s(h){if(!h)throw new Error("Assertion error")}const a=class pt{constructor(p,g,x){if(this.mode=p,this.numChars=g,this.bitData=x,g<0)throw new RangeError("Invalid argument");this.bitData=x.slice()}static makeBytes(p){let g=[];for(const x of p)n(x,8,g);return new pt(pt.Mode.BYTE,p.length,g)}static makeNumeric(p){if(!pt.isNumeric(p))throw new RangeError("String contains non-numeric characters");let g=[];for(let x=0;x<p.length;){const w=Math.min(p.length-x,3);n(parseInt(p.substring(x,x+w),10),w*3+1,g),x+=w}return new pt(pt.Mode.NUMERIC,p.length,g)}static makeAlphanumeric(p){if(!pt.isAlphanumeric(p))throw new RangeError("String contains unencodable characters in alphanumeric mode");let g=[],x;for(x=0;x+2<=p.length;x+=2){let w=pt.ALPHANUMERIC_CHARSET.indexOf(p.charAt(x))*45;w+=pt.ALPHANUMERIC_CHARSET.indexOf(p.charAt(x+1)),n(w,11,g)}return x<p.length&&n(pt.ALPHANUMERIC_CHARSET.indexOf(p.charAt(x)),6,g),new pt(pt.Mode.ALPHANUMERIC,p.length,g)}static makeSegments(p){return p==""?[]:pt.isNumeric(p)?[pt.makeNumeric(p)]:pt.isAlphanumeric(p)?[pt.makeAlphanumeric(p)]:[pt.makeBytes(pt.toUtf8ByteArray(p))]}static makeEci(p){let g=[];if(p<0)throw new RangeError("ECI assignment value out of range");if(p<128)n(p,8,g);else if(p<16384)n(2,2,g),n(p,14,g);else if(p<1e6)n(6,3,g),n(p,21,g);else throw new RangeError("ECI assignment value out of range");return new pt(pt.Mode.ECI,0,g)}static isNumeric(p){return pt.NUMERIC_REGEX.test(p)}static isAlphanumeric(p){return pt.ALPHANUMERIC_REGEX.test(p)}getData(){return this.bitData.slice()}static getTotalBits(p,g){let x=0;for(const w of p){const E=w.mode.numCharCountBits(g);if(w.numChars>=1<<E)return 1/0;x+=4+E+w.bitData.length}return x}static toUtf8ByteArray(p){p=encodeURI(p);let g=[];for(let x=0;x<p.length;x++)p.charAt(x)!="%"?g.push(p.charCodeAt(x)):(g.push(parseInt(p.substring(x+1,x+3),16)),x+=2);return g}};a.NUMERIC_REGEX=/^[0-9]*$/,a.ALPHANUMERIC_REGEX=/^[A-Z0-9 $%*+.\/:-]*$/,a.ALPHANUMERIC_CHARSET="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:";let c=a;e.QrSegment=a})(As||(As={}));(e=>{(t=>{const n=class{constructor(s,a){this.ordinal=s,this.formatBits=a}};n.LOW=new n(0,1),n.MEDIUM=new n(1,0),n.QUARTILE=new n(2,3),n.HIGH=new n(3,2),t.Ecc=n})(e.QrCode||(e.QrCode={}))})(As||(As={}));(e=>{(t=>{const n=class{constructor(s,a){this.modeBits=s,this.numBitsCharCount=a}numCharCountBits(s){return this.numBitsCharCount[Math.floor((s+7)/17)]}};n.NUMERIC=new n(1,[10,12,14]),n.ALPHANUMERIC=new n(2,[9,11,13]),n.BYTE=new n(4,[8,16,16]),n.KANJI=new n(8,[8,10,12]),n.ECI=new n(7,[0,0,0]),t.Mode=n})(e.QrSegment||(e.QrSegment={}))})(As||(As={}));var Js=As;/**
 * @license qrcode.react
 * Copyright (c) Paul O'Shannessy
 * SPDX-License-Identifier: ISC
 */var rN={L:Js.QrCode.Ecc.LOW,M:Js.QrCode.Ecc.MEDIUM,Q:Js.QrCode.Ecc.QUARTILE,H:Js.QrCode.Ecc.HIGH},jw=128,zw="L",Uw="#FFFFFF",Hw="#000000",Ww=!1,Vw=1,iN=4,sN=0,oN=.1;function Yw(e,t=0){const n=[];return e.forEach(function(r,s){let a=null;r.forEach(function(c,h){if(!c&&a!==null){n.push(`M${a+t} ${s+t}h${h-a}v1H${a+t}z`),a=null;return}if(h===r.length-1){if(!c)return;a===null?n.push(`M${h+t},${s+t} h1v1H${h+t}z`):n.push(`M${a+t},${s+t} h${h+1-a}v1H${a+t}z`);return}c&&a===null&&(a=h)})}),n.join("")}function Xw(e,t){return e.slice().map((n,r)=>r<t.y||r>=t.y+t.h?n:n.map((s,a)=>a<t.x||a>=t.x+t.w?s:!1))}function aN(e,t,n,r){if(r==null)return null;const s=e.length+n*2,a=Math.floor(t*oN),c=s/t,h=(r.width||a)*c,p=(r.height||a)*c,g=r.x==null?e.length/2-h/2:r.x*c,x=r.y==null?e.length/2-p/2:r.y*c,w=r.opacity==null?1:r.opacity;let E=null;if(r.excavate){let v=Math.floor(g),R=Math.floor(x),O=Math.ceil(h+g-v),M=Math.ceil(p+x-R);E={x:v,y:R,w:O,h:M}}const S=r.crossOrigin;return{x:g,y:x,h:p,w:h,excavation:E,opacity:w,crossOrigin:S}}function lN(e,t){return t!=null?Math.max(Math.floor(t),0):e?iN:sN}function Gw({value:e,level:t,minVersion:n,includeMargin:r,marginSize:s,imageSettings:a,size:c,boostLevel:h}){let p=wt.useMemo(()=>{const v=(Array.isArray(e)?e:[e]).reduce((R,O)=>(R.push(...Js.QrSegment.makeSegments(O)),R),[]);return Js.QrCode.encodeSegments(v,rN[t],n,void 0,void 0,h)},[e,t,n,h]);const{cells:g,margin:x,numCells:w,calculatedImageSettings:E}=wt.useMemo(()=>{let S=p.getModules();const v=lN(r,s),R=S.length+v*2,O=aN(S,c,v,a);return{cells:S,margin:v,numCells:R,calculatedImageSettings:O}},[p,c,a,r,s]);return{qrcode:p,margin:x,cells:g,numCells:w,calculatedImageSettings:E}}var cN=function(){try{new Path2D().addPath(new Path2D)}catch{return!1}return!0}(),Qw=wt.forwardRef(function(t,n){const r=t,{value:s,size:a=jw,level:c=zw,bgColor:h=Uw,fgColor:p=Hw,includeMargin:g=Ww,minVersion:x=Vw,boostLevel:w,marginSize:E,imageSettings:S}=r,R=Th(r,["value","size","level","bgColor","fgColor","includeMargin","minVersion","boostLevel","marginSize","imageSettings"]),{style:O}=R,M=Th(R,["style"]),T=S==null?void 0:S.src,N=wt.useRef(null),L=wt.useRef(null),z=wt.useCallback(Ee=>{N.current=Ee,typeof n=="function"?n(Ee):n&&(n.current=Ee)},[n]),[Y,F]=wt.useState(!1),{margin:H,cells:G,numCells:re,calculatedImageSettings:oe}=Gw({value:s,level:c,minVersion:x,boostLevel:w,includeMargin:g,marginSize:E,imageSettings:S,size:a});wt.useEffect(()=>{if(N.current!=null){const Ee=N.current,W=Ee.getContext("2d");if(!W)return;let we=G;const ae=L.current,ie=oe!=null&&ae!==null&&ae.complete&&ae.naturalHeight!==0&&ae.naturalWidth!==0;ie&&oe.excavation!=null&&(we=Xw(G,oe.excavation));const le=window.devicePixelRatio||1;Ee.height=Ee.width=a*le;const ge=a/re*le;W.scale(ge,ge),W.fillStyle=h,W.fillRect(0,0,re,re),W.fillStyle=p,cN?W.fill(new Path2D(Yw(we,H))):G.forEach(function(Be,be){Be.forEach(function(At,Oe){At&&W.fillRect(Oe+H,be+H,1,1)})}),oe&&(W.globalAlpha=oe.opacity),ie&&W.drawImage(ae,oe.x+H,oe.y+H,oe.w,oe.h)}}),wt.useEffect(()=>{F(!1)},[T]);const te=Ih({height:a,width:a},O);let me=null;return T!=null&&(me=wt.createElement("img",{src:T,key:T,style:{display:"none"},onLoad:()=>{F(!0)},ref:L,crossOrigin:oe==null?void 0:oe.crossOrigin})),wt.createElement(wt.Fragment,null,wt.createElement("canvas",Ih({style:te,height:a,width:a,ref:z,role:"img"},M)),me)});Qw.displayName="QRCodeCanvas";var Zw=wt.forwardRef(function(t,n){const r=t,{value:s,size:a=jw,level:c=zw,bgColor:h=Uw,fgColor:p=Hw,includeMargin:g=Ww,minVersion:x=Vw,boostLevel:w,title:E,marginSize:S,imageSettings:v}=r,R=Th(r,["value","size","level","bgColor","fgColor","includeMargin","minVersion","boostLevel","title","marginSize","imageSettings"]),{margin:O,cells:M,numCells:T,calculatedImageSettings:N}=Gw({value:s,level:c,minVersion:x,boostLevel:w,includeMargin:g,marginSize:S,imageSettings:v,size:a});let L=M,z=null;v!=null&&N!=null&&(N.excavation!=null&&(L=Xw(M,N.excavation)),z=wt.createElement("image",{href:v.src,height:N.h,width:N.w,x:N.x+O,y:N.y+O,preserveAspectRatio:"none",opacity:N.opacity,crossOrigin:N.crossOrigin}));const Y=Yw(L,O);return wt.createElement("svg",Ih({height:a,width:a,viewBox:`0 0 ${T} ${T}`,ref:n,role:"img"},R),!!E&&wt.createElement("title",null,E),wt.createElement("path",{fill:h,d:`M0,0 h${T}v${T}H0z`,shapeRendering:"crispEdges"}),wt.createElement("path",{fill:p,d:Y,shapeRendering:"crispEdges"}),z)});Zw.displayName="QRCodeSVG";const uN=()=>{const[e,t]=U.useState({email:"",idNumber:"",year:"E3"}),[n,r]=U.useState(!1),[s,a]=U.useState(""),[c,h]=U.useState(""),[p,g]=U.useState(!1),x=U.useRef(null),w=Ui(),E=O=>{const{name:M,value:T}=O.target;t({...e,[M]:T})},S=async()=>{var O,M;r(!0),a("");try{const N=(await Xe.post("/api/student",{email:e.email,idNumber:e.idNumber,year:e.year},{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}})).data;h(N.token),g(!0)}catch(T){const N=((M=(O=T.response)==null?void 0:O.data)==null?void 0:M.message)||"Scanning failed, please try again";qn.error(N)}finally{r(!1)}},v=()=>{if(!x.current)return;const O=x.current.querySelector("svg");if(!O)return;const M=document.createElement("canvas"),T=O.getBoundingClientRect();M.width=T.width,M.height=T.height;const N=new XMLSerializer().serializeToString(O),L=new Blob([N],{type:"image/svg+xml;charset=utf-8"}),z=URL.createObjectURL(L),Y=new Image;Y.onload=()=>{const F=M.getContext("2d");if(F){F.drawImage(Y,0,0);const H=M.toDataURL("image/png").replace("image/png","image/octet-stream"),G=document.createElement("a");G.href=H,G.download=`qrcode-${e.idNumber}.png`,document.body.appendChild(G),G.click(),document.body.removeChild(G),URL.revokeObjectURL(z)}},Y.src=z},R=()=>{w(-1)};return A.jsxs("div",{className:"min-h-screen bg-gray-50 text-gray-800",children:[A.jsxs("header",{className:"bg-blue-600 text-white p-4 flex items-center shadow-md",children:[A.jsx(Ao,{onClick:R,size:24}),A.jsx("h1",{className:"text-xl font-bold ml-4",children:"Add New Student"})]}),A.jsx("main",{className:"p-4 max-w-lg mx-auto",children:p?A.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[A.jsxs("div",{className:"text-center mb-4",children:[A.jsx("h2",{className:"text-lg font-semibold",children:"Student Registered Successfully!"}),A.jsxs("p",{className:"text-gray-600 mt-1",children:["QR Code has been generated for ",e.idNumber]})]}),A.jsxs("div",{className:"flex flex-col items-center my-6",children:[A.jsx("div",{ref:x,className:"bg-white border border-gray-300 rounded p-4 mb-4",children:A.jsx(Zw,{value:c,size:200,bgColor:"#ffffff",fgColor:"#000000",level:"H",includeMargin:!0})}),A.jsxs("div",{className:"text-sm text-gray-600 mb-2",children:[A.jsxs("p",{children:["ID: ",e.idNumber]}),A.jsxs("p",{children:["Year: ",e.year]})]}),A.jsxs("button",{onClick:v,className:"mt-4 bg-blue-600 text-white py-2 px-4 rounded-lg flex items-center hover:bg-blue-700",children:[A.jsx(Ey,{size:18,className:"mr-2"})," Download QR Code"]}),A.jsx("button",{onClick:()=>{g(!1),t({email:"",idNumber:"",year:"E3"})},className:"mt-3 text-blue-600 hover:underline",children:"Register Another Student"})]})]}):A.jsxs(A.Fragment,{children:[A.jsxs("div",{className:"mb-6",children:[A.jsx("h2",{className:"text-lg font-semibold mb-2",children:"Student Registration"}),A.jsx("p",{className:"text-gray-600",children:"Enter student details to register and generate a QR code"})]}),s&&A.jsx("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded mb-4",children:s}),A.jsx("div",{className:"bg-white rounded-lg shadow-md p-6",children:A.jsxs("div",{className:"space-y-4",children:[A.jsxs("div",{children:[A.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 mb-1",children:"Email Address"}),A.jsx("input",{type:"email",id:"email",name:"email",value:e.email,onChange:E,required:!0,className:"w-full p-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),A.jsxs("div",{children:[A.jsx("label",{htmlFor:"idNumber",className:"block text-sm font-medium text-gray-700 mb-1",children:"ID Number"}),A.jsx("input",{type:"text",id:"idNumber",name:"idNumber",value:e.idNumber,onChange:E,required:!0,className:"w-full p-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),A.jsxs("div",{children:[A.jsx("label",{htmlFor:"year",className:"block text-sm font-medium text-gray-700 mb-1",children:"Year"}),A.jsxs("select",{id:"year",name:"year",value:e.year,onChange:E,className:"w-full p-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500",children:[A.jsx("option",{value:"E3",children:"E3"}),A.jsx("option",{value:"E4",children:"E4"})]})]}),A.jsx("div",{className:"pt-4",children:A.jsx("button",{type:"button",onClick:S,disabled:n,className:`w-full bg-blue-600 text-white py-2 px-4 rounded-lg hover:bg-blue-700 flex items-center justify-center ${n?"opacity-70 cursor-not-allowed":""}`,children:n?"Processing...":"Register Student"})})]})})]})})]})},fN=()=>{const[e,t]=U.useState(""),[n,r]=U.useState(!1),[s,a]=U.useState(""),[c,h]=U.useState(!1),[p,g]=U.useState(""),[x,w]=U.useState({name:"",email:"",year:""}),E=U.useRef(null),S=Ui(),v=async()=>{var T,N,L,z,Y;if(!e.trim()){a("Please enter a valid ID number");return}r(!0),a("");try{const H=(await Xe.get(`/api/student/token/${e}`,{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}})).data,G={name:((T=H.student)==null?void 0:T.idNumber)||"Unknown",email:((N=H.student)==null?void 0:N.email)||"Unknown",year:((L=H.student)==null?void 0:L.year)||"Unknown"};g(H.token||""),w(G),h(!0)}catch(F){const H=((Y=(z=F.response)==null?void 0:z.data)==null?void 0:Y.message)||"Scanning failed, please try again";qn.error(H)}finally{r(!1)}},R=()=>{if(E.current)try{const T=E.current.querySelector("canvas");if(!T){qn.error("QR Code not found");return}const N=T.toDataURL("image/png"),L=document.createElement("a");L.href=N,L.download=`student-qr-${x.name||"code"}.png`,document.body.appendChild(L),L.click(),document.body.removeChild(L),qn.success("QR Code downloaded successfully")}catch(T){qn.error("Failed to download QR code"),console.error("QR download error:",T)}},O=()=>{t(""),h(!1),g(""),w({name:"",email:"",year:""})},M=()=>{S(-1)};return A.jsxs("div",{className:"min-h-screen bg-gray-50 text-gray-800",children:[A.jsxs("header",{className:"bg-blue-600 text-white p-4 flex items-center shadow-md",children:[A.jsx("button",{onClick:M,className:"mr-3 bg-transparent border-0 cursor-pointer text-white flex items-center",children:A.jsx(Ao,{size:24})}),A.jsx("h1",{className:"text-xl font-bold",children:"Generate QR Code"})]}),A.jsxs("main",{className:"p-4 max-w-lg mx-auto",children:[A.jsxs("div",{className:"mb-6",children:[A.jsx("h2",{className:"text-lg font-semibold mb-2",children:"Student QR Code Generator"}),A.jsx("p",{className:"text-gray-600",children:"Enter a student ID to generate a verification QR code"})]}),s&&A.jsxs("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded mb-4 flex justify-between items-center",children:[A.jsx("span",{children:s}),A.jsx("button",{onClick:()=>a(""),className:"text-red-700 bg-transparent border-0",children:A.jsx(_y,{size:18})})]}),c?A.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[A.jsxs("div",{className:"flex justify-between items-center mb-4",children:[A.jsx("h3",{className:"text-lg font-semibold",children:"Student Found"}),A.jsxs("div",{className:"flex items-center text-green-600",children:[A.jsx(ju,{size:18,className:"mr-1"}),A.jsx("span",{className:"text-sm",children:"Verified"})]})]}),A.jsxs("div",{className:"flex flex-col items-center mt-4",children:[A.jsx("div",{ref:E,className:"bg-white border border-gray-300 rounded p-4 mb-4",children:p?A.jsx(Qw,{value:p,size:200,level:"H",includeMargin:!0}):A.jsx("div",{className:"w-48 h-48 flex items-center justify-center text-gray-400",children:"No QR data available"})}),A.jsx("div",{className:"bg-blue-50 p-4 rounded-lg w-full mb-6",children:A.jsxs("div",{className:"text-sm text-gray-700",children:[A.jsxs("div",{className:"flex justify-between mb-1",children:[A.jsx("span",{className:"font-medium",children:"ID:"}),A.jsx("span",{children:x.name})]}),A.jsxs("div",{className:"flex justify-between mb-1",children:[A.jsx("span",{className:"font-medium",children:"Email:"}),A.jsx("span",{children:x.email})]}),A.jsxs("div",{className:"flex justify-between",children:[A.jsx("span",{className:"font-medium",children:"Year:"}),A.jsx("span",{children:x.year})]})]})}),A.jsxs("button",{onClick:R,disabled:!p,className:`w-full bg-blue-600 text-white py-2 px-4 rounded-lg hover:bg-blue-700 flex items-center justify-center ${p?"":"opacity-70 cursor-not-allowed"}`,children:[A.jsx(Ey,{size:18,className:"mr-2"})," Download QR Code"]}),A.jsx("button",{onClick:O,className:"mt-3 text-blue-600 hover:underline",children:"Generate Another QR Code"})]})]}):A.jsx("div",{className:"bg-white rounded-lg shadow-md p-6",children:A.jsxs("div",{className:"space-y-4",children:[A.jsxs("div",{children:[A.jsx("label",{htmlFor:"idNumber",className:"block text-sm font-medium text-gray-700 mb-1",children:"Student ID Number"}),A.jsx("input",{type:"text",id:"idNumber",value:e,onChange:T=>t(T.target.value),placeholder:"Enter student ID",className:"w-full p-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),A.jsx("div",{className:"pt-4",children:A.jsx("button",{onClick:v,disabled:n,className:`w-full bg-blue-600 text-white py-2 px-4 rounded-lg hover:bg-blue-700 flex items-center justify-center ${n?"opacity-70 cursor-not-allowed":""}`,children:n?"Searching...":"Generate QR Code"})})]})})]})]})};function dN(){const e=T0();return U.useEffect(()=>{(async()=>{try{const n=localStorage.getItem("token");console.log(n);const s=(await Xe.post("api/auth/refreshToken",{},{headers:{Authorization:`Bearer ${n}`}})).data;console.log(s),e(wy({user:s.user,token:s.token}))}catch(n){console.log("Error:",n),e(Cy()),localStorage.removeItem("token")}})()},[]),A.jsx(qb,{children:A.jsxs("div",{className:"min-h-screen bg-gray-100",children:[A.jsxs(Vb,{children:[A.jsx(Yn,{path:"/",element:A.jsx(lT,{})}),A.jsx(Yn,{path:"/login",element:A.jsx(U4,{})}),A.jsx(Yn,{path:"/checkin",element:A.jsx($T,{element:A.jsx(GT,{})})}),A.jsx(Yn,{path:"/scanfood",element:A.jsx(JT,{element:A.jsx(QT,{})})}),A.jsx(Yn,{path:"/scanicecream",element:A.jsx(eN,{element:A.jsx(ZT,{})})}),A.jsx(Yn,{path:"/searchstudent",element:A.jsx(dm,{element:A.jsx(KT,{})})}),A.jsx(Yn,{path:"/adminDashBoard",element:A.jsx(ic,{element:A.jsx(tN,{})})}),A.jsx(Yn,{path:"/add-student",element:A.jsx(ic,{element:A.jsx(uN,{})})}),A.jsx(Yn,{path:"/add-verifier",element:A.jsx(ic,{element:A.jsx(cT,{})})}),A.jsx(Yn,{path:"/generate-qr",element:A.jsx(ic,{element:A.jsx(fN,{})})}),A.jsx(Yn,{path:"/dashboard",element:A.jsx(dm,{element:A.jsx(aT,{})})})]}),A.jsx(VA,{position:"top-center"})]})})}const hN=jS({reducer:{auth:JS}});W2(document.getElementById("root")).render(A.jsx(U.StrictMode,{children:A.jsx(uS,{store:hN,children:A.jsx(dN,{})})}));
